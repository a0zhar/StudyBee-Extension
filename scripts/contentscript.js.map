{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./react_src/theme/index.js","webpack:///./react_src/i18n.js","webpack:///./react_src/utils.jsx","webpack:///./react_src/components/tooltip.jsx","webpack:///./app/scripts/app/utils/decorators/component.decorator.ts","webpack:///./app/scripts/app/utils/decorators/input.decorator.ts","webpack:///./app/scripts/app/common/global-events.ts","webpack:///./react_src/components/icon.jsx","webpack:///./react_src/components/publishIcon.jsx","webpack:///./react_src/hooks/useWindowDimensions.jsx","webpack:///./react_src/hooks/useOnScreen.jsx","webpack:///./react_src/hooks/useScrollPosition.jsx","webpack:///./react_src/hooks/index.jsx","webpack:///./app/scripts/app/utils/decorators/service.decorator.ts","webpack:///./react_src/components/feedbackInput.jsx","webpack:///./react_src/components/card.jsx","webpack:///./react_src/components/publishedIcon.jsx","webpack:///./app/scripts/app/shared/services/services.module.ts","webpack:///./react_src/components/header.jsx","webpack:///./app/scripts/app/shared/enums/listViewType.enum.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/teacher-course-progress.module.ts","webpack:///./src/app/core/http/http.service.ts","webpack:///./src/app/ajs-upgraded-providers.ts","webpack:///./react_src/theme/colors.js","webpack:///./app/scripts/app/shared/enums/assignmentType.enum.ts","webpack:///./react_src/components/assessmentSlider.jsx","webpack:///./app/scripts/app/shared/components/abstracts/unsubscribable.component.ts","webpack:///./react_src/components/primaryButton.jsx","webpack:///./react_src/components/CheckboxWithText.jsx","webpack:///./src/app/shared/models/assessment.model.ts","webpack:///./react_src/components/LinearProgress.jsx","webpack:///./react_src/images/grid.svg","webpack:///./react_src/components/moreMenu.jsx","webpack:///./react_src/components/secondaryButton.jsx","webpack:///./react_src/theme/fonts.js","webpack:///./app/scripts/app/utils/utils.module.ts","webpack:///./app/scripts/app/shared/components/components.module.ts","webpack:///./react_src/path.js","webpack:///./app/scripts/app/common/base-classes.js","webpack:///./app/scripts/app/utils/services/fetchData.service.js","webpack:///./app/scripts/app/shared/enums/requestType.enum.ts","webpack:///./src/app/teacher/assignments/state/index.ts","webpack:///./src/app/teacher/assignments/assignment/assessments/state/index.ts","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/teacherCourseManagement.module.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignments.module.ts","webpack:///./react_src/components/sortStudentComponent.jsx","webpack:///./react_src/images/png/result-done.png","webpack:///./react_src/images/png/icon_feedback.png","webpack:///./react_src/images/png/sb-ico-self-assessment.png","webpack:///./react_src/components/gridSummaryItem.jsx","webpack:///./app/scripts/app/utils/decorators/interceptor.decoreator.ts","webpack:///./app/scripts/app/shared/models/breadcrumb.model.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/shared/enums/assignmentOrder.ts","webpack:///./app/scripts/app/shared/enums/groupedVisibilityDialogType.enum.ts","webpack:///./src/app/core/http/state/http-cache.store.ts","webpack:///./src/app/teacher/assignments/state/assignments.store.ts","webpack:///./src/app/teacher/assignments/state/assignment.model.ts","webpack:///./src/app/teacher/assignments/assignment/assessments/state/assessments.store.ts","webpack:///./src/app/teacher/assignments/assignment/assessments/state/assessment.model.ts","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/studentCourseManagement.module.ts","webpack:///./src/app/student/assignments/state/assignment.model.ts","webpack:///./src/app/student/assignments/state/assignments.store.ts","webpack:///./react_src/components/fullscreenProgress.jsx","webpack:///./app/scripts/app/utils/enums/httpStatusCode.enum.ts","webpack:///./src/environments/environment.prod.ts","webpack:///./app/scripts/app/shared/services/helpers/observer.service.ts","webpack:///./app/scripts/app/shared/services/listViewMenu/listViewMenu.service.ts","webpack:///./app/scripts/app/shared/services/localStorage/localStorage.service.ts","webpack:///./src/app/shared/states/user/user.store.ts","webpack:///./src/app/shared/models/location-detection.model.ts","webpack:///./react_src/images/icon_bk_assessment_done.svg","webpack:///./react_src/components/assignmentAssessment.jsx","webpack:///./react_src/images/png/sb-ico-note.png","webpack:///./react_src/components/dropdown.jsx","webpack:///./react_src/components/gradeCounter.jsx","webpack:///./react_src/components/objectivesList.jsx","webpack:///./app/scripts/app/common/components/breadcrumbs/breadcrumbs.service.ts","webpack:///./react_src/_locales sync ^\\.\\/.*\\/messages\\.json$","webpack:///./app/scripts/app/shared/enums/assignmentStateType.enum.ts","webpack:///./app/scripts/app/shared/enums/iconsPath.enum.ts","webpack:///./src/app/teacher/assignments/state/assignments.query.ts","webpack:///./app/scripts/app/components/courseManagement/common/services/curriculums.service.ts","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/shares/helpers.dialog.js","webpack:///./app/scripts/app/assignments/studentAssignments/studentAssignments.module.ts","webpack:///./src/app/student/assignments/state/index.ts","webpack:///./src/app/student/assignments/state/assignments.query.ts","webpack:///./react_src/api.js","webpack:///./react_src/images/collapse.svg","webpack:///./react_src/images/icon_warning.svg","webpack:///./react_src/components/assessmentButton.jsx","webpack:///./app/scripts/app/common/components/components.module.ts","webpack:///./app/scripts/app/utils/services/userInfo.service.js","webpack:///./app/scripts/app/shared/components/assignments/assignments.component.ts","webpack:///./app/scripts/app/shared/enums/assignmentFilterGroup.enum.ts","webpack:///./app/scripts/app/shared/models/groupedVisibilitySettings.model.ts","webpack:///./app/scripts/app/shared/services/helpers/behaviourSubject.service.ts","webpack:///./app/scripts/app/shared/models/objectiveAssignmentAssessment.model.ts","webpack:///./app/scripts/app/shared/services/groupedVisibility/groupedVisibility.service.ts","webpack:///./app/scripts/app/shared/services/school/school.service.ts","webpack:///./app/scripts/app/utils/decorators/output.decorator.ts","webpack:///./src/app/shared/states/user/user.service.ts","webpack:///./src/app/shared/states/user/user.query.ts","webpack:///./src/app/shared/states/user/user.model.ts","webpack:///./app/scripts/app/shared/components/assignmentsList/assignmentsList.component.ts","webpack:///./src/app/shared/states/schools/school.interface.ts","webpack:///./react_src/topics_and_assignments/assignmentsList.jsx","webpack:///./react_src/images/icon_bk_not_assessed.svg","webpack:///./react_src/images/icon_bk_assessing.svg","webpack:///./react_src/images/submitted.svg","webpack:///./react_src/images/submitted-late.svg","webpack:///./react_src/images/not-submitted-late.svg","webpack:///./react_src/images/not-submitted.svg","webpack:///./react_src/components/GridObjectivesSummaryItem.jsx","webpack:///./react_src/images/png/sb-ico-feedback.png","webpack:///./react_src/images/sort.svg","webpack:///./react_src/topics_and_assignments/assignmentsListHeader.jsx","webpack:///./react_src/images/pane.svg","webpack:///./react_src/components/multiEditDescription.jsx","webpack:///./react_src/components/optionsDropdown.jsx","webpack:///./react_src/components/toast.jsx","webpack:///./react_src/components/accordionItem.jsx","webpack:///./react_src/components/assignmentItem.jsx","webpack:///./react_src/components/studentDropDown.jsx","webpack:///./react_src/topics_and_assignments/assignmentObjectiveListHeader.jsx","webpack:///./react_src/components/gridHeader.jsx","webpack:///./react_src/components/AssignmentTable.jsx","webpack:///./react_src/components/gridViewContent.jsx","webpack:///./react_src/topics_and_assignments/MultiEditStatusComponent.jsx","webpack:///./react_src/components/submissionStatusButton.jsx","webpack:///./react_src/components/multiEditSubmissionComponent.jsx","webpack:///./react_src/topics_and_assignments/assignmentObjectivesList.jsx","webpack:///./react_src/topics_and_assignments/editAssignment/editAssessmentCriteriaHeader.jsx","webpack:///./react_src/topics_and_assignments/editAssignment/saveDialog.jsx","webpack:///./react_src/topics_and_assignments/editAssignment/editAssessmentCriteriaItem.jsx","webpack:///./react_src/topics_and_assignments/editAssignment/courseDefinitions.jsx","webpack:///./react_src/topics_and_assignments/editAssignment/noCurriculum.jsx","webpack:///./react_src/topics_and_assignments/editAssignment/objectives.jsx","webpack:///./react_src/topics_and_assignments/editAssignment/gradeWarningDialog.jsx","webpack:///./react_src/topics_and_assignments/editAssignment/editAssessmentCriteria.jsx","webpack:///./react_src/images/visibilityKeep.svg","webpack:///./react_src/components/visabilityIcon.jsx","webpack:///./app/scripts/app/utils/animations/slideToggle.animation.js","webpack:///./app/scripts/app/shared/services/helpers/id.service.ts","webpack:///./src/app/shared/states/main-menu/main-menu.interface.ts","webpack:///./app/scripts/app/utils/services/students.ts","webpack:///./src lazy namespace object","webpack:///./app/scripts/app/shared/services/dialog/dialog.service.ts","webpack:///./app/scripts/app/shared/services/groupedVisibility/groupedVisibilityDialog.service.ts","webpack:///./app/scripts/app/utils/decorators/parent-component.decorator.ts","webpack:///./app/scripts/app/components/course-progress/common/dialogs/courseProgressDialog.service.ts","webpack:///./app/scripts/app/shared/models/transitionHandler.model.ts","webpack:///./app/scripts/app/utils/decorators/registerOnBeforeTransition.decorator.ts","webpack:///./app/scripts/app/userSetup/userSetup.module.ts","webpack:///./src/app/core/http/http.model.ts","webpack:///./src/app/core/http/state/index.ts","webpack:///./src/app/core/http/state/http-cache.query.ts","webpack:///./src/app/core/http/state/http-cache.service.ts","webpack:///./app/scripts/app/shared/components/material/material.module.ts","webpack:///./app/scripts/app/utils/decorators/sibling-component.ts","webpack:///./src/app/teacher/assignments/state/assignments.service.ts","webpack:///./src/app/teacher/assignments/assignment/assessments/state/assessments.query.ts","webpack:///./src/app/teacher/assignments/assignment/assessments/state/assessments.service.ts","webpack:///./src/app/teacher/assignments/assignment/assessments/state/assessments.normalizer.ts","webpack:///./src/app/teacher/assignments/state/assignments.normalizer.ts","webpack:///./app/scripts/app/shared/directives/directives.module.ts","webpack:///./app/scripts/app/utils/decorators/directive.decorator.ts","webpack:///./app/scripts/app/components/courseManagement/courseManagement.module.ts","webpack:///./app/scripts/app/assignments/shared/assignmentsShared.module.ts","webpack:///./src/app/student/assignments/state/assignments.service.ts","webpack:///./src/app/student/assignments/state/assignments.normalizer.ts","webpack:///./app/scripts/app/shared/models/assignmentGroupedResponse.model.ts","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/teacherSetAssignmentObjectives.module.ts","webpack:///./app/scripts/app/app.html","webpack:///./react_src/images/png/assignment.png","webpack:///./react_src/images/png/icon_bk_not_assessed.png","webpack:///./react_src/images/png/without_assessment_criteria_icon.png","webpack:///./react_src/images/png/not-submitted.png","webpack:///./app/scripts/app/common/common.module.js","webpack:///./app/scripts/app/common/components/accordion/accordionHeader/accordionHeaderMenu/accordionHeaderMenu.tpl.html","webpack:///./app/scripts/app/common/components/breadcrumbs/breadcrumbs.tpl.html","webpack:///./app/scripts/app/common/host-page-selectors.ts","webpack:///./app/scripts/app/utils/services/mixpanel.service.js","webpack:///./app/scripts/app/utils/services/locale.js","webpack:///./app/scripts/app/common/dialogs/dialogs.helper.js","webpack:///./app/scripts/app/utils/enums/dialogType.enum.js","webpack:///./app/scripts/app/shared/services/helpers/subject.service.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/assignmentOverviewDetails/assignmentOverviewDetails.tpl.html","webpack:///./app/scripts/app/shared/services/country/country.service.ts","webpack:///./app/scripts/app/shared/services/coverageMatrix/coverageMatrix.service.ts","webpack:///./app/scripts/app/shared/enums/groupedVisibilityFeedbackType.enum.ts","webpack:///./app/scripts/app/shared/services/helpButton/helpButton.service.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/assignmentOverviewDetails/assignmentOverviewObjectivesList/assignmentOverviewObjectivesList.tpl.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentsOverview.tpl.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentOverviewContent/assignmentOverviewContent.tpl.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentOverviewStatus/assignmentOverviewStatus.tpl.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/objectivesList.tpl.html","webpack:///./app/scripts/app/shared/models/coverageMatrix.model.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/coverageMatrixGrid/coverageMatrixGrid.tpl.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/coverageMatrixGridHeader/coverageMatrixGridHeader.tpl.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/listViewSwich/listViewSwitch.tpl.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/listViewSwich/listViewSwitchDialog.tpl.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/coverageMatrixGrid/gradePrognosis/gradePrognosis.tpl.html","webpack:///./app/scripts/app/shared/models/country.model.ts","webpack:///./app/scripts/app/userSetup/components/userSetupSchoolSelect/userSetupSchoolSelect.tpl.html","webpack:///./app/scripts/app/userSetup/components/userSetupRegisterSchool/userSetupRegisterSchool.tpl.html","webpack:///./app/scripts/app/shared/components/material/mdSelectAll/mdSelectAll.tpl.html","webpack:///./app/scripts/app/shared/components/assignmentCourseSelect/assignmentCourseSelect.tpl.html","webpack:///./app/scripts/app/shared/components/assignmentGradeText/assignmentGradeText.tpl.html","webpack:///./app/scripts/app/shared/models/assignment.model.ts","webpack:///./app/scripts/app/shared/components/assignmentIconType/assignmentIconType.tpl.html","webpack:///./app/scripts/app/shared/components/assignmentsList/assignmentsList.tpl.html","webpack:///./app/scripts/app/shared/components/assignmentStatusIcon/assignmentStatusIcon.tpl.html","webpack:///./app/scripts/app/shared/components/assignObjectivesPopup/assignObjectivesPopup.tpl.html","webpack:///./app/scripts/app/shared/components/groupedVisibility/groupedVisibility.tpl.html","webpack:///./app/scripts/app/shared/components/helpButton/helpButton.tpl.html","webpack:///./app/scripts/app/shared/upgrades/upgrades.module.ts","webpack:///./app/scripts/app/shared/upgrades/autocomplete/autocomplete.tpl.html","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/studentCourseManagement.tpl.html","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/cmStudentCoursesList/cmStudentCoursesList.tpl.html","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentCourseDetails.tpl.html","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectives.tpl.html","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectivesList/cmStudentObjectivesList.tpl.html","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectivesToolbar/cmStudentObjectivesToolbar.tpl.html","webpack:///./app/scripts/app/components/courseManagement/common/controllers/select-educational-properties.controller.js","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/teacherCourseManagement.tpl.html","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmCurriculumLibrary/cmCurriculumLibrary.tpl.html","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherCourseDetails.tpl.html","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectives.tpl.html","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectivesList/cmTeacherObjectivesList.tpl.html","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectivesToolbar/cmTeacherObjectivesToolbar.tpl.html","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmTeacherCoursesList/cmTeacherCoursesList.tpl.html","webpack:///./app/scripts/app/components/courseManagement/shared/cmEmptyObjectivesList/cmEmptyObjectivesList.tpl.html","webpack:///./app/scripts/app/assignments/shared/studentAssignmentTextarea/studentAssignmentTextarea.tpl.html","webpack:///./app/scripts/app/assignments/studentAssessAssignment/studentAssessAssignment.module.ts","webpack:///./app/scripts/app/assignments/studentAssessAssignment/studentAssessAssignment.tpl.html","webpack:///./app/scripts/app/assignments/studentAssessAssignmentDrive/studentAssessAssignmentDrive.module.ts","webpack:///./app/scripts/app/assignments/studentAssessAssignmentDrive/studentAssessAssignmentDrive.tpl.html","webpack:///./app/scripts/app/assignments/studentAssignments/shared/components/studentAssignmentsList/studentAssignmentsList.tpl.html","webpack:///./app/scripts/app/assignments/studentAssignments/studentAssignments.tpl.html","webpack:///./app/scripts/app/assignments/studentAssignments/studentAssignmentsPublished/studentAssignmentsPublished.tpl.html","webpack:///./app/scripts/app/assignments/studentAssignments/studentAssignmentsNotConfigured/studentAssignmentsNotConfigured.tpl.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/teacherAssessAssignment.module.ts","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/teacherAssessAssignmentDrive.module.ts","webpack:///./app/scripts/app/utils/components/assignment_single_checkbox.js","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/teacherAssessAssignmentStudent.module.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/shared/components/teacherAssessmentsList/teacherAssessmentsList.tpl.html","webpack:///./app/scripts/app/assignments/teacherAssignments/shared/components/teacherAssignmentsDraftsList/teacherAssignmentsDraftsList.tpl.html","webpack:///./app/scripts/app/assignments/teacherAssignments/shared/components/teacherAssignmentsList/teacherAssignmentsList.tpl.html","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignments.tpl.html","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignmentsDrafts/teacherAssignmentsDrafts.tpl.html","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignmentsNotConfigured/teacherAssignmentsNotConfigured.tpl.html","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignmentsPublished/teacherAssignmentsPublished.tpl.html","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/shared/components/objectiveGradeTextVisibilitySettings/objectiveGradeTextVisibilitySettings.tpl.html","webpack:///./react_src/hooks/useFetch.jsx","webpack:///./react_src/images/png/icon_bk_assessment_done.png","webpack:///./react_src/images/png/icon_bk_assessing.png","webpack:///./react_src/images/png/icon_warning.png","webpack:///./react_src/images/png/work_unit_icon.png","webpack:///./react_src/images/png/topic_icon.png","webpack:///./react_src/images/png/topic-hidden.png","webpack:///./react_src/images/png/submitted.png","webpack:///./react_src/images/png/submitted-late.png","webpack:///./react_src/images/png/not-submitted-late.png","webpack:///./react_src/types.js","webpack:///./react_src/components/topicItem.jsx","webpack:///./react_src/components/notConnectedItem.jsx","webpack:///./react_src/topics_and_assignments/hideAssignmentsDialog.jsx","webpack:///./react_src/components/networkErrorToast.jsx","webpack:///./react_src/components/saveToast.jsx","webpack:///./react_src/components/objectiveDescription.jsx","webpack:///./react_src/images/handlebg.svg","webpack:///./react_src/errorBoundry.jsx","webpack:///./react_src/topics_and_assignments/visibilityDialog.jsx","webpack:///./react_src/components/syncToast.jsx","webpack:///./react_src/newAssignmentDialog.jsx","webpack:///./react_src/components/selectPrimarySchoolDialog.jsx","webpack:///./react_src/classroomNavigation.jsx","webpack:///./react_src/course-overview/studentListHeader.jsx","webpack:///./react_src/course-overview/studentItem.jsx","webpack:///./react_src/course-overview/courseItem.jsx","webpack:///./react_src/course-overview/coursesCard.jsx","webpack:///./react_src/course-overview/studentOverviewHeader.jsx","webpack:///./react_src/course-overview/courseAssessmentCard.jsx","webpack:///./react_src/components/emptyText.jsx","webpack:///./react_src/course-overview/ewsStudentCard/extraAdjustments.jsx","webpack:///./react_src/course-overview/ewsStudentCard/internalComments.jsx","webpack:///./react_src/course-overview/ewsStudentCard/statusDropdown.jsx","webpack:///./react_src/course-overview/ewsStudentCard/index.jsx","webpack:///./react_src/course-overview/courseInfoCard.jsx","webpack:///./react_src/images/sb-ico-feedback.svg","webpack:///./react_src/images/sb-ico-note.svg","webpack:///./react_src/course-overview/courseObjectiveSummaryItem.jsx","webpack:///./react_src/course-overview/courseObjectiveAssessment.jsx","webpack:///./react_src/course-overview/proficiencyProfile.jsx","webpack:///./react_src/course-overview/courseObjectiveAssessmentItem.jsx","webpack:///./react_src/course-overview/courseObjectiveAssessmentCard.jsx","webpack:///./react_src/course-overview/assignmentAccordionItemHeader.jsx","webpack:///./react_src/course-overview/assignmentAccordionItem.jsx","webpack:///./react_src/course-overview/assignmentsCard.jsx","webpack:///./react_src/course-overview/studentCourseOverview.jsx","webpack:///./react_src/course-overview/courseObjectiveOverview.jsx","webpack:///./react_src/course-overview/studentOverview.jsx","webpack:///./react_src/images/png/happy-face.png","webpack:///./react_src/images/png/medium-face.png","webpack:///./react_src/images/png/sad-face.png","webpack:///./react_src/images/png/extra-help.png","webpack:///./react_src/images/png/student_extra_help.png","webpack:///./react_src/components/extraAdjustmentIconWithNumber.jsx","webpack:///./react_src/course-overview/gridview/ewsItem.jsx","webpack:///./react_src/course-overview/gridview/courseOverviewComponent.jsx","webpack:///./react_src/course-overview/gridview/CourseObjectiveAssessmentsComponent.jsx","webpack:///./react_src/course-overview/gridview/gridOverviewHeader.jsx","webpack:///./react_src/course-overview/gridview/assignmentTable.jsx","webpack:///./react_src/course-overview/gridview/gridOverview.jsx","webpack:///./react_src/course-overview/index.jsx","webpack:///./react_src/components/studentItem.jsx","webpack:///./react_src/images/settings.svg","webpack:///./react_src/topics_and_assignments/assignmentStudentListHeader.jsx","webpack:///./react_src/components/studybeeSelector.jsx","webpack:///./react_src/components/batchAssessmentDialog.jsx","webpack:///./react_src/images/filter.svg","webpack:///./react_src/images/expand.svg","webpack:///./react_src/images/collapse_all.svg","webpack:///./react_src/topics_and_assignments/assignmentStudentList.jsx","webpack:///./react_src/components/drawerItem.jsx","webpack:///./react_src/components/drawer.jsx","webpack:///./react_src/images/png/close_white.png","webpack:///./react_src/components/addSchoolDialog.jsx","webpack:///./app/scripts/contentscript.js","webpack:///./app/scripts/app/common/components/accordion/accordion.component.ts","webpack:///./app/scripts/app/common/components/accordion/accordion.service.ts","webpack:///./app/scripts/app/common/components/accordion/accordionFooter/accordionFooter.component.ts","webpack:///./app/scripts/app/common/components/accordion/accordionHeader/accordionHeader.component.ts","webpack:///./app/scripts/app/common/components/extended-view-container.component.js","webpack:///./app/scripts/app/common/components/extended-view-top-whiteframe.component.js","webpack:///./app/scripts/app/common/components/loader.component.js","webpack:///./app/scripts/app/common/components/longTextTooltip/longTextTooltip.component.js","webpack:///./app/scripts/app/common/components/longTextTooltip/longTextTooltip.service.js","webpack:///./app/scripts/app/common/components/menu-toggle.component.js","webpack:///./app/scripts/app/common/components/object-details-toggle.component.js","webpack:///./app/scripts/app/common/components/right-view-container.component.js","webpack:///./app/scripts/app/common/components/saving-indicator.component.js","webpack:///./app/scripts/app/common/components/student-status-icon.component.js","webpack:///./app/scripts/app/common/components/accordion/accordionHeader/accordionHeaderMenu/accordionHeaderMenu.component.ts","webpack:///./app/scripts/app/common/components/breadcrumbs/breadcrumbs.component.ts","webpack:///./app/scripts/app/common/services/services.module.js","webpack:///./app/scripts/app/common/services/host-page-new-assignment-observer.js","webpack:///./app/scripts/app/common/services/host-page-qualifiers.js","webpack:///./app/scripts/app/common/filters/filters.module.js","webpack:///./app/scripts/app/common/filters/last-update.filter.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./app/scripts/app/common/directives/directives.module.js","webpack:///./app/scripts/app/common/directives/mixpanel-text-event.directive.js","webpack:///./app/scripts/app/common/directives/ngVisible.directive.js","webpack:///./app/scripts/app/utils/services/backend_info.js","webpack:///./app/scripts/app/utils/directives/dynamic-theme.js","webpack:///./app/scripts/app/utils/directives/main-menu.js","webpack:///./app/scripts/app/utils/services/main_menu.js","webpack:///./app/scripts/app/utils/services/courses.service.js","webpack:///./app/scripts/app/utils/directives/custom_routing.js","webpack:///./app/scripts/app/utils/services/grade_systems.js","webpack:///./app/scripts/app/utils/directives/slideToggle.directive.js","webpack:///./app/scripts/app/utils/filters/localize.js","webpack:///./app/scripts/app/utils/services/promiseQueue.service.js","webpack:///./app/scripts/app/utils/filters/last_modified.js","webpack:///./app/scripts/app/utils/directives/localize.js","webpack:///./app/scripts/app/utils/directives/single_slider.js","webpack:///./app/scripts/vendors/nouislider.js","webpack:///./app/scripts/app/utils/directives/counters.js","webpack:///./app/scripts/app/utils/directives/knowledge_requirements.js","webpack:///./app/scripts/app/utils/directives/sticky_subheader.js","webpack:///./app/scripts/app/utils/directives/last_modified.js","webpack:///./app/scripts/app/utils/directives/studybee_handle.js","webpack:///./app/scripts/app/utils/directives/save_scroll.js","webpack:///./app/scripts/app/utils/services/assignments.js","webpack:///./app/scripts/app/utils/services/config.js","webpack:///./app/scripts/app/utils/services/path.js","webpack:///./app/scripts/app/utils/services/debounce.js","webpack:///./app/scripts/app/utils/services/helpers.js","webpack:///./app/scripts/app/utils/services/navigation_history.js","webpack:///./app/scripts/app/utils/services/states.js","webpack:///./app/scripts/app/utils/services/observer.js","webpack:///./app/scripts/app/utils/services/hint.js","webpack:///./app/scripts/app/utils/services/updates.js","webpack:///./app/scripts/app/utils/services/studybee_handle.js","webpack:///./app/scripts/app/utils/filters/sanitize.js","webpack:///./app/scripts/app/utils/providers/httpInterceptor.provider.ts","webpack:///./app/scripts/app/utils/decorators/provider.decorator.ts","webpack:///./app/scripts/app/utils/interceptors/agreementSeen.interceptor.ts","webpack:///./app/scripts/app/utils/interceptors/checkDomain.interceptor.ts","webpack:///./src/app/shared/enmus/api-error-code.enum.ts","webpack:///./app/scripts/app/utils/interceptors/extractData.interceptor.ts","webpack:///./app/scripts/app/utils/interceptors/inactiveUser.interceptor.ts","webpack:///./app/scripts/app/utils/interceptors/missingAgreement.interceptor.ts","webpack:///./app/scripts/app/utils/interceptors/userData.interceptor.ts","webpack:///./app/scripts/app/utils/enums/permissionType.enum.js","webpack:///./app/scripts/app/utils/interceptors/userPreferences.interceptor.ts","webpack:///./app/scripts/app/components/course-progress/course-progress.module.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/student-course-progress.module.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/assessment-details-empty.component.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/course-details/course-details.component.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/course-details/course-details.controller.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/coursesList/courseListItem/courseListItem.component.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/coursesList/coursesList.component.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/coursesList/coursesListEmpty/coursesListEmpty.component.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/course-details/objectives-list/objectives-list.component.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/student-assessment-details.component.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/student-objective-details/student-assignments-list/student-assignments-list.component.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/student-course-progress.component.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/student-course-progress.routing.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/student-objective-details/student-objective-details.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/counter-grade-editable.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/counter-grade-preview.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/counter-grade-summary.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/grade-editable.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/no-courses.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/no-student-selected.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/objective-details/assignments-list/assignments-list.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/objective-details/objective-details.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/objective-details/objective-details.controller.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/studentDetails.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/students-list/studentsList.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/students-list/studentsList.controller.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/teacher-course-progress.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/teacher-course-progress.controller.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/teacherCourseProgress.service.js","webpack:///./app/scripts/app/utils/enums/exportState.enum.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/teacher-course-progress.routing.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetails.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetails.service.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/assignmentOverviewDetails/assignmentOverviewDetails.component.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/assignmentOverviewDetails/assignmentOverviewObjectivesList/assignmentOverviewObjectivesList.component.ts","webpack:///./app/scripts/app/shared/services/assignment/assignment.service.ts","webpack:///./app/scripts/app/shared/services/assignmentAssessment/assignmentAssessment.service.ts","webpack:///./app/scripts/app/shared/services/colleagueEmails/colleagueEmails.service.ts","webpack:///./app/scripts/app/shared/models/colleagueEmail.model.ts","webpack:///./app/scripts/app/shared/models/groupedVisibility.model.ts","webpack:///./app/scripts/app/shared/services/hashObserver/hashObserver.ts","webpack:///./app/scripts/app/shared/services/tab/tab.service.ts","webpack:///./app/scripts/app/shared/models/tabMessage.model.ts","webpack:///./app/scripts/app/shared/services/popup/popup.service.ts","webpack:///./app/scripts/app/shared/services/retryPromise/retryPromise.service.ts","webpack:///./app/scripts/app/shared/enums/schoolCategoryType.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/assignmentOverviewDetails/assignmentOverviewObjectivesList/assignmentOverviewObjectivesList.service.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentOverview.service.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentsOverview.component.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentOverviewContent/assignmentOverviewContent.component.ts","webpack:///./app/scripts/app/utils/decorators/executeGuard.decorator.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentOverviewStatus/assignmentOverviewStatus.component.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentOverviewStatus/assignmentOverviewStatus.service.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/objectivesList.component.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/coverageMatrixGrid/coverageMatrixGrid.component.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/coverageMatrixGridHeader/coverageMatrixGridHeader.component.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/listViewSwich/listViewSwitch.component.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/listViewSwich/listViewSwitch.service.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/coverageMatrixGrid/gradePrognosis/gradePrognosis.component.ts","webpack:///./app/scripts/app/components/course-progress/common/components/assessmentDetails/assessmentDetails.component.js","webpack:///./app/scripts/app/components/course-progress/common/components/assessmentStatusPreview/assessmentStatusPreview.component.ts","webpack:///./app/scripts/app/components/course-progress/common/components/courseSummary/courseSummary.component.js","webpack:///./app/scripts/app/components/course-progress/common/components/download-pdf-menu.component.js","webpack:///./app/scripts/app/components/course-progress/common/components/gradeDescription.component.js","webpack:///./app/scripts/app/components/course-progress/common/services/gradeDescription.service.js","webpack:///./app/scripts/app/components/course-progress/common/components/last-edit.component.js","webpack:///./app/scripts/app/components/course-progress/common/components/partial-last-edit.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetailsSection/studentCoursesDetailsSection.component.js","webpack:///./app/scripts/app/components/course-progress/common/components/studentProfile/studentProfile.component.js","webpack:///./app/scripts/app/components/course-progress/common/components/studentProfile/studentProfileDetails/studentProfileDetails.component.js","webpack:///./app/scripts/app/components/course-progress/common/components/studentProfile/studentProfilePhoto/studentProfilePhoto.component.js","webpack:///./app/scripts/app/components/course-progress/common/components/studentProgressInput/studentProgressInput.component.js","webpack:///./app/scripts/app/components/course-progress/common/components/assessmentStatusPreview/assessmentStatusPreview.service.ts","webpack:///./app/scripts/app/components/course-progress/common/services/assignmentsList.service.js","webpack:///./app/scripts/app/components/course-progress/course-progress.service.js","webpack:///./app/scripts/app/components/course-progress/common/services/exportStudentsResults.service.js","webpack:///./app/scripts/app/components/course-progress/common/dialogs/exportStudentsResults/exportStudentsResultsDialog.service.js","webpack:///./app/scripts/app/components/course-progress/common/dialogs/studentDetailsEdit/studentDetailsEditDialog.service.ts","webpack:///./app/scripts/app/components/course-progress/common/dialogs/shareAssessmentsWithColleagues/shareAssessmentsWithColleaguesDialog.service.ts","webpack:///./app/scripts/app/components/course-progress/common/components/shareAssessmentsWithColleagues/shareAssessmentsWithColleagues.component.ts","webpack:///./app/scripts/app/components/course-progress/courseProgress.routing.ts","webpack:///./app/scripts/app/userSetup/commons/dialogs/UserSetupDialog.service.js","webpack:///./app/scripts/app/userSetup/components/userSetup/userSetup.component.js","webpack:///./app/scripts/app/userSetup/components/userSetup/userSetup.controller.js","webpack:///./app/scripts/app/userSetup/components/userSetupAgreement/userSetupAgreement.component.js","webpack:///./app/scripts/app/userSetup/components/userSetupAgreement/userSetupAgreement.controller.js","webpack:///./app/scripts/app/userSetup/components/userSetupAgreementMissing/userSetupAgreementMissing.component.js","webpack:///./app/scripts/app/userSetup/components/userSetupAgreementMissing/userSetupAgreementMissing.controller.js","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheck.component.js","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheck.controller.js","webpack:///./app/scripts/app/utils/enums/userSetupValidationState.enum.js","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheck.service.js","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheckInvalid/userSetupCheckInvalid.component.js","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheckInvalid/userSetupCheckInvalid.controller.js","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheckProgress/userSetupCheckProgress.component.js","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheckProgress/userSetupCheckProgress.controller.js","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheckValid/userSetupCheckValid.component.js","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheckValid/userSetupCheckValid.controller.js","webpack:///./app/scripts/app/userSetup/components/userSetupComplete/userSetupComplete.component.js","webpack:///./app/scripts/app/userSetup/components/userSetupComplete/userSetupComplete.controller.js","webpack:///./app/scripts/app/userSetup/components/userSetupSettings/userSetupSettgins.component.js","webpack:///./app/scripts/app/userSetup/components/userSetupSettings/userSetupSettgins.controller.js","webpack:///./app/scripts/app/userSetup/components/userSetupSettings/usetSetupSettings.service.js","webpack:///./app/scripts/app/userSetup/components/userSetupSlides/userSetupSlides.component.js","webpack:///./app/scripts/app/userSetup/components/userSetupSlides/userSetupSlides.controller.js","webpack:///./app/scripts/app/userSetup/userSetup.routing.ts","webpack:///./app/scripts/app/userSetup/components/userSetupSchoolSelect/userSetupSchoolSelect.component.ts","webpack:///./app/scripts/app/shared/services/userSetup/userSetup.service.ts","webpack:///./app/scripts/app/userSetup/components/userSetupRegisterSchool/userSetupRegisterSchool.component.ts","webpack:///./app/scripts/app/shared/models/schoolRequestBody.model.ts","webpack:///./app/scripts/app/app.config.js","webpack:///./app/scripts/app/app.run.js","webpack:///./app/scripts/app/app.routing.ts","webpack:///./app/scripts/app/components/user-inactive/user-inactive.module.js","webpack:///./app/scripts/app/components/user-inactive/user-inactive.component.js","webpack:///./app/scripts/app/shared/shared.module.ts","webpack:///./app/scripts/app/shared/components/material/mdMenuLabel/mdMenuLabel.component.ts","webpack:///./app/scripts/app/shared/components/material/mdSelectAll/mdSelectAll.component.ts","webpack:///./app/scripts/app/shared/components/assignmentCourseSelect/assignmentCourseSelect.component.ts","webpack:///./app/scripts/app/shared/components/assignmentGradeText/assignmentGradeText.component.ts","webpack:///./app/scripts/app/shared/components/assignmentIconType/assignmentIconType.compnent.ts","webpack:///./app/scripts/app/shared/components/assignmentStatusIcon/assignmentStatusIcon.component.ts","webpack:///./app/scripts/app/shared/enums/assignmentStatusIconType.enum.ts","webpack:///./app/scripts/app/shared/components/assignObjectivesPopup/assignObjectivesPopup.component.ts","webpack:///./src/app/core/rxjs/delayed-retry.operator.ts","webpack:///./app/scripts/app/shared/components/groupedVisibility/groupedVisibility.component.ts","webpack:///./app/scripts/app/shared/components/helpButton/helpButton.component.ts","webpack:///./app/scripts/app/shared/directives/hint/hint.directive.ts","webpack:///./app/scripts/app/shared/directives/textarea/textarea.directive.ts","webpack:///./app/scripts/app/shared/filters/filters.module.ts","webpack:///./app/scripts/app/shared/filters/getFormattedHtmlOrEmpty/getFormattedHtmlOrEmpty.filter.ts","webpack:///./app/scripts/app/shared/filters/htmlToPlaintext/htmlToPlaintext.filter.ts","webpack:///./app/scripts/app/shared/filters/iconURL/iconURL.filter.ts","webpack:///./app/scripts/app/shared/upgrades/autocomplete/autocomplete.component.ts","webpack:///./app/scripts/app/components/courseManagement/common/components/course-definition-details.component.js","webpack:///./app/scripts/app/components/courseManagement/common/components/objective-details.component.js","webpack:///./app/scripts/app/components/courseManagement/courseManagement.routing.ts","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/studentCourseManagement.routing.ts","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/studentCourseManagement.component.ts","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/cmStudentCoursesList/cmStudentCoursesList.component.ts","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentCourseDetails.component.ts","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectives.component.ts","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectivesList/cmStudentObjectivesList.component.ts","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectivesToolbar/cmStudentObjectivesToolbar.component.ts","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/teacherCourseManagement.routing.ts","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/teacherCourseManagement.component.ts","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/edit-curriculum-dialog.controller.js","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/search-curriculum-dialog.controller.js","webpack:///./app/scripts/app/utils/enums/courseType.js","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmCurriculumLibrary/cmCurriculumLibrary.component.ts","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/shares/helper.classroom.ts","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherCourseDetails.component.ts","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectives.component.ts","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectivesList/cmTeacherObjectivesList.component.ts","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectivesToolbar/cmTeacherObjectivesToolbar.component.ts","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmTeacherCoursesList/cmTeacherCoursesList.component.ts","webpack:///./app/scripts/app/components/courseManagement/shared/cmEmptyObjectivesList/cmEmptyObjectivesList.component.ts","webpack:///./app/scripts/app/assignments/assignments.module.ts","webpack:///./app/scripts/app/assignments/shared/objectiveKnowledgeRequirements/objectiveKnowledgeRequirements.directive.ts","webpack:///./app/scripts/app/assignments/shared/studentAssignmentTextarea/studentAssignmentTextarea.component.ts","webpack:///./app/scripts/app/assignments/studentAssessAssignment/studentAssessAssignment.routing.ts","webpack:///./app/scripts/app/assignments/studentAssessAssignment/studentAssessAssignment.component.ts","webpack:///./app/scripts/app/assignments/studentAssessAssignmentDrive/studentAssessAssignmentDrive.routing.ts","webpack:///./app/scripts/app/assignments/studentAssessAssignmentDrive/studentAssessAssignmentDrive.component.ts","webpack:///./app/scripts/app/assignments/studentAssignments/studentAssignments.routing.ts","webpack:///./app/scripts/app/assignments/studentAssignments/shared/components/studentAssignmentsList/studentAssignmentsList.component.ts","webpack:///./app/scripts/app/assignments/studentAssignments/studentAssignments.component.ts","webpack:///./app/scripts/app/assignments/studentAssignments/studentAssignmentsPublished/studentAssignmentsPublished.component.ts","webpack:///./app/scripts/app/assignments/studentAssignments/studentAssignmentsNotConfigured/studentAssignmentsNotConfigured.component.ts","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/controllers/main.js","webpack:///./app/scripts/app/utils/components/single_checkbox.js","webpack:///./app/scripts/app/utils/components/assignment_group_checkboxes.js","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/teacherAssessAssignment.service.ts","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/controllers/main.js","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/teacherAssessAssignmentDrive.service.ts","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/controllers/main.js","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/teacherAssessAssignmentStudent.service.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignments.routing.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/shared/components/teacherAssessmentsList/teacherAssessmentsList.component.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/shared/components/teacherAssignmentsDraftsList/teacherAssignmentsDraftsList.component.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/shared/components/teacherAssignmentsList/teacherAssignmentsList.component.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignments.component.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignments.service.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignmentsDrafts/teacherAssignmentsDrafts.component.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignmentsNotConfigured/teacherAssignmentsNotConfigured.component.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignmentsPublished/teacherAssignmentsPublished.component.ts","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/teacher-set-assignment-objectives.controller.js","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/shared/enum/assignConfirmationType.enum.ts","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/teacherSetAssignmentObjectives.routing.ts","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/shared/components/objectiveGradeTextVisibilitySettings/objectiveGradeTextVisibilitySettings.component.ts","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/teacherSetAssignmentObjectives.service.ts","webpack:///./react_src/app.jsx","webpack:///./react_src/theme/sizes.js","webpack:///./react_src/theme/styles.js","webpack:///./app/scripts/vendors/ngquill.js","webpack:///./app/scripts/app sync \\.html$","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/dialogs/changes_dialog.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/main.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/partials/assessment.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/partials/batch_editing.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/partials/not_configured.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/partials/objectives_feedback.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/partials/objectives_private_notes.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/partials/objectives_self_assessment.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/partials/overall_feedback.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/partials/overall_private_notes.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/partials/results.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/views/dialogs/changes_dialog.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/views/main.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/views/partials/student_batch_editing.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/views/partials/student_drive_all.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/views/partials/student_view_all.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/views/partials/student_view_assessment.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_feedback.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_priavte_notes.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_self_assessment.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/views/dialogs/changes_dialog.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/views/main.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/views/partials/student_batch_editing.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/views/partials/student_classroom_all.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/views/partials/student_view_all.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/views/partials/student_view_assessment.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_feedback.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_priavte_notes.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_self_assessment.html","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/views/dialogs/assign_confirmation.html","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/views/dialogs/assign_success.html","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/views/main.html","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/views/partials/objectives.html","webpack:///./app/scripts/app/common/components/accordion/accordion.html","webpack:///./app/scripts/app/common/components/accordion/accordionFooter/accordionFooter.html","webpack:///./app/scripts/app/common/components/accordion/accordionHeader/accordionHeader.html","webpack:///./app/scripts/app/common/components/longTextTooltip/longTextTooltip.html","webpack:///./app/scripts/app/common/dialogs/hint-dialog.html","webpack:///./app/scripts/app/components/course-progress/common/components/assessmentDetails/assessmentDetails.html","webpack:///./app/scripts/app/components/course-progress/common/components/assessmentStatusPreview/assessmentStatusPreview.html","webpack:///./app/scripts/app/components/course-progress/common/components/courseSummary/courseSummary.html","webpack:///./app/scripts/app/components/course-progress/common/components/shareAssessmentsWithColleagues/shareAssessmentsWithColleagues.html","webpack:///./app/scripts/app/components/course-progress/common/components/studentProfile/studentProfile.html","webpack:///./app/scripts/app/components/course-progress/common/components/studentProfile/studentProfileDetails/studentProfileDetails.html","webpack:///./app/scripts/app/components/course-progress/common/components/studentProfile/studentProfilePhoto/studentProfilePhoto.html","webpack:///./app/scripts/app/components/course-progress/common/components/studentProgressInput/studentProgressInput.html","webpack:///./app/scripts/app/components/course-progress/common/dialogs/exportStudentsResults/exportStudentsResultsDialogConfirmation.html","webpack:///./app/scripts/app/components/course-progress/common/dialogs/exportStudentsResults/exportStudentsResultsDialogFail.html","webpack:///./app/scripts/app/components/course-progress/common/dialogs/exportStudentsResults/exportStudentsResultsDialogSuccess.html","webpack:///./app/scripts/app/components/course-progress/common/dialogs/shareAssessmentsWithColleagues/shareAssessmentsWithColleagues.html","webpack:///./app/scripts/app/components/course-progress/common/dialogs/studentDetailsEdit/studentDetailsEditDialog.html","webpack:///./app/scripts/app/components/course-progress/student-course-progress/course-details/course-details.html","webpack:///./app/scripts/app/components/course-progress/student-course-progress/course-details/objectives-list/objectives-list.html","webpack:///./app/scripts/app/components/course-progress/student-course-progress/coursesList/courseListItem/courseListItem.html","webpack:///./app/scripts/app/components/course-progress/student-course-progress/coursesList/coursesList.html","webpack:///./app/scripts/app/components/course-progress/student-course-progress/coursesList/coursesListEmpty/coursesListEmpty.html","webpack:///./app/scripts/app/components/course-progress/student-course-progress/student-course-progress.html","webpack:///./app/scripts/app/components/course-progress/student-course-progress/student-objective-details/student-assignments-list/student-assignments-list.html","webpack:///./app/scripts/app/components/course-progress/student-course-progress/student-objective-details/student-objective-details.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/objective-details/assignments-list/assignments-list.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/objective-details/objective-details.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetails.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetailsSection/studentCoursesDetailsSection.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/studentDetails.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/students-list/studentsList.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/teacher-course-progress.html","webpack:///./app/scripts/app/components/courseManagement/common/components/objective-details.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/change-property-doublecheck-warning.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/change-property-warning.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/confirmation.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/create-objective.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/curriculum-details.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/curriculum-library.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/delete-course.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/delete-objective.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/edit-curriculum.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/make-curriculum-private.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/make-curriculum-public.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/remove-curriculum-form-library.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/rename-course.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/rename-curriculum.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/save-curriculum-to-library.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/search-curriculum.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/wrong-curriculum-setup.html","webpack:///./app/scripts/app/components/user-inactive/user-inactive.html","webpack:///./app/scripts/app/userSetup/commons/dialogs/changeEducationalSystem.html","webpack:///./app/scripts/app/userSetup/commons/dialogs/saveInfo.html","webpack:///./app/scripts/app/userSetup/commons/dialogs/whatNowInfo.html","webpack:///./app/scripts/app/userSetup/components/userSetup/userSetup.html","webpack:///./app/scripts/app/userSetup/components/userSetupAgreement/userSetupAgreement.html","webpack:///./app/scripts/app/userSetup/components/userSetupAgreementMissing/userSetupAgreementMissing.html","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheck.html","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheckInvalid/userSetupCheckInvalid.html","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheckProgress/userSetupCheckProgress.html","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheckValid/userSetupCheckValid.html","webpack:///./app/scripts/app/userSetup/components/userSetupComplete/userSetupComplete.html","webpack:///./app/scripts/app/userSetup/components/userSetupSettings/userSetupSettings.html","webpack:///./app/scripts/app/userSetup/components/userSetupSlides/userSetupSlides.html","webpack:///./app/scripts/app/utils/views/backend_info.html","webpack:///./app/scripts/app/utils/views/counters.html","webpack:///./app/scripts/app/utils/views/knowledge_requirements.html","webpack:///./app/scripts/app/utils/views/loading_state.html","webpack:///./app/scripts/app/utils/views/main_menu.html","webpack:///./app/scripts/app/utils/views/noLearningObjectives.html","webpack:///./app/scripts/app/utils/views/not_configured_state.html","webpack:///./app/scripts/app/utils/views/not_logged_state.html","webpack:///./app/scripts/app/utils/views/sum_counters.html","webpack:///./app/scripts/app/utils/views/toast.html","webpack:///./app/scripts/app/utils/views/wrong_google_drive_file.html","webpack:///./app/scripts/app/utils/views/wrong_user_state.html"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","3","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","colors","fonts","sizes","styles","language","english","navigator","languages","userLanguage","split","e","console","log","getLanguage","getTranslation","label","message","SUBMITTED","SUBMITTED_LATE","NOT_SUBMITTED","NOT_SUBMITTED_LATE","GlobalContext","React","createContext","getFromLocalStorage","identifier","process","env","REACT_APP_STANDALONE","localStorage","getItem","Promise","resolve","chrome","storage","sync","setToLocalStorage","setItem","set","getToken","reject","runtime","sendMessage","action","token","getClassroomId","exec","location","href","getSubmittedIcon","status","style","height","width","file","submittedImage","overrideOpacity","submittedLateImage","notSubmittedLateImage","notSubmittedImage","submittedText","submittedLateText","notSubmittedText","notSubmittedLateText","getSubmittedStatusText","state","getAssessmentIcon","warning","notDoneImage","position","doneImage","warningImage","left","bottom","accessingImage","sortAssessmentsByStudentName","ass","map","a","firstName","student_name","first_name","lastName","last_name","sort","b","localeCompare","getLastModified","lastModifiedDate","moment","isSame","format","toLocaleUpperCase","getStudentSortingMethod","setStudentSortingMethod","method","getAssignmentSortingMethod","setAssignmentSortingMethod","getStudentListFilterOptions","options","setStudentListFilterOptions","getVisibilitySettingForAssignment","assignmentId","setting","setVisibilitySettingForAssignment","storeLastUsedGradeSystem","scale","getLastUsedGradeSystem","parseInt","getGradeSystemValues","gradeSystem","gradeSystemValues","grades","g","color","id","unshift","borderColor","getAssignmentIcon","assignment","white","backgroundColor","green","padding","borderRadius","marginRight","connected","is_topic","topicHiddenImage","blueGrey","noCriteriaImage","topic","alignItems","justifyContent","display","topicImage","assignment_not_assessable","assignment_type","workUnitImage","red","worktype","assignmentImage","draft","doneText","acessingText","notAssessedText","getStatusText","filterAssignmentsOnCourseId","assignments","courseId","filtered","forEach","filter","aa","find","courseDefinitions","filterAssignmentsOnObjective","objectiveId","f","objectiveAssessments","objective_id","getPublishedStatus","newStatus","originalStatus","PUBLISH_STATES","published","notPublished","dontChange","checkIfMyTab","tab","tabId","myTabId","change","originTabId","Tooltip","title","children","Component","constructor","err","error","selector","getOrCreateComponentModule","bindings","$$bindings","require","$$require","controller","replace","word","toUpperCase","convertSelectorName","component","merge","Input","_options","alias","bidirectional","collection","optional","string","bindingDescription","binding","assign","Events","memo","active","src","opacity","filename","indexOf","getInitialValue","multiEdit","init","PublishIcon","initialValue","onClick","iconStyle","size","useState","publishedState","setPublishedState","useEffect","newState","cursor","zIndex","marginLeft","visible","darkGrey","margin","useWindowDimensions","getWindowDimensions","innerWidth","innerHeight","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","useOnScreen","ref","isIntersecting","setIntersecting","observer","IntersectionObserver","entry","observe","current","disconnect","isBrowser","getScrollPosition","element","useWindow","x","y","document","body","getBoundingClientRect","scrollX","scrollY","top","useScrollPosition","effect","deps","wait","useRef","throttleTimeout","callBack","currPos","prevPos","useLayoutEffect","handleScroll","setTimeout","Service","getOrCreateServiceModule","service","CssTextField","withStyles","root","MEDIUM","SMALL","borderBottomColor","TextField","props","initialText","text","placeholder","hideEye","onTextChange","readonly","onPublish","assessment","helperText","type","warningText","setText","setFocused","marginBottom","marginTop","flexDirection","onMouseEnter","onMouseLeave","onChange","txt","target","disabled","multiline","TINY","right","Card","boxShadow","black","SharedServicesModule","Header","flex","ListViewType","TeacherCourseProgressModule","TeacherCourseProgressComponent","StudentsListComponent","StudentDetailsComponent","ObjectiveDetails","AssignmentsList","NoStudentSelected","GradeEditable","NoCourses","CounterGradePreview","CounterGradeEditable","CounterGradeSummary","StudentCoursesDetailsComponent","TeacherCourseProgress","StudentCoursesDetails","config","routerConfig","fetchData","httpCacheService","httpCacheQuery","request","url","params","this","generateID","hasEntity","getEntity","source","sendAPIRequestWithParams","from","pipe","tap","delete","shareReplay","add","HttpRequestType","DELETE","GET","head","HEAD","OPTIONS","patch","PATCH","post","POST","put","PUT","HttpService","Injectable","providedIn","FetchData","HttpCacheService","HttpCacheQuery","providers","UpgradedProviders","SimpleProvider","provide","useFactory","$injector","Updates","Path","TeacherAssignmentsService","UserInfo","RootScope","UserSetupDialog","base","textColor","textColorLight","textColorLighter","primary1","primary2","primary","blue","blueText","grey","greyDarker","borderGrey","orange","redOpacity","green_wrong","studentExtraAdjustments","inactive","borderColorDark","borderColorReallyDark","borderOnPrimary","brandColorYellow","brandColorGreen","brandColorPink","brandColorBlue","brandColorGrey","iconColor","iconColorLight","ewsGreen","greyedOut","dimmed","darkYellow","background","stripedGreenBg","stripedYellowBg","stripedRedBg","AssignmentType","AirbnbSlider","thumb","border","track","rail","Slider","AssessmentSlider","values","defaultIndex","helpText","showPublish","onChangeCommit","currentIndex","setCurrentIndex","committedIndex","hoover","setHoover","useReducer","forceUpdate","valueText","valuesNoLabel","v","markTexts","fontSize","ThumbComponent","AirbnbThumbComponent","onChangeCommitted","event","defaultValue","valueLabelFormat","getAriaValueText","aria-labelledby","step","valueLabelDisplay","marks","min","max","$$unsubscribes","$onDestroy","unsubscribe","UnsubscribableComponent","minWidth","PrimaryButton","inverted","textStyle","fontWeight","GreenCheckbox","paddingLeft","checked","Checkbox","CheckboxWithText","subText","onCheck","initialCheck","controlled","textWidth","toolTip","initialIndeterminate","indeterminate","setChecked","setIndeterminate","inputProps","stopPropagation","nativeEvent","stopImmediatePropagation","overflow","textOverflow","whiteSpace","dangerouslySetInnerHTML","__html","AssessmentStatusOld","AssessmentStatus","AssessmentSort","SBLinearProgress","barColorPrimary","LinearProgress","SBLinearProgressPink","StyledLinearProgress","pink","context","useContext","networkTraffic","_extends","arguments","_ref","fillRule","fill","SvgGrid","xmlns","StyledMenu","list","Menu","MoreMenu","icon","closeOnClick","anchorEl","setAnchorEl","handleMenuClick","option","onClickAway","aria-label","aria-controls","aria-haspopup","currentTarget","open","Boolean","paddingRight","selectable","selected","button","SecondaryButton","baseFonts","XXXLARGE","XXLARGE","XLARGE","LARGE","fontFamily","UtilsModule","animation","SlideToggleAnimation","directive","CustomRouting","MainMenu","SlideToggleDirective","DynamicTheme","Locale","GradeSystems","Mixpanel","Courses","PromiseQueue","factory","Students","BackendInfo","LastModified","LocalizeFilter","SharedComponentsModule","getPath","pathname","getPathArray","getAssignmentId","pathArray","getAssignmentAlternateLinkId","isDrive","link","getStudentId","getFileId","retryTimes","Observable","fileId","iframe","$","attr","includes","documentId","$button","URLRegex","test","URL","searchParams","Array","querySelectorAll","getPathFromButton","next","retryWhen","errors","delay","take","concatMap","throwError","subscribe","isClassroomInstance","valid","classroomNode","isDriveInstance","driveNode","isClassesListPage","isSettingsPage","isWorkPage","isCalendarPage","isStreamPage","isClassworkPage","isStudentsPage","isClassmatesPage","isAboutPage","isStudentWorkPage","isInstructionsPage","wasStudentWorkPage","oldPath","wasInstructionsPage","isCourseChanged","oldCourseId","setOldPath","setOldCourseId","boundEvents","unbindFn","UnbindableCtrlBase","$q","$timeout","Config","HttpInterceptor","interceptors","activeRequest","increaseActiveRequestCount","decreaseActiveRequestCount","showLoading","sendRequest","promise","applyRequestInterceptors","then","serverRequest","applyResponseInterceptors","finally","deferred","defer","ignoreShowLoading","addressException","MODE","requestConfig","ACTION","fetch","join","time","response","extendedResponse","timeEnd","HttpStatusCode","BAD_REQUEST","chainInterceptors","concat","reduce","$promise","requestInterceptors","interceptor","requestError","responseInterceptors","responseError","sendAPIRequest","RequestType","apiUrl","paramsString","keys","param","isArray","_param","encodeURIComponent","flat","query","some","addressElem","showError","getUserData","getUsersAgreementSeen","updateUserAgreementSeen","getInactiveUserMessage","getClassroomCourse","getDriveCourse","alternateLinkId","alternate_link_id","getSingleObjectiveRequirements","getAssignedObjectivesToAssignment","patchAssignedObjectivesToAssignment","settings","getAssignmentsObjectives","getAssignmentsStudents","putAssignmentsObjectives","students","getObjectiveAssessments","studentId","putObjectiveAssessments","assessments","getStudentAssignments","getStudentAssignment","getSchool","educationalSystemId","limit","getSchoolById","schooldId","getFirstTimeSetupData","getCourseSetup","updateCourseSetup","preferences","getUserPreferences","updateUserPreferences","getAssessmentDrive","putObjectiveAssessmentsDrive","getStudentsList","updateAssignmentsList","updateFilesListForAssignment","getAssignments","assignmentTitle","getBackendInfo","mixpanelTrack","mixpanelData","mixpanelEngage","getDownloadKey","courseDefinitionId","getStudentDetails","updateStudentDetails","getColleagueEmails","addColleagueEmail","email","removeColleagueEmail","colleagueEmailId","getAssignmentByAlternateLink","assignmentAlternateLink","getAssignmentAssessments","putAssignmentAssessments","assignmentAssessments","getSimpleAssignmentsObjectives","getGradeSystems","assignment_id","getCourseDefinitionObjectives","getStudentCoursesDefinitions","getCourseDefinitionAssessment","updateCourseDefinitionAssessment","getCourseDefinitionObjectiveAssessments","updateCourseDefinitionObjectiveAssessment","objective","getCourseDefinitionObjectiveAssessment","updateObjectiveAssessments","updateKnowledgeRequirement","knowledgeRequirement","deleteObjective","courseDefinition","updateObjective","createObjective","getObjectives","deleteCourse","createCourseDefinition","courseData","addCourseDefinitionToClassroom","template_course_id","saveCourseToLibrary","originCourseId","code","course_id","getStudybeeCurriculums","getSchoolCurriculums","getCurriculumLibrary","getUsersStatusesForCoursesAndObjectives","getUserStatusesForCoursesAndObjectives","getCourseDefinitions","getCourseDefinition","updateCourseDefinition","allUsersCurriculums","getPrivateCurriculums","getPublicCurriculums","getGlobalCurriculums","makeCurriculumPrivate","curriculum","makeCurriculumPublic","makeCurriculumGlobal","updateCurriculumInLibrary","addCurriculumToClassroom","removeCurriculumFromLibrary","getCurriculumDetails","getScales","getEducationalStages","getEducationalSystems","setObjectiveAssessmentSeen","getExportKeyForAllStudents","getExportKeyForStudent","exportAllStudentsResultsOnGoogleDrive","fileFormat","exportStudentResultsOnGoogleDrive","checkStatusOfExportStudentsResultsToGoogleDrive","exportId","getUserAgreement","languageCode","getISOLanguageCode","getObjectiveAssignmentAssessments","patchObjectiveAssignmentAssessments","patchObjectiveAssignmentAssessmentsSeen","patchAssignmentAssessmentsGroupedVisibility","groupedVisibility","patchCourseAssessmentsGroupedVisibility","getCoverageMatrixGradeSystem","v3","getAssignmentAssessment","updateAssignmentAssessment","objectiveAssignmentAssessment","student_id","getListObjectiveAssessments","updateObjectiveAssessmentsByCourseId","fetchAssignmentAssessments","synchronize","TeacherCourseManagementModule","TeacherAssignmentsModule","TeacherAssignmentsRouting","SortStudentComponent","sortingMethod","setSortingMethod","sortName","toLowerCase","transform","item","gradeContaiener","gridStyle","feedbackIcon","assessmentIcon","resultIcon","noteIcon","iconContainer","gradeText","tt","tt2","tt3","tt4","tt5","GridSummaryItem","feedbackImage","feedback","feedback_published","assessmentImage","self_assessment","resultImage","result_published","grade_color","grade_name","grade_published","noteImage","private_note","Interceptor","angular","getOrCreateInterceptorModule","HttpInterceptorProvider","interceptorFactory","$inject","args","getPrototypeOf","Function","order","Breadcrumb","AssignmentOrder","GroupedVisibilityDialogType","HttpCacheStore","StoreConfig","EntityStore","createAssignments","ui","createAssignmentsUI","createUIStore","setInitialEntityState","createAssignmentUI","setHasCache","forceRefreshEntities","runStoreAction","storeName","StoreActions","UpdateEntities","payload","entityIds","AssignmentsStore","AssignmentState","AssignmentWorktype","AssignmentSortBy","isExpanded","filters","PUBLISHED","DRAFT","STANDARD_ASSIGNMENT","WITHOUT_ASSESSMENT_CRITERIAS","WORK_UNIT","EMPTY","by","Order","ASC","createAssessments","createAssessmentsUI","AssessmentsStore","StudentCourseManagementModule","FullscreenProgress","environment","appName","production","release","urls","API_EU","API_US","mixPanel","raven","closed","Observer","LocalStorageService","userId","defaultMenuItems","TITLE_ONLY","eventArgs","view","TITLE_AND_DESCRIPTION","DESCRIPTION_ONLY","getListViewMenu","storageId","buildStorageKey","exists","validateCheckedState","restoreListViewMenu","copyDefaultListViewMenu","saveListViewMenu","listViewMenu","listViewMenuItem","acc","listViewMenuItemCopy","lastSelectedId","listViewMenuItems","allCheckedItems","ListViewMenuService","ILocalStorageService","IUserInfoService","clear","getArray","JSON","parse","remove","removeItem","setArray","stringify","createInitialState","is_teacher","first_time_setup","gdpr_check","google_id","photo_url","locationDetection","UserStore","Inject","LOCATION_DETECTION","LocationDetection","Store","InjectionToken","_ref2","SvgIconBkAssessmentDone","resultText","overallFeedbackText","overallPrivateNoteText","teacherSelfAssessmentText","studentSelfAssessmentLabel","AssignmentAssessment","onSave","Api","isStudent","grade_id","status_new","debouncedUpdateAssignmentAssessment","useMemo","debounce","saveGrade","grade","grade_last_edit","Date","now","publishGrade","publish","changeAssignmentText","result_last_edit","feedback_last_edit","private_note_last_edit","self_assessment_last_edit","publishAssignmentValue","showResult","showFeedback","showOverallNote","showGrade","showSelfAssessment","findIndex","paddingTop","paddingBottom","index","BootstrapInput","theme","input","minHeight","InputBase","Dropdown","selectStyle","multiple","changedBy","modified","renderValue","variant","secondary","description","GradeCounter","initialCount","count","gradeId","setCount","objectiveFeedbackInputText","objectivePrivateNoteText","assignmentAssessmentId","initialObjectiveAssessments","failWarning","textFilter","isTopic","showObjectiveDetails","objectivesToSave","setObjectiveAssessments","counter_grade_0","counter_grade_1","counter_grade_2","counter_grade_3","counter_grade_4","counter_grade_5","counter_grade_6","counter_grade_7","counter_grade_8","counter_grade_9","last_edit_for_student","debouncedUpdateObjectiveAssessment","objectives","clonedeep","updateObjectiveAssessmentsGql","saveObjective","obj","changeObjectiveText","self_asessment","changeObjectiveGrade","changeObjectiveGradeCount","publishObjectiveValue","showNote","oa","filteredObjectives","undefined","numeric","sensitivty","is_counter","flexWrap","$state","$stateParams","$window","onResizeHandlers","on","onResize","addOnResizeHandler","handler","IdService","getId","createUnregisterFunction","createGoToAction","stateName","goToAction","go","createHandler","$element","requestAnimationFrame","$breadcrumbs","$textContainers","hasEnoughBreadcrumbs","availableWidth","clientWidth","each","span","scrollWidth","$item","animate","removeAttr","breadcrumbs","removeBreadcrumbsWithoutLabel","breadcrumb","handlerId","BreadcrumbsService","StateService","StateParams","ITimeoutService","IWindowService","webpackContext","req","webpackContextResolve","Error","IconsPath","store","createUIQuery","selectFilteredAndSorted","selectAll","filterBy","sortBy","stateUI","getValue","sortMethod","getSortMethod","AssignmentsQuery","QueryEntity","curriculums","curriculums$","BehaviourSubject","updateCurriculums","CurriculumsService","dialogParentElement","showConfirmationDialog","$mdDialog","locals","show","bindToController","controllerAs","parent","templateUrl","showSearchCurriculumDialog","isLocked","SearchCurriculumDialogCtrl","educationalSystems","showCarriculumLibraryDialog","all","private","public","shared","showMakeCurriculumPublicDialog","curriculumTitle","translations","header","content1","content2","cancelButton","confirmButton","showMakeCurriculumPublicToAllStudyBeeUsersDialog","showMakeCurriculumPrivateDialog","showEditCurriculumDialog","course","educationalStageId","EditCurriculumDialogCtrl","showRemoveCurriculumFromLibrary","showSaveCourseToLibraryDialog","courseName","courseCode","showCreateObjectiveDialog","hide","objectiveName","showCurriculumDetailsDialog","$rootScope","openCurriculumLibraryDialog","cancel","openAddNewObjectiveDialog","$emit","UPDATED_OBJECTIVES","curriculumDetails","showDeleteObjectiveDialog","editingTemplate","CourseType","TEMPLATE","showDeleteCourseConfirmationDialog","showChangeCourseCorePropertyWarning","headerLabel","warningContent","showWrongCurriculumSetupDialog","showChangeCourseCorePropertyDoublecheckWarning","StudentAssignmentsModule","StudentAssignmentsRouting","LOG_LEVEL","ERROR","DEBUG","INFO","baseURL","gqlBaseUrl","ApiInstance","latestToken","getAssignmentsUrl","getStudentsInClassroomUrl","getAssignmentByAlternateLinkUrl","getAssignmentAssessmentsUrl","getAssignmentAssessmentUrl","getObjectiveAssessmentsUrl","getFailWarningUrl","assessmentId","getCourseGradeSystemsUrl","getAssignedObjectivesToAssignmentUrl","getObjectivesUrl","getAssignmentDriveUrl","updateObjectiveAssessmentUrl","updateAssignmentStatusUrl","updateVisibilityManyUrl","updateAssignmentDetailsUrl","syncAssignmentsUrl","newAssignment","encodeURI","syncStudentsUrl","sendInForeground","setNetworkTraffic","setNetworkError","doFetch","getAssignmentDrive","getAssignmentsAsHook","useFetch","getStudentsInClassroomAsHook","getAssignmentAssessmentsAsHook","getAssignmentWithAssessment","fields","q","operation","variables","required","getAssignmentAssessmentAsHook","getObjectiveAssessmentsAsHook","getFailWarning","getCourseGradeSystems","getCourseGradeSystemsAsHook","getAssignedObjectivesToAssignmentAsHook","getObjectivesAsHook","getAssignmentByAlternateLinkAsHook","syncAssignments","syncStudents","getClassroom","classroomId","updateStudentEWSStatus","saveData","pick","mutation","ewsStatus","updateStudentExtraAdjustments2","adjustments","updateStudentExtraAdjustments","added","removed","updateAssignmentCourseDefinitions","courseDefinitionsIds","courseDefinitionIds","updateAssignmentObjectivesConnected","updateAssignment","picked","updateCourseAssessments","pickedAssessments","target_grade_id","updateCourseObjectiveAssessment","updateObjectiveAssessment","objectiveAssessment","updateAssignmentStatus","updateVisibilityMany","updateAssignmentDetails","getUserInfo","addStudentCourseComment","comment","deleteComment","commentId","setClassroomSchoolId","schoolId","getSchools","setPrimarySchool","addSchool","removeSchool","cloudLog","LEVEL","level","getWebstoreInfo","webstore","REACT_APP_TOKEN_FOR_DEBUG","Math","floor","date","overrideMethodForSave","headers","Authorization","tag","json","createApi","SvgCollapse","AssessmentButton","initialState","onStatusChange","submittedStatus","setState","getAssessmentStatusTitle","handleClick","activeOptions","ClickAwayListener","ArrowDropDown","MenuItem","handleSelect","CommonComponentsModule","LoaderComponent","ObjectDetailsToggle","MenuToggleComponent","ExtendedViewContainer","StudentStatusIconComponent","SavingIndicator","RightViewContainer","ExtendedViewTopWhiteframe","LongTextTooltipComponent","AccordionComponent","AccordionHeaderComponent","AccordionFooterComponent","Accordion","LongTextTooltip","UserQuery","userMatched","userConfigured","userEmail","userRole","loggedToBrowser","hasCreateCoursePermission","agreementSeen","hasSetup","photoUrl","googleId","gdpr","user$","user","applyDetails","userDetails","checkUser","classroomStructure","driveStructure","innerHTML","attributes","checkRole","elem","role","setUserRole","checkConfig","configured","isTeacher","getUserObj","student","$scope","sortingItems","ASC_TYPE","ASC_CREATED","DESC_CREATED","DESC_LAST_CHANGE","ASC_TITLE","studentSortingItems","ASC_FIRST_NAME","ASSESSMENT_DONE","NOT_ASSESSED","group","AssignmentFilterGroup","TYPE","STATE","refreshStateName","$onInit","$on","onFilterMenuClose","isCurrentOrder","ordering","isSortAssessmentSelected","assessmentSort","isFilterSelected","states","onClickOrder","reloadState","sortAssessments","onClickFilter","_filter","_states","isDividerVisible","stateParams","saveFilters","saveState","saveOrdering","reload","statePrefix","isFilterChange","currentFilters","previousFilters","isStateChange","currentStates","previousStates","AssignmentsComponent","GroupedVisibilitySettings","Subject","ObjectiveAssignmentAssessment","getEmptyGroupedVisibilityObject","GroupedVisibility","overall","target_grade_published","getSelectedTypeOfFeedbackByType","selectedTypeOfFeedback","GroupedVisibilityFeedbackType","ObjectiveAssessment","ObjectiveFeedback","StudentProgressView","OverallAssessment","OverallTarget","OverallFeedback","OverallResult","mapObjectToArrayOfIds","items","GroupedVisibilityService","getSchoolCategories","SchoolCategoryType","K_12","HIGHER_EDUCATION","HOME_SCHOOL","CORPORATION","OTHER","filterSchools","schools","lowerQuery","toLocaleLowerCase","school","getSchoolName","match","trim","getCityName","sendSchoolRequest","SchoolService","Output","userStore","userQuery","http","preFetchUserData","update","fetchUser","getHasCache","select","forkJoin","userInfo","sources","switchMap","catchError","of","updateUser","updateUserSetup","userSetup","UserService","PRE_FETCH_USER_DATA","Optional","User","Query","getIconTooltip","tooltipText","suffix","consumeEvent","$event","AssignmentsListComponent","template","SchoolCategory","classroomFields","AssignmentList","assignmentSortMethod","setAssignmentSortMethod","studybeeOpen","assignmentSelected","setAssignmentSelected","studentSelected","setStudentSelected","editAssessmentCriteria","setEditAssessmentCriteria","classroom","setClassroom","showHideAssignmentsDialog","setHowHideAssignmentsDialog","lastStorageChange","loading","setLoading","fetchAssignments","routeWithLinkId","allAssignments","studentClicked","openGrid","promises","resp1","resp2","historyBack","processStorageChange","editAssignment","newClassroom","connectNewAssignment","assignmentFromDb","disconnectNewAssignment","processStorage","storageListener","changes","newValue","firstChange","assignmentDriveSelected","temp","onChanged","addListener","removeListener","handleAssignmentMenuClick","hideAllAssignments","assignmentClicked","openGridView","sortedAssessments","onClose","back","empty","assignmentsNotInTopics","ad","created","topics","topic_order","sortedAssignments","notConnected","borderBottom","onAssignmentClicked","onGridClicked","summary","details","topic_id","no","yes","SvgIconBkNotAssessed","SvgIconBkAssessing","SvgSubmitted","SvgSubmittedLate","SvgNotSubmittedLate","SvgNotSubmitted","iconWMargin","GridObjectivesSummaryItem","selectedObjective","gradeOnly","borderRight","random","connectedToObjective","isSelectedObjective","clipRule","SvgSort","viewBox","AssignmentsListHeader","openDrawer","toggleMenu","gridOpen","toggleGrid","SvgPane","MultiEditDescription","OptionsDropdown","handleChange","helpTextStyle","renderValueItem","labelId","ids","Toast","timeout","severity","internalOpen","setInternalOpen","StyledAccordionDetails","AccordionDetails","StyledAccordion","expanded","StyledAccordionSummary","content","expandIcon","AccordionSummary","AccordionItem","square","TransitionProps","unmountOnExit","menuOptionsConnected","menuOptionsNotConnected","inTopic","focused","focusRipple","textAlign","StyledSelect","Select","StudentDropDown","onSelect","AssignmentObjectivesListHeader","selectedStudentId","onStudentSelected","onToggleGrid","ArrowBack","GridHeader","submittedIcon","borderLeft","table","tableHeaderPublished","borderTopLeftRadius","borderTopRightRadius","tableHeaderDraft","maxHeight","submittedIconSelected","summeryContainer","assignmentTitleContainer","noAssessment","summeryContainerInner","tr","assessmentIconContainer","setHighlight","selectedStudents","highlight","assessmentMap","setAssessmentMap","bgColor","use_submitted_status","submitted_status","container","container2","th","studentNameText","container3","block","shadow","GridViewContent","initialAssignment","setMultiEdit","setSelectedStudents","setAssignment","renderAssignments","setRenderAssignments","setSortedAssignments","setSortedAssessments","setStudents","originallySelectedStudent","saving","refresh","useCallback","check","MultiEditStatusComponent","setStatus","Radio","SubmissionStatusButton","MultiEditSubmissionComponent","AssignmentObjectivesList","initialCourseDefinitions","initialStudentId","initialAssignmentAssessment","assignmentAssessment","ChangeVisibilityManyDialog","setVisibilityDialogData","setStudentId","setTextFilter","parentTopic","setParentTopic","setAssignmentAssessment","fail_warning","setFailWarning","showGrid","setShowGrid","saveManyAssessment","saveManyObjectives","setFilterTextDebounced","statusUpdated","callback","submittedStatusChanged","handleHeaderMenuClick","AssignmentStudentView","numberOfObjectives","saveMany","newAssignmentAssessments","sid","newObjectiveAssessments","currentAssessment","newAssessment","concurrency","newOa","noa","dialogData","hideSaveSetting","selectedAssignment","cd","goBack","course_definitions","sortedStudents","Intl","Collator","compare","onCollapse","onStudent","ButtonBase","borderTop","EditAssessmentCriteriaHeader","saveEnabled","Close","dialogFont","SaveDialog","onCancel","Dialog","EditAssessmentCriteriaItem","enabled","checkbox","Switch","CourseDefinitions","showCurriculumToast","setShowCurriculumToast","NoCurriculum","Objectives","selectedGradeSystem","handleObjectiveCheck","def","max_counter_grades","GradeWarningDialog","warningDialogText","close","objectivesText","EditAssessmentCriteria","gradeSystems","setGradeSystems","setWarningDialogText","setSaveEnabled","saveDialogOpen","setSaveDialogOpen","lastUsedGradeSystem","setLastUsedGradeSystem","enableObjectives","setEnableObjectives","referenceAssignment","isArrayChanged","aArr","bArr","updateSaveEnabled","saveEnable","grade_system_id","refCourseDefinitions","refSelectedObjectivesIds","selectedObjectivesIds","refSelectedObjectives","selectedObjectives","refMaxcounter","maxCounter","rf","ii","getGradeSystem","courses","is_main","Set","k","startsWith","noAssignedCurriculums","newCourseDefinitions","acd","anyObjectivesSelected","handleSave","force","oo","lastUsedScale","lastUsedExists","gs","gr","save","stroke","strokeDasharray","SvgVisibilityKeep","getTooltipText","VisibilityIcon","addClass","removeClass","className","done","stop","slideDown","animationFinished","slideUp","ID_FRAGMENT","pattern","generateIDFragment","getRandomNumber","toString","crypto","getRandomValues","Uint8Array","RegExp","MainMenuID","updateStudentsList","updatedStudents","getStudentsIds","webpackEmptyAsyncContext","DEFAULT_OPTIONS","buildOptions","DialogService","helpButtonLinks","AssignmentView","helpButtonLink","setVisibilityIsDisabled","isTypeOfFeedbackSelected","checkIfAnySelected","students_ids","course_definitions_ids","prop","GroupedVisibilityDialogService","ng","material","IDialogService","ParentComponent","buildDialogConfig","$config","copy","extend","CourseProgressDialog","DEFAULT_CONFIG","TEMPLATE_PATH","deregisterOnBefore","deregisterOnEnter","deregisterOnError","deregisterOnExit","deregisterOnFinish","deregisterOnRetain","deregisterOnStart","deregisterOnSuccess","deregisterAll","onBefore","transition","onStart","onExit","onRetain","onEnter","onFinish","onSuccess","onErro","TransitionHandler","registerOnBeforeTransition","$transitionsProvider","instance","getCriteria","propertyName","propertyDescriptor","deregisterMethodName","UserSetupModule","userSetupComponent","userSetupAgreementComponent","userSetupAgreementMissingComponent","userSetupCheckComponent","userSetupCheckInvalidComponent","userSetupCheckProgressComponent","userSetupCheckValidComponent","userSetupCompleteComponent","userSetupSettingsComponent","userSetupSlidesComponent","UserSetupCheck","UserSetupSettings","UserSetupRouting","httpCacheStore","hash","SharedComponentsMaterialModule","SiblingComponent","assignmentsStore","assignmentsQuery","assessmentsStore","path","getFromAPI","assessment_last_changed","getTime","updateUI","assignmentUI","setFilters","setSorting","courseID","assignment_state","unifyDateTimeFormat","updateAssignmentsType","normalizeAssignmentsResponse","normalizeResponse","putAssessmentsIntoStorage","putAssignmentsIntoStorage","entities","assessmentLastChanged","assignmentCreated","assignment_created","transaction","NormalizedSchema","AssignmentsService","selectManySorted","sortByStatusNew","ASSESSING","AssessmentsQuery","updateStatus","assignmentID","statusUpdateBody","updateStatusAPI","updatedAssessment","updateStatusForMany","assessmentVisibility","updateStatusForManyAPI","updates","student_ids","normalizeUpdates","normalizeUpdateStatusForManyResponse","assessmentsID","upsert","synchronizeWarningStatus","checkWarningStatusAPI","checkWarningStatus","studentID","assignmentVisibility","assessmentID","AssessmentsService","updateStatusForManyResponse","schema","Entity","normalize","assignmentsForTopic","assignments_for_topic","SharedDirectivesModule","Directive","directiveFactory","createDirectiveFactory","CourseManagementModule","CourseDefinitionDetails","CourseManagementRouting","requires","AssignmentsSharedModule","AssignmentGroupedResponse","TeacherSetAssignmentObjectivesModule","TeacherSetAssignmentObjectiveCtrl","TeacherSetAssignmentObjectivesRouting","CommonModule","CommonServicesModule","CommonFiltersModule","CommonDirectivesModule","generateSelectors","labelName","selectorPattern","selectorWords","lang","en","schedule","saveDraft","question","reusePost","addTopic","ask","sv","nl","LABEL_PLACEHOLDER","ASSIGNMENT_MODAL_ASSIGN_SEL","HostPage","ASSIGNMENT_MODAL_ADD_TOPIC","ASSIGNMENT_MODAL_SAVE_SEL","ASSIGNMENT_MODAL_ASK_SEL","ASSIGNMENT_MODAL_DELETE_SEL","ASSIGNMENT_MENU_ITEM_ASSIGN_SEL","ASSIGNMENT_MENU_ITEM_SCHEDULE_SEL","ASSIGNMENT_MENU_ITEM_SAVE_DRAFT_SEL","ASSIGNMENT_ALERT_OK_SEL","CLASSWORK_CREATE_NEW_ASSIGNMENT","CLASSWORK_CREATE_NEW_QUESTION","CLASSWORK_CREATE_NEW_REUSE_POST","CLASSWORK_CREATE_NEW_TOPIC","isPanelDisable","toggle","edit_multiple","course_summary","course_private_note","overall_feedback","overall_private_note","visibility","objective_slider","course_slider","fetch_course_definition","assigned_objectives","setup_complete","menu_teacher_assignments","menu_teacher_assess_course","menu_teacher_assignment_objectives","menu_teacher_synchronize","menu_teacher_user_setup","menu_student_assignments","menu_student_course_progression","menu_student_course_requirements","menu_get_help","saving_curriculum_to_library","new_assignment_popup","feedback_to_student_on_objective","feedback_to_student_on_assignment_objective","feedback_to_student_on_overall_assignment","feedback_to_student_on_course_progress","feedback_to_student_with_multiedit","student_self_assessment_on_objective","moving_slider_on_objective_level_in_course","distinct_id","eventCode","getEventName","properties","browser","userAgent","btoa","engage","userCountry","userEducationalSystem","userSchoolName","currentTime","getCurrentDate","$distinct_id","$token","$set","$email","$set_once","courseElem","events","toISOString","setMomentLocale","i18n","getUILanguage","showHintDialog","$cookies","showedHint","expires","toDate","headerText","contentText","DialogType","SUCCESS","FAIL","CONFIRMATION","observers","_observer","dispose","getAll","findCountryByCode","countries","countryCode","country","country_code","CountryService","courseDefinitionObjectiveAssessments","filterNonCounterCoverageMatrix","reduceUniqueCoverageMatrix","flattenCoverageMatrixArray","mapCourseDefinitionObjectiveAssessmentsToCoverageMatrixArray","coverage_matrix_grade_systems","coverageMatrixesArray","coverageMatrix","coverageMatrixes","CoverageMatrixService","PopupService","TabService","isPopup","openPopup","openTab","storeTab","HelpButtonService","IPopupService","CoverageMatrix","Country","Assignment","SharedUpgradesModule","changeEducationalSystem","educationalStage","resetScales","updateEducationalStages","educationalSystem","changeEducationalStage","updateScales","scales","educationalStages","educational_system","educational_stage","updateEducationalStagesAndScales","setEducationalStage","SelectEducationalProperties","StudentAssessAssignmentModule","StudentAssessAssignmentRouting","StudentAssessAssignmentDriveModule","StudentAssessAssignmentDriveRouting","TeacherAssessAssignmentModule","TeacherAssessAssignmentDriveModule","AssignmentSingleCheckbox","assignmentCheckboxSingle","singleItem","allGroups","editMultiple","assignmentCheckboxCheckAll","assignmentCheckboxAll","checkboxChecked","allCheckboxChecked","assignmentCheckboxCheckIfAny","anyCheckboxChecked","assignmentClearCheckbox","TeacherAssessAssignmentStudentModule","networkError","setError","setData","TopicItem","menuOptions","fontStyle","imgSrc","HideAssignmentsDialog","NetworkErrorToast","setOpen","savedText","SaveToast","ObjectiveDescription","currentGrade","setCurrentGrade","setObjective","fetchObjective","knowledgeRequirements","SvgHandlebg","ErrorBoundary","errorInfo","VisibilityDialog","dimensions","setShow","selection","saveObj","attribute","SyncToast","NewAssignmentDialog","BlueRadio","SelectPrimarySchoolDialog","setShowSelectPrimarySchool","primarySchool","setSelected","city","ASSIGN_BTN_TEXT","SCHEDULE_BTN_TEXT","ADD_TOPIC_BTN_TEXT","ClassroomNavigation","closeStudyBee","getTab","studentName","newAssignementOrTopic","studentDiv","closest","dataset","querySelector","innerText","assignAssignmentBtn","scheduleAssignmentBtn","ta","StudentListHeader","showGridIcon","StudentItem","onClickStudent","baseColor","dimmedFont","CourseItem","teachers","classroomName","CoursesCard","onCourseSelected","loadCourses","StudentOverviewHeader","onBack","dim","emptyAssessment","gradeColor","gradeIsPassed","gradeName","target_grade_last_edit","CourseAssessmentCard","saveCourseAssessment","gradesSystemValues","is_final","defaultIndexTarget","EmptyText","extraAdjustmentStyle","isGrid","initialSelectedExtraAdjustments","extraAdjustments","selectedExtraAdjustments","setSelectedExtraAdjustments","extraAdjustment","saveChanges","first","maxWidth","CommentItem","imgUrl","alt","fromNow","InternalComments","comments","showSend","setShowSend","inputRef","sendComment","sortedComments","onFocus","onBlur","getColor","getTextColor","convertPublished","StatusDropdown","setPublished","saveStatus","alignItem","getPublishText","pub","EwsStudentCard","multiEditSaveObject","getEWSData","studentEws","studentCourseEws","EWS","extraAdjustmentsAvailable","internalComments","CourseInfoCard","SvgSbIcoFeedback","SvgSbIcoNote","tt1","initialAssessment","setGradeId","initialIndex","setInitialIndex","saveAssessment","ProficiencyProfile","onWidth","profile","offsetWidth","quantity","total","onObjectiveSelected","proficiencyProfiles","setWidth","profileWidth","setProfileWidth","wideItem","CourseObjectiveAssessmentCard","setCourse","setSaving","setProficiencyProfiles","setSelectedGradeSystem","gradeSystemsUsed","changedObjectiveAssessments","multieditRef","prProfile","grs","newQuantity","gradeSystemId","gradeSystemName","courseAssessments","courseObjectiveAssessments","AssignmentAccordionItemHeader","objectivesWidth","AssignmentAccordionItem","showObjectives","indented","contentWidth","firstItem","itemWidth","AssignmentsCard","noTitle","setAssignments","meSaving","as","hideCourseCard","extraAdjustmentData","multiEditChanges","cardStyle","ews","courseAssessment","CourseObjectiveOverview","getData","co","cor","lineHeight","StudentOverview","initialSelectedCourse","selectedCourse","setSelectedCourse","ExtraAdjustmentIconWithNumber","number","tooltip","studentExtraImage","extraImage","bgStyle","happyImage","mediumImage","sadImage","getStatusIcon","privateNoteIcon","targetGrade","gradeHash","setGradeHash","AssignmentTable","onStudentSelect","setExpanded","setSortedStudents","hasAssignments","colSpan","stud","td","thText","tdText","rightPanel","studentCourseOverviewStyle","initialStudent","setStudent","selectedStudentsBeforeSelectAll","setExtraAdjustmentData","courseEwsMap","setCourseEwsMap","courseAssessmentsMap","setCourseAssessmentsMap","setStudentCB","trailing","leading","loadClassroom","multiSave","saveObjs","currentObjectiveAssessment","connectedAssignments","coursesEws","ce","ss","ca","objectiveGradeSystem","getStudentExtraAdjustments","studentIds","calculateExtraAdjustments","selectedStudentsNow","allAdjustments","extra_adjustment_id","uniqueAdjustments","allStudents","CourseOverview","selectedStudent","setSelectedStudent","setSelectedObjective","StudentButton","showAssessmentButton","fullName","MoreVert","expandable","initialExpanded","enter","exit","expand","SvgSettings","AssignmentStudentListHeader","gotToEdit","StudyBeeInputBase","MenuProps","PaperProps","ITEM_HEIGHT","getContentAnchorEl","autoFocus","allString","StudybeeSelector","inputName","selectedItems","FormControl","InputLabel","ListItemText","Divider","overAllText","BatchAssessmentDialog","setSelectedObjectives","setResult","setFeedback","note","setNote","setGrade","objectiveFeedback","setObjectiveFeedback","objectiveNote","setObjectiveNote","overallAssessmentAvailable","objectiveAssessmentAvailable","handleClose","selectedGrade","Button","CircularProgress","SvgFilter","SvgExpand","SvgCollapseAll","filterOptions","AssignmentStudentList","editAssessmentCriteriaSelected","setEditAssessmentCriteriaSelected","showBatchDialog","setShowBatchDialog","setAssessments","setFilter","expandAll","setExpandAll","showExpandAllInfo","setShowExpandAllInfo","showTooltip","setShowTooltip","getStudentAssessments","disableExpandAll","onMouseUp","newFilter","DrawerItem","iconObject","onMouseOver","app","Drawer","onNavigate","onRefresh","setShowAddSchool","school_id","selectedSchool","setSelectedSchool","setSchoolId","useSpring","to","opacityAnim","setOpacity","mass","velocity","friction","onRest","animProp","setMargin","animateClose","navigate","moreThanOneSchool","div","School","Book","Refresh","version","AddSchoolDialog","setSchools","selectedSchools","setSelectedSchools","initialSelected","schoolsList","initial","sc","Autocomplete","disableClearable","filterSelectedOptions","getOptionLabel","_","renderTags","closeIcon","renderInput","Snackbar","autoHideDuration","Alert","requireContext","Raven","addPlugin","install","VENDOR_MODULES","APP_MODULES","CourseProgressModule","UserInactiveModule","react2angular","AppConfig","AppRouting","run","AppRun","onOpen","noop","$watch","toggleState","triggerEvent","accordion","transclude","footer","$animate","accordionElement","disabelContentScrollbars","addOpenClass","accordionContainer","ACCORDION_CONTAINER_QUERY","stopAnimation","hasClass","ANIMATION_CLASSNAME","css","animationPromise","enableContentScrollbars","removeOpenClass","OPEN_CLASSNAME","removeData","ACCORDION_CONTENT_QUERY","SCROLL_LOCK_CLASS_NAME","menu","toolbar","hideToolbar","loaderClass","direction","watchText","COURSE_UPDATED","checkIfShowTooltip","preventOutdatedScope","off","$postLink","isNeeded","timeoutPromise","refreshScopeState","contentElement","ceil","defaultStyles","onDetailsToggle","savingInProgress","savingError","STARTED_NEW_REQUEST","REQUEST_FINISHED_SUCCESSFULLY","postponeHidingIndicator","REQUEST_FINISHED_FAILURE","studentStatus","AccordionHeaderMenuComponent","resizeHandler","BreadcrumbsComponent","IRootElementService","IBreadcrumbsService","HostPageNewAssignmentObserver","HostPageQualifiers","ACTIONS","CANCEL","SAVE_DRAFT","ASSIGN","SCHEDULE","ALERT_OK","ALERT_CANCEL","OPEN_CREATOR","NavigationHistory","StudybeeHandle","EVENTS","STATE_CHECKED","register","unregister","registered","registerPseudoSelector","expr","textEquals","createPseudo","shouldRefreshAssignments","shouldShowModal","shouldHideStudybee","textArea","updateAssignments","UPDATED_ASSIGNMENTS","studybeeClose","shouldRefreshOrShowModal","showModal","hasScheduleAlertDialog","hasCreatingModal","hasAlertDialog","hasEditingPublishedModal","isItTopic","LastUpdate","lastEditDateTime","MixpanelTextEvent","NgVisibleDirective","restrict","$attrs","ngModel","feedbackUpdated","$modelValue","oldVal","newVal","mixpanelTextEvent","is","multiElement","attrs","unsubscribe$watch","ngVisible","modalExist","res","modal","cookieName","timestamp","is_visible","disableParentScroll","confirm","currentDate","nextDate","setYear","getFullYear","$transitions","$transition$","toState","$to","dynamicThemeClass","themeClass","$mdSidenav","vm","setDefaultOption","selectedMenuStateName","setSelectedMenuStateName","showBackdrop","isOpen","updateAssignmentOption","streamStudentName","streamAssignmentName","streamAssignmentId","checkCurrentActive","stateSectionName","selectedOption","updateSelectedOption","updateSynchronizeDate","synchronizeDate","assignmentsAndStudentsDate","goToLink","translationURLKey","goToState","addToHistory","synchronizeData","updateAssignmentsAndStudents","setToggleCallback","setAssignmentCallback","setSelectedMenuStateNameCallback","setSynchronizeDataCallback","UiService","MainMenuService","toggleCallbacks","assignmentCallbacks","selectedMenuStateNameCallbacks","updateToggleMainMenuVisible","saveAssignmentDetails","updateMainMenu","saveStudentDetails","isStateNameSelected","ASSIGNMENT","getCourseUsingDriveId","getCourse","isCourseExist","hasCourseDefinition","has_course_definitions","$interval","$mdBottomSheet","States","Helpers","Assignments","HashObserverService","EnvironmentService","InitService","initConfig","keepOpen","initGeneral","checkState","onMessage","prev","substring","initGoogleDrive","studybeeActivate","openDefaultState","catch","onNext","attachStudentChangeEvent","assignmentAlternateLinkId","checkStatePromise","when","CLASS_CHANGED","clearGradeSystems","updateFiles","openLoadingState","openNotConfiguredState","serveState","setIconStatus","$broadcast","scope","interval","isGoogleDocs","classroomNav","driveViewerProfileImg","docsHeader","hasAppSetup","combineLatest","USER_SETUP_COMPLETED","getCurrentStateName","reloadCurrent","updateGradeSystems","updatedGradeSystems","currentGradeSystem","fetchGradeSystemsList","equals","v2","getGradeSystemById","animationRunner","slideToggle","$sce","translate","trustAs","translation","v1","findTranslationKey","queue","getInstance","Queue","lastModifedDate","priority","compile","$templateElement","$templateAttributes","findTranslation","localizeKey","noUiSlider","ngChange","ngUpdate","autoWidth","disabledSlider","squareSlider","batchEditingSlider","knowledgeRequirementsSlider","sliderStartValue","sliderRangeMin","sliderRangeMax","containerNode","valueLabelNode","startValue","sliderValues","ignoreWatch","initRun","initialized","checkSliderType","batchediting","knowledgerequirements","createWrapper","append","getSliderStartValue","configElem","getSliderRange","getSliderValues","initSlider","start","connect","range","pips","createValueLabel","html","replaceSliderLabels","toArray","labelElem","labelValue","disableSlider","setAttribute","addKeyboardSupport","Number","which","setGradeStyles","valueTextNode","setSliderWidth","realDistanceBetweenGrades","sliderLength","sliderWidth","activeElement","focus","roundValue","round","currentConfig","circle_label","$evalAsync","offset","rect","docElem","ownerDocument","documentElement","pageOffset","getPageOffset","clientTop","clientLeft","isNumeric","isNaN","isFinite","addClassFor","duration","asArray","el","classList","supportPageOffset","pageXOffset","isCSS1Compat","compatMode","scrollLeft","pageYOffset","scrollTop","actions","pointerEnabled","move","end","msPointerEnabled","defaultCssPrefix","subRangeRatio","pa","pb","fromPercentage","getJ","arr","toStepping","xVal","xPct","va","vb","abs","toPercentage","getStep","xSteps","snap","handleEntryPoint","that","percentage","parseFloat","handleStepPoint","Spectrum","singleStep","xNumSteps","ordered","getMargin","fromStepping","isPercentage","pow","toFixed","getApplicableStep","convert","defaultFormatter","testStep","parsed","testRange","spectrum","dir","testStart","handles","testSnap","testAnimate","testConnect","testOrientation","ort","testMargin","testLimit","testDirection","testBehaviour","drag","fixed","hover","testTooltips","tooltips","formatter","testFormat","testCssPrefix","cssPrefix","testOptions","tests","defaults","closure","scope_Base","scope_Handles","scope_Self","scope_Target","scope_Locations","scope_Spectrum","scope_Values","scope_Events","cssClasses","addHandle","origin","createElement","handle","additions","reverse","appendChild","addTooltip","firstChild","addMarking","spread","filterFunc","out","getTags","addSpread","grid","density","stepped","getGroup","array","originalSpectrumDirection","indexes","firstInRange","lastInRange","ignoreFirst","ignoreLast","prevPct","newPct","pctDifference","steps","realSteps","stepsize","low","high","generateSpread","baseSize","fireEvent","handleNumber","targetEvent","eventType","valueGet","inSliderOrder","attach","hasAttribute","contains","preventDefault","touch","mouse","pointer","changedTouches","pageX","pageY","clientX","clientY","points","fixEvent","buttons","calcPoint","methods","eventName","appVersion","buttonsProperty","positions","delimit","proposal","setHandle","noUiListener","noUiListeners","documentLeave","nodeName","relatedTarget","moveEvent","endEvent","outEvent","getComputedStyle","noLimitOption","trigger","lowerMargin","upperMargin","lowerLimit","upperLimit","previousSibling","valueSet","String","setValues","retour","bindEvent","namespacedEvent","orientation","addSlider","nrHandles","addHandles","addConnection","tips","destroy","cls","removeChild","numStr","pieces","stepDecimals","increment","namespace","tEvent","tNamespace","updateOptions","optionsToUpdate","newOptions","behaviour","originalOptions","slider","Debounce","savingMethod","counterGrades","counter_grades","counterReadonly","parseInput","isOnlyNumber","validation","increase","sendToAPI","decrease","directChange","selectInput","knowledgeRequirementGrade","findFirstPositiveGrade","grade_system","showGradeRequirements","activeRequirement","knowledge_requirements","throttle","getConfig","startOffset","outerHeight","sectionStart","sectionEnd","sectionHeight","subheader","subheaderHeight","transformDistance","maxTransform","allowedTags","getLastModifyTag","$lastModifyTag","$prevElement","localName","backwardCompatibility","setBeforeCloseCallback","setInProgressCloseCallback","setAfterCloseCallback","setBeforeOpenCallback","setInProgressOpenCallback","setAfterOpenCallback","setDisableCallback","setEnableCallback","toggleStudybee","studybeeToggle","currentParams","getCurrentParams","scrollPosition","updateParams","updatedAssignments","updateIsRunning","setInterval","updateAssignmentsLoading","updateStudentsLoading","updateFilesLoading","clearInterval","API","extensionUrl","getMessage","extensionId","routes","ctrl","isModal","editingMode","openedStudents","dynamic","setActive","selectMany","assignmentsObjectives","assignmentsStudents","studentAssignments","enable_grade_texts","show_grade_texts_for_student","getActive","altLink","func","immediate","debounceTimeout","callNow","cachedAssignmentId","themeWatcherObserver","backdropWatcherObserver","checkIfModeAvailable","editing","val","isVisibilityChanges","isGradeChanges","isTextChanges","sendMixpanel","debounceMixpanel","changeSingleVisible","savingItem","editingItem","editingProperty","changeSingleText","changeSingleGrade","findGradeSystem","main","final","firstPositiveGrade","is_passed","findStudentIdByName","registerBackdropWatcher","MutationObserver","clearTimeout","backdropElement","openItem","getElementById","attributeFilter","subtree","disconnectBackdropWatcher","registerThemeWatcher","currentTheme","attributeOldValue","disconnectThemeWatcher","setTheme","containerName","setAssignmentIdCached","isAssignmentIdCached","clearAssignmentIdCached","Hint","history","getPreviousState","ignoreHistory","removeHint","transitionTo","overwritePrams","pop","currentState","openDriveState","openAssignmentState","childList","characterData","mutations","removedNodes","displayToggleCallbacks","removeCallbacks","setRemoveCallback","setDisplayToggleCallbacks","displayToggleHint","$mdToast","setSynchronizeDataCallbacks","showToast","viewReload","updateStudents","updateAssignmentsAndStudentsDate","hideDelay","information","toLocaleString","beforeCloseCallbacks","inProgressCloseCallbacks","afterCloseCallbacks","beforeOpenCallbacks","inProgressOpenCallbacks","afterOpenCallbacks","disableCallbacs","enableCallbacs","firstInit","animationInProgress","extendedViewEnable","inProgressDelay","afterDelay","checkIfExtensionAvailable","studybeeIsOpen","extensionAvailable","Sanitize","htmlCode","trustAsHtml","$get","buildInterceptor","isString","invoke","Provider","provider","urlRegex","setIsAgreementSeen","initService","updateUserInfo","agreement_seen","AgreementSeenInterceptor","IQService","auto","IInjectorService","FORBIDDEN","error_code","APIErrorCode","WHITELISTED_DOMAIN","openStudybeeIfClose","CheckDomainInterceptor","ExtractDataInterceptor","detail","InactiveUserInterceptor","prepareUserInfoService","NOT_FOUND","MissingAgreementInterceptor","IRootScopeService","permissions","permission","PermissionType","CREATE_COURSE","UserDataInterceptor","UserPreferencesInterceptor","StudentCourseProgressModule","AssessmentDetailsComponent","AssessmentStatusPreviewComponent","CourseSummaryComponent","DownloadPdfMenu","GradeDescriptionComponent","PartialLastUpdate","StudentCoursesDetailsSectionComponent","StudentProfileComponent","StudentProfileDetailsComponent","StudentProfilePhotoComponent","StudentProgressInputComponent","ShareAssessmentsWithColleaguesComponent","AssessmentStatusPreview","CourseProgress","ExportStudentsResults","ExportStudentsResultsDialog","StudentDetailsEditDialog","ShareAssessmentsWithColleaguesDialog","AssessmentDetailsEmpty","CourseDetails","CourseListItemComponent","CoursesListComponent","CoursesListEmptyComponent","ObjectivesList","StudentAssessmentDetails","StudentAssignmentsList","StudentCourseProgressComponent","StudentObjectiveDetails","studentCourseProgressRouterConfig","emptyInfo","CourseDetailsCtrl","UPDATE_USER_STATUSES_FOR_COURSES_AND_OBJECTIVES","toggleAssessment","closeCourseView","CLOSE_COURSE_DETAILS_VIEW","navigateToCourseDetails","onUpdate","generalCourse","course_definition_name","coursesMap","Map","updateWarningsForCourses","SELECTED_COURSE_CHANGED","has","has_warnings","selectedNewCourse","coursesDefinitions","$filter","storageViewMenuId","viewMenuItems","viewMode","navigateToLearningObjective","onClickMenuItem","toolbarMenuItem","menuItem","isTitleVisible","isDescriptionVisible","changeOpenStateForAll","collapseAll","detailsButtonDisable","showTargetGrade","showStudentSelfAssessment","mixpanelSelfAssessmentEvent","onAssessmentClose","onNavigateToDetails","target_grade","updateAssessmentData","assessmentData","counterGradeAssessment","assesment","hasCounterGrade","getAssignmentForAssessment","isNoteAvailable","isFeedbackAvailable","findAssignment","assessmentAssignment","hasLastStateSaved","lastStateSaved","$stateProvider","views","courseSelected","course_definition","objectiveSelected","AssignmentAssessmentService","AssignmentService","getAssignmentAssessmentByObjective","assignmentsAssessments","filterAssignmentsByTypes","closeAssignmentsView","changeObjective","maxGrade","readOnly","updateGrade","increaseGrade","decreaseGrade","$onChanges","counterGradesSummarized","_assessment","gradesCount","maxValues","summarizeArrays","labels","array1","array2","sum","isTargetGrade","mixpanelUpdateEvent","onGradeUpdate","onGradeChange","targetGradeColor","sliderOptions","disableAnimation","ticksArray","enforceStep","showSelectionBar","showTicks","showTicksValues","getSelectionBarColor","getPointerColor","sliderId","model","isActive","getGrade","onEnd","RZ_SLIDER_FORCE_RENDER","UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES","broadcastDelay","isEditable","teacher_in_class","seen","rest","onAssignmentChange","_assignment","ObjectiveDetailsCtrl","getRoutiongParams","assessmentResponse","fetchStudentCoursesDetails","onNextStudentCoursesDefinitions","studentCoursesDefinitions$","changeCourse","closeStudentView","goToNoStudentSelectedState","sizeOfCoursesDefinitions","mergedCourseDefinitions","getSingleCourseDefinition","studentCoursesDefinitions","extendedCourseDefinitions","extendByOwner","extendByCourseDetails","filterNoneAccessibleCourses","splitByCategory","StudentsListCtrl","lastSelectedStudentId","toggleStudentCourseProgress","goToOverview","goToOtherStudent","setStudentForBreadcrumb","TeacherCourseProgressCtrl","getCurrentCourseId","isLastStateSavedExists","navigateToLasStateSaved","navigateToNoStudentsSelected","initEvents","studentsMap","convertStudentsArrayToMap","addListenerUpdateUserStatusesForCoursesAndObjectives","updateWarningsForStudents","exportStudentsResultsToGoogleDrive","fileType","shareAssessmentsWithColleagues","hasStudents","setVisibility","reloadCurrentView","fetchStudentsWarnings","studentsWarnings","toGoogleDrive","folder_link","checkExportStatus","task_id","checkGoogleDriveExportStatus","ExportState","PENDING","STARTED","FAILURE","objectiveAssignmentAssessments","isGradeTextsEnable","ColleagueEmailsService","archived","other","colleagueEmails","pending","colleagueEmails$","onColleagueEmailsUpdate","getCurrentStudent","extendStudentObject","onFeedbackChange","isPublished","updateStudent","onPrivateNoteChange","applyLastStudentUpdateDate","getCurrentClassName","findClassName","editStudentDetails","showStudentDetailsEditDialog","isOverallEmpty","courseDefiniton","showNewRequestToast","showSuccessToast","courseInClass","isOwner","filterArchived","filterCurrentClass","filterOtherClass","studentCourseDefinitions","google_classroom_data","shared_with_teacher","is_mentor","NO_STUDENT_SELECTED_STATE","goToCourseDetails","getStatePrefix","COURSE_DETAILS_STATE","STATE_PREFIX","teacher","fetchStudentDetails","additionalData","extendedStudent","lastUpdate","isAfter","last_update","AssignmentOverviewService","updateBreadcrumbs","onClickBackArrow","onClickClose","$$open","onChangeObjectiveAssessment","onChangeOverall","changedObjectiveAssessment","changeObjectiveAssignmentAssessment","newObjectiveAssessment","assignment_title","IObjectiveAssignmentAssessment","AssignmentOverviewDetailsComponent","IAssignmentOverviewService","AssignmentOverviewObjectivesListService","listViewType","toolbarMenuItems","onUpdateAssessment","changedObjective","newObjective","changeView","AssignmentOverviewObjectivesListComponent","IAssignmentOverviewObjectivesListService","DEFAULT_REQUEST_CONFIG","getAssignmentsGrouped","types","filterAssignmentsByStates","_requestConfig","buildUrl","buildParams","group_by_assessability","getAssignmentAssessmentByCourseDefiniton","fetchAssignmentsByCourseDefinition","getAssignmentAssessmentByCourseDefinitonGouped","fetchAssignmentsByObjective","getAssignmentAssessmentByObjectiveGouped","buildUrlByCourseDefinition","buildUrlByObjective","EMAIL_PATTERN","AbstractColleagueEmailsService","responseColleagueEmail","ColleagueEmail","responseColleagueEmails","mapResponseToColleagueEmails","isEmailValid","isUnique","colleagueEmail","isValid","in_database","types_of_feedback","subject","previous","listener","intervalId","setObserver","removeObserver","DELAY","tabs","openTabMessage","getFocusMessage","getOpenTabMessage","listenOnRemove","updateProperties","getUpdateMessage","getGetMessage","onRemoveListenerMessage","getOnRemoveListenerMessage","getTabMessage","createProperties","focusTabMessage","updateTabMessage","TabMessage","popups","getMessageFocus","getMessageOpen","listenOnClose","getMessageClose","getMessageListenOnClose","windowId","createData","times","retries","isAttempt","setAttempted","attempted","$$attempted","RetryPromiseService","notifyRequestStart","notifyRequestSuccess","notifyRequestFail","updateListOfObjectiveAssignmentAssessments","newObjectiveAssignmentAssessment","toggleObjectiveAssessment","onClickHeader","goToDetails","onClickGoToDetails","changedObjectiveAssignmentAssessment","AssignmentsOverviewComponent","IScope","onClickResultPublished","onClickFeedbackPublished","IEventEmitter","Executable","ExecuteGuard","AssignmentOverviewContentComponent","propertyKey","descriptor","$$isExecutable","methodReference","AssignmentOverviewStatusService","getLastUpdate","findLastUpdateDate","AssignmentOverviewStatusComponent","IAssignmentOverviewStatusService","dates","creationData","moment1","moment2","isBefore","isCoverageMatrixView","informationView","setIdForAssessments","$id","onCoverageMatrixChange","onViewChange","listViewSwitchType","COVERAGE_MATRIX","STATUS","getCoverageMatrixFromAssessment","coverageMatrixGradeSystem","ObjectivesListComponent","ICoverageMatrixService","ICoverageMatrix","CoverageMatrixGridComponent","gradePrognosis","CoverageMatrixGridHeaderComponent","ListViewSwitchService","selectedCoverageMatrix","informationMenuItems","lastSelectedCoverageMatrixKey","currentSelectedViewKey","currentSelectedInformationKey","getViewMenuItems","getInformationMenuItems","lastSelectedCoverageMatrixId","getCoverageMatrixById","currentSelectedViewId","restoreMainMenuSelection","currentSelectedInformationViewId","onSelectCoverageMatrix","isViewMenuActive","redirectToNonCoverageMatrixView","onMenuClick","onClickViewMenu","onClickInformationMenu","isDisabled","setMenuSelection","showDialogWithDisableMessage","setSelection","nonCoverageMatrixView","findFirstNonCoverageMatrixView","menuItemId","getMenuItemById","ListViewSwitchComponent","center","menuItems","isSelected","ICoverageMatrixGridComponent","GradePrognosisComponent","emptyMsg","componentInitialized","toggleAssessmentGradePublished","onAssessmentUpdate","toggleAssessmentTargetGradePublished","toggleAssessmentFeedbackPublished","updateAssessmentProperty","onResultPublishChange","onFeedbackPublishChange","gradeUpdate","gradeChange","counterGradeChange","targetGradeUpdate","isGradeVisible","teacherAccount","isOverallAssessmentSection","isLearningAssignmentsView","showPrivateNote","simpleView","mixpanelFeedbackEvent","mixpanelGradeEvent","isFirstChange","getLastUpdateDate","showVisibility","hasFeedback","hasResult","downloadFile","gradesMap","animationTime","GradeDescription","mapAssessmentToGrades","setDescription","filteredChanges","filterNotFirstTimeChanges","currentValue","animateContent","GradeDescriptionCtrl","entries","$mdContent","prevHeight","isEmpty","onUpdateCourseDefinition","studentCoursesDetails","newCourseDefinition","isAvailable","breadcrumbLabel","lastEdit","triggerOnChange","editBy","previousLastUpdate","timestamps","updateDateProperties","invalid","initListeners","lastState","router","stateService","asFile","getExportKey","getCheckGoogleDriveExportStatusURL","getStudentExportKeyId","getAllStudentsExportKeyId","dialogType","emailPattern","shareAssessmentWithColleaguesForm","$validators","unique","modelValue","isFormValid","$setValidity","$valid","$pristine","$viewValue","onKeyUp","keyCode","colleaguesEmails","$validate","injector","transitionAuth","abort","GuardAuth","targetParams","targetState","savedOrdering","savedFilters","RestoreState","showSaveInfo","showWhatNowInfo","showMenuToggle","backToState","stateContext","UserSetupController","onBackToState","agreement","UserSetupAgreementController","agreementAccepted","isUpdateInProgress","goToUserSettings","UserSetupAgreementMissingController","UserSetupCheckController","validationStatus","UserSetupValidationState","IN_PROGRESS","onValidation","VALID","INVALID","getUserEmailDomain","userEmailDomain","validateUser","UserSetupCheckInvalidController","UserSetupCheckProgressController","waitingForResponse","UserSetupCheckValidController","goToAgreement","UserSetupCompleteController","closeUserSetup","UserSetupSettingsController","isUpdateSetupType","isUpdateState","userPreferences","lastEducationalSystem","fetchCurrentSetting","initialPreferences","filterSchool","getSchoolByQuery","savePreferences","updateCurrentPreferences","saveUserPreferences","goToSetupComplete","hideAfterUpdateDialog","showAfterUpdateDialog","isSaveButtonDisabled","isPreferenceFilled","comparePreferences","UPDATE_STATE","educational_system_setup","userPreferenceData","mapUserPreferencesToSaveData","classRoomId","QUERY_LIMIT","preferences1","preferences2","preference","COMPLETE_STATE","firstTimeData","UserSetupSlidesController","goToUserSetupSettings","UserSetupService","schoolSelectForm","searchSchoolName","requestPending","isSchoolInputDisable","refreshSchools","registerSchool","searchSchool","sendSaveRequest","postUserSetup","userSetupRequestSuccess","isSubmitDisabled","$invalid","countryHasStates","stateIsSelected","requestParams","schoolsRequest","clearStateInput","clearSchoolInput","$setUntouched","userSetupResponse","trackMixpanel","educationalSystemSetup","ICountry","UserSetupSchoolSelectComponent","userSetupRequestBody","schoolCategories","DEFAULT_COUNTRY_CODE","schoolRegisterForm","schoolRequest","SchoolRequestBody","schoolRequestSuccess","schoolRequestFail","school_name","UserSetupRegisterSchoolComponent","$compileProvider","$locationProvider","$qProvider","ConfigProvider","$mdAriaProvider","$sceDelegateProvider","$urlServiceProvider","$sanitizeProvider","errorOnUnhandledRejections","disableWarnings","debugInfoEnabled","enableSvg","html5Mode","requireBase","deferIntercept","route","resourceUrlWhitelist","$trace","toggleObject","pathItem","delayForAnimation","UserInactive","SharedModule","IComponentController","MdMenuLabelComponent","$compile","refreshSelectAll","$viewChangeListeners","notifyChanges","isSelectedAll","dataSet","INgModelController","MdSelectAllComponent","ICompileService","isSingleView","AssignmentCourseSelectComponent","AssignmentGradeTextComponent","getIconName","getSvgSrc","getURL","SVG_WITHOUT_ASSESSMENT_CRITERIA","SVG_WORK_UNIT","getIconClass","iconClass","IAssignment","AssignmentIconTypeComponent","AssignmentStatusIconType","AssignmentStatusIconComponent","OPEN_ASSIGNMENT_POPUP","eventOpenAssignmentHandler","assignObjectives","subscription","preFetchAssignment","postponeAssigningObjectives","fetchAssignment","addAssignment","delayedRetry","classroom_name","AssignObjectivesPopupComponent","delayMilliseconds","maxRetry","mergeMap","typeOfFeedbackOverallLabel","hintGroupedVisibilityVisibility","hintGroupedVisibilityStudents","hintGroupedVisibilityCoursesSubjects","hintGroupedVisibilityFeedback","isAllCourseDefinitionsSelected","isAllStudentsSelected","isAllTypeOfFeedbackSelected","isAssignmentStudentView","typeOfFeedback","getIds","selectAllStudents","selectAllCourseDefinitions","selectAllTypeOfFeedback","setGroupedVisibilityFeedbackType","selectTypeOfFeedback","getVisibilityLabel","getStudentsSelectLabel","updateSelectionsAll","getCoursesSubjectsSelectLabel","getTypeOfFeedbackLabel","IGroupedVisibilitySettings","GroupedVisibilityComponent","IGroupedVisibilityService","popup","isVisible","refreshUrlStatus","onChangesObj","changedLink","HelpButtonComponent","HintDirective","instanceElement","instanceAttributes","buildCookieName","isCookieExists","isHintBoxVisible","transcludeHandler","$hintBox","increaseHintBoxCounter","addContentLock","addHintBox","attachHintBox","displayToggle","$contentLock","isContentActive","classNamePrefix","one","click","onGotItClick","decreaseHintBoxCounter","setHeight","attachTo","targetBounding","hintBoxBounding","cookieValue","contentActive","windowHeight","hintHeight","hintBox","fadeOut","fadeIn","contentLock","cookies","ICookiesService","$parse","findScrollableParent","parentElement","$observe","eventListener","mdDetectHidden","applyEvent","removeEvent","wasVisible","onScroll","dispatchEvent","Event","clientHeight","node","scrollHeight","TextareaDirective","IParseService","SharedFiltersModule","GetFormattedOrEmpty","HtmlToPlaintext","IconURL","iconName","normalizeIconName","iconPath","AutocompleteComponent","updateCourse","updateKnowledgeRequirementDescription","stateObject","StudentCourseManagementComponent","CmStudentCoursesListComponent","CmStudentCourseDetailsComponent","CmStudentObjectivesComponent","IListViewMenuService","CmStudentObjectivesListComponent","CmStudentObjectivesToolbarComponent","curriculumObserver","openLibraryDialog","openSearchForCurriculumDialog","courseSettings","UPDATED_COURSES","openCreateCurriculumDialog","TeacherCourseManagementComponent","ICurriculumsService","createMode","createButtonEnabled","searchCourseText","searchCategories","searchFunction","searchType","searchCourse","search","convertToSearchParam","classroom_id","searchCategory","addCurriculum","courseToAdd","selectedItem","CLASSROOM","IMPORTED","libraryCurriculums","compareClassAndCurriculumSettings","showAddedToClassroomConfirm","curriculumData","updatedCurriculum","curriculumOnList","cur","sortCurriculumList","showMakeCurriculumPublicInMySchoolDialog","curriculumOnListIndex","findCurriculumOnListIndex","openCurriculumDetails","curriculumType","CmCurriculumLibraryComponent","IToastService","courseSetup","addNewObjective","openSaveCourseToLibraryDialog","newCourse","openEditCourseDialog","courseUpdated","CmTeacherCourseDetailsComponent","CmTeacherObjectivesComponent","updateObjectives","updateObjectivesHandler","deleteObjectivesHandler","COURSE_DELETED","onClickDelete","CmTeacherObjectivesListComponent","CmTeacherObjectivesToolbarComponent","selectedCurriculum","updateCoursesList","courseToUpdate","CmTeacherCoursesListComponent","CmEmptyObjectivesListComponent","AssignmentsModule","parentController","objectiveIdPath","triggerKnowledgeRequirements","objectiveKnowledgeRequirements","ObjectiveKnowledgeRequirementsDirective","StudentAssignmentTextareaComponent","isGradeDescriptionVisible","isGradeDescriptionEnable","storageKeyGradeDescription","updateObjectiveAssessmentProperty","objectiveAssignment","objective_assessments","isAssignmentConfigure","updateDescription","grade_texts","isGradeTextVisible","showGradeDescription","hideGradeDescription","StudentAssessAssignmentComponent","IFilterService","ThemeApply","studentAssignment","isSelectedAssignmentConfigure","StudentAssessAssignmentDriveComponent","assignmentsGroup","goToAssignmentDetails","StudentAssignmentsListComponent","assignmentsSort","DESC","assignmentFilterItem","filterType","sortAssignments","assignmentSortItem","isAssignmentSortSelected","stateSortUI","StudentAssignmentsComponent","not_assessable","assessable","IAssignmentGroupedResponse","StudentAssignmentsPublishedComponent","StudentAssignmentsNotConfiguredComponent","SingleCheckbox","AssignmentGroupCheckboxes","MainCtrl","TeacherAssessAssignmentService","AssessmentVisibilityDialogService","AssessmentsVisibilityDialogService","unsubscribes","savingIndicatorVisible","viewReady","AssignmentListService","navigationHistory","statusMenuItems","resultOnly","result_only","isConfigured","is_configured","assignment$","combineQueries","selectActive","asObject","debounceFinished$","debounceFinishedSub","updateLastEditTimestampForAssignment","changeObjectiveAssessments","updateObjectiveAssessmentsDates","changeAssignmentsObjectives","updateAssignmentsObjectivesDates","editMultipleAssignmentState","debounceObjectiveAssessments","debounceAssignmentsObjectives","matchEndpoint","dataToSave","currentEditingMode","responseAssessmentsArray","resAssessment","generateStructure","selectedCourseDefinition","getLastSelectedCourseDefinition","openStudentsDetailsInCourse","setTextForGradeSystem","defaultGradeTexts","getGradeText","currentObjective","_objective","historyBackClicked","toggleStudent","assignmentCourseChanged","courseDefinitionElem","courseDefinitionStudentElem","full_name","fetching_objectives","new_status","changeAssessmentStatus","assessmentVisibilityDialog","fetchingObjectives","studentElem","objectiveElem","courseDefinitionObjectiveElem","objective_name","clickStudent","loadView","checkIfAnyCheckboxIsChecked","anyCheckboxesChecked","assignmentCheckboxesCheckIfAny","checkboxCheckIfAny","checkEditMultiple","changesToSave","textField","saveEditMultiple","findSelectedItems","changeMultipleTexts","changeMultipleGrades","changeMultipleVisible","clearEditMultiple","textMode","closeEditMultiple","textProperty","findTextPropoerty","itemElem","oldValue","visibilityMode","visibilityProperty","findVisibilityPropoerty","grade_system_is_counter","showChangesDialog","triggerType","openActionMenu","$mdOpenMenu","editScalesAndObjectivesOption","firstTime","groupedVisibilitySettings","_student","getGradeDescription","checkboxSingle","checkboxCheckAll","checkboxAll","every","clearCheckbox","assignmentCheckboxesSingle","itemsInGroup","groupCheckboxChecked","assignmentCheckboxesCheckAll","assignmentCheckboxesGroup","assignmentCheckboxesAll","checkboxesChecked","assignmentClearCheckboxes","objectives_feedback","results","objectives_private_notes","overall_private_notes","accCoursesDefinitions","accStudents","AssignmentSingleCheckboxes","TeacherAssessAssignmentDriveService","selectedStatus","subscriptions","studentEditMultiple","statusChange","updateStatus$","inherit","notify","changeAssignmentAssessments","updateAssignmentAssessmentsDates","responseObjectiveAssessmentsArray","resObjectiveAssessment","responseAssignmentAssessmentsArray","studentEditingMode","currentStudentEditingMode","changeAssignment","extractObjectiveAssessments","TeacherAssessAssignmentStudentService","studentSelect","debounceAssignmentsAssessments","changeStudent","assignmentAssessmentFetching","fetchObjectiveAssessments","objectiveAssessmentFetching","resObjective","goToAssessCourseOption","isGradeTextMenuVisible","$from","AddToHistoryTeacherAssessAssignmentStudent","AddToHistoryTeacherSetAssignmentObjectives","AddToHistoryTeacherAssessAssignment","goToAssessAssignment","TeacherAssessmentsListComponent","goToEditAssignmentCriteria","TeacherAssignmentsDraftsListComponent","openedAssignments$","toggleOpen","toggleAssignment","goToChangeVisibility","changeVisibility","updateAssignmentsOpenState","TeacherAssignmentsListComponent","ITeacherAssignmentsService","assessmentsSort","assessmentSortItem","isAssessmentSortSelected","TeacherAssignmentsComponent","closeAssignment","openedAssignments","_assignmentId","openAssignment","responses","assessmentStudentId","getRequestParams","savedStates","TeacherAssignmentsDraftsComponent","TeacherAssignmentsNotConfiguredComponent","TeacherAssignmentsPublishedComponent","assignmentInformation","TeacherSetAssignmentObjectivesService","isFirstTime","gradeTextSettings","isEnable","isEnableForStudents","lastSelectedScaleId","selectedType","getSelectedObjectivesId","counters","getFlatObjectivesCounters","typeOfAssignments","typeOfAssignment","createListOfSelected","setDefaultGradeSystem","validationForm","$setSubmitted","scaleSelect","getConfirmationType","AssignConfirmationType","GRADE_SYSTEM","OBJECTIVES","ASSIGNMENT_TYPE","CHANGE_COUNTER_VALUE","GRADE_TEXT_SETTINGS","updateGradeTextSettings","getAssignmentTypePlaceholder","preSelectedGradeSystem","defaultGradeSystem","getStoredGradeSystemId","is_chosen","grade_texts_present","accCD","accO","changeScale","validChanges","toggleObjective","validCounters","countersTest","counterElem","selectedObjectiveElem","setStoredGradeSystemId","assignConfirmation","assignment_objectives","studybee_type","assignSuccess","confirmationType","closeDialog","confirmChanges","hideExtensionOnAssign","ngDisabled","$setViewValue","ObjectiveGradeTextVisibilitySettingsComponent","localStorageGradeSystemIdKey","locale","svLocale","createMuiTheme","palette","ReactApp","setShowObjectiveDetails","currentView","setCurrentView","assignmentSort","setAssignmentSort","visibilityDialogData","drawerOpen","setDrawerOpen","showAddSchool","showSelectPrimarySchool","setUser","syncText","setSyncText","u","updateClassroom","changeToAssignmentView","navigation","aMethod","newView","App","ChangeVisibilityDialog","ChangeAssessmentsDialog","spacings","smallest","small","large","largest","dialogStyle","contentStyle","overlayStyle","arrowStyle","Quill","formats","bold","italic","ngQuillConfig","validateFormats","checkFormats","toolbarEntries","errorClass","ngModelController","ngQuillService","editor","changed","settingWithEditor","hasFocus","setClass","modelLength","setChanges","previousValue","setContents","setHTML","dict","shouldShow","deregister","$setTouched","addModule","toolbarCreated","showToolbar","getModule","oldChange","setValue","getLength","getText","getContents","getHTML","focusout","focusin","$templateCache"],"mappings":"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ACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,gBAAiB,IACjB,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,UAAW,IACX,aAAc,IACd,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAA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","file":"scripts/contentscript.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t3: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([806,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import colors from './colors';\nimport fonts from './fonts';\nimport sizes from './sizes';\nimport styles from './styles';\n\nexport {\n  colors, fonts, sizes, styles,\n};\n","const english = require('./_locales/en/messages.json');\n\nlet language;\nconst getLanguage = () => {\n  if (language) {\n    return language;\n  }\n  if (window.navigator.languages) {\n    // eslint-disable-next-line prefer-destructuring\n    language = window.navigator.languages[0];\n  } else {\n    language = window.navigator.userLanguage || window.navigator.language;\n  }\n\n  // is there a need to support eg. en-Us and en-Gb? How?\n  // eslint-disable-next-line prefer-destructuring\n  language = language.split('-')[0];\n\n  try {\n    // eslint-disable-next-line global-require,import/no-dynamic-require\n    return require(`./_locales/${language}/messages.json`);\n  } catch (e) {\n    console.log(`Missing ${language} translations`);\n    return english;\n  }\n};\nlanguage = getLanguage();\n\nconst getTranslation = (label) => language[label].message || english[label].message;\n\nexport {\n  getTranslation,\n};\n","import React from 'react';\nimport moment from 'moment';\nimport assignmentImage from './images/png/assignment.png';\nimport LiveHelp from '@material-ui/icons/LiveHelp';\nimport doneImage from './images/png/icon_bk_assessment_done.png';\nimport notDoneImage from './images/png/icon_bk_not_assessed.png';\nimport accessingImage from './images/png/icon_bk_assessing.png';\nimport warningImage from './images/png/icon_warning.png';\nimport {colors} from './theme';\nimport noCriteriaImage from './images/png/without_assessment_criteria_icon.png';\nimport workUnitImage from './images/png/work_unit_icon.png';\nimport topicImage from './images/png/topic_icon.png';\nimport topicHiddenImage from './images/png/topic-hidden.png';\nimport submittedImage from './images/png/submitted.png';\nimport submittedLateImage from './images/png/submitted-late.png';\nimport notSubmittedLateImage from './images/png/not-submitted-late.png';\nimport notSubmittedImage from './images/png/not-submitted.png';\n\nimport {getTranslation} from './i18n';\nimport {PUBLISH_STATES} from './components/publishIcon';\nimport Icon from \"./components/icon\";\n\nconst ASSESSMENT_DONE = 'ASSESSMENT_DONE';\nconst ASSESSING = 'ASSESSING';\nconst NOT_ASSESSED = 'NOT_ASSESSED';\n\nexport const SUBMITTED = 'SUBMITTED';\nexport const SUBMITTED_LATE = 'SUBMITTED_LATE';\nexport const NOT_SUBMITTED = 'NOT_SUBMITTED';\nexport const NOT_SUBMITTED_LATE = 'NOT_SUBMITTED_LATE'\n\nexport const GlobalContext = React.createContext();\n\nexport const getFromLocalStorage = (identifier) => {\n  if (process.env.REACT_APP_STANDALONE) {\n    return localStorage.getItem(identifier);\n  }\n  return new Promise((resolve) => chrome.storage.sync.get(identifier, (result) => {\n    resolve(result[identifier]);\n  }));\n};\n\nexport const setToLocalStorage = (identifier, data) => {\n  if (process.env.REACT_APP_STANDALONE) {\n    return localStorage.setItem(identifier, data);\n  }\n  const d = {};\n  d[identifier] = data;\n  return chrome.storage.sync.set(d);\n};\n\nconst getToken = () => new Promise((resolve, reject) => {\n  chrome.runtime.sendMessage({action: 'getToken'}, (token) => {\n    if (!token) {\n      reject();\n    } else {\n      resolve(token);\n    }\n  });\n});\n\nconst getClassroomId = () => {\n  if (process.env.REACT_APP_STANDALONE) {\n    // return 'MjcxMDIyMDI3ODcw'; // Ingelas kurs!!!!!!\n    // return 'MzU1OTY2MTU0MzA4'; // testklass1\n    // return 'Mzk2NTY2NDE3NzYy'; // nyklass\n    return 'NDMwMzc1MTc1NTA5'; // liten klass\n    // return 'MTc1ODk4OTUyNTla'; // * Svenska 2\n    // return 'MzY3ODM1OTMyMjQw'; // Kemi A\n    // return \"Mzk2ODYxNjE2Mjc2\"; // Test\n    // return \"MTkwOTUwNzIyODE5\"; // Reglerteknik\n    // return 'MTQ3MjU2NjczNDkw'; // NV20\n    // return process.env.REACT_APP_CLASSROOM;\n    // return 'Mzc3MzM1NTAyODMy'; // Madelens kurs!!!\n    //return 'NDMxOTQ3NzAyOTUw'; // Kundens kurs!!!\n    // return 'MjI2NDgzODc5MjEz' // daniel, uppsala, prestanda\n  }\n  const result = /[\\da-zA-Z]{10,}/g.exec(window.location.href);\n  return result ? result[0] : null;\n};\n\nconst getSubmittedIcon = ({status, style = {height:'18px', width:'18px'}}) => {\n  switch (status) {\n    case SUBMITTED:\n      return (<Icon file={submittedImage} style={style} overrideOpacity={1}/>);\n    case SUBMITTED_LATE:\n      return (<Icon file={submittedLateImage} style={style} overrideOpacity={1}/>);\n    case NOT_SUBMITTED_LATE:\n      return (<Icon file={notSubmittedLateImage} style={style} overrideOpacity={1}/>);\n    case NOT_SUBMITTED:\n      return (<Icon file={notSubmittedImage} style={style} overrideOpacity={0.4}/>);\n    default:\n      return (<Icon file={notSubmittedImage} style={style} overrideOpacity={0.4}/>);\n  }\n};\nconst submittedText = getTranslation('submitted');\nconst submittedLateText = getTranslation('submitted_late');\nconst notSubmittedText = getTranslation('not_submitted');\nconst notSubmittedLateText = getTranslation('not_submitted_late');\nconst getSubmittedStatusText = (state) => {\n  switch (state) {\n    case SUBMITTED:\n      return submittedText;\n    case SUBMITTED_LATE:\n      return submittedLateText;\n    case NOT_SUBMITTED:\n      return notSubmittedText;\n    case NOT_SUBMITTED_LATE:\n      return notSubmittedLateText;\n    default:\n      return notSubmittedText;\n  }\n};\n\nconst getAssessmentIcon = ({status, warning = false, style = {height:'18px'}}) => {\n  switch (status) {\n    case NOT_ASSESSED:\n      return <Icon file={notDoneImage} style={style} overrideOpacity={0.4}/>\n    case ASSESSMENT_DONE:\n      return (\n        <div style={{position: 'relative'}}>\n          <Icon file={doneImage} style={style} overrideOpacity={1}/>\n          {warning && (\n            <Icon file={warningImage} style={{position: 'absolute', left: '16px', bottom: '8px'}}/>\n          )}\n        </div>\n      );\n    case ASSESSING:\n      return <Icon file={accessingImage} style={style} overrideOpacity={1}/>;\n    default:\n      return <Icon file={notDoneImage} style={style} overrideOpacity={0.4} />;\n  }\n};\n\nconst sortAssessmentsByStudentName = (ass, s) => ass\n  .map((a) => ({\n    ...a,\n    firstName: a.student_name?.split(' ')[0] || a.first_name,\n    lastName: a.student_name?.split(' ')[1] || a.last_name,\n  }))\n  .sort((a, b) => {\n    if (s === 'firstName') {\n      return a.firstName.localeCompare(b.firstName);\n    }\n    return a.lastName.localeCompare(b.lastName);\n  });\n\nconst getLastModified = (lastModifiedDate) => {\n  let outputDate;\n  if (!lastModifiedDate) {\n    // Empty string if date is equal to null or undefined\n    outputDate = '';\n  } else if (moment().isSame(lastModifiedDate, 'day')) {\n    // Date equals today's date\n    outputDate = moment(lastModifiedDate).format('k:mm');\n  } else if (moment().isSame(lastModifiedDate, 'year')) {\n    // Date equals the same year\n    outputDate = moment(lastModifiedDate).format('D MMM');\n  } else {\n    // Previous year\n    outputDate = moment(lastModifiedDate).format('D MMM YYYY');\n  }\n\n  return outputDate.toLocaleUpperCase();\n};\n\nconst getStudentSortingMethod = async () => getFromLocalStorage('studentSort');\nconst setStudentSortingMethod = async (method) => setToLocalStorage('studentSort', method);\n\nconst getAssignmentSortingMethod = async () => getFromLocalStorage('assignmentSort');\nconst setAssignmentSortingMethod = async (method) => setToLocalStorage('assignmentSort', method);\n\nconst getStudentListFilterOptions = async () => {\n  const options = getFromLocalStorage('studentFilterOptions');\n  if (options && process.env.REACT_APP_STANDALONE) {\n    return options.split(',');\n  }\n  return options;\n};\nconst setStudentListFilterOptions = async (options) => setToLocalStorage('studentFilterOptions', options);\n\nconst getVisibilitySettingForAssignment = async (assignmentId) => {\n  const setting = await getFromLocalStorage(`visibility_${assignmentId}`);\n  if (setting && process.env.REACT_APP_STANDALONE) {\n    return setting.split(',');\n  }\n  return setting;\n};\n\nconst setVisibilitySettingForAssignment = (assignmentId, setting) => setToLocalStorage(`visibility_${assignmentId}`, setting);\n\nconst storeLastUsedGradeSystem = (scale) => setToLocalStorage('lastScale', scale);\n\nconst getLastUsedGradeSystem = () => {\n  if (process.env.REACT_APP_STANDALONE) {\n    return parseInt(getFromLocalStorage('lastScale'), 10);\n  }\n  return getFromLocalStorage('lastScale');\n};\n\nconst getGradeSystemValues = (gradeSystem) => {\n  if (!gradeSystem) {\n    return [];\n  }\n  const gradeSystemValues = gradeSystem\n    ? gradeSystem.grades.map((g, i) => ({\n      value: i + 1,\n      label: g.label,\n      color: g.color,\n      name: g.name,\n      id: g.id,\n    }))\n    : [];\n  gradeSystemValues.unshift({\n    value: 0,\n    label: '',\n    color: colors.borderColor,\n    name: '',\n    id: 0,\n  });\n  return gradeSystemValues;\n};\n\nconst getAssignmentIcon = (assignment) => {\n  const style = {\n    color: colors.white,\n    backgroundColor: colors.green,\n    padding: '8px',\n    borderRadius: '30px',\n    marginRight: '8px',\n    height: '22px',\n    width: '22px',\n  };\n\n  if (!assignment.connected) {\n    if (assignment.is_topic) {\n      return <Icon file={topicHiddenImage} style={{...style, backgroundColor: colors.blueGrey}} overrideOpacity={1}/>\n    }\n    return <Icon file={noCriteriaImage} style={{...style, backgroundColor: colors.blueGrey}} overrideOpacity={1}/>;\n  }\n\n  if (assignment.is_topic) {\n    return (\n      <div style={{...style, backgroundColor: colors.topic, alignItems:'center', justifyContent:'center', display:'flex'}}>\n        <Icon file={topicImage} style={{width: '15px', height: '16px'}} overrideOpacity={1}/>\n      </div>\n    );\n  }\n\n  if (assignment.assignment_not_assessable) {\n    return (\n      <Icon file={noCriteriaImage} style={{...style, backgroundColor: colors.blueGrey}} overrideOpacity={1}/>\n    );\n  }\n\n  if (assignment.assignment_type === 'WORK_UNIT') {\n    return (\n      <Icon file={workUnitImage} style={{...style, backgroundColor: colors.red}} overrideOpacity={1}/>\n    );\n  }\n\n  switch (assignment.worktype) {\n    case 'ASSIGNMENT':\n      return (\n        <Icon\n          overrideOpacity={1}\n          file={assignmentImage} style={{\n          ...style,\n          backgroundColor:\n            assignment.state === 'PUBLISHED' ? colors.green : colors.draft,\n        }}/>\n\n      );\n    case 'SHORT_ANSWER_QUESTION':\n      return <LiveHelp style={style}/>;\n    default:\n      return (<Icon\n        overrideOpacity={1}\n        file={assignmentImage} style={{\n        ...style,\n        backgroundColor:\n          assignment.state === 'PUBLISHED' ? colors.green : colors.draft,\n      }}/>);\n  }\n};\n\nconst doneText = getTranslation('assessmentDoneStatusIconTooltip');\nconst acessingText = getTranslation('assessingStatusIconTooltip');\nconst notAssessedText = getTranslation('notAssessedStatusIconTooltip');\n\nconst getStatusText = (status) => {\n  switch (status) {\n    case ASSESSMENT_DONE:\n      return doneText;\n    case ASSESSING:\n      return acessingText;\n    case NOT_ASSESSED:\n      return notAssessedText;\n    default:\n      return '';\n  }\n};\n\nconst filterAssignmentsOnCourseId = (assignments, courseId) => {\n  let filtered = [...assignments];\n  filtered.forEach((a) => {\n    a.assignments = a.assignments?.filter((aa) => {\n      const find = aa.courseDefinitions.find((c) => c.id === courseId);\n      const b = aa.courseDefinitions.length === 0;\n      return find || b;\n    });\n  });\n\n  filtered = assignments.filter((a) => {\n    const find = a.courseDefinitions.find((c) => c.id === courseId);\n    const b = a.courseDefinitions.length === 0;\n    const connected = find || b;\n    if (!connected) {\n      return a.assignments?.length > 0;\n    }\n    return connected;\n  });\n  return filtered;\n};\n\nconst filterAssignmentsOnObjective = (assignments, objectiveId) => {\n  let filtered = [...assignments];\n  filtered.forEach((f) => {\n    f.assignments = f?.assignments?.filter((a) => a.connected && a.objectiveAssessments?.find((o) => o.objective_id === objectiveId));\n  });\n\n  filtered = filtered?.filter((a) => {\n    const connected = a?.objectiveAssessments?.find(\n      (o) => o.objective_id === objectiveId,\n    );\n    return connected || a?.assignments?.length > 0;\n  });\n  return filtered;\n};\n\nconst getPublishedStatus = (newStatus, originalStatus) => {\n  switch (newStatus) {\n    case PUBLISH_STATES.published:\n      return true;\n    case PUBLISH_STATES.notPublished:\n      return false;\n    case PUBLISH_STATES.dontChange:\n      return originalStatus;\n    default:\n      return originalStatus;\n  }\n};\n\nconst checkIfMyTab = async () => {\n  const myTabId = await new Promise(resolve => {\n    chrome.runtime.sendMessage({action: 'getTab'}, (tab) => {\n      resolve(tab?.tabId)\n    })\n  });\n  const originTabId = await new Promise(resolve => {\n    chrome.storage.sync.get('tabId', (change) => {\n      resolve(change?.tabId);\n    })\n  });\n  return originTabId === myTabId;\n}\n\n\nexport {\n  getGradeSystemValues,\n  getToken,\n  getClassroomId,\n  getAssessmentIcon,\n  sortAssessmentsByStudentName,\n  getLastModified,\n  getStudentSortingMethod,\n  setStudentSortingMethod,\n  setAssignmentSortingMethod,\n  getAssignmentSortingMethod,\n  getAssignmentIcon,\n  getStatusText,\n  filterAssignmentsOnCourseId,\n  filterAssignmentsOnObjective,\n  getVisibilitySettingForAssignment,\n  setVisibilitySettingForAssignment,\n  getLastUsedGradeSystem,\n  storeLastUsedGradeSystem,\n  getPublishedStatus,\n  getStudentListFilterOptions,\n  setStudentListFilterOptions,\n  getSubmittedIcon,\n  getSubmittedStatusText,\n  checkIfMyTab,\n};\n","import React from 'react';\nimport {Tooltip as tp} from \"@material-ui/core\";\n\nconst Tooltip = ({title, children}) => {\n  return (\n    <tp title={title}>\n      {children}\n    </tp>\n  );\n}\n\nexport default Tooltip;","import angular from 'angular';\nimport { IComponentOptions, IModule } from 'angular';\n\nexport const Component: (options: IComponentOptions) => any = (options: IComponentOptions): <T extends { new(...args: any[]): {} }>(constructor: T) => any => {\n\n  const getOrCreateComponentModule: () => IModule = (): IModule => {\n    const moduleName: string = 'app';\n    let module: IModule;\n\n    if (options.module) {\n      try {\n        module = angular.module(`${options.module}`);\n      } catch (err) {\n        module = null;\n      }\n    }\n\n    if (!module) {\n      try {\n        module = angular.module(`${moduleName}`);\n      } catch (err) {\n        console.error(`Error on register component ${options.selector} in module ${moduleName}. Module ${moduleName} is not exists.`, err);\n        module = null;\n      }\n    }\n\n    return module;\n  };\n\n  const convertSelectorName: (selector: string) => string = (selector: string): string => {\n    return selector.replace(\n      /-([a-z])/g,\n      (word: string): string => word[1].toUpperCase(),\n    );\n  };\n\n  return <T extends { new(...args: any[]): {} }>(constructor: T): T => {\n    const module: IModule = getOrCreateComponentModule();\n    const bindings: { [boundProperty: string]: string } = constructor.prototype.$$bindings || {};\n    const require: { [controller: string]: string } = constructor.prototype.$$require || {};\n\n    if (!options.controller) {\n      options.controller = constructor;\n    }\n\n    if (module) {\n      const selector: string = convertSelectorName(options.selector);\n      module.component(selector, angular.merge({}, options, { bindings, require }));\n    }\n\n    try {\n      delete constructor.prototype.$$bindings;\n      delete constructor.prototype.$$require;\n    } catch {\n    }\n\n    return constructor;\n  };\n};\n\n","import angular from 'angular';\nimport { IInputBindingsOptions } from 'angular';\n\nexport const Input: (options?: IInputBindingsOptions) => (prototype: object, property: string | symbol) => void = (options?: IInputBindingsOptions): (prototype: object, property: string | symbol) => void => {\n  return (prototype: object & { $$bindings?: any }, property: string | symbol): void => {\n    const _options: IInputBindingsOptions = angular.merge({}, {\n      alias: '',\n      bidirectional: false,\n      collection: false,\n      optional: false,\n      string: false,\n    }, options);\n    const bindingDescription: string = `${_options.string ? '@' : _options.bidirectional ? '=' : '<'}${_options.collection && !_options.string ? '*' : ''}${_options.optional ? '?' : ''}${_options.alias}`;\n    const binding: { [property: string]: string } = { [property]: bindingDescription };\n    let $$bindings: { [boundProperty: string]: string } = prototype.$$bindings || {};\n\n    $$bindings = angular.merge({}, $$bindings, binding);\n    Object.assign(prototype, { $$bindings });\n  };\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport enum Events {\n  STATE_CHECKED = 'STATE_CHECKED',\n  OPEN_ASSIGNMENT_POPUP = 'OPEN_ASSIGNMENT_POPUP',\n  UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES =\n    'UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES',\n  UPDATE_USER_STATUSES_FOR_COURSES_AND_OBJECTIVES =\n    'UPDATE_USER_STATUSES_FOR_COURSES_AND_OBJECTIVES',\n  CLASS_CHANGED =  'CLASS_CHANGED',\n  CLOSE_COURSE_DETAILS_VIEW =  'CLOSE_COURSE_DETAILS_VIEW',\n  USER_SETUP_COMPLETED =  'USER_SETUP_COMPLETED',\n  SELECTED_COURSE_CHANGED = 'SELECTED_COURSE_CHANGED',\n  // Events for requests\n  STARTED_NEW_REQUEST =  'STARTED_NEW_REQUEST',\n  REQUEST_FINISHED_SUCCESSFULLY =  'REQUEST_FINISHED_SUCCESSFULLY',\n  REQUEST_FINISHED_FAILURE =  'REQUEST_FINISHED_FAILURE',\n  UPDATED_COURSES =  'UPDATED_COURSES',\n  UPDATED_OBJECTIVES =  'UPDATE_OBJECTIVES',\n  UPDATED_ASSIGNMENTS =  'UPDATED_ASSIGNMENTS',\n  COURSE_DELETED =  'COURSE_DELETED',\n  COURSE_UPDATED =  'COURSE_UPDATED',\n  //Angularjs-slider events\n  RZ_SLIDER_FORCE_RENDER =  'rzSliderForceRender',\n  RE_CALC_VIEW_DIMENSIONS =  'reCalcViewDimensions'\n};\n","import React, {memo} from \"react\";\n\n\nconst inactiveOpacity = 0.15;\nconst activeOpacity = 0.6;\n\nconst Icon = ({file, style = {}, active = true, overrideOpacity = null}) => {\n  let src = file;\n  let opacity = active ? activeOpacity : inactiveOpacity;\n  if (overrideOpacity) {\n    opacity = overrideOpacity;\n  }\n\n  if (!process.env.REACT_APP_STANDALONE) {\n    let filename = file.slice(file.indexOf('-')+1);\n    src = `chrome-extension://${chrome.runtime.id}/images/png/${filename}`;\n  }\n  return (\n    <img src={src} style={{...style, opacity: opacity}}/>\n  );\n}\n\nexport default memo(Icon);\n","import React, {useEffect, useState} from \"react\";\nimport {colors} from \"../theme\";\nimport VisibilityIcon from \"./visabilityIcon\";\n\nexport const PUBLISH_STATES = {\n  dontChange: 'DONT_CHANGE',\n  notPublished: 'NOT_PUBLISHED',\n  published: 'PUBLISHED',\n};\n\nconst getInitialValue = (value, multiEdit) => {\n  if (typeof value === 'string') {\n    return value;\n  }\n  const init = value ? PUBLISH_STATES.published : PUBLISH_STATES.notPublished;\n  if (multiEdit) {\n    return PUBLISH_STATES.dontChange;\n  }\n  return init;\n};\n\nconst PublishIcon = ({published: initialValue, onClick, style, iconStyle, multiEdit = false, size = null}) => {\n  const [publishedState, setPublishedState] = useState();\n\n  useEffect(() => {\n    setPublishedState(getInitialValue(initialValue, multiEdit));\n  }, [initialValue]);\n\n  useEffect(() => {\n    setPublishedState(getInitialValue(initialValue, multiEdit));\n  }, [multiEdit]);\n\n  const publish = () => {\n    let newState;\n    switch (publishedState) {\n      case PUBLISH_STATES.notPublished:\n        newState = PUBLISH_STATES.published;\n        break;\n      case PUBLISH_STATES.published:\n        newState = multiEdit ? PUBLISH_STATES.dontChange : PUBLISH_STATES.notPublished;\n        break;\n      case PUBLISH_STATES.dontChange:\n        newState = PUBLISH_STATES.notPublished;\n        break;\n    }\n    setPublishedState(newState);\n    if (multiEdit) {\n      onClick(newState);\n    } else {\n      onClick(newState === PUBLISH_STATES.published);\n    }\n  };\n\n  return (\n    <div onClick={publish} style={{cursor: \"pointer\", zIndex: 100, marginLeft: '10px', ...style}}>\n      <VisibilityIcon\n        visible={publishedState}\n        size={size}\n        style={{\n          color: publishedState === PUBLISH_STATES.published ? colors.green : colors.darkGrey,\n          margin: \"4px 0px 0px 0px\",\n          ...iconStyle,\n        }}\n      />\n    </div>\n  );\n};\n\nexport default PublishIcon;\n","import { useEffect, useState } from 'react';\n\nconst useWindowDimensions = () => {\n  const getWindowDimensions = () => {\n    const { innerWidth: width, innerHeight: height } = window;\n    return {\n      width,\n      height,\n    };\n  };\n\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions(),\n  );\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowDimensions;\n};\n\nexport default useWindowDimensions;\n","import { useEffect, useState } from 'react';\n\nexport default function useOnScreen(ref) {\n  const [isIntersecting, setIntersecting] = useState(false);\n\n  const observer = new IntersectionObserver(([entry]) => setIntersecting(entry.isIntersecting));\n\n  useEffect(() => {\n    observer.observe(ref.current);\n    // Remove the observer as soon as the component is unmounted\n    return () => {\n      observer.disconnect();\n    };\n  }, []);\n\n  return isIntersecting;\n}\n","import { useLayoutEffect, useRef } from 'react';\n\nconst isBrowser = typeof window !== 'undefined';\n\nfunction getScrollPosition({ element, useWindow }) {\n  if (!isBrowser) return { x: 0, y: 0 };\n\n  const target = element ? element.current : document.body;\n  const position = target.getBoundingClientRect();\n\n  return useWindow\n    ? { x: window.scrollX, y: window.scrollY }\n    : { x: position.left, y: position.top };\n}\n\nexport default function useScrollPosition(effect, deps, element, useWindow, wait) {\n  const position = useRef(getScrollPosition({ useWindow }));\n\n  let throttleTimeout = null;\n\n  const callBack = () => {\n    const currPos = getScrollPosition({ element, useWindow });\n    effect({ prevPos: position.current, currPos });\n    position.current = currPos;\n    throttleTimeout = null;\n  };\n\n  useLayoutEffect(() => {\n    const handleScroll = () => {\n      if (wait) {\n        if (throttleTimeout === null) {\n          throttleTimeout = setTimeout(callBack, wait);\n        }\n      } else {\n        callBack();\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, deps);\n}\n","import useFetch from './useFetch';\nimport useWindowDimensions from './useWindowDimensions';\nimport useOnScreen from './useOnScreen';\nimport useScrollPosition from './useScrollPosition';\n\nexport {\n  useFetch, useWindowDimensions, useOnScreen, useScrollPosition,\n};\n","import angular from 'angular';\nimport { IModule, IProviderOptions } from 'angular';\n\nexport const Service: (options: IProviderOptions) => any = (options: IProviderOptions): <T extends { new(...args: any[]): {} }>(constructor: T) => any => {\n\n  const getOrCreateServiceModule: () => IModule = (): IModule => {\n    const moduleName: string = 'app';\n    let module: IModule;\n\n    if (options.module) {\n      try {\n        module = angular.module(`${options.module}`);\n      } catch (err) {\n        module = null;\n      }\n    }\n\n    if (!module) {\n      try {\n        module = angular.module(`${moduleName}`);\n      } catch (err) {\n        console.error(`Error on register service ${options.name} in module ${moduleName}. Module ${moduleName} is not exists.`, err);\n        module = null;\n      }\n    }\n\n    return module;\n  };\n\n  return <T extends { new(...args: any[]): {} }>(constructor: T): T => {\n    const module: IModule = getOrCreateServiceModule();\n\n    if (module) {\n      module.service(options.name, constructor);\n    }\n\n    return constructor;\n  };\n};\n\n","import React, {useEffect, useState, memo} from 'react';\nimport {TextField} from '@material-ui/core/';\nimport {withStyles} from '@material-ui/core/styles';\nimport {colors, fonts} from '../theme';\nimport PublishIcon from './publishIcon';\n\n// MuiInputBase-input MuiInput-input\nconst CssTextField = withStyles({\n  root: {\n    '& .MuiInputBase-input': {\n      ...fonts.MEDIUM,\n    },\n    '& .MuiFormLabel-root': {\n      ...fonts.SMALL,\n    },\n    '& label.Mui-focused': {\n      color: colors.green,\n    },\n    '& .MuiInput-underline:after': {\n      borderBottomColor: colors.green,\n    },\n  },\n})(TextField);\n\nconst FeedbackInput = (props) => {\n  const {\n    text: initialText,\n    placeholder,\n    hideEye,\n    onTextChange,\n    readonly = false,\n    published = false,\n    onPublish,\n    id,\n    assessment,\n    style,\n    helperText,\n    type,\n    warningText,\n    multiEdit = false,\n  } = props;\n\n  const [text, setText] = useState(initialText);\n  const [focused, setFocused] = useState(false);\n\n  useEffect(() => {\n    setText(initialText);\n  }, [initialText]);\n\n  const textChanged = ({target}) => {\n    const {value: txt} = target;\n    setText(txt);\n    onTextChange(txt, id, assessment);\n  };\n\n  const onPublishChanged = (value) => {\n    if (onPublish) {\n      onPublish(id, value, assessment);\n    }\n  };\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        marginBottom: '10px',\n        marginTop: '10px',\n        flexDirection: 'column',\n        alignItems: 'flex-start',\n        ...style,\n\n      }}\n    >\n      <div style={{display: 'flex', width: '100%', alignItems: 'center'}}>\n        <CssTextField\n          type={type}\n          onMouseEnter={() => setFocused(true)}\n          onMouseLeave={() => setFocused(false)}\n          label={placeholder}\n          style={{width: '100%'}}\n          onChange={textChanged}\n          value={text || ''}\n          disabled={readonly}\n          multiline\n          helperText={\n            <span\n              style={{\n                ...fonts.TINY,\n                color: colors.darkGrey,\n                position: 'absolute',\n                right: 0,\n              }}\n            >\n            {focused ? helperText : helperText}\n          </span>\n          }\n        />\n        {!hideEye && (\n          <PublishIcon\n            size={14}\n            multiEdit={multiEdit} published={published}\n            onClick={onPublishChanged}/>\n        )}\n      </div>\n      {warningText && text?.length > 0 &&\n      <span style={{...fonts.SMALL, color: colors.red}}>{warningText}</span>}\n    </div>\n  );\n};\n\nexport default memo(FeedbackInput);\n","import React from 'react';\n\nconst Card = (props) => {\n  const { children, style } = props;\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        backgroundColor: '#fff',\n        bottom: '1px solid #EEE',\n        padding: '18px 12px 12px 12px',\n        borderRadius: '2px',\n        boxShadow: '0px 5px 10px rgba(0,0,0,0.1)',\n        justifyContent: 'space-around',\n        ...style,\n      }}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default Card;\n","import {Visibility, VisibilityOff} from '@material-ui/icons';\nimport React, {memo} from \"react\";\nimport colors from \"../theme/colors\";\n\n\nconst PublishedIcon = ({style={}, published, active, white = false, size = 12}) => {\n  let iconStyle = {color: colors.black};\n  iconStyle.width = `${size}px`;\n  iconStyle.height = `${size}px`;\n  if(published){\n    iconStyle.color = colors.green;\n  }\n  if (white) {\n    iconStyle.color = colors.white;\n  }\n\n  if (published) {\n    return <Visibility style={{...iconStyle, ...style}}/>\n  } else {\n    return <VisibilityOff style={{...iconStyle, ...style}} opacity={active ? 0.8 : 0.1}/>\n  }\n};\n\nexport default memo(PublishedIcon);","import angular, { IModule } from 'angular';\n\nexport const SharedServicesModule: IModule = angular.module('app.shared.services', []);\n\nexport default SharedServicesModule.name;\n\nexport * from './assignment/assignment.service';\nexport * from './assignmentAssessment/assignmentAssessment.service';\nexport * from './colleagueEmails/colleagueEmails.service';\nexport * from './country/country.service';\nexport * from './coverageMatrix/coverageMatrix.service';\nexport * from './dialog/dialog.service';\nexport * from './groupedVisibility/groupedVisibility.service';\nexport * from './groupedVisibility/groupedVisibilityDialog.service';\nexport * from './hashObserver/hashObserver';\nexport * from './helpButton/helpButton.service';\nexport * from './listViewMenu/listViewMenu.service';\nexport * from './localStorage/localStorage.service';\nexport * from './popup/popup.service';\nexport * from './retryPromise/retryPromise.service';\nexport * from './school/school.service';\nexport * from './userInfo/userInfo.service';\n","import React from 'react';\nimport { colors, fonts } from '../theme';\n\nconst Header = ({ title, style = {} }) => (\n    <p\n      style={{\n        ...fonts.SMALL,\n        backgroundColor: colors.green,\n        display: 'flex',\n        flex: 1,\n        padding: '12px 14px 12px 14px',\n        color: colors.white,\n        borderRadius: '2px',\n        ...style,\n      }}\n    >\n      {title}\n    </p>\n);\nexport default Header;\n","export enum ListViewType {\n  COVERAGE_MATRIX = 2,\n  STATUS = 4,\n  DESCRIPTION_ONLY = 8,\n  TITLE_AND_DESCRIPTION = 16,\n  TITLE_ONLY = 32\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport angular, { IModule } from 'angular';\nimport uiRouter from '@uirouter/angularjs';\n\nimport 'angularjs-slider';\nimport { CounterGradeEditable } from './counter-grade-editable.component';\nimport { CounterGradePreview } from './counter-grade-preview.component';\nimport { CounterGradeSummary } from './counter-grade-summary.component';\nimport { GradeEditable } from './grade-editable.component';\nimport { NoCourses } from './no-courses.component';\nimport { NoStudentSelected } from './no-student-selected.component';\nimport { AssignmentsList } from './objective-details/assignments-list/assignments-list.component';\nimport { ObjectiveDetails } from './objective-details/objective-details.component';\nimport { StudentDetailsComponent } from './studentDetails/studentDetails.component';\nimport { StudentsListComponent } from './students-list/studentsList.component';\nimport { TeacherCourseProgressComponent } from './teacher-course-progress.component';\nimport { TeacherCourseProgress } from './teacherCourseProgress.service';\nimport { routerConfig } from './teacher-course-progress.routing';\nimport { StudentCoursesDetailsComponent } from './studentCoursesDetails/studentCoursesDetails.component';\nimport { StudentCoursesDetails } from './studentCoursesDetails/studentCoursesDetails.service';\n\nexport const TeacherCourseProgressModule: IModule = angular\n  .module('teacherCourseProgress', [\n    'rzSlider',\n    uiRouter,\n  ])\n  .component('teacherCourseProgress', TeacherCourseProgressComponent)\n  .component('studentsList', StudentsListComponent)\n  .component('studentDetails', StudentDetailsComponent)\n  .component('objectiveDetails', ObjectiveDetails)\n  .component('assignmentsList', AssignmentsList)\n  .component('noStudentSelected', NoStudentSelected)\n  .component('gradeEditable', GradeEditable)\n  .component('noCourses', NoCourses)\n  .component('counterGradePreview', CounterGradePreview)\n  .component('counterGradeEditable', CounterGradeEditable)\n  .component('counterGradeSummary', CounterGradeSummary)\n  .component('studentCoursesDetails', StudentCoursesDetailsComponent)\n  .service('TeacherCourseProgress', TeacherCourseProgress)\n  .service('StudentCoursesDetails', StudentCoursesDetails)\n  .config(routerConfig);\n\nexport default TeacherCourseProgressModule.name;\n\nexport * from './assignmentOverviewDetails/assignmentOverviewDetails.component';\nexport * from './assignmentOverviewDetails/assignmentOverviewObjectivesList/assignmentOverviewObjectivesList.component';\nexport * from './assignmentOverviewDetails/assignmentOverviewObjectivesList/assignmentOverviewObjectivesList.service';\nexport * from './studentDetails/assignmentsOverview/assignmentOverview.service';\nexport * from './studentDetails/assignmentsOverview/assignmentsOverview.component';\nexport * from './studentDetails/assignmentsOverview/assignmentOverviewContent/assignmentOverviewContent.component';\nexport * from './studentDetails/assignmentsOverview/assignmentOverviewStatus/assignmentOverviewStatus.component';\nexport * from './studentDetails/assignmentsOverview/assignmentOverviewStatus/assignmentOverviewStatus.service';\nexport * from './studentDetails/objectivesList/objectivesList.component';\nexport * from './studentDetails/objectivesList/coverageMatrixGrid/coverageMatrixGrid.component';\nexport * from './studentDetails/objectivesList/coverageMatrixGridHeader/coverageMatrixGridHeader.component';\nexport * from './studentDetails/objectivesList/listViewSwich/listViewSwitch.component';\nexport * from './studentDetails/objectivesList/listViewSwich/listViewSwitch.service';\nexport * from './studentDetails/objectivesList/coverageMatrixGrid/gradePrognosis/gradePrognosis.component';\n","import {Injectable} from '@angular/core';\nimport {FetchData} from '../../ajs-upgraded-providers';\nimport {from, Observable} from 'rxjs';\nimport {Params} from '@angular/router';\nimport {HttpRequestType} from './http.model';\nimport {HttpCacheQuery, HttpCacheService} from './state';\nimport {shareReplay, tap} from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HttpService {\n\n  constructor(protected fetchData: FetchData, protected httpCacheService: HttpCacheService, protected httpCacheQuery: HttpCacheQuery) {\n  }\n\n  request<T = any>(url: string, type: HttpRequestType, body?: any, params: Params = {}): Observable<T> {\n    const id = this.httpCacheService.generateID(url, type, body, params);\n\n    if (this.httpCacheQuery.hasEntity(id)) {\n      return this.httpCacheQuery.getEntity(id).source;\n    }\n\n    const request: PromiseLike<T> = this.fetchData.sendAPIRequestWithParams(params, url, type, body);\n    const source = from(request).pipe(\n      tap(() => this.httpCacheService.delete(id)),\n      shareReplay(1),\n    );\n\n    this.httpCacheService.add<T>(source, url, type, body, params);\n\n    return source;\n  }\n\n  delete<T = any>(url: string, params: Params = {}): Observable<T> {\n    return this.request<T>(url, HttpRequestType.DELETE, null, params);\n  }\n\n  get<T = any>(url: string, params: Params = {}): Observable<T> {\n    return this.request<T>(url, HttpRequestType.GET, null, params);\n  }\n\n  head<T = any>(url: string, params: Params = {}): Observable<T> {\n    return this.request<T>(url, HttpRequestType.HEAD, null, params);\n  }\n\n  options<T = any>(url: string, params: Params = {}): Observable<T> {\n    return this.request<T>(url, HttpRequestType.OPTIONS, null, params);\n  }\n\n  patch<T = any>(url: string, body?: any, params: Params = {}): Observable<T> {\n    return this.request<T>(url, HttpRequestType.PATCH, body, params);\n  }\n\n  post<T = any>(url: string, body?: any, params: Params = {}): Observable<T> {\n    return this.request<T>(url, HttpRequestType.POST, body, params);\n  }\n\n  put<T = any>(url: string, body?: any, params: Params = {}): Observable<T> {\n    return this.request<T>(url, HttpRequestType.PUT, body, params);\n  }\n}\n","import { Type } from '@angular/core';\n\nexport interface IProviderUpgrade {\n  provide: Type<any>;\n  useFactory: (...args: any[]) => any;\n  deps: string[];\n}\n\nexport class UpgradedProviders {\n  static providers: IProviderUpgrade[] = [];\n}\n\nexport abstract class SimpleProvider {\n  [porp: string]: any;\n}\n\nexport class FetchData extends SimpleProvider {}\n\nUpgradedProviders.providers.push({\n  provide: FetchData,\n  useFactory: ($injector: any): any => $injector.get('FetchData'),\n  deps: ['$injector'],\n});\n\nexport class Updates extends SimpleProvider {}\n\nUpgradedProviders.providers.push({\n  provide: Updates,\n  useFactory: ($injector: any): any => $injector.get('Updates'),\n  deps: ['$injector'],\n});\n\nexport class Path extends SimpleProvider {}\n\nUpgradedProviders.providers.push({\n  provide: Path,\n  useFactory: ($injector: any): any => $injector.get('Path'),\n  deps: ['$injector'],\n});\n\nexport class TeacherAssignmentsService extends SimpleProvider {}\n\nUpgradedProviders.providers.push({\n  provide: TeacherAssignmentsService,\n  useFactory: ($injector: any): any => $injector.get('TeacherAssignmentsService'),\n  deps: ['$injector'],\n});\n\nexport class UserInfo extends SimpleProvider {}\n\nUpgradedProviders.providers.push({\n  provide: UserInfo,\n  useFactory: ($injector: any): any => $injector.get('UserInfo'),\n  deps: ['$injector'],\n});\n\nexport class RootScope extends SimpleProvider {}\n\nUpgradedProviders.providers.push({\n  provide: RootScope,\n  useFactory: ($injector: any): any => $injector.get('$rootScope'),\n  deps: ['$injector']\n});\n\nexport class UserSetupDialog extends SimpleProvider {}\n\nUpgradedProviders.providers.push({\n  provide: UserSetupDialog,\n  useFactory: ($injector: any): any => $injector.get('UserSetupDialog'),\n  deps: ['$injector']\n});\n\n","const base = {\n  black: '#000407',\n  white: '#ffffff',\n  textColor: 'rgba(0,0,0, .7)',\n  textColorLight: 'rgba(0,0,0, .45)',\n  textColorLighter: 'rgba(0,0,0, .30)',\n  primary1: '#FBCD03',\n  primary2: '#f0c83d',\n  primary: '#f2c510',\n  blue: '#387AFF',\n  blueText: '#4183c4',\n  blueGrey: '#546f7a',\n  grey: '#f5f5f5',\n  draft: '#bdc1c5',\n  greyDarker: '#e8e8e8',\n  borderGrey: 'rgb(243 243 243)',\n  darkGrey: '#696969',\n  disabled: '#9d9d9d',\n  red: '#FA4D56',\n  orange: '#ff9800',\n  redOpacity: '#FA4D5699',\n  green_wrong: '#4BAA4F',\n  green: '#4caf50',\n  topic: '#177c84',\n  studentExtraAdjustments: '#397A82',\n  inactive: '#DFDFDF',\n  borderColor: '#E0E0E0',\n  borderColorDark: '#AAAAAA',\n  borderColorReallyDark: '#888',\n  borderOnPrimary: 'rgba(0,0,0,.1)',\n  brandColorYellow: '#FACF3A',\n  brandColorGreen: '#4CAF50',\n  brandColorPink: '#E72264',\n  brandColorBlue: '#1BB7D0',\n  brandColorGrey: 'rgba(0, 0, 0, .74)',\n  iconColor: '#4e4e4e',\n  iconColorLight: '#cdcdcd',\n  ewsGreen: '#6fdc8c',\n  greyedOut: '#00000080',\n  dimmed: '#00000030',\n  darkYellow: '#F9C317',\n};\nconst background = {\n  stripedGreenBg: `repeating-linear-gradient(60deg, ${base.white}, ${base.white} 2px,${base.green} 2px, ${base.green} 4px)`,\n  stripedYellowBg: `repeating-linear-gradient(60deg, ${base.white}, ${base.white} 2px,${base.primary} 2px, ${base.primary} 4px)`,\n  stripedRedBg: `repeating-linear-gradient(60deg, ${base.white}, ${base.white} 2px,${base.redOpacity} 2px, ${base.redOpacity} 4px)`,\n};\nexport default {\n  ...base,\n  ...background,\n};\n","export enum AssignmentType {\n  STANDARD_ASSIGNMENT = 'STANDARD_ASSIGNMENT',\n  WITHOUT_ASSESSMENT_CRITERIAS = 'WITHOUT_ASSESSMENT_CRITERIAS',\n  WORK_UNIT = 'WORK_UNIT'\n}\n","import React, {\n  useEffect, useState, useRef, useReducer,\n} from 'react';\nimport { Slider } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport { colors, fonts } from '../theme';\nimport PublishIcon from './publishIcon';\n\nconst AirbnbSlider = withStyles({\n  root: {\n    color: '#3a8589',\n    height: 3,\n    padding: '13px 0',\n    margin: '0px 6px 0px 6px',\n  },\n  thumb: {\n    height: 27,\n    width: 27,\n    backgroundColor: colors.white,\n    border: '1px solid currentColor',\n    marginTop: -12,\n    marginLeft: -13,\n    boxShadow: '#ebebeb 0 2px 2px',\n    '&:focus, &:hover, &$active': {\n      boxShadow: '#ccc 0 2px 3px 1px',\n    },\n    '& .bar': {\n      // display: inline-block !important;\n      height: 9,\n      width: 1,\n      backgroundColor: 'currentColor',\n      marginLeft: 1,\n      marginRight: 1,\n    },\n    '&.Mui-disabled': {\n      height: 27,\n      width: 27,\n      marginTop: -12,\n      marginLeft: -13,\n    },\n    disabled: {\n      width: '27px',\n      backgroundColor: 'red',\n    },\n  },\n  active: {},\n  track: {\n    height: 3,\n  },\n  rail: {\n    color: '#d8d8d8',\n    opacity: 1,\n    height: 3,\n  },\n})(Slider);\n\nfunction AirbnbThumbComponent(props) {\n  return (\n    <span {...props}>\n      <span style={fonts.MEDIUM}>{props.label}</span>\n    </span>\n  );\n}\n\nconst AssessmentSlider = (props) => {\n  const {\n    values,\n    defaultIndex = 0,\n    onChange,\n    published,\n    onPublish,\n    helpText,\n    showPublish = true,\n    onChangeCommit,\n    disabled = false,\n    color,\n    id = 0,\n    multiEdit=false,\n  } = props;\n\n  const [currentIndex, setCurrentIndex] = useState(defaultIndex);\n  const committedIndex = useRef(defaultIndex);\n  const [hoover, setHoover] = useState(false);\n  const [ignored, forceUpdate] = useReducer((x) => x + 1, 0);\n\n  useEffect(() => {\n    setCurrentIndex(defaultIndex);\n    committedIndex.current = defaultIndex;\n    forceUpdate();\n  }, [defaultIndex, id]);\n\n  const handleChangeCommit = (event, value) => {\n    if (committedIndex.current !== value) {\n      committedIndex.current = value;\n      if (onChangeCommit) {\n        onChangeCommit(value);\n      }\n    }\n  };\n  const handleChange = (event, value) => {\n    if (currentIndex !== value) {\n      setCurrentIndex(value);\n      if (onChange) {\n        onChange(value);\n      }\n    }\n  };\n\n  const valueText = () => values[currentIndex]?.name;\n  const ariaValueText = () => (hoover ? values[currentIndex]?.name : '');\n\n  const valuesNoLabel = values.map((v) => ({ ...v, label: '' }));\n  const markTexts = values.map((v) => ({\n    ...v,\n    label: <span style={{ ...fonts.TINY, fontSize: '9px' }}>{v.name}</span>,\n  }));\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        height: '26px',\n        width: '100%',\n        marginBottom: '10px',\n        position: 'relative',\n      }}\n    >\n      <AirbnbSlider\n        ThumbComponent={(p) => AirbnbThumbComponent({ ...p, label: values[currentIndex]?.name })\n        }\n        onMouseEnter={() => setHoover(true)}\n        onMouseLeave={() => setHoover(false)}\n        style={{ color: color || values[currentIndex]?.color }}\n        onChangeCommitted={handleChangeCommit}\n        onChange={handleChange}\n        defaultValue={0}\n        value={currentIndex}\n        valueLabelFormat={valueText}\n        getAriaValueText={valueText}\n        aria-labelledby=\"discrete-slider-restrict\"\n        step={null}\n        valueLabelDisplay=\"auto\"\n        marks={hoover ? markTexts : valuesNoLabel}\n        min={0}\n        max={values.length - 1}\n        disabled={disabled}\n      />\n      {showPublish && (\n        <PublishIcon size={14} multiEdit={multiEdit} published={published} onClick={onPublish || null} />\n      )}\n      {!hoover && helpText && (\n        <span\n          style={{\n            ...fonts.TINY,\n            position: 'absolute',\n            bottom: '-15px',\n            right: '30px',\n          }}\n        >\n          {helpText}\n        </span>\n      )}\n    </div>\n  );\n};\n\nexport default AssessmentSlider;\n","import { IComponentController } from 'angular';\n\nexport abstract class UnsubscribableComponent implements IComponentController {\n\n  protected $$unsubscribes: Function[];\n\n  protected constructor() {\n    'ngInject';\n    this.$$unsubscribes = [];\n  }\n\n  public $onDestroy(): void {\n    this.$$unsubscribes.forEach((unsubscribe: Function): void => {\n      if (typeof  unsubscribe === 'function') {\n        unsubscribe();\n      }\n    });\n  }\n}\n","import {ButtonBase} from \"@material-ui/core\";\nimport React from \"react\";\nimport {fonts} from \"../theme\";\nimport colors from \"../theme/colors\";\n\nconst styles = {\n  button: {\n    display: 'flex',\n    height: '35x',\n    padding: '10px 10px 10px 10px',\n    minWidth: '80px',\n    borderRadius: '5px',\n  }\n};\n\nconst PrimaryButton = ({title, onClick, inverted = false, textStyle = {}, style = {}, disabled = false}) => {\n  return (\n    <ButtonBase\n      disabled={disabled}\n      onClick={onClick}\n      style={{\n        ...styles.button,\n        marginLeft: '10px',\n        marginRight: '10px',\n        backgroundColor: inverted ? colors.primary : colors.black, ...style\n      }}>\n      <span style={{\n        ...fonts.MEDIUM,\n        fontWeight: '500',\n        color: inverted ? colors.textColor : colors.white, ...textStyle\n      }}>{title}</span>\n    </ButtonBase>\n  );\n};\nexport default PrimaryButton;","import { Checkbox, Tooltip, withStyles } from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport { colors, fonts } from \"../theme\";\n\nconst GreenCheckbox = withStyles({\n  root: {\n    color: colors.borderColorDark,\n    paddingLeft: 0,\n    marginLeft: \"-6px\",\n    \"&$checked\": {\n      color: colors.green,\n    },\n    \"& .MuiSvgIcon-root\": {\n      fontSize: \"1.5rem\",\n    },\n  },\n\n  checked: {},\n})(Checkbox);\n\nconst CheckboxWithText = (props) => {\n  const {\n    subText,\n    id,\n    text,\n    onCheck,\n    checked: initialCheck,\n    style = {},\n    onClick,\n    controlled = true,\n    textWidth,\n    toolTip = '',\n    indeterminate:initialIndeterminate,\n  } = props;\n  const [checked, setChecked] = useState(initialCheck);\n  const [indeterminate, setIndeterminate] = useState(initialIndeterminate);\n\n  useEffect(() => {\n    setChecked(initialCheck);\n  }, [initialCheck, id]);\n\n  useEffect(() => {\n    setIndeterminate(initialIndeterminate);\n  }, [initialIndeterminate, id]);\n\n  const onChange = (e) => {\n    if (controlled) {\n      setChecked(e.target.checked);\n    }\n    if (onCheck) {\n      onCheck(e.target.checked, id);\n    }\n    setIndeterminate(false);\n    e.stopPropagation();\n    e.nativeEvent.stopImmediatePropagation();\n  };\n\n  const click = (e) => {\n    if (onClick) {\n      onClick(e);\n    }\n    e.stopPropagation();\n    e.nativeEvent.stopImmediatePropagation();\n  };\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        border: \"0px solid\",\n        ...style,\n      }}\n    >\n      <GreenCheckbox\n        inputProps={{ \"aria-label\": \"controlled\" }}\n        checked={checked}\n        indeterminate={indeterminate}\n        onChange={onChange}\n      />\n      <div\n        onClick={click}\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          cursor: onClick ? \"pointer\" : \"default\",\n        }}\n      >\n        <Tooltip title={toolTip}>\n          <span\n            style={{\n              ...fonts.MEDIUM,\n              overflow: \"hidden\",\n              textOverflow: \"ellipsis\",\n              whiteSpace: \"nowrap\",\n              width: textWidth,\n            }}\n          >\n            {text}\n          </span>\n        </Tooltip>\n        {subText && (\n          <div\n            style={{ ...fonts.MEDIUM }}\n            dangerouslySetInnerHTML={{\n              __html: subText,\n            }}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CheckboxWithText;\n","import { ID } from '@datorama/akita';\n\nexport enum AssessmentStatusOld {\n  ND = 'ND',\n  NL = 'NL',\n  NV = 'NV',\n  NN = 'NN',\n  AV = 'AV',\n  AN = 'AN',\n  WV = 'WV',\n  WN = 'WN',\n}\n\nexport enum AssessmentStatus {\n  ASSESSING = 'ASSESSING',\n  ASSESSMENT_DONE = 'ASSESSMENT_DONE',\n  NOT_ASSESSED = 'NOT_ASSESSED',\n  WARNING = 'WARNING',\n}\n\nexport enum AssessmentSort {\n  ASC_FIRST_NAME = 'ASC_FIRST_NAME',\n  ASSESSMENT_DONE = 'ASSESSMENT_DONE',\n  DESC_FIRST_NAME = '-DESC_FIRST_NAME',\n  NOT_ASSESSED = 'NOT_ASSESSED',\n}\n\nexport interface Assessment {\n  assessment_status: AssessmentStatusOld;\n  fail_warning: boolean;\n  feedback?: string;\n  feedback_last_edit?: string;\n  feedback_published?: boolean;\n  id: ID;\n  private_note?: string;\n  private_note_last_edit?: string;\n  result?: string;\n  result_last_edit?: string;\n  result_published?: boolean;\n  status_new: AssessmentStatus;\n  student_id: ID;\n  student_name: string;\n}\n","import React, { useContext } from 'react';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { withStyles } from '@material-ui/core/styles';\nimport { colors } from '../theme';\nimport { GlobalContext } from '../utils';\n\nconst SBLinearProgress = withStyles({\n  barColorPrimary: {\n    backgroundColor: colors.green,\n  },\n})(LinearProgress);\n\nconst SBLinearProgressPink = withStyles({\n  barColorPrimary: {\n    backgroundColor: colors.brandColorPink,\n  },\n})(LinearProgress);\n\nconst StyledLinearProgress = (pink = false) => {\n  const context = useContext(GlobalContext);\n  const { networkTraffic } = context;\n  if (!networkTraffic) {\n    return null;\n  }\n  if (pink) {\n    return <SBLinearProgressPink/>;\n  }\n  return (\n    <SBLinearProgress />\n  );\n};\n\nexport default StyledLinearProgress;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3.784 12.526c.486 0 .88.4.88.895v2.684a.888.888 0 01-.88.895H.88A.888.888 0 010 16.105v-2.684c0-.494.394-.895.881-.895h2.903zm6.167 0c.487 0 .881.4.881.895v2.684a.888.888 0 01-.88.895H7.048a.888.888 0 01-.881-.895v-2.684c0-.494.394-.895.88-.895h2.903zm6.168 0c.487 0 .881.4.881.895v2.684a.888.888 0 01-.881.895h-2.903a.888.888 0 01-.88-.895v-2.684c0-.494.394-.895.88-.895h2.903zm-12.335.895H.88v2.684h2.903v-2.684zm6.167 0H7.05v2.684H9.95v-2.684zm6.168 0h-2.903v2.684h2.903v-2.684zM3.784 6.263c.486 0 .88.4.88.895v2.684a.888.888 0 01-.88.895H.88A.888.888 0 010 9.842V7.158c0-.494.394-.895.881-.895h2.903zm6.167 0c.487 0 .881.4.881.895v2.684a.888.888 0 01-.88.895H7.048a.888.888 0 01-.881-.895V7.158c0-.494.394-.895.88-.895h2.903zm6.168 0c.487 0 .881.4.881.895v2.684a.888.888 0 01-.881.895h-2.903a.888.888 0 01-.88-.895V7.158c0-.494.394-.895.88-.895h2.903zm-6.168.895H7.05v2.684H9.95V7.158zm6.168 0h-2.903v2.684h2.903V7.158zM3.784 0c.486 0 .88.4.88.895v2.684a.888.888 0 01-.88.895H.88A.888.888 0 010 3.579V.895C0 .4.394 0 .881 0h2.903zM9.95 0c.487 0 .881.4.881.895v2.684a.888.888 0 01-.88.895H7.048a.888.888 0 01-.881-.895V.895c0-.494.394-.895.88-.895h2.903zm6.168 0c.487 0 .881.4.881.895v2.684a.888.888 0 01-.881.895h-2.903a.888.888 0 01-.88-.895V.895c0-.494.394-.895.88-.895h2.903zM3.784.895H.88v2.684h2.903V.895zm6.167 0H7.05v2.684H9.95V.895zm6.168 0h-2.903v2.684h2.903V.895z\",\n  fillRule: \"nonzero\",\n  fill: \"current\"\n});\n\nfunction SvgGrid(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 17,\n    height: 17,\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/2c43b1719aa33e5336745b447c4d48c3-grid.svg\";\nexport { SvgGrid as ReactComponent };","import React, {useState} from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport {MoreVert, Check} from '@material-ui/icons';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport {ClickAwayListener, Menu} from '@material-ui/core';\nimport {withStyles} from '@material-ui/core/styles';\nimport {colors, fonts} from '../theme';\n\nconst StyledMenu = withStyles({\n  list: {\n    padding: '0px',\n  },\n})(Menu);\n\nconst MoreMenu = ({options, onClick, icon, iconStyle = {}, style = {}, closeOnClick = true}) => {\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClick = (e, option) => {\n    e.stopPropagation();\n    e.nativeEvent.stopImmediatePropagation();\n    if (onClick) {\n      onClick(option);\n    }\n    if (closeOnClick) {\n      setAnchorEl(null);\n    }\n  };\n\n  const handleClickAway = () => {\n    setTimeout(() => setAnchorEl(null));\n  };\n\n  return (\n    <div style={style}>\n      <ClickAwayListener onClickAway={handleClickAway}>\n        <IconButton\n          aria-label='more'\n          aria-controls='long-menu'\n          aria-haspopup='true'\n          onClick={handleClick}\n          style={{color: colors.white, ...iconStyle}}\n        >\n          {icon || <MoreVert/>}\n        </IconButton>\n      </ClickAwayListener>\n      <StyledMenu open={Boolean(anchorEl)} anchorEl={anchorEl}>\n        {options.map((option, i) => {\n          if (option.type === 'separator') {\n            return (\n              <div\n                key={i}\n                style={{\n                  height: '1px',\n                  backgroundColor: colors.borderColor,\n                }}\n              />\n            );\n          }\n          if (option.type === 'title') {\n            return (\n              <div key={option.title} style={{\n                height: '30px', display: 'flex', alignItems: 'center', marginTop: '10px',\n              }}>\n              <span\n                style={{\n                  ...fonts.MEDIUM,\n                  color: colors.green,\n                  marginLeft: '20px',\n                  paddingRight: '50px',\n                }}\n              >\n                  {option.title}\n                </span>\n              </div>\n            );\n          }\n          return (\n            <div key={option.title} style={{display: 'flex', alignItems: 'center'}}>\n              <div style={{\n                display: 'flex', width: '100%',\n              }}>\n                <MenuItem\n                  style={{\n                    ...fonts.MEDIUM,\n                    flex: 1,\n                  }}\n                  onClick={(e) => handleMenuClick(e, option)}\n                >\n                  {option?.selectable && (\n                    <Check\n                      style={{\n                        color: option.selected\n                          ? colors.darkGrey\n                          : 'transparent',\n                        marginRight: '4px',\n                      }}\n                    />\n                  )}\n                  <span style={fonts.MEDIUM}>{option.title}</span>\n                </MenuItem>\n              </div>\n            </div>\n          );\n        })}\n      </StyledMenu>\n    </div>\n  );\n};\n\nexport default MoreMenu;\n","import {colors, fonts} from \"../theme\";\nimport {ButtonBase} from \"@material-ui/core\";\nimport React from \"react\";\n\nconst style = {\n  button: {\n    display: 'flex',\n    padding:'10px 10px 10px 10px',\n    minWidth: '80px',\n    borderRadius: '5px',\n    border:'1px solid ' + colors.brandColorGrey,\n    backgroundColor: colors.white,\n  }\n};\n\nconst SecondaryButton = ({title, onClick}) => {\n  return (\n    <ButtonBase\n      onClick={onClick}\n      style={style.button}>\n      <span style={{...fonts.MEDIUM, fontWeight: '500'}}>{title}</span>\n    </ButtonBase>\n  );\n};\nexport default SecondaryButton;","import colors from './colors';\n\nconst baseFonts = {\n  XXXLARGE: {\n    color: colors.textColor,\n    fontSize: '30px',\n  },\n  XXLARGE: {\n    color: colors.textColor,\n    fontSize: '24px',\n  },\n  XLARGE: {\n    color: colors.textColor,\n    fontSize: '20px',\n  },\n  LARGE: {\n    color: colors.textColor,\n    fontSize: '16px',\n  },\n  MEDIUM: {\n    color: colors.textColor,\n    fontSize: '14px',\n  },\n  SMALL: {\n    color: colors.textColor,\n    fontSize: '12px',\n  },\n  TINY: {\n    color: colors.textColor,\n    fontSize: '11px',\n  },\n};\n// TODO Change to google font \"Cabin\"\nexport default {\n  XXXLARGE: {\n    ...baseFonts.XXXLARGE,\n    fontFamily: 'Roboto',\n  },\n  XXLARGE: {\n    ...baseFonts.XXLARGE,\n    fontFamily: 'Roboto',\n  },\n  XLARGE: {\n    ...baseFonts.XLARGE,\n    fontFamily: 'Roboto',\n  },\n  LARGE: {\n    ...baseFonts.LARGE,\n    fontFamily: 'Roboto',\n  },\n  MEDIUM: {\n    ...baseFonts.MEDIUM,\n    fontFamily: 'Roboto',\n  },\n  SMALL: {\n    ...baseFonts.SMALL,\n    fontFamily: 'Roboto',\n  },\n  TINY: {\n    ...baseFonts.TINY,\n    fontFamily: 'Roboto',\n  },\n};\n","import angular, { IModule } from 'angular';\nimport { BackendInfo } from './services/backend_info';\nimport { Mixpanel } from './services/mixpanel.service';\nimport { DynamicTheme } from './directives/dynamic-theme';\nimport { MainMenu } from './directives/main-menu';\nimport { MainMenu as MainMenuService } from './services/main_menu';\nimport { Courses } from './services/courses.service';\nimport { CustomRouting } from './directives/custom_routing';\nimport { UserInfo } from './services/userInfo.service';\nimport { Locale } from './services/locale';\nimport { GradeSystems } from './services/grade_systems';\nimport { FetchData } from './services/fetchData.service';\nimport { SlideToggleDirective } from './directives/slideToggle.directive';\nimport { LocalizeFilter } from './filters/localize';\nimport { SlideToggleAnimation } from './animations/slideToggle.animation';\nimport { PromiseQueue } from './services/promiseQueue.service';\nimport { LastModified } from './filters/last_modified';\nimport { Students } from './services/students';\n\nexport const UtilsModule: IModule = angular\n  .module('app.utils', [])\n  .animation('.slideToggleOpen', SlideToggleAnimation.create)\n  .directive('customRouting', CustomRouting)\n  .directive('mainMenu', MainMenu)\n  .directive('slideToggle', SlideToggleDirective.create)\n  .directive('localize', require('./directives/localize.js'))\n  .directive('singleSlider', require('./directives/single_slider.js'))\n  .directive('counters', require('./directives/counters.js'))\n  .directive('knowledgeRequirements', require('./directives/knowledge_requirements.js'))\n  .directive('stickySubheader', require('./directives/sticky_subheader.js'))\n  .directive('lastModified', require('./directives/last_modified.js'))\n  .directive('studybeeHandle', require('./directives/studybee_handle.js'))\n  .directive('dynamicTheme', DynamicTheme)\n  .directive('saveScroll', require('./directives/save_scroll.js'))\n  .service('Locale', Locale)\n  .service('GradeSystems', GradeSystems)\n  .service('UserInfo', UserInfo)\n  .service('FetchData', FetchData)\n  .service('Mixpanel', Mixpanel)\n  .service('Courses', Courses)\n  .service('PromiseQueue', PromiseQueue)\n  .factory('Assignments', require('./services/assignments.js'))\n  .service('Students', Students)\n  .factory('Config', require('./services/config.js'))\n  .factory('Path', require('./services/path.js'))\n  .factory('Debounce', require('./services/debounce.js'))\n  .factory('Helpers', require('./services/helpers.js'))\n  .factory('NavigationHistory', require('./services/navigation_history.js'))\n  .factory('MainMenu', MainMenuService)\n  .factory('States', require('./services/states.js'))\n  .factory('Observer', require('./services/observer.js'))\n  .factory('Hint', require('./services/hint.js'))\n  .factory('Updates', require('./services/updates.js'))\n  .factory('BackendInfo', BackendInfo)\n  .factory('StudybeeHandle', require('./services/studybee_handle.js'))\n  .filter('Sanitize', require('./filters/sanitize.js'))\n  .filter('LastModified', LastModified)\n  .filter('localize', LocalizeFilter);\n\nexport default UtilsModule.name;\n\nexport * from './providers/httpInterceptor.provider';\nexport * from './interceptors/agreementSeen.interceptor';\nexport * from './interceptors/checkDomain.interceptor';\nexport * from './interceptors/extractData.interceptor';\nexport * from './interceptors/inactiveUser.interceptor';\nexport * from './interceptors/missingAgreement.interceptor';\nexport * from './interceptors/userData.interceptor';\nexport * from './interceptors/userPreferences.interceptor';\n","import angular, { IModule } from 'angular';\nimport SharedComponentsMaterialModule from './material/material.module';\n\nexport const SharedComponentsModule: IModule = angular\n  .module('app.shared.components', [SharedComponentsMaterialModule]);\n\nexport default SharedComponentsModule.name;\n\nexport * from './abstracts/unsubscribable.component';\nexport * from './assignmentCourseSelect/assignmentCourseSelect.component';\nexport * from './assignmentGradeText/assignmentGradeText.component';\nexport * from './assignmentIconType/assignmentIconType.compnent';\nexport * from './assignments/assignments.component';\nexport * from './assignmentsList/assignmentsList.component';\nexport * from './assignmentStatusIcon/assignmentStatusIcon.component';\nexport * from './assignObjectivesPopup/assignObjectivesPopup.component';\nexport * from './groupedVisibility/groupedVisibility.component';\nexport * from './helpButton/helpButton.component';\n","/**\n * Get an entire path\n * @memberof module:Path/Service\n * @return {String}\n */\nimport { Observable, throwError } from 'rxjs';\nimport {\n  concatMap, retryWhen, take, delay,\n} from 'rxjs/operators';\n\nexport const getPath = () => window.location.pathname;\n\n/**\n * Get path array\n * @memberof module:Path/Service\n * @return {Array}\n */\nexport const getPathArray = () => getPath().split('/');\n\n/**\n * Get course ID\n * @memberof module:Path/Service\n * @return {Number}\n */\nexport const getClassroomId = () => {\n  const result = /[\\da-zA-Z]{10,}/g.exec(getPath());\n\n  return result ? result[0] : null;\n};\n\n/**\n * Get assignment ID\n * @memberof module:Path/Service\n * @return {Number}\n */\nexport const getAssignmentId = () => {\n  const pathArray = this.getPathArray();\n  const assignmentId = pathArray[pathArray.indexOf('a') + 1];\n  // if (!assignmentId && MainMenu.selectedAssignment) {\n  //   assignmentId = MainMenu.selectedAssignment.id;\n  // }\n  return assignmentId;\n};\n\n/**\n * This is only temporary solution for bad design patterns\n * @returns {*}\n */\nexport const getAssignmentAlternateLinkId = (isDrive = false) => {\n  if (isDrive) {\n    const result = /\\/([\\da-zA-Z]{5,})#?$/g.exec(getPath());\n\n    return result ? result[1] : null;\n  }\n  const pathArray = this.getPathArray();\n\n  let link = pathArray.indexOf('a') + 1;\n  if (!link) {\n    link = pathArray.indexOf('sa') + 1; // questions have /sa/ in the url not /a/\n  }\n  return isDrive ? getPath() : pathArray[link];\n};\n\n/**\n * Get student ID\n * @memberof module:Path/Service\n * @return {Number}\n */\nexport const getStudentId = () => {\n  const pathArray = this.getPathArray();\n  const studentId = pathArray[pathArray.indexOf('student') + 1];\n  return studentId;\n};\n\n/**\n * Get file ID\n * @memberof module:Path/Service\n * @return {Number}\n */\nexport const getFileId = (retryTimes = 1) => {\n  const getPathFromButton = () => {\n    let documentId = null;\n    const $button = $('[role=main] div[data-url^=https]');\n    const URLRegex = /^(https?:\\/\\/)(www.)?drive.google.com\\/open\\?id=[\\da-zA-Z-_]*&?/gm;\n\n    if ($button.length && URLRegex.test(`${$button.data('url')}`)) {\n      const url = new URL($button.data('url'));\n\n      documentId = url.searchParams.get('id');\n    } else {\n      const links = Array.from(\n        document.querySelectorAll('[role=main] [role=menuitem] [role=presentation] a[href]'),\n      );\n      const link = links.find((l) => URLRegex.test(l.href));\n\n      if (link) {\n        const url = new URL(link.href);\n\n        documentId = url.searchParams.get('id');\n      }\n    }\n\n    return documentId;\n  };\n\n  const getID = (observer) => {\n    let pathArray = this.getPathArray();\n    let fileId = pathArray[pathArray.indexOf('d') + 1];\n\n    if (!fileId) {\n      const iframe = $('iframe#material-iframe:last');\n\n      if (iframe.length && iframe.attr('src')) {\n        pathArray = iframe.attr('src').split('/');\n        fileId = pathArray.includes('d') ? pathArray[pathArray.indexOf('d') + 1] : '';\n      } else {\n        fileId = getPathFromButton();\n      }\n    }\n\n    if (fileId) {\n      observer.next(fileId);\n    } else {\n      observer.error(fileId);\n    }\n  };\n\n  const result = new Observable(getID);\n\n  result.pipe(\n    retryWhen((errors) => errors.pipe(\n      delay(150),\n      take(retryTimes),\n      concatMap(throwError),\n    )),\n  );\n\n  return new Promise((resolve, reject) => {\n    result.subscribe(resolve, reject);\n  });\n};\n\n/**\n * Is classroom instance\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isClassroomInstance = () => {\n  let valid = false;\n  if (this.classroomNode) {\n    valid = true;\n  }\n  return valid;\n};\n\n/**\n * Is drive instance\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isDriveInstance = () => {\n  let valid = false;\n  if (this.driveNode) {\n    valid = true;\n  }\n  return valid;\n};\n\n/**\n * Is classes list page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isClassesListPage = () => this.getPathArray().includes('h');\n\n/**\n * Is settings page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isSettingsPage = () => this.getPathArray().includes('s');\n\n/**\n * Is work page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isWorkPage = () => {\n  const pathArray = this.getPathArray();\n  let valid = false;\n  if (\n    (pathArray.indexOf('ta') >= 0 || pathArray.indexOf('a') >= 0)\n    && pathArray.indexOf('submissions') < 0\n    && pathArray.indexOf('details') < 0\n    && pathArray.indexOf('file') < 0\n  ) {\n    valid = true;\n  }\n  return valid;\n};\n\n/**\n * Is calendar page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isCalendarPage = () => {\n  const pathArray = this.getPathArray();\n  let valid = false;\n  if (pathArray.indexOf('calendar') >= 0) {\n    valid = true;\n  }\n  return valid;\n};\n\n/**\n * Is stream page\n * Pattern: /c/[classId]\n * classId: A-Za-z0-9\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isStreamPage = () => /\\/c\\/[\\w]+\\/?$/g.test(getPath()) || this.isClassworkPage();\n\n/**\n * Is classwork page\n * Pattern: /w/[classID]/t/all\n * classId: A-Za-z0-9\n * @memberof module:Path/Service\n * @returns {Boolean}\n */\nexport const isClassworkPage = () => /\\/w\\/[\\w]+\\/t\\/all/g.test(getPath());\n\n/**\n * Is students page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isStudentsPage = () => {\n  const pathArray = this.getPathArray();\n  let valid = false;\n  if (pathArray.indexOf('r') >= 0) {\n    valid = true;\n  }\n  return valid;\n};\n\n/**\n * Is classmates page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isClassmatesPage = () => {\n  const pathArray = this.getPathArray();\n  let valid = false;\n  if (pathArray.indexOf('r') >= 0) {\n    valid = true;\n  }\n  return valid;\n};\n\n/**\n * Is about page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isAboutPage = () => {\n  const pathArray = this.getPathArray();\n  let valid = false;\n  if (pathArray.indexOf('o') >= 0) {\n    valid = true;\n  }\n  return valid;\n};\n\n/**\n * Is student work page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isStudentWorkPage = () => {\n  const pathArray = this.getPathArray();\n  let valid = false;\n  if (pathArray.indexOf('submissions') >= 0 && pathArray.indexOf('sa') < 0) {\n    valid = true;\n  }\n  return valid;\n};\n\n/**\n * Is instructions page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isInstructionsPage = () => {\n  const pathArray = this.getPathArray();\n  let valid = false;\n  if (pathArray.indexOf('details') >= 0 && pathArray.indexOf('pa') < 0) {\n    valid = true;\n  }\n  return valid;\n};\n\n/**\n * Was student work page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const wasStudentWorkPage = () => {\n  let valid = false;\n\n  if (!this.oldPath || this.oldPath === getPath()) {\n    return valid;\n  }\n\n  const pathArray = this.oldPath.split('/');\n  if (pathArray.indexOf('submissions') >= 0) {\n    valid = true;\n  }\n  return valid;\n};\n\n/**\n * Was instructions page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const wasInstructionsPage = () => {\n  let valid = false;\n\n  if (!this.oldPath) {\n    return valid;\n  }\n\n  const pathArray = this.oldPath.split('/');\n  if (pathArray.indexOf('details') >= 0) {\n    valid = true;\n  }\n  return valid;\n};\n\nexport const isCourseChanged = () => this.oldCourseId && this.oldCourseId !== this.getClassroomId();\n\n/**\n * Set old path\n * @memberof module:Path/Service\n * @param {String} oldPath Selected old path\n */\nexport const setOldPath = (oldPath) => {\n  this.oldPath = oldPath;\n};\n\n/**\n * Set old course id\n * @memberof module:Path/Service\n * @param {Number} oldCourseId Selected old course ID\n */\nexport const setOldCourseId = (oldCourseId) => {\n  this.oldCourseId = oldCourseId;\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n/**\n * @module Common/BaseClasses\n *\n * @description\n * This class is responsible for auto-unbinding watchers added\n * in the $onInit method. There is no need to do it each time in the same way\n *\n * @example\n *\n * class Example extends UnbindableCtrlBase {\n *     constructor($rootScope) {\n *         'ngInject';\n *\n *         super();\n *         this.$rootScope = $rootScope;\n *     }\n *\n *  $onInit() {\n *   this.boundEvents.push(\n *     this.$rootScope.$on(\n *       Events.UPDATED_COURSES,\n *       () => console.log('event'),\n *     ),\n *   );\n * }\n *\n */\nexport class UnbindableCtrlBase {\n  constructor() {\n    'ngInject';\n    this.boundEvents = [];\n  }\n\n  $onDestroy() {\n    this.boundEvents.forEach(unbindFn => unbindFn());\n  }\n}\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\nimport { Locale } from './locale';\nimport { HttpStatusCode } from '../enums/httpStatusCode.enum';\nimport { RequestType } from '../../shared/enums/requestType.enum.ts';\n\n/**\n * @module Data/Service\n * @description\n *   Handle sending requests to Background JS\n *   and resolve promise on data recieve.\n *   Contain list of all endpoints.\n *   It can be tested on https://studybee.devmerix.com/docs/\n * @param {Object} $q Angular $q object\n * @param {Object} $timeout Angular $timeout object\n * @param {Object} Config Config service instance\n */\n\n\nexport class FetchData {\n  static MODE = { showLoading: 0, showError: 1 };\n\n  static ACTION = { fetch: 'fetchData' };\n\n  constructor($q, $timeout, Config, HttpInterceptor) {\n    'ngInject';\n\n    this.$q = $q;\n    this.$timeout = $timeout;\n    this.Config = Config;\n    this.interceptors = HttpInterceptor;\n    this.activeRequest = 0;\n  }\n\n  increaseActiveRequestCount() {\n    this.$timeout(() => {\n      this.activeRequest += 1;\n    });\n  }\n\n  decreaseActiveRequestCount() {\n    this.$timeout(() => {\n      if (this.showLoading()) {\n        this.activeRequest -= 1;\n      }\n    });\n  }\n\n  async sendRequest(config) {\n    let promise = this.$q.resolve(config);\n\n    promise = this.applyRequestInterceptors(promise);\n    promise = promise.then(this.serverRequest.bind(this));\n    promise = this.applyResponseInterceptors(promise);\n    promise.finally(this.decreaseActiveRequestCount.bind(this));\n\n    return promise;\n  }\n\n  /**\n   * Sending request to Background JS and handle response\n   * @memberof module:FetchData/Service\n   * @param {Object} config {\n   * url: Request URL,\n   * method: Request method,\n   * data: Request data,\n   * auth: Request auth\n   * }\n   */\n  serverRequest(config) {\n    const deferred = this.$q.defer();\n    const ignoreShowLoading = this.addressException(config, FetchData.MODE.showLoading);\n    const requestConfig = { ...config, action: FetchData.ACTION.fetch };\n    const label = `api: ${config.url.split('/').slice(3).join('/')}`;\n    // console.log('xxx config: ', config);\n    console.time(label);\n\n    if (!ignoreShowLoading) {\n      this.increaseActiveRequestCount();\n    }\n\n    chrome.runtime.sendMessage(requestConfig, (response) => {\n      const extendedResponse = { ...response, config };\n      console.timeEnd(label);\n      if (extendedResponse.status < HttpStatusCode.BAD_REQUEST) {\n        // console.log(`xxx response ${config.url}: `, extendedResponse);\n        deferred.resolve(extendedResponse);\n      } else {\n        deferred.reject(extendedResponse);\n      }\n    });\n\n    return deferred.promise;\n  }\n\n  chainInterceptors(promise, interceptors) {\n    return [].concat(interceptors)\n      .reduce(\n        ($promise) => $promise.then(interceptors.shift(), interceptors.shift()),\n        promise,\n      );\n  }\n\n  applyRequestInterceptors(promise) {\n    const requestInterceptors = [];\n    this.interceptors.forEach((interceptor) => {\n      if (interceptor.request || interceptor.requestError) {\n        requestInterceptors.unshift(interceptor.request, interceptor.requestError);\n      }\n    });\n\n    return this.chainInterceptors(promise, requestInterceptors);\n  }\n\n  applyResponseInterceptors(promise) {\n    const responseInterceptors = [];\n\n    this.interceptors.forEach((interceptor) => {\n      if (interceptor.response || interceptor.responseError) {\n        responseInterceptors.push(interceptor.response, interceptor.responseError);\n      }\n    });\n\n    return this.chainInterceptors(promise, responseInterceptors);\n  }\n\n  async sendAPIRequest(url, method = RequestType.GET, data = {}) {\n    const config = { url: `${this.Config.apiUrl}${url}`, method, data };\n    // console.log('api request: ', JSON.stringify(config));\n    const d = await this.sendRequest(config);\n    // console.log(`api response: ${config.url}:`, d);\n    return d;\n  }\n\n  sendAPIRequestWithParams(params = {}, url, method, data) {\n    const paramsString = Object.keys(params)\n      .map((key) => {\n        const param = params[key];\n\n        if (Array.isArray(param)) {\n          return param.map(((_param) => `${key}=${encodeURIComponent(_param)}`));\n        }\n\n        return params[key] ? `${key}=${encodeURIComponent(params[key])}` : '';\n      })\n      .flat()\n      .filter((param) => !!param)\n      .join('&');\n\n    const query = paramsString ? `?${paramsString}` : '';\n\n    return this.sendAPIRequest(`${url}${query}`, method, data);\n  }\n\n  addressException(config, mode) {\n    // Don't show loading if there is saving indicatior\n    // It's for Teacher Assess Assignment, Teacher Assess Assignment Student,\n    // Teacher Assess Course, Teacher Assess Course Student and\n    // Teacher Assignment Objectives\n    const exceptionShowLoading = [\n      '/classes/objective_assessments/',\n      '/classes/assessments/',\n      '/classes/course_objective_assessments/',\n      '/classes/course_assessments/',\n      '/classes/assessment_drive/',\n      '/classes/course_definitions/',\n      '/classes/assess_course_assessments_batch_update/',\n      '/classes/assess_course_assessments/',\n      '/classes/course_objective_assessments/',\n      '/classes/objective_assessments_assess_course/',\n    ];\n\n    // Don't show error if classroom courses or drive courses return error\n    // It's for handle situation when user is logged in on private account\n    const exceptionShowError = [\n      '/classes/drive_courses/',\n      '/classes/courses/',\n    ];\n\n    switch (mode) {\n      case FetchData.MODE.showLoading:\n        return exceptionShowLoading\n          .some((addressElem) => config.url.indexOf(addressElem) >= 0 && config.method === 'PUT');\n\n      case FetchData.MODE.showError:\n        return exceptionShowError\n          .some((addressElem) => config.url.indexOf(addressElem) >= 0 && config.method === 'GET');\n\n      default:\n        return false;\n    }\n  }\n\n  showLoading() {\n    return !!this.activeRequest;\n  }\n\n  getUserData() {\n    return this.sendAPIRequest('/users/user_data/', RequestType.GET);\n  }\n\n  getUsersAgreementSeen() {\n    return this.sendAPIRequest('/users/agreement-seen/', RequestType.GET);\n  }\n\n  updateUserAgreementSeen() {\n    return this.sendAPIRequest('/users/agreement-seen/', RequestType.POST);\n  }\n\n  getInactiveUserMessage() {\n    return this.sendAPIRequest('/users/inactive-user-message/', RequestType.GET);\n  }\n\n  getClassroomCourse(courseId) {\n    return this.sendAPIRequest(`/classes/courses/${courseId}/`, RequestType.GET);\n  }\n\n  /**\n   * Method that return course informations related to file\n   * @memberof module:Data/Service\n   * @param {Number} fileId Selected file ID\n   * @param {Number} alternateLinkId Selected assignment ID\n   * @return {Object}\n   */\n  getDriveCourse(fileId, alternateLinkId) {\n    return this.sendAPIRequestWithParams(\n      { alternate_link_id: alternateLinkId },\n      `/classes/drive_courses/${fileId}/`,\n      RequestType.GET,\n    );\n  }\n\n  /**\n   * Method for getting the knowledge requirement of an objective\n   * @memberof module:Data/Service\n   * @param {Number} objectiveId Selected objective ID\n   * @return {Object}\n   */\n  getSingleObjectiveRequirements(objectiveId) {\n    return this.sendAPIRequest(`/objectives/objectives/${objectiveId}/`, RequestType.GET);\n  }\n\n  /**\n   * Method that return grade systems and list of objectives available for assignment\n   * @memberof module:Data/Service\n   * @param {Number} assignmentId Selected assignment ID\n   */\n  getAssignedObjectivesToAssignment(assignmentId) {\n    return this.sendAPIRequest(`/classes/assigned_objectives_to_assignment/${assignmentId}/`, RequestType.GET);\n  }\n\n  /**\n   * Method that update grade systems and list of objectives assign to the assignment\n   * @memberof module:Data/Service\n   * @param {Number} assignmentId Selected assignment ID\n   * @param {Object} settings New settings\n   */\n  patchAssignedObjectivesToAssignment(assignmentId, settings) {\n    return this.sendAPIRequest(\n      `/classes/assignment_details/${assignmentId}/`,\n      RequestType.PATCH,\n      settings,\n    );\n  }\n\n  /**\n   * Method that return list of objectives for assignment with nested students\n   * @memberof module:Data/Service\n   * @param {Number} assignmentId Selected assignment ID\n   * @param {Number} courseId Selected course ID\n   * @return {Array}\n   */\n  getAssignmentsObjectives(assignmentId, courseId) {\n    return this.sendAPIRequest(\n      `/classes/assignments_objectives/${assignmentId}/?course_id=${courseId}`,\n      RequestType.GET,\n    );\n  }\n\n  /**\n   * Method that return list of students for assignment with nested objectives\n   * @memberof module:Data/Service\n   * @param {Number} assignmentId Selected assignment ID\n   * @return {Array}\n   */\n  getAssignmentsStudents(assignmentId, courseId) {\n    return this.sendAPIRequest(\n      `/classes/assessments/${assignmentId}/?course_id=${courseId}`,\n      RequestType.GET,\n    );\n  }\n\n  /**\n   * Method for update assignments objectives\n   * @memberof module:Data/Service\n   * @param {Number} assignmentId Selected assignment ID\n   * @param {Array} students List of students\n   */\n  putAssignmentsObjectives(assignmentId, students) {\n    return this.sendAPIRequest(\n      `/classes/assessments/${assignmentId}/`,\n      RequestType.PUT,\n      students,\n    );\n  }\n\n  /**\n   * Method that return list of assessments for the student in assignment\n   * @memberof module:Data/Service\n   * @param {Number} assignmentId Selected assignment ID\n   * @param {Number} studentId Selected student ID\n   */\n  getObjectiveAssessments(assignmentId, studentId) {\n    return this.sendAPIRequest(\n      `/classes/objective_assessments/${assignmentId}/${studentId}/`,\n      RequestType.GET,\n    );\n  }\n\n  /**\n   * Method for update objective assessments\n   * @memberof module:Data/Service\n   * @param {Array} assessments List of assessments\n   */\n  putObjectiveAssessments(assessments) {\n    return this.sendAPIRequest('/classes/objective_assessments/', RequestType.PUT, assessments);\n  }\n\n  /**\n   * Method for getting the assignments for student\n   * @memberof module:Data/Service\n   * @param {String} courseId Selected course ID\n   * @param {Object} Params\n   * @return {Array}\n   */\n  getStudentAssignments(courseId, params = {}) {\n    return this.sendAPIRequestWithParams(params, `/classes/student_assignments/${courseId}/`, RequestType.GET);\n  }\n\n  /**\n   * Method for getting the single assignments for student\n   * @memberof module:Data/Service\n   * @param {Number} courseId Selected course ID\n   * @return {Object}\n   */\n  getStudentAssignment(assignmentId) {\n    return this.sendAPIRequest(`/classes/assessment_details/${assignmentId}/`, RequestType.GET);\n  }\n\n  /**\n   * Method for getting the list of school for User Setup\n   * @memberof module:Data/Service\n   * @param {String} query Query String\n   * @param {Number} educationalSystemId Selected educational system ID\n   * @param limit - limit of the records\n   * @return {Object}\n   */\n  getSchool(query, educationalSystemId, limit = '') {\n    return this.sendAPIRequest(\n      `/schools/school/?filter=${query}&educational_system=${educationalSystemId}&limit=${limit}`,\n      RequestType.GET,\n    );\n  }\n\n  /**\n   * Method for getting the list of school for User Setup\n   * @memberof module:Data/Service\n   * @param {Number} schooldId Selected school ID\n   * @return {Object}\n   */\n  getSchoolById(schooldId) {\n    return this.sendAPIRequest(`/schools/school/${schooldId}/`, RequestType.GET);\n  }\n\n  /**\n   * Method for getting information for User Setup\n   * @memberof module:Data/Service\n   * @param {String} language Selected language String\n   * @return {Array}\n   */\n  getFirstTimeSetupData(language) {\n    return this.sendAPIRequest(`/schools/first_time_setup/?language=${language}`, RequestType.GET);\n  }\n\n  /**\n   *\n   * @param courseId\n   * @param preferences\n   * @returns {*}\n   */\n  getCourseSetup(courseId) {\n    return this.sendAPIRequest(`/v2/classes/course_setup/${courseId}/`, RequestType.GET);\n  }\n\n  updateCourseSetup(courseId, preferences) {\n    return this.sendAPIRequest(\n      `/v2/classes/course_setup/${courseId}/`,\n      RequestType.PUT,\n      preferences,\n    );\n  }\n\n  /**\n   * Method to get user preferences\n   * @memberof module:Data/Service\n   * @return {Object}\n   */\n  getUserPreferences() {\n    return this.sendAPIRequest('/schools/user_setup/', RequestType.GET);\n  }\n\n  /**\n   * Method for update user preferences for User Setup\n   * @memberof module:Data/Service\n   * @param {Object} preferences New preferences\n   */\n  updateUserPreferences(preferences) {\n    return this.sendAPIRequest('/schools/user_setup/', RequestType.POST, preferences);\n  }\n\n  /**\n   * Method for getting assessment for Google Drive\n   * @memberof module:Data/Service\n   * @param {Number} fileId Selected file ID\n   * @param {String} alternateLinkId assessment ID\n   * @return {IPromise}\n   */\n  getAssessmentDrive(fileId, alternateLinkId = null) {\n    return this.sendAPIRequestWithParams(\n      { alternate_link_id: alternateLinkId },\n      `/classes/assessment_drive/${fileId}/`,\n      RequestType.GET,\n    );\n  }\n\n  /**\n   * Method for update main student's information for Google Drive\n   * @memberof module:Data/Service\n   * @param {Number} fileId Selected file ID\n   * @param {Object} assessments Single assessment\n   */\n  putObjectiveAssessmentsDrive(fileId, assessments) {\n    return this.sendAPIRequest(`/classes/assessment_drive/${fileId}/`, RequestType.PUT, assessments);\n  }\n\n  /**\n   * Method for getting updated students list\n   * @memberof module:Data/Service\n   * @param {Number} courseId Selected course ID\n   * @return {Array}\n   */\n  getStudentsList(courseId) {\n    return this.sendAPIRequest(`/classes/students/${courseId}/`, RequestType.GET);\n  }\n\n  /**\n   * Method for getting updated assignments list\n   * @memberof module:Data/Service\n   * @param {Number} courseId Selected course ID\n   * @return {Array}\n   */\n  updateAssignmentsList(courseId) {\n    return this.sendAPIRequest(`/classes/assignments_new/${courseId}/`, RequestType.GET);\n  }\n\n  /**\n   * Method for getting files list for assignment\n   * @memberof module:Data/Service\n   * @param {Number} assignmentId Selected assignment ID\n   * @return {Array}\n   */\n  updateFilesListForAssignment(assignmentId) {\n    return this.sendAPIRequest(`/classes/assignment_submissions/${assignmentId}/`, RequestType.GET);\n  }\n\n  /**\n   * Method for getting list of assignments grouped by status\n   * @memberof module:Data/Service\n   * @param {Number} courseId Selected course ID\n   * @return {Array}\n   */\n  getAssignments(courseId) {\n    return this.sendAPIRequest(`/classes/course_stream_details/${courseId}/`, RequestType.GET);\n  }\n\n  /**\n   * Method for getting the assignmentId\n   * @memberof module:Data/Service\n   * @param {String} courseId Selected course ID\n   * @param {String} assingmentTitle Assignment title\n   * @return {Array}\n   */\n  getAssignmentId(courseId, assignmentTitle) {\n    return this.sendAPIRequest(\n      `/classes/assignment_id/?course_id=${courseId}&title=${assignmentTitle}`,\n      RequestType.GET,\n    );\n  }\n\n  /**\n   * Method for getting extension information from backend\n   * @memberof module:Data/Service\n   * @param {String} language Selected language string\n   * @return {Object}\n   */\n  getBackendInfo(language) {\n    return this.sendAPIRequest(\n      `/extension/information_to_user/?language=${language}`,\n      RequestType.GET,\n    );\n  }\n\n  /**\n   * Method for track event data for Mixpanel\n   * @memberof module:Data/Service\n   * @param {String} mixpanelData Contains information about events\n   */\n  mixpanelTrack(mixpanelData) {\n    // return fetch(`${this.Config.mixpanelApiUrl}/track?data=${mixpanelData}`);\n  }\n\n  /**\n   * Method for engage user data for Mixpanel\n   * @memberof module:Data/Service\n   * @param {String} mixpanelData Contains information about events\n   */\n  mixpanelEngage(mixpanelData) {\n    // return fetch(`${this.Config.mixpanelApiUrl}/engage?data=${mixpanelData}`);\n  }\n\n  /**\n   * Method for get download PDF key\n   * @memberof module:Data/Service\n   * @param {Number} studentId Selected student ID\n   * @param {Number} courseDefinitionId Selected course definition ID\n   */\n  getDownloadKey(studentId, courseDefinitionId) {\n    return this.sendAPIRequest(\n      `/classes/grade-export-key/${studentId}/${courseDefinitionId}/`,\n      RequestType.GET,\n    );\n  }\n\n  getStudentDetails(studentId) {\n    return this.sendAPIRequest(`/users/student-details/${studentId}/`, RequestType.GET);\n  }\n\n  updateStudentDetails(studentId, data) {\n    return this.sendAPIRequest(`/users/student-details/${studentId}/`, RequestType.PATCH, data);\n  }\n\n  getColleagueEmails() {\n    return this.sendAPIRequest('/users/colleague-emails/', RequestType.GET);\n  }\n\n  addColleagueEmail(email) {\n    return this.sendAPIRequest('/users/colleague-emails/', RequestType.POST, { email });\n  }\n\n  removeColleagueEmail(colleagueEmailId) {\n    return this.sendAPIRequest(`/users/colleague-emails/${colleagueEmailId}/`, RequestType.DELETE);\n  }\n\n  get v2() {\n    return {\n      getAssignmentByAlternateLink: (assignmentAlternateLink) => this.sendAPIRequest(\n        `/v2/classes/assignment-alternate-link/${assignmentAlternateLink}/`,\n        RequestType.GET,\n      ),\n\n      /**\n       * Method for get assignment assessments\n       * @memberof module:Data/Service\n       * @param {Number} assignmentId Selected assignment ID\n       * @param {Number} studentId Selected student ID\n       * @param {Array} assessments List of assessments\n       */\n      getAssignmentAssessments: (assignmentId, studentId) => this.sendAPIRequest(\n        `/v2/classes/assignment_assessment/${assignmentId}/${studentId}/`,\n        RequestType.GET,\n      ),\n\n      /**\n       * Method for update assignment assessments\n       * @memberof module:Data/Service\n       * @param {Number} assignmentId Selected assignment ID\n       * @param {Object} assignmentAssessments Assignment assessments\n       */\n      putAssignmentAssessments: (assignmentId, assignmentAssessments) => this.sendAPIRequest(\n        `/v2/classes/assignment_assessment/${assignmentId}/`,\n        RequestType.PUT,\n        assignmentAssessments,\n      ),\n\n      /**\n       * Method that return a list of course definitions for assignment\n       * @memberof module:Data/Service\n       * @param {Number} assignmentId Selected assignment ID\n       * @param {Number} courseId Selected course ID\n       * @return {Array}\n       */\n      getSimpleAssignmentsObjectives: (assignmentId, courseId) => this.sendAPIRequest(\n        `/v2/classes/assignments_objectives/${assignmentId}/?course_id=${courseId}`,\n        RequestType.GET,\n      ),\n\n      /**\n       * Method that return a list of assessments for the student in assignment\n       * @memberof module:Data/Service\n       * @param {Number} assignmentId Selected assignment ID\n       * @param {Number} studentId Selected student ID\n       */\n      getObjectiveAssessments: (assignmentId, studentId) => this.sendAPIRequest(\n        `/v2/classes/objective_assessments/${assignmentId}/${studentId}/`,\n        RequestType.GET,\n      ),\n\n      /**\n       * Method for getting grade systems\n       * @memberof module:Data/Service\n       * @param {String} courseId Selected course ID\n       * @param {String} assignmentId optional current assignment ID\n       */\n      getGradeSystems: (courseId, assignmentId) => this.sendAPIRequestWithParams(\n        { assignment_id: assignmentId },\n        `/v2/classes/course-grade-systems/${courseId}/`,\n        RequestType.GET,\n      ),\n    };\n  }\n\n  get v3() {\n    return {\n      /**\n       *\n       * @param courseDefinitionId\n       * @returns {*}\n       */\n      getCourseDefinitionObjectives: (courseDefinitionId) => this.sendAPIRequest(\n        `/v3/classes/course-definitions/${courseDefinitionId}/objectives/`,\n        RequestType.GET,\n      ),\n\n      getStudentCoursesDefinitions: (studentId) => this.sendAPIRequest(\n        `/v3/classes/students/${studentId}/courses-definitions-assessments/`,\n        RequestType.GET,\n      ),\n\n      getCourseDefinitionAssessment: (studentId, courseDefinitionId) => this.sendAPIRequest(\n        `/v3/classes/students/${studentId}/courses-definitions-assessments/${courseDefinitionId}/`,\n        RequestType.GET,\n      ),\n\n      updateCourseDefinitionAssessment: (studentId, courseDefinitionId, assessment) => this.sendAPIRequest(\n        `/v3/classes/students/${studentId}/courses-definitions-assessments/${courseDefinitionId}/`,\n        RequestType.PUT,\n        assessment,\n      ),\n\n      /**\n       *\n       */\n      getCourseDefinitionObjectiveAssessments: (\n        studentId,\n        courseDefinitionId,\n      ) => this.sendAPIRequest(\n        `/v3/classes/students/${studentId}/courses-definitions/${courseDefinitionId}/course-definition-objective-assessments/`,\n        RequestType.GET,\n      ),\n\n      updateCourseDefinitionObjectiveAssessment: (\n        studentId,\n        courseDefinitionId,\n        assessment,\n      ) => this.sendAPIRequest(`/v3/classes/students/${studentId}/courses-definitions/${courseDefinitionId}/course-definition-objective-assessments/${assessment.objective.id}/`,\n        RequestType.PUT, assessment),\n\n      getCourseDefinitionObjectiveAssessment: (\n        studentId,\n        courseDefinitionId,\n        objectiveId,\n      ) => this.sendAPIRequest(`/v3/classes/students/${studentId}/courses-definitions/${courseDefinitionId}/course-definition-objective-assessments/${objectiveId}/`,\n        RequestType.GET),\n\n      getObjectiveAssessments: (\n        studentId,\n        objectiveId,\n      ) => this.sendAPIRequest(`/v3/classes/students/${studentId}/objectives/${objectiveId}/objective-assessments/`,\n        RequestType.GET),\n\n      updateObjectiveAssessments: (\n        studentId,\n        objectiveId,\n        assessment,\n      ) => this.sendAPIRequest(`/v3/classes/students/${studentId}/objectives/${objectiveId}/objective-assessments/${assessment.assignment.id}/`,\n        RequestType.PUT, assessment),\n\n      updateKnowledgeRequirement: (courseId, knowledgeRequirement) => this.sendAPIRequest(\n        `/v3/classes/${courseId}/knowledge-requirements/${knowledgeRequirement.id}/`,\n        RequestType.PUT,\n        knowledgeRequirement,\n      ),\n\n      deleteObjective: (courseDefinition, objective) => this.sendAPIRequest(\n        `/v3/classes/course-definitions/${courseDefinition.id}/objectives/${objective.id}/`,\n        RequestType.DELETE,\n      ),\n\n      updateObjective: (courseDefinition, objective) => this.sendAPIRequest(\n        `/v3/classes/course-definitions/${courseDefinition.id}/objectives/${objective.id}/`,\n        RequestType.PATCH,\n        objective,\n      ),\n\n      createObjective: (courseDefinition, objective) => this.sendAPIRequest(\n        `/v3/classes/course-definitions/${courseDefinition.id}/objectives/`,\n        RequestType.POST,\n        objective,\n      ),\n\n      getObjectives: (courseDefinition) => this.sendAPIRequest(\n        `/v3/classes/course-definitions/${courseDefinition.id}/objectives/`,\n        RequestType.GET,\n      ),\n\n      deleteCourse: (courseId, courseDefinition) => this.sendAPIRequest(\n        `/v3/classes/${courseId}/courses-definitions/${courseDefinition.id}/`,\n        RequestType.DELETE,\n      ),\n\n      createCourseDefinition: (courseId, courseData) => this.sendAPIRequest(\n        `/v3/classes/${courseId}/courses-definitions/`,\n        RequestType.POST,\n        courseData,\n      ),\n\n      addCourseDefinitionToClassroom: (courseId, courseDefinition) => this.sendAPIRequest(\n        `/v3/classes/${courseId}/courses-definitions/copy-to-classroom/`,\n        RequestType.POST,\n        { template_course_id: courseDefinition.id },\n      ),\n\n      saveCourseToLibrary: (originCourseId, name, code) => this.sendAPIRequest(\n        '/v3/curriculum-library/',\n        RequestType.POST,\n        {\n          course_id: originCourseId,\n          name,\n          code,\n        },\n      ),\n\n      getStudybeeCurriculums: (searchParams) => this.sendAPIRequestWithParams(\n        searchParams,\n        '/v3/studybee-curriculums/',\n        RequestType.GET,\n      ),\n\n      getSchoolCurriculums: (searchParams) => this.sendAPIRequestWithParams(\n        searchParams,\n        '/v3/school-curriculums/',\n        RequestType.GET,\n      ),\n\n      getCurriculumLibrary: (searchParams) => this.sendAPIRequestWithParams(\n        searchParams,\n        '/v3/curriculum-library/',\n        RequestType.GET,\n      ),\n\n      /**\n       *\n       * @param courseId\n       * @returns {*}\n       */\n      getUsersStatusesForCoursesAndObjectives: (courseId) => this.sendAPIRequest(`/v3/classes/${courseId}/students/course-statuses/`, RequestType.GET),\n\n      getUserStatusesForCoursesAndObjectives: (courseId, studentId) => this.sendAPIRequest(\n        `/v3/classes/${courseId}/students/${studentId}/courses-statuses/`,\n        RequestType.GET,\n      ),\n\n      getCourseDefinitions: (courseId) => this.sendAPIRequest(`/v3/classes/${courseId}/courses-definitions/`, RequestType.GET),\n\n      getCourseDefinition: (courseId, courseDefinitionId) => this.sendAPIRequest(\n        `/v3/classes/${courseId}/courses-definitions/${courseDefinitionId}/`,\n        RequestType.GET,\n      ),\n\n      updateCourseDefinition: (courseId, courseDefinition) => this.sendAPIRequest(`/v3/classes/${courseId}/courses-definitions/${courseDefinition.id}/`,\n        RequestType.PUT,\n        courseDefinition),\n\n      allUsersCurriculums: (params) => this.sendAPIRequestWithParams(params, '/v3/all-users-curriculums/', RequestType.GET),\n\n      getPrivateCurriculums: () => this.sendAPIRequest(\n        '/v3/curriculum-library/private/',\n        RequestType.GET,\n      ),\n\n      getPublicCurriculums: () => this.sendAPIRequest(\n        '/v3/curriculum-library/shared-with-school/',\n        RequestType.GET,\n      ),\n\n      getGlobalCurriculums: () => this.sendAPIRequest(\n        '/v3/curriculum-library/shared-with-all/',\n        RequestType.GET,\n      ),\n\n      makeCurriculumPrivate: (curriculum) => this.sendAPIRequest(\n        `/v3/curriculum-library/${curriculum.id}/set-private/`,\n        RequestType.PATCH,\n      ),\n\n      makeCurriculumPublic: (curriculum) => this.sendAPIRequest(\n        `/v3/curriculum-library/${curriculum.id}/set-shared-with-school/`,\n        RequestType.PATCH,\n      ),\n\n      makeCurriculumGlobal: (curriculum) => this.sendAPIRequest(\n        `/v3/curriculum-library/${curriculum.id}/set-shared-with-all/`,\n        RequestType.PATCH,\n      ),\n\n      updateCurriculumInLibrary: (curriculum) => this.sendAPIRequest(\n        `/v3/curriculum-library/${curriculum.id}/`,\n        RequestType.PATCH,\n        curriculum,\n      ),\n\n      addCurriculumToClassroom: (curriculum, courseId) => this.sendAPIRequest(\n        `/v3/curriculum-library/${curriculum.id}/add-to-classroom/`,\n        RequestType.POST,\n        { course_id: courseId },\n      ),\n\n      removeCurriculumFromLibrary: (curriculum) => this.sendAPIRequest(\n        `/v3/curriculum-library/${curriculum.id}/`,\n        RequestType.DELETE,\n      ),\n\n      getCurriculumDetails: (curriculum) => this.sendAPIRequest(\n        `/v3/curriculum-library/${curriculum.id}/`,\n        RequestType.GET,\n      ),\n\n      // TODO - remove it after some tests\n      // getClassroomEducationalSystem(classroomId) {\n      //   return sendAPIReq(`/v3/classes/${classroomId}/educational-system/`, RequestType.GET);\n      // },\n\n      getScales: (searchParams) => this.sendAPIRequestWithParams(\n        searchParams,\n        '/v3/schools/scale/',\n      ),\n\n      getEducationalStages: (searchParams) => this.sendAPIRequestWithParams(\n        searchParams,\n        '/v3/schools/educational-stage/',\n      ),\n\n      getEducationalSystems: () => this.sendAPIRequest('/v3/schools/educational-system/', 'GET'),\n\n      setObjectiveAssessmentSeen: (studentId, objectiveId, assessment) => this.sendAPIRequest(\n        `/v3/classes/students/${studentId}/objectives/${objectiveId}/objective-assessments/${assessment.assignment.id}/set-seen/`,\n        RequestType.PATCH,\n      ),\n\n      getExportKeyForAllStudents: (courseId) => this.sendAPIRequest(`/v3/classes/export-grades/key/${courseId}/`, RequestType.GET),\n\n      getExportKeyForStudent: (courseId, courseDefinitionId, studentId) => this.sendAPIRequest(\n        `/v3/classes/export-grades/key/${courseId}/${courseDefinitionId}/${studentId}/`,\n        RequestType.GET,\n      ),\n\n      exportAllStudentsResultsOnGoogleDrive: (fileFormat, courseId) => this.sendAPIRequest(\n        `/v3/classes/export-grades/drive/${fileFormat}/${courseId}/`,\n        RequestType.GET,\n      ),\n\n      exportStudentResultsOnGoogleDrive: (fileFormat, courseId, studentId) => this.sendAPIRequest(\n        `/v3/classes/export-grades/drive/${fileFormat}/${courseId}/${studentId}/`,\n        RequestType.GET,\n      ),\n\n      checkStatusOfExportStudentsResultsToGoogleDrive: (exportId) => this.sendAPIRequest(\n        `/v3/classes/export-grades/drive/result/${exportId}/`,\n        RequestType.GET,\n      ),\n\n      getUserAgreement: (languageCode = Locale.getISOLanguageCode()) => this.sendAPIRequest(`/v3/schools/user-agreement/${languageCode}/`, RequestType.GET),\n\n      getObjectiveAssignmentAssessments: (studentId, objectiveId, params = {}) => this.sendAPIRequestWithParams(\n        params,\n        `/v3/classes/students/${studentId}/objectives/`\n        + `${objectiveId}/objective-assignment-assessments/`,\n        RequestType.GET,\n      ),\n\n      patchObjectiveAssignmentAssessments: (studentId, objectiveId, assignment) => this.sendAPIRequest(\n        `/v3/classes/students/${studentId}/objectives/`\n        + `${objectiveId}/objective-assignment-assessments/${assignment.assignment_id}/`,\n        RequestType.PATCH,\n        assignment,\n      ),\n\n      patchObjectiveAssignmentAssessmentsSeen: (studentId, objectiveId, assignment) => this.sendAPIRequest(\n        `/v3/classes/students/${studentId}/objectives/`\n        + `${objectiveId}/objective-assignment-assessments/${assignment.assignment_id}/set-seen/`,\n        RequestType.PATCH,\n        assignment,\n      ),\n\n      patchAssignmentAssessmentsGroupedVisibility: (courseId, assignmentId, groupedVisibility) => this.sendAPIRequest(\n        `/v3/classes/${courseId}/assignment-assessments/grouped-visibility/${assignmentId}/`,\n        RequestType.PATCH,\n        groupedVisibility,\n      ),\n\n      patchCourseAssessmentsGroupedVisibility: (courseId, groupedVisibility) => this.sendAPIRequest(\n        `/v3/classes/${courseId}/course-assessments/grouped-visibility/`,\n        RequestType.PATCH,\n        groupedVisibility,\n      ),\n\n      getCoverageMatrixGradeSystem: (studentId, courseDefinitionId) => this.v3.getCourseDefinitionObjectiveAssessments(studentId, courseDefinitionId),\n\n      getAssignments: (courseId, state, params) => this.sendAPIRequestWithParams(\n        params,\n        `/v3/classes/${courseId}/assignments/${state}/`,\n        RequestType.GET,\n      ),\n\n      getAssignmentAssessment: (studentId, courseDefinitionId, params) => this.sendAPIRequestWithParams(\n        params,\n        `/v3/classes/students/${studentId}/courses-definitions/${courseDefinitionId}/assignment-assessments/`,\n        RequestType.GET,\n      ),\n\n      updateAssignmentAssessment: (objectiveAssignmentAssessment, courseDefinitionId) => this.sendAPIRequest(\n        `/v3/classes/students/${objectiveAssignmentAssessment.student_id}/courses-definitions/${courseDefinitionId}/assignment-assessments/${objectiveAssignmentAssessment.assignment_id}/`,\n        RequestType.PATCH,\n        objectiveAssignmentAssessment,\n      ),\n\n      getListObjectiveAssessments: (studentId, courseDefinitionId, assignmentId) => this.sendAPIRequest(\n        `/v3/classes/students/${studentId}/courses-definitions/${courseDefinitionId}/assignments/${assignmentId}/objective-assessments/`,\n        RequestType.GET,\n      ),\n\n      updateObjectiveAssessmentsByCourseId: (studentId, courseDefinitionId, objective) => this.sendAPIRequest(\n        `/v3/classes/students/${studentId}/courses-definitions/${courseDefinitionId}/assignments/${objective.assignment.id}/objective-assessments/${objective.objective.id}/`,\n        RequestType.PATCH,\n        objective,\n      ),\n\n      fetchAssignmentAssessments: (courseId, assignmentId) => this.sendAPIRequest(\n        `/v3/classes/${courseId}/assignments/${assignmentId}/assessments/`,\n        RequestType.GET,\n      ),\n\n      // synchronization part\n      synchronize: {\n        students: (courseId) => this.sendAPIRequest(`/v3/${courseId}/synchronize-students/`, RequestType.GET),\n\n        assignments: (courseId) => this.sendAPIRequest(`/v3/${courseId}/synchronize-assignments/`, RequestType.GET),\n      },\n    };\n  }\n}\n","export enum RequestType {\n  DELETE = 'DELETE',\n  GET = 'GET',\n  PATCH = 'PATCH',\n  POST = 'POST',\n  PUT = 'PUT'\n}\n","export * from './assignments.query';\nexport * from './assignments.store';\nexport * from './assignments.service';\nexport * from './assignment.model';\n","export * from './assessments.query';\nexport * from './assessments.store';\nexport * from './assessments.service';\nexport * from './assessment.model';\n","import angular, { IModule } from 'angular';\nimport uiRouter from '@uirouter/angularjs';\nimport { routerConfig } from './teacherCourseManagement.routing';\n\nexport const TeacherCourseManagementModule: IModule = angular\n  .module('app.courseManagement.teacher', [uiRouter])\n  .config(routerConfig);\n\nexport default TeacherCourseManagementModule.name;\n\n\nexport * from './teacherCourseManagement.component';\nexport * from './cmCurriculumLibrary/cmCurriculumLibrary.component';\nexport * from './cmTeacherCourseDetails/cmTeacherCourseDetails.component';\nexport * from './cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectives.component';\nexport * from './cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectivesList/cmTeacherObjectivesList.component';\nexport * from './cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectivesToolbar/cmTeacherObjectivesToolbar.component';\nexport * from './cmTeacherCoursesList/cmTeacherCoursesList.component';\n","import angular, { IModule } from 'angular';\nimport uiRouter from '@uirouter/angularjs';\nimport { TeacherAssignmentsRouting } from './teacherAssignments.routing';\n\nexport const TeacherAssignmentsModule: IModule = angular\n  .module('app.assignments.teacherAssignments', [uiRouter])\n  .config(TeacherAssignmentsRouting);\n\nexport default TeacherAssignmentsModule.name;\n\nexport * from './shared/components/teacherAssessmentsList/teacherAssessmentsList.component';\nexport * from './shared/components/teacherAssignmentsDraftsList/teacherAssignmentsDraftsList.component';\nexport * from './shared/components/teacherAssignmentsList/teacherAssignmentsList.component';\nexport * from './teacherAssignments.component';\nexport * from './teacherAssignments.service';\nexport * from './teacherAssignmentsDrafts/teacherAssignmentsDrafts.component';\nexport * from './teacherAssignmentsNotConfigured/teacherAssignmentsNotConfigured.component';\nexport * from './teacherAssignmentsPublished/teacherAssignmentsPublished.component';\n","import { getTranslation } from \"../i18n\";\nimport { ReactComponent as SortIcon } from \"../images/sort.svg\";\nimport { colors } from \"../theme\";\nimport {GlobalContext} from '../utils';\nimport React, {useContext} from 'react';\nimport Tooltip from \"./tooltip\";\n\nconst SortStudentComponent = (props) => {\n  const {style = {}} = props;\n  const context = useContext(GlobalContext);\n  const {sortingMethod, setSortingMethod} = context;\n\n  const sortName = getTranslation(\n    sortingMethod === \"firstName\"\n      ? \"studentsActionMenuSortByLastNameAsc\"\n      : \"studentsActionMenuSortByFirstNameAsc\"\n  ).toLowerCase();\n\n  return (\n    <Tooltip\n      title={`${getTranslation(\"studentsActionMenuSortByLabel\")} ${sortName}`}\n    >\n      <div style={style}>\n        <SortIcon\n          style={{\n            height: \"25px\",\n            cursor: \"pointer\",\n            transform: `rotate(${sortingMethod === \"firstName\" ? 0 : 180}deg)`,\n            border: \"0px solid blue\",\n          }}\n          fill={colors.darkGrey}\n          onClick={async () => {\n            const newSort = sortingMethod === \"firstName\" ? \"lastName\" : \"firstName\";\n            setSortingMethod(newSort)\n          }}\n        />\n      </div>\n    </Tooltip>\n  );\n};\n\nexport default SortStudentComponent;\n","export default __webpack_public_path__ + \"images/d06df6eadcf64ddc92cfa6a35ac8bb98-result-done.png\";","export default __webpack_public_path__ + \"images/df396fd7a6632d8a58045f1208a00f49-icon_feedback.png\";","export default __webpack_public_path__ + \"images/b74cd44344f5eeb6c87e90a5af63fa7b-sb-ico-self-assessment.png\";","import React, {memo} from \"react\";\nimport resultImage from '../images/png/result-done.png'\nimport feedbackImage from '../images/png/icon_feedback.png'\nimport {colors, fonts} from \"../theme\";\nimport noteImage from '../images/png/sb-ico-note.png'\nimport assessmentImage from '../images/png/sb-ico-self-assessment.png'\nimport {getTranslation} from \"../i18n\";\nimport Tooltip from \"./tooltip\";\nimport Icon from \"./icon\";\nimport PublishedIcon from \"./publishedIcon\";\n\nconst item = {\n  display: \"flex\",\n  width: \"40px\",\n  height: \"50px\",\n  border: \"0px solid red\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  flexDirection: \"column\",\n};\n\nconst styles = {\n  gradeContaiener: {...item, marginRight: \"8px\"},\n  gridStyle: {display: \"flex\", alignItems: \"center\", justifyContent: \"space-around\"},\n  feedbackIcon: {width: '18px', height: '16px', marginBottom: \"4px\", marginTop: '2px'},\n  assessmentIcon: {width: \"20px\", height: \"20px\", marginBottom: \"10px\"},\n  resultIcon: {marginBottom: \"3px\", height: \"20px\", width: \"18px\"},\n  noteIcon: {height: \"18px\", width: \"16px\", marginBottom: \"10px\", marginRight: \"10px\"},\n  iconContainer: {display: \"flex\", justifyContent: \"center\"},\n  gradeText: {...fonts.LARGE, fontWeight: \"800\"},\n};\n\nconst tt = getTranslation(\"overallFeedback\");\nconst tt2 = getTranslation(\"teacherSelfAssessmentLabel\");\nconst tt3 = getTranslation(\"resultsInput\");\nconst tt4 = getTranslation(\"courseProgressAssessmentLabel\");\nconst tt5 = getTranslation(\"overallPrivateNotesMode\");\n\nconst GridSummaryItem = ({assessment, style}) => {\n  return (\n    <div style={{...styles.gridStyle, ...style}}>\n      <Tooltip title={tt}>\n        <div style={item}>\n          <Icon file={feedbackImage} active={!!assessment.feedback} style={styles.feedbackIcon}/>\n          <PublishedIcon published={assessment.feedback_published} active={!!assessment.feedback}/>\n        </div>\n      </Tooltip>\n      <Tooltip title={tt2}>\n        <div style={styles.iconContainer}>\n          <Icon file={assessmentImage} active={!!assessment.self_assessment} style={styles.assessmentIcon}/>\n        </div>\n      </Tooltip>\n      <Tooltip title={tt3}>\n        <div style={item}>\n          <Icon file={resultImage} active={!!assessment.result} style={styles.resultIcon}/>\n          <PublishedIcon published={assessment.result_published} active={!!assessment.result}/>\n        </div>\n      </Tooltip>\n      <Tooltip title={tt4}>\n        <div style={{...styles.gradeContaiener, backgroundColor: assessment?.grade_color}}>\n          <span style={{...styles.gradeText, color: assessment?.grade_color ? colors.white : colors.iconColorLight}}>\n            {assessment.grade_name || \"-\"}\n          </span>\n          {assessment.grade_name && (\n            <PublishedIcon published={assessment.grade_published} active={true} white/>\n          )}\n        </div>\n      </Tooltip>\n      <Tooltip title={tt5}>\n        <div style={styles.iconContainer}>\n          <Icon file={noteImage} active={!!assessment.private_note} style={styles.noteIcon}/>\n        </div>\n      </Tooltip>\n    </div>\n  );\n};\n\nexport default GridSummaryItem;\n","import * as angular from 'angular';\nimport { IModule, IInterceptorOptions } from 'angular';\nimport { HttpInterceptorProvider } from '../providers/httpInterceptor.provider';\n\nexport const Interceptor: (options?: IInterceptorOptions) => any = (options: IInterceptorOptions = {}): <T extends { new(...args: any[]): {} }>(constructor: T) => any => {\n\n  const getOrCreateInterceptorModule: () => IModule = (): IModule => {\n    const moduleName: string = 'app';\n    let module: IModule;\n\n    if (options.module) {\n      try {\n        module = angular.module(`${options.module}`);\n      } catch (err) {\n        module = null;\n      }\n    }\n\n    if (!module) {\n      try {\n        module = angular.module(`${moduleName}`);\n      } catch (err) {\n        console.error(`Error on register interceptor in module ${moduleName}. Module ${moduleName} is not exists.`, err);\n        module = null;\n      }\n    }\n\n    return module;\n  };\n\n  const buildFactoryFunction: (interceptorFactory: { new(...args: any[]): any } ) => any = (interceptorFactory: { new(...args: any[]): any } ): any => {\n    const factory: Function = (...args: any[]): any => {\n      const interceptor: any = new interceptorFactory(...args);\n\n      Object.keys(Object.getPrototypeOf(interceptor)).forEach((key: string): void => {\n        if (interceptor[key] instanceof Function) {\n          interceptor[key] = interceptor[key].bind(interceptor);\n        }\n      });\n\n      return interceptor;\n    };\n\n    return [...interceptorFactory.$inject || [], factory] as any;\n  };\n\n  return <T extends { new(...args: any[]): {} }>(constructor: T): T => {\n    const module: IModule = getOrCreateInterceptorModule();\n\n    if (module) {\n      module.config((HttpInterceptorProvider: HttpInterceptorProvider) => {\n        'ngInject';\n        HttpInterceptorProvider.add(buildFactoryFunction(constructor), options.order);\n      });\n    }\n\n    return constructor;\n  };\n};\n\n","export interface IBreadcrumbGoTo extends Function {\n  (): void;\n  params?: any;\n}\n\nexport interface IBreadcrumb {\n  label: string;\n  action: IBreadcrumbGoTo;\n}\n\nexport class Breadcrumb implements IBreadcrumb {\n  constructor(public label: string, public action: IBreadcrumbGoTo = () => {}) {\n  }\n}\n","export enum AssignmentOrder {\n  ASC_CREATED = 'assignment_created',\n  ASC_LAST_CHANGE = 'assessment_last_changed',\n  ASC_TITLE = 'assignment_title',\n  ASC_TYPE = 'assignment_type_order',\n  DESC_CREATED = '-assignment_created',\n  DESC_LAST_CHANGE = '-assessment_last_changed',\n  DESC_TITLE = '-assignment_title',\n  DESC_TYPE = '-assignment_type_order',\n}\n","export enum GroupedVisibilityDialogType {\n  AssignmentView,\n  AssignmentStudentView,\n  StudentProgressView\n}\n","import { Injectable } from '@angular/core';\nimport { EntityState, EntityStore, StoreConfig } from '@datorama/akita';\nimport { HttpCache } from './http-cache.model';\n\nexport interface HttpCacheState extends EntityState<HttpCache> {}\n\n@Injectable({ providedIn: 'root' })\n@StoreConfig({ name: 'httpCache' })\nexport class HttpCacheStore extends EntityStore<HttpCacheState> {\n\n  constructor() {\n    super();\n  }\n\n}\n\n","import {Injectable} from '@angular/core';\nimport {EntityState, EntityStore, EntityUIStore, runStoreAction, StoreActions, StoreConfig} from '@datorama/akita';\nimport {Assignment, AssignmentsUI, AssignmentUI, createAssignments, createAssignmentsUI, createAssignmentUI} from './assignment.model';\n\nexport interface AssignmentsState extends EntityState<Assignment> {\n  ui: AssignmentsUI;\n}\n\nexport interface AssignmentUIState extends EntityState<AssignmentUI> {\n}\n\n@Injectable({providedIn: 'root'})\n@StoreConfig({name: 'assignments'})\nexport class AssignmentsStore extends EntityStore<AssignmentsState> {\n  ui: EntityUIStore<AssignmentUIState>;\n\n  constructor() {\n    super(createAssignments({ui: createAssignmentsUI()}));\n    this.createUIStore().setInitialEntityState(createAssignmentUI);\n    this.setHasCache(false);\n  }\n\n  forceRefreshEntities() {\n    runStoreAction(this.storeName, StoreActions.UpdateEntities, {\n      payload: {\n        data: {},\n        entityIds: 0,\n      },\n    });\n  }\n}\n","import {EntityState, HashMap, ID, Order} from '@datorama/akita';\nimport {Assessment} from '../assignment/assessments/state';\nimport {AssessmentStatus} from '../../../shared/models/assessment.model';\n\nexport type AssignmentSortFn = (assignment: Assignment) => number;\n\nexport enum AssignmentType {\n  STANDARD_ASSIGNMENT = 'STANDARD_ASSIGNMENT',\n  WITHOUT_ASSESSMENT_CRITERIAS = 'WITHOUT_ASSESSMENT_CRITERIAS',\n  WORK_UNIT = 'WORK_UNIT',\n  EMPTY = '',\n}\n\nexport enum AssignmentState {\n  DELETED = 'DELETED',\n  DRAFT = 'DRAFT',\n  PUBLISHED = 'PUBLISHED',\n}\n\n/**\n * @deprecated\n * Instead of this use AssignmentType\n */\nexport enum AssignmentWorktype {\n  ASSIGNMENT = 'ASSIGNMENT',\n  SHORT_ANSWER_QUESTION = 'SHORT_ANSWER_QUESTION',\n}\n\nexport enum AssignmentSortBy {\n  CREATED = 'CREATED',\n  LAST_CHANGED = 'LAST_CHANGED',\n  TITLE = 'TITLE',\n  TYPE = 'TYPE',\n}\n\nexport interface AssignmentSimple {\n  google_id?: ID;\n  id: ID;\n  state: AssignmentState;\n  title: string;\n  worktype: AssignmentWorktype;\n}\n\nexport interface Assignment extends AssignmentSimple {\n  alternate_link_id: ID;\n  assessment_last_changed: string | number;\n  assessments: (Assessment & ID)[];\n  assignment_created: string | number;\n  assignment_not_assessable: boolean;\n  assignment_type: AssignmentType;\n  assignments_for_topic: (Assignment & ID)[];\n  classroom_name: string;\n  is_topic: boolean;\n}\n\nexport interface AssignmentsResponse {\n  without_topic: Assignment[];\n  topics: Assignment[];\n}\n\nexport interface NormalizeAssignmentsResponse {\n  assignments?: HashMap<Assignment>;\n  assessments?: HashMap<Assessment>;\n  assignmentsForTopic?: HashMap<Assignment>;\n}\n\nexport interface AssignmentMenuItem {\n  label: string;\n}\n\nexport interface AssignmentFilter {\n  state: AssignmentState[];\n  type: AssignmentType[];\n}\n\nexport interface AssignmentFilterItem extends AssignmentMenuItem {\n  state?: AssignmentState;\n  type?: AssignmentType;\n}\n\nexport interface AssignmentSort {\n  by: keyof Assignment;\n  order: Order;\n}\n\nexport interface AssignmentSortItem extends AssignmentSort, AssignmentMenuItem {\n}\n\nexport interface AssignmentUI {\n  isExpanded: boolean;\n}\n\nexport interface AssignmentsUI {\n  filters: AssignmentFilter;\n  sort: AssignmentSort;\n}\n\nexport function createAssignmentUI(params: Partial<AssignmentUI>) {\n  return {\n    isExpanded: false,\n    ...params\n  } as AssignmentUI;\n}\n\nexport function createAssignmentsUI(params?: Partial<AssignmentsUI>) {\n  return {\n    filters: {\n      state: [AssignmentState.PUBLISHED, AssignmentState.DRAFT],\n      type: [\n        AssignmentType.STANDARD_ASSIGNMENT,\n        AssignmentType.WITHOUT_ASSESSMENT_CRITERIAS,\n        AssignmentType.WORK_UNIT,\n        AssignmentType.EMPTY,\n      ]\n    },\n    sort: {\n      by: 'assignment_type',\n      order: Order.ASC,\n    },\n    ...params\n  } as AssignmentsUI;\n}\n\nexport function createAssignments(params?: Partial<EntityState<Assignment>>) {\n  return {\n    ...params,\n  } as EntityState<Assignment>;\n}\n\nexport function createAssignment(params: Partial<Assignment>) {\n  return {\n    ...params\n  } as Assignment;\n}\n","import {Injectable} from '@angular/core';\nimport {EntityState, EntityStore, runStoreAction, StoreActions, StoreConfig} from '@datorama/akita';\nimport {Assessment, AssessmentsUI, createAssessments, createAssessmentsUI} from './assessment.model';\n\nexport interface AssessmentsState extends EntityState<Assessment> {\n  ui: AssessmentsUI;\n}\n\n@Injectable({providedIn: 'root'})\n@StoreConfig({name: 'assessments'})\nexport class AssessmentsStore extends EntityStore<AssessmentsState> {\n  constructor() {\n    super(createAssessments({ui: createAssessmentsUI()}));\n    this.setHasCache(false);\n  }\n\n  forceRefreshEntities() {\n    runStoreAction(this.storeName, StoreActions.UpdateEntities, {\n      payload: {\n        data: {},\n        entityIds: 0,\n      },\n    });\n  }\n\n}\n\n","import {EntityState, ID, Order} from '@datorama/akita';\n\nexport type AssessmentSortFn = (assessment: Assessment) => number;\n\n/**\n * @deprecated\n * Instead of this use AssessmentStatus\n */\nexport enum AssessmentStatusOld {\n  ND = 'ND',\n  NL = 'NL',\n  NV = 'NV',\n  NN = 'NN',\n  AV = 'AV',\n  AN = 'AN',\n  WV = 'WV',\n  WN = 'WN',\n}\n\nexport enum AssessmentStatus {\n  ASSESSING = 'ASSESSING',\n  ASSESSMENT_DONE = 'ASSESSMENT_DONE',\n  NOT_ASSESSED = 'NOT_ASSESSED',\n  WARNING = 'WARNING',\n}\n\nexport interface Assessment {\n  assessment_status: AssessmentStatusOld;\n  fail_warning: boolean;\n  id: ID;\n  status_new: AssessmentStatus;\n  student_id: ID;\n  student_name: string;\n}\n\nexport interface AssessmentSort {\n  by: keyof Assessment;\n  order: Order;\n}\n\nexport interface AssessmentSortItem extends AssessmentSort {\n  label: string;\n}\n\nexport interface AssessmentsUI {\n  sort: AssessmentSort;\n}\n\nexport interface AssessmentStatusUpdateBody {\n  grades_visible?: boolean;\n  objectives_feedback_visible?: boolean;\n  overall_feedback_visible?: boolean;\n  result_visible?: boolean;\n  status?: AssessmentStatus;\n}\n\nexport interface AssessmentVisibilityDialog extends AssessmentStatusUpdateBody {\n  id?: ID;\n  saved?: boolean;\n}\n\nexport interface AssessmentStatusUpdateResponse {\n  id?: ID;\n  fail_warning?: boolean;\n}\n\nexport interface AssessmentVisibility {\n  grades_visible?: boolean;\n  objectives_feedback_visible?: boolean;\n  overall_feedback_visible?: boolean;\n  result_visible?: boolean;\n  status?: AssessmentStatus;\n  student_ids?: ID[];\n}\n\nexport function createAssessment(params: Partial<Assessment>) {\n  return {\n    ...params\n  } as Assessment;\n}\n\nexport function createAssessments(params: Partial<EntityState<Assessment>>) {\n  return {\n    ...params\n  } as Assessment;\n}\n\nexport function createAssessmentsUI(params?: Partial<AssessmentsUI>) {\n  return {\n    sort: {\n      by: 'student_name',\n      order: Order.ASC,\n    },\n    ...params\n  } as AssessmentsUI;\n}\n","import angular, { IModule } from 'angular';\nimport uiRouter from '@uirouter/angularjs';\nimport { routerConfig } from './studentCourseManagement.routing';\n\nexport const StudentCourseManagementModule: IModule = angular\n  .module('app.courseManagement.student', [uiRouter])\n  .config(routerConfig);\n\nexport default StudentCourseManagementModule.name;\n\nexport * from './studentCourseManagement.component';\nexport * from './cmStudentCoursesList/cmStudentCoursesList.component';\nexport * from './cmStudentCourseDetails/cmStudentCourseDetails.component';\nexport * from './cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectives.component';\nexport * from './cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectivesList/cmStudentObjectivesList.component';\nexport * from './cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectivesToolbar/cmStudentObjectivesToolbar.component';\n","import {EntityState, HashMap, ID, Order} from '@datorama/akita';\n\nexport type AssignmentSortFn = (assignment: Assignment) => number;\n\n/**\n * @deprecated\n * Instead of this use AssessmentStatus\n */\nexport enum AssessmentStatusOld {\n  ND = 'ND',\n  NL = 'NL',\n  NV = 'NV',\n  NN = 'NN',\n  AV = 'AV',\n  AN = 'AN',\n  WV = 'WV',\n  WN = 'WN',\n}\n\nexport enum AssignmentState {\n  DELETED = 'DELETED',\n  DRAFT = 'DRAFT',\n  PUBLISHED = 'PUBLISHED',\n}\n\nexport enum AssessmentStatus {\n  ASSESSING = 'ASSESSING',\n  ASSESSMENT_DONE = 'ASSESSMENT_DONE',\n  NOT_ASSESSED = 'NOT_ASSESSED',\n  WARNING = 'WARNING',\n}\n\nexport enum AssignmentType {\n  STANDARD_ASSIGNMENT = 'STANDARD_ASSIGNMENT',\n  WITHOUT_ASSESSMENT_CRITERIAS = 'WITHOUT_ASSESSMENT_CRITERIAS',\n  WORK_UNIT = 'WORK_UNIT',\n  EMPTY = '',\n}\n\nexport interface NormalizeAssignmentsResponse {\n  assignments?: HashMap<Assignment>;\n}\n\nexport interface Assignment {\n  assessment_last_changed: string | number;\n  assessments_for_topic: (Assignment & ID)[];\n  assignment_created: string | number;\n  assignment_id: ID;\n  assignment_is_topic: Boolean;\n  assignment_not_assessable: boolean;\n  assignment_title: string;\n  assignment_type: AssignmentType;\n  classroom_name: string;\n  fail_warning: boolean;\n  id: ID;\n  result_last_edit: number | string;\n  result_only: boolean;\n  status: AssessmentStatusOld,\n  status_new: AssessmentStatus;\n}\n\nexport interface AssignmentMenuItem {\n  label: string;\n}\n\nexport interface AssignmentFilter {\n  state: AssignmentState[];\n  type: AssignmentType[];\n}\n\nexport interface AssignmentFilterItem extends AssignmentMenuItem {\n  state?: AssignmentState;\n  type?: AssignmentType;\n}\n\nexport interface AssignmentSort {\n  by: keyof Assignment;\n  order: Order;\n}\n\nexport interface AssignmentSortItem extends AssignmentSort, AssignmentMenuItem {\n}\n\nexport interface AssignmentsUI {\n  filters: AssignmentFilter;\n  sort: AssignmentSort;\n}\n\nexport function createAssignments(params?: Partial<EntityState<Assignment>>) {\n  return {\n    ...params\n  } as EntityState<Assignment>;\n}\n\nexport function createAssignmentsUI(params?: Partial<AssignmentsUI>) {\n  return {\n    filters: {\n      state: [],\n      type: [\n        AssignmentType.STANDARD_ASSIGNMENT,\n        AssignmentType.WITHOUT_ASSESSMENT_CRITERIAS,\n        AssignmentType.WORK_UNIT,\n        AssignmentType.EMPTY,\n      ]\n    },\n    sort: {\n      by: 'assignment_type',\n      order: Order.ASC,\n    },\n    ...params\n  } as AssignmentsUI;\n}\n","import {Injectable} from '@angular/core';\nimport {EntityState, EntityStore, runStoreAction, StoreActions, StoreConfig} from '@datorama/akita';\nimport {Assignment, AssignmentsUI, createAssignments, createAssignmentsUI} from './assignment.model';\n\n\nexport interface AssignmentsState extends EntityState<Assignment> {\n  ui: AssignmentsUI;\n}\n\n@Injectable({providedIn: 'root'})\n@StoreConfig({name: 'assignments'})\nexport class AssignmentsStore extends EntityStore<AssignmentsState> {\n\n  constructor() {\n    super(createAssignments({ui: createAssignmentsUI()}));\n    this.setHasCache(false);\n  }\n\n  forceRefreshEntities() {\n    runStoreAction(this.storeName, StoreActions.UpdateEntities, {\n      payload: {\n        data: {},\n        entityIds: 0,\n      },\n    });\n  }\n}\n\n","import React from 'react';\nimport { CircularProgress } from '@material-ui/core';\nimport { colors } from '../theme';\n\nconst FullscreenProgress = () => (\n    <div\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        alignItems: 'center',\n        justifyContent: 'center',\n        display: 'flex',\n      }}\n    >\n      <CircularProgress size={60}/>\n    </div>\n);\n\nexport default FullscreenProgress;\n","export enum HttpStatusCode {\n  ACCEPTED = 202,\n  BAD_GATEWAY = 502,\n  BAD_REQUEST = 400,\n  CONFLICT = 409,\n  CONTINUE = 100,\n  CREATED = 201,\n  EXPECTATION_FAILED = 417,\n  FAILED_DEPENDENCY = 424,\n  FORBIDDEN = 403,\n  GATEWAY_TIMEOUT = 504,\n  GONE = 410,\n  HTTP_VERSION_NOT_SUPPORTED = 505,\n  IM_A_TEAPOT = 418,\n  INSUFFICIENT_SPACE_ON_RESOURCE = 419,\n  INSUFFICIENT_STORAGE = 507,\n  INTERNAL_SERVER_ERROR = 500,\n  LENGTH_REQUIRED = 411,\n  LOCKED = 423,\n  METHOD_FAILURE = 420,\n  METHOD_NOT_ALLOWED = 405,\n  MOVED_PERMANENTLY = 301,\n  MOVED_TEMPORARILY = 302,\n  MULTI_STATUS = 207,\n  MULTIPLE_CHOICES = 300,\n  NETWORK_AUTHENTICATION_REQUIRED = 511,\n  NO_CONTENT = 204,\n  NON_AUTHORITATIVE_INFORMATION = 203,\n  NOT_ACCEPTABLE = 406,\n  NOT_FOUND = 404,\n  NOT_IMPLEMENTED = 501,\n  NOT_MODIFIED = 304,\n  OK = 200,\n  PARTIAL_CONTENT = 206,\n  PAYMENT_REQUIRED = 402,\n  PERMANENT_REDIRECT = 308,\n  PRECONDITION_FAILED = 412,\n  PRECONDITION_REQUIRED = 428,\n  PROCESSING = 102,\n  PROXY_AUTHENTICATION_REQUIRED = 407,\n  REQUEST_HEADER_FIELDS_TOO_LARGE = 431,\n  REQUEST_TIMEOUT = 408,\n  REQUEST_TOO_LONG = 413,\n  REQUEST_URI_TOO_LONG = 414,\n  REQUESTED_RANGE_NOT_SATISFIABLE = 416,\n  RESET_CONTENT = 205,\n  SEE_OTHER = 303,\n  SERVICE_UNAVAILABLE = 503,\n  SWITCHING_PROTOCOLS = 101,\n  TEMPORARY_REDIRECT = 307,\n  TOO_MANY_REQUESTS = 429,\n  UNAUTHORIZED = 401,\n  UNPROCESSABLE_ENTITY = 422,\n  UNSUPPORTED_MEDIA_TYPE = 415,\n  USE_PROXY = 305,\n}\n","export const environment: Environment = {\n  appName: 'app',\n  production: true,\n  release: RELEASE,\n  urls: {\n    API_EU: 'https://prodpy.studybee.io',\n    API_US: 'https://prodpy.studybee.io',\n    mixPanel: 'https://api-eu.mixpanel.com',\n    raven: 'https://035b3ff92a36483196c0cdcd72a868dc@sentry.10clouds.com/158',\n  },\n};\n","export type IUnsubscribe = () => void;\nexport type IObserverNext<T = any> = (value: T) => void;\n\nexport interface IObserver<T = any> {\n  closed?: boolean;\n  next: IObserverNext;\n}\n\nexport class Observer<T = any> implements IObserver<T> {\n\n  public closed: boolean = false;\n  public next: IObserverNext<T>;\n\n  constructor(next: IObserverNext<T>) {\n    'ngInject';\n    this.next = next;\n  }\n}\n\n\n\n","import { Service } from '../../../utils/decorators/service.decorator';\nimport { ListViewType } from '../../enums/listViewType.enum';\nimport { IListViewMenuItem } from '../../models/listViewMenuItem.model';\nimport SharedServicesModule, { ILocalStorageService, IUserInfoService } from '../services.module';\n\nexport interface IListViewMenuService {\n  getListViewMenu(storageId: string): IListViewMenuItem[];\n  saveListViewMenu(storageId: string, listViewMenu: IListViewMenuItem[]): void;\n}\n\n@Service({\n  module: SharedServicesModule,\n  name: 'ListViewMenuService',\n})\nexport class ListViewMenuService implements IListViewMenuService {\n  private readonly userId: string;\n  private readonly defaultMenuItems: IListViewMenuItem[];\n\n  constructor(private LocalStorageService: ILocalStorageService, UserInfo: IUserInfoService) {\n    'ngInject';\n\n    this.userId = UserInfo.id;\n    this.defaultMenuItems = [\n      {\n        id: ListViewType.TITLE_ONLY,\n        label: 'teacherCurriculumObjectivesToolbarMenuItemTitleOnly',\n        checked: false,\n        eventArgs: { view: ListViewType.TITLE_ONLY },\n      },\n      {\n        id: ListViewType.TITLE_AND_DESCRIPTION,\n        label: 'teacherCurriculumObjectivesToolbarMenuItemTitleDescription',\n        checked: true,\n        eventArgs: { view: ListViewType.TITLE_AND_DESCRIPTION },\n      },\n      {\n        id: ListViewType.DESCRIPTION_ONLY,\n        label: 'teacherCurriculumObjectivesToolbarMenuItemDescriptionOnly',\n        checked: false,\n        eventArgs: { view: ListViewType.DESCRIPTION_ONLY },\n      },\n    ];\n  }\n\n  public getListViewMenu(storageId: string): IListViewMenuItem[] {\n    const key: string = this.buildStorageKey(storageId);\n\n    if (this.LocalStorageService.exists(key)) {\n      return this.validateCheckedState(this.restoreListViewMenu(storageId));\n    }\n\n    return this.copyDefaultListViewMenu();\n  }\n\n  public saveListViewMenu(storageId: string, listViewMenu: IListViewMenuItem[]): void {\n    const key: string = this.buildStorageKey(storageId);\n    const listViewMenuItem: IListViewMenuItem = listViewMenu\n      .find((listViewMenuItem: IListViewMenuItem): boolean => listViewMenuItem.checked);\n\n    this.LocalStorageService.set(key, `${listViewMenuItem.id}`);\n  }\n\n  private copyDefaultListViewMenu(): IListViewMenuItem[] {\n    return this.defaultMenuItems\n      .reduce((acc: IListViewMenuItem[], listViewMenuItem: IListViewMenuItem): IListViewMenuItem[] => {\n        const listViewMenuItemCopy: IListViewMenuItem = Object.assign({}, listViewMenuItem);\n\n        listViewMenuItemCopy.eventArgs = Object.assign({}, listViewMenuItem.eventArgs);\n        acc.push(listViewMenuItemCopy);\n\n        return acc;\n      }, []);\n  }\n\n  private restoreListViewMenu(storageId: string): IListViewMenuItem[] {\n    const key: string = this.buildStorageKey(storageId);\n    const lastSelectedId: string = `${this.LocalStorageService.get(key)}`;\n    const listViewMenuItems: IListViewMenuItem[] = this.copyDefaultListViewMenu();\n\n    listViewMenuItems.forEach((listViewMenuItem: IListViewMenuItem): void => {\n      listViewMenuItem.checked = `${listViewMenuItem.id}` === lastSelectedId;\n    });\n\n    return listViewMenuItems;\n  }\n\n  private validateCheckedState(listViewMenu: IListViewMenuItem[]): IListViewMenuItem[] {\n    const allCheckedItems: IListViewMenuItem[] = listViewMenu\n      .filter((listViewMenuItem: IListViewMenuItem): boolean => listViewMenuItem.checked);\n\n    if (!allCheckedItems.length) {\n      listViewMenu[0].checked = true;\n    } else if (allCheckedItems.length > 1) {\n      listViewMenu[0].checked = true;\n      listViewMenu.slice(1).forEach((listViewMenuItem: IListViewMenuItem): void => {\n        listViewMenuItem.checked = false;\n      });\n    }\n\n    return listViewMenu;\n  }\n\n  private buildStorageKey(storageId: string): string {\n    return `${this.userId}LastSelectedListView${storageId}`;\n  }\n}\n","import { Service } from '../../../utils/decorators/service.decorator';\nimport SharedServicesModule from '../services.module';\n\nexport interface ILocalStorageService {\n  clear(): void;\n  exists(key: string): boolean;\n  getArray<T = any>(key: string): T[];\n  get(key: string): string;\n  remove(key: string): void;\n  setArray(key: string, value: any[]): void;\n  set(key: string, value: string): void;\n}\n\n@Service({\n  name: 'LocalStorageService',\n  module: SharedServicesModule,\n})\nexport class LocalStorageService implements ILocalStorageService {\n\n  public clear(): void {\n    window.localStorage.clear();\n  }\n\n  public exists(key: string): boolean {\n    return window.localStorage.getItem(key) !== null;\n  }\n\n  public getArray<T = any>(key: string): T[] {\n    return JSON.parse(this.get(key));\n  }\n\n  public get(key: string): string {\n    return window.localStorage.getItem(key);\n  }\n\n  public remove(key: string): void {\n    window.localStorage.removeItem(key);\n  }\n\n  public setArray(key: string, value: any[]): void {\n    this.set(key, JSON.stringify(value));\n  }\n\n  public set(key: string, value: string): void {\n    window.localStorage.setItem(key, value);\n  }\n}\n","import {Inject, Injectable} from '@angular/core';\nimport {Store, StoreConfig} from '@datorama/akita';\nimport {User} from './user.model';\nimport {LOCATION_DETECTION, LocationDetection} from '../../models/location-detection.model';\n\nexport interface UserState extends User {\n}\n\nexport function createInitialState(is_teacher: boolean): UserState {\n  return {\n    email: '',\n    first_name: '',\n    first_time_setup: true,\n    gdpr_check: false,\n    google_id: '',\n    id: 0,\n    is_teacher,\n    last_name: '',\n    photo_url: '',\n  };\n}\n\n@Injectable({providedIn: 'root'})\n@StoreConfig({name: 'user'})\nexport class UserStore extends Store<UserState> {\n  constructor(@Inject(LOCATION_DETECTION) protected locationDetection: LocationDetection) {\n    super(createInitialState(locationDetection.is_teacher));\n  }\n}\n","import {InjectionToken} from '@angular/core';\n\nexport interface LocationDetection {\n  existing_user_setup_in_eu: boolean;\n  is_teacher: boolean;\n  us_location_detected: boolean;\n}\n\nexport const LOCATION_DETECTION = new InjectionToken<LocationDetection>('app.location-detection');\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  \"data-name\": \"Path 1280\",\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  \"data-name\": \"Path 1281\",\n  d: \"M19.77 5.03l1.4 1.4L8.43 19.17l-5.6-5.6 1.4-1.4 4.2 4.2L19.77 5.03m0-2.83L8.43 13.54l-4.2-4.2L0 13.57 8.43 22 24 6.43 19.77 2.2z\",\n  fill: \"current\"\n});\n\nfunction SvgIconBkAssessmentDone(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24\n  }, props), _ref, _ref2);\n}\n\nexport default __webpack_public_path__ + \"images/f7251ce368efebe31a9a343d04f54bdd-icon_bk_assessment_done.svg\";\nexport { SvgIconBkAssessmentDone as ReactComponent };","import React, {\n  useContext, useEffect, useMemo, useReducer, useRef,\n} from 'react';\nimport debounce from 'lodash.debounce';\nimport Card from './card';\nimport FeedbackInput from './feedbackInput';\nimport { getGradeSystemValues, getLastModified, GlobalContext } from '../utils';\nimport { getTranslation } from '../i18n';\nimport AssessmentSlider from './assessmentSlider';\nimport { fonts } from '../theme';\nimport {PUBLISH_STATES} from \"./publishIcon\";\n\nconst resultText = getTranslation('resultsInput');\nconst overallFeedbackText = getTranslation('overallFeedback');\nconst overallPrivateNoteText = getTranslation('overallPrivateNoteInput');\nconst teacherSelfAssessmentText = getTranslation('teacherSelfAssessmentLabel');\nconst studentSelfAssessmentLabel = getTranslation('studentSelfAssessmentLabel');\n\nconst AssignmentAssessment = (props) => {\n  const {\n    onSave,\n    assignment,\n    assessment,\n    multiEdit = false,\n    filter = [\n      'result',\n      'overallFeedback',\n      'overallNote',\n      'overallGrade',\n      'selfAssessment',\n    ],\n    style,\n  } = props;\n  const context = useContext(GlobalContext);\n  const { Api, isStudent } = context;\n  const ref = useRef({ assessment });\n  const [ignored, forceUpdate] = useReducer((x) => x + 1, 0);\n\n  useEffect(() => {\n    if (multiEdit) {\n      ref.current.assessment = {\n        ...ref.current.assessment,\n        feedback: null,\n        result: null,\n        result_published: PUBLISH_STATES.dontChange,\n        grade_id: null,\n        grade_published: PUBLISH_STATES.dontChange,\n        feedback_published: PUBLISH_STATES.dontChange,\n        private_note: null,\n        status_new: 'NOT_ASSESSED',\n      };\n      forceUpdate();\n    } else {\n      ref.current.assessment = assessment;\n      forceUpdate();\n    }\n  }, [multiEdit]);\n\n  useEffect(() => {\n    ref.current.assessment = assessment;\n    forceUpdate();\n  }, [assessment]);\n\n  const debouncedUpdateAssignmentAssessment = useMemo(() => debounce(async (id, data, multiEdit, onSave, Api) => {\n    if (multiEdit) {\n      if (onSave) {\n        const {\n          // eslint-disable-next-line camelcase\n          feedback, result, private_note, grade_id, feedback_published, result_published, grade_published,\n        } = data[0];\n        onSave({\n          feedback, result, private_note, grade_id, feedback_published, result_published, grade_published,\n        });\n      }\n      return;\n    }\n    if (onSave) {\n      onSave(data);\n    }\n    await Api.updateAssignmentAssessment(data);\n  }, 1000),[assessment?.id]);\n\n  const saveGrade = async (grade) => {\n    const { assessment: ass } = ref.current;\n    ass.grade_id = grade?.id;\n    ass.grade_name = grade?.name;\n    ass.grade_color = grade?.color;\n    ass.grade_last_edit = Date.now();\n    ref.current.assessment = ass;\n    await debouncedUpdateAssignmentAssessment(assignment.id, [ass],multiEdit, onSave, Api);\n  };\n\n  const publishGrade = async (publish) => {\n    const { assessment: ass } = ref.current;\n    ass.grade_published = publish;\n    ref.current.assessment = ass;\n    await debouncedUpdateAssignmentAssessment(assignment.id, [ass],multiEdit, onSave, Api);\n  };\n\n  const changeAssignmentText = async (text, name) => {\n    const { assessment: ass } = ref.current;\n    switch (name) {\n      case 'result':\n        ass.result = text;\n        ass.result_last_edit = Date.now();\n        break;\n      case 'feedback_to_student_on_overall_assignment':\n        ass.feedback = text;\n        ass.feedback_last_edit = Date.now();\n        break;\n      case 'overall_private_note':\n        ass.private_note = text;\n        ass.private_note_last_edit = Date.now();\n        break;\n      case 'overall_self_assessment':\n        ass.self_assessment = text;\n        ass.self_assessment_last_edit = Date.now();\n        break;\n      default:\n        break;\n    }\n    ref.current.assessment = ass;\n    await debouncedUpdateAssignmentAssessment(assignment.id, [ass],multiEdit, onSave, Api);\n  };\n\n  const publishAssignmentValue = async (name, publish) => {\n    const { assessment: ass } = ref.current;\n    switch (name) {\n      case 'result':\n        ass.result_published = publish;\n        break;\n    case 'feedback_to_student_on_overall_assignment':\n        ass.feedback_published = publish;\n        break;\n      default:\n    }\n\n    ref.current.assessment = ass;\n    await debouncedUpdateAssignmentAssessment(assignment.id, [ass],multiEdit, onSave, Api);\n  };\n  const showResult = filter.find((f) => f === 'result');\n  const showFeedback = filter.find((f) => f === 'overallFeedback');\n  const showOverallNote = filter.find((f) => f === 'overallNote');\n  const showGrade = filter.find((f) => f === 'overallGrade');\n  const showSelfAssessment = filter.find((f) => f === 'selfAssessment');\n  if (!showFeedback && !showOverallNote && !showResult) {\n    return null;\n  }\n  const { gradeSystem } = assignment;\n  const gradeSystemValues = getGradeSystemValues(gradeSystem);\n\n  let defaultIndex = gradeSystemValues?.findIndex(\n    (v) => v.id === ref.current.assessment?.grade_id,\n  );\n  defaultIndex = defaultIndex < 0 ? 0 : defaultIndex;\n\n  return (\n    <>\n      <Card\n        style={{\n          margin: '10px 0 10px 0',\n          paddingTop: '10px',\n          paddingBottom: '20px',\n          ...style,\n        }}\n      >\n        {showFeedback && (\n          <FeedbackInput\n            id={'feedback_to_student_on_overall_assignment'}\n            text={ref.current.assessment?.feedback}\n            placeholder={overallFeedbackText}\n            onTextChange={changeAssignmentText}\n            published={ref.current.assessment?.feedback_published}\n            helperText={getLastModified(ref.current.assessment?.feedback_last_edit) }\n            onPublish={publishAssignmentValue}\n            readonly={isStudent}\n            hideEye={isStudent}\n            warningText={multiEdit?getTranslation('warning_overwrite_text'):''}\n            multiEdit={multiEdit}\n          />\n        )}\n        {showSelfAssessment && !multiEdit && (\n          <FeedbackInput\n            id={'overall_self_assessment'}\n            text={ref.current.assessment?.self_assessment}\n            placeholder={isStudent ? studentSelfAssessmentLabel : teacherSelfAssessmentText}\n            helperText={getLastModified(ref.current.assessment?.self_assessment_last_edit)}\n            hideEye\n            readonly={!isStudent}\n            onTextChange={changeAssignmentText}\n          />\n        )}\n        {showResult && (\n          <FeedbackInput\n            id={'result'}\n            placeholder={resultText}\n            onTextChange={changeAssignmentText}\n            text={ref.current.assessment?.result}\n            published={ref.current.assessment?.result_published}\n            onPublish={publishAssignmentValue}\n            helperText={getLastModified(ref.current.assessment?.result_last_edit) }\n            readonly={isStudent}\n            hideEye={isStudent}\n            multiEdit={multiEdit}\n            warningText={multiEdit?getTranslation('warning_overwrite_text'):''}\n          />\n        )}\n        {showGrade && gradeSystemValues.length > 1 && (\n          <>\n            <span\n              style={{\n                ...fonts.SMALL,\n                marginBottom: '10px',\n                marginTop: '10px',\n              }}\n            >\n              {getTranslation('overallAssessment')}\n            </span>\n            <AssessmentSlider\n              id={ref.current.assessment.id}\n              published={ref.current.assessment?.grade_published}\n              helpText={getLastModified(ref.current.assessment?.grade_last_edit)}\n              values={gradeSystemValues}\n              defaultIndex={defaultIndex}\n              onChangeCommit={(index) => {\n                saveGrade(\n                  gradeSystem.grades.find(\n                    (g) => g.id === gradeSystemValues[index].id,\n                  ),\n                );\n              }}\n              onPublish={(value) => publishGrade(value)}\n              showPublish={!isStudent}\n              disabled={isStudent}\n              multiEdit={multiEdit}\n            />\n          </>\n        )}\n        {(showOverallNote && !isStudent) && (\n          <FeedbackInput\n            id={'overall_private_note'}\n            text={ref.current.assessment?.private_note}\n            placeholder={overallPrivateNoteText}\n            helperText={ getLastModified(ref.current.assessment?.private_note_last_edit) }\n            hideEye\n            onTextChange={changeAssignmentText}\n            readonly={isStudent}\n            warningText={multiEdit?getTranslation('warning_overwrite_text'):''}\n          />\n        )}\n      </Card>\n    </>\n  );\n};\nexport default AssignmentAssessment;\n","export default __webpack_public_path__ + \"images/ed58b4673ca473a499080c1b5a992621-sb-ico-note.png\";","import {colors, fonts} from \"../theme\";\nimport {getTranslation} from \"../i18n\";\nimport {InputBase, ListItemText, MenuItem, Select, withStyles} from \"@material-ui/core\";\nimport React from \"react\";\n\nconst BootstrapInput = withStyles((theme) => ({\n  input: {\n    minHeight: 33,\n    padding: 4,\n    backgroundColor: 'transparent',\n    borderRadius: 4,\n  },\n}))(InputBase);\n\nconst Dropdown = ({selectStyle, multiple=false, placeholder, title, value, onChange, changedBy, modified, renderValue, options}) => {\n  return (\n    <div style={{position: 'relative',}}>\n      <div style={{display: 'flex', flexDirection: 'column'}}>\n        <span style={{...fonts.LARGE, fontWeight: 600}}>{title}</span>\n        {!!modified &&\n        <span style={{\n          ...fonts.SMALL,\n          marginTop: 5\n        }}>{getTranslation('changedBy')} {changedBy} {modified}</span>\n        }\n      </div>\n      <div>\n        <Select\n          variant={'filled'}\n          multiple={multiple}\n          style={{width: '100%', marginTop: 10, backgroundColor:colors.greyDarker, borderRadius: 4, ...selectStyle}}\n          value={value}\n          onChange={onChange}\n          renderValue={renderValue}\n          input={<BootstrapInput/>}\n        >\n          {options.map((option) => (\n            <MenuItem key={option.id} value={option.id}>\n              <ListItemText\n                primary={<span style={{...fonts.MEDIUM}}>{option.name}</span>}\n                secondary={<span style={fonts.TINY}>{option.description}</span>}\n              />\n            </MenuItem>\n          ))}\n        </Select>\n      </div>\n      {(value?.length === 0 || !value) &&\n      //  top is wrong in standalone but correct in extension so dont change!\n      <span style={{...fonts.MEDIUM, position: 'absolute', left: 15, top: modified?64:40, color: colors.textColorLighter}}>\n          {placeholder}\n        </span>\n      }\n    </div>\n  );\n};\n\nexport default Dropdown;\n","import React, { useEffect, useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { withStyles } from '@material-ui/core/styles';\nimport colors from '../theme/colors';\nimport fonts from '../theme/fonts';\n\nconst CssTextField = withStyles({\n  root: {\n    '& .MuiInputBase-input': {\n      ...fonts.LARGE,\n      padding: '2px',\n    },\n    '& .MuiFormLabel-root': {\n      ...fonts.SMALL,\n    },\n    '& label.Mui-focused': {\n      color: colors.green,\n    },\n    '& .MuiInput-underline:after': {\n      borderBottomColor: colors.green,\n    },\n  },\n})(TextField);\n\nconst GradeCounter = (props) => {\n  const {\n    name, count: initialCount, id, max, onChange, gradeId, readonly,\n  } = props;\n  const [count, setCount] = useState(initialCount);\n\n  useEffect(() => {\n    setCount(initialCount);\n  }, [initialCount]);\n\n  return (\n    <div style={{ display: 'flex', alignItems: 'center', marginRight: '8px' }}>\n      <span style={{ ...fonts.LARGE, color: colors.green, marginRight: '6px' }}>{name}</span>\n      <CssTextField disabled={readonly} type={'number'} style={{ width: '40px' }} value={count} onChange={({ target }) => {\n        let { value } = target;\n        if (value < 0) {\n          value = 0;\n        } else {\n          value = value >= max ? max : value;\n        }\n        setCount(value);\n        if (onChange) {\n          onChange({ count: parseInt(value, 10), id, gradeId });\n        }\n      }}/>\n      <span style={{ ...fonts.LARGE }}>/ {max}</span>\n\n    </div>\n  );\n};\n\nexport default GradeCounter;\n","import React, {memo, useContext, useEffect, useMemo, useRef, useState} from 'react';\nimport debounce from 'lodash.debounce';\nimport clonedeep from 'lodash.clonedeep';\nimport Header from './header';\nimport Card from './card';\nimport {colors, fonts} from '../theme';\nimport AssessmentSlider from './assessmentSlider';\nimport FeedbackInput from './feedbackInput';\nimport {getGradeSystemValues, getLastModified, GlobalContext} from '../utils';\nimport {getTranslation} from '../i18n';\nimport GradeCounter from './gradeCounter';\nimport PublishIcon from './publishIcon';\n\nconst objectiveFeedbackInputText = getTranslation('objectiveFeedbackInput');\nconst objectivePrivateNoteText = getTranslation('objectivePrivateNoteInput');\nconst teacherSelfAssessmentText = getTranslation('teacherSelfAssessmentLabel');\n\nconst ObjectivesList = (props) => {\n  const context = useContext(GlobalContext);\n  const {\n    assignmentAssessmentId,\n    courseDefinitions,\n    objectiveAssessments: initialObjectiveAssessments,\n    gradeSystem,\n    onSave,\n    failWarning,\n    filter = ['grade', 'feedback', 'note', 'studentAssessment'],\n    textFilter = '',\n    isTopic,\n    multiEdit = false,\n  } = props;\n\n  const {Api, showObjectiveDetails, isStudent} = context;\n  const objectivesToSave = useRef({});\n  const [objectiveAssessments, setObjectiveAssessments] = useState(initialObjectiveAssessments);\n\n  useEffect(() => {\n    if (multiEdit) {\n      setObjectiveAssessments(objectiveAssessments.map(a => ({\n        ...a,\n        feedback_published: false,\n        feedback_last_edit: null,\n        counter_grade_0: 0,\n        counter_grade_1: 0,\n        counter_grade_2: 0,\n        counter_grade_3: 0,\n        counter_grade_4: 0,\n        counter_grade_5: 0,\n        counter_grade_6: 0,\n        counter_grade_7: 0,\n        counter_grade_8: 0,\n        counter_grade_9: 0,\n        feedback: null,\n        grade: null,\n        grade_id: null,\n        grade_last_edit: null,\n        grade_published: false,\n        last_edit_for_student: null,\n        private_note: null,\n        private_note_last_edit: null,\n        self_assessment: null,\n        self_assessment_last_edit: null,\n      })));\n    } else {\n      objectivesToSave.current = {};\n      setObjectiveAssessments(initialObjectiveAssessments);\n    }\n  }, [multiEdit]);\n\n  useEffect(() => {\n    if (!multiEdit) {\n      setObjectiveAssessments(initialObjectiveAssessments);\n    }\n  }, [assignmentAssessmentId, initialObjectiveAssessments]);\n\n  const debouncedUpdateObjectiveAssessment = useMemo(() => debounce(async (multiEdit, onSave, objectivesToSave, Api) => {\n    if (multiEdit) {\n      onSave(objectivesToSave.current);\n      return;\n    }\n    const objectives = clonedeep(objectivesToSave.current);\n    objectivesToSave.current = {};\n    if (onSave) {\n      onSave();\n    }\n    await Api.updateObjectiveAssessmentsGql(Object.keys(objectives).map((key) => objectives[key]));\n  }, 1000), [assignmentAssessmentId]);\n\n  if (!objectiveAssessments?.length) {\n    return null;\n  }\n\n  const saveObjective = (obj) => {\n    objectivesToSave.current[obj.id] = obj;\n    debouncedUpdateObjectiveAssessment(multiEdit, onSave, objectivesToSave, Api);\n  };\n\n  const changeObjectiveText = async (text, name, {id}) => {\n    const ass = objectiveAssessments.find((a) => a.id === id);\n    switch (name) {\n      case 'feedback_to_student_on_objective':\n        ass.feedback = text;\n        ass.feedback_last_edit = Date.now();\n        break;\n      case 'private_note':\n        ass.private_note = text;\n        ass.private_note_last_edit = Date.now();\n        break;\n      case 'student_self_assessment_on_objective':\n        ass.self_asessment = text;\n        break;\n      default:\n        break;\n    }\n    await saveObjective(ass);\n  };\n\n  const changeObjectiveGrade = async (grade, {id}) => {\n    const ass = objectiveAssessments.find((a) => a.id === id);\n    ass.grade_id = grade?.id;\n    ass.grade_name = grade?.name;\n    ass.grade_last_edit = Date.now();\n    ass.grade = grade;\n    await saveObjective(ass);\n  };\n\n  const changeObjectiveGradeCount = async (data) => {\n    const {count, id, gradeId} = data;\n    const ass = objectiveAssessments.find((a) => a.id === id);\n    ass[`counter_grade_${gradeId}`] = count;\n    await saveObjective(ass);\n  };\n\n  const publishObjectiveValue = async (name, publish, {id}) => {\n    const ass = objectiveAssessments.find((a) => a.id === id);\n    switch (name) {\n      case 'grade':\n        ass.grade_published = publish;\n        break;\n      case 'feedback_to_student_on_objective':\n        ass.feedback_published = publish;\n        break;\n      default:\n        break;\n    }\n    await saveObjective(ass);\n  };\n\n  const gradeSystemValues = getGradeSystemValues(gradeSystem);\n\n  const showGrade = !!filter.find((f) => f === 'grade');\n  const showFeedback = !!filter.find((f) => f === 'feedback');\n  const showNote = !!filter.find((f) => f === 'note');\n  const showSelfAssessment = false; //filter.find((f) => f === 'studentAssessment');\n\n  if (!showGrade && !showFeedback && !showNote && !showSelfAssessment) {\n    return null;\n  }\n\n  return (\n    <>\n      {courseDefinitions?.map((courseDefinition) => {\n        const {objectives} = courseDefinition;\n        if (!objectives || objectives.length === 0) {\n          return null;\n        }\n\n        const assessments = objectives.filter((o) => objectiveAssessments.find((oa) => oa.objective_id === o.id));\n        if (!assessments.length) {\n          return null;\n        }\n        const filteredObjectives = assessments.filter((o) => o.name.toLowerCase().includes(textFilter));\n        if (filteredObjectives.length === 0) {\n          return (\n            <div>\n              <Header\n                style={{\n                  backgroundColor: isTopic ? colors.topic : colors.green,\n                }}\n                title={courseDefinition.name}\n              />\n              <span style={{...fonts.MEDIUM, marginLeft: '10px'}}>\n                {getTranslation('objectiveFilterNoMatch')}\n              </span>\n            </div>\n          );\n        }\n        return (\n          <div key={courseDefinition.id}>\n            <Header\n              style={{backgroundColor: isTopic ? colors.topic : colors.green}}\n              title={courseDefinition.name}\n            />\n            {filteredObjectives.sort((a, b) => (a.name.localeCompare(b.name, undefined, {\n              numeric: true,\n              sensitivty: 'base'\n            }))).map((objective) => {\n              const assessment = objectiveAssessments.find(\n                (a) => a.objective === objective.id\n                  || a.objective_id === objective.id,\n              );\n              const defaultIndex = gradeSystemValues.findIndex(\n                (v) => v.id === assessment?.grade_id,\n              );\n\n              return (\n                <Card style={{margin: '10px 0 10px 0'}} key={objective.id}>\n                  <span\n                    onClick={() => showObjectiveDetails(objective.id)}\n                    style={{\n                      ...fonts.MEDIUM,\n                      cursor: 'pointer',\n                      marginBottom: '10px',\n                    }}\n                  >\n                    {objective.name}\n                  </span>\n                  <div\n                    style={{...fonts.MEDIUM}}\n                    dangerouslySetInnerHTML={{\n                      __html: objective.description,\n                    }}\n                  />\n                  {showGrade && !gradeSystem?.is_counter && (\n                    <AssessmentSlider\n                      disabled={isStudent}\n                      showPublish={!isStudent}\n                      id={objective.id}\n                      published={assessment?.grade_published}\n                      helpText={getLastModified(assessment?.grade_last_edit)}\n                      values={gradeSystemValues}\n                      defaultIndex={defaultIndex < 0 ? 0 : defaultIndex}\n                      onChangeCommit={(index) => {\n                        changeObjectiveGrade(\n                          gradeSystem.grades.find(\n                            (g) => g.id === gradeSystemValues[index].id,\n                          ),\n                          assessment,\n                        );\n                      }}\n                      onPublish={(value) => publishObjectiveValue('grade', value, assessment)\n                      }\n                      multiEdit={multiEdit}\n                    />\n                  )}\n                  {showGrade && gradeSystem?.is_counter && (\n                    <div\n                      style={{\n                        display: 'flex',\n                        justifyContent: 'space-between',\n                        marginBottom: '10px',\n                      }}\n                    >\n                      <div\n                        style={{\n                          display: 'flex',\n                          flexWrap: 'wrap',\n                          justifyContent: 'space-between',\n                        }}\n                      >\n                        {gradeSystem.grades.map((g, i) => (\n                          <GradeCounter\n                            readonly={isStudent}\n                            id={assessment?.id}\n                            gradeId={i}\n                            key={g.name}\n                            name={g.name}\n                            count={assessment[`counter_grade_${i}`] || 0}\n                            max={assessment[`max_counter_grade_${i}`]}\n                            onChange={changeObjectiveGradeCount}\n                          />\n                        ))}\n                      </div>\n                      {!isStudent && (\n                        <PublishIcon\n                          multiEdit={multiEdit}\n                          published={assessment?.grade_published}\n                          onClick={(value) => publishObjectiveValue('grade', value, assessment)\n                          }\n                        />\n                      )}\n                    </div>\n                  )}\n                  {showFeedback && <FeedbackInput\n                    id={'feedback_to_student_on_objective'}\n                    assessment={assessment}\n                    published={assessment?.feedback_published}\n                    placeholder={objectiveFeedbackInputText}\n                    onTextChange={changeObjectiveText}\n                    helperText={getLastModified(assessment?.feedback_last_edit)}\n                    text={assessment?.feedback}\n                    onPublish={publishObjectiveValue}\n                    hideEye={isStudent}\n                    readonly={isStudent}\n                    warningText={multiEdit ? getTranslation('warning_overwrite_text') : ''}\n                    multiEdit={multiEdit}\n                  />}\n                  {showNote && !isStudent && (\n                    <FeedbackInput\n                      id={'private_note'}\n                      assessment={assessment}\n                      placeholder={objectivePrivateNoteText}\n                      text={assessment?.private_note}\n                      helperText={getLastModified(\n                        assessment?.private_note_last_edit,\n                      )}\n                      onTextChange={changeObjectiveText}\n                      hideEye\n                      warningText={multiEdit ? getTranslation('warning_overwrite_text') : ''}\n                      multiEdit={multiEdit}\n                    />\n                  )}\n                  {showSelfAssessment && (\n                    <FeedbackInput\n                      style={{marginBottom: '10px'}}\n                      id={'student_self_assessment_on_objective'}\n                      placeholder={teacherSelfAssessmentText}\n                      onTextChange={changeObjectiveText}\n                      text={assessment?.self_assessment}\n                      hideEye\n                      readonly\n                    />\n                  )}\n                </Card>\n              );\n            })}\n          </div>\n        );\n      })}\n    </>\n  );\n};\n\nexport default memo(ObjectivesList);\n","import { StateParams, StateService } from '@uirouter/core';\nimport angular, { IRootElementService, ITimeoutService, IWindowService } from 'angular';\nimport $ from 'jquery';\nimport { IdService } from '../../../shared/services/helpers/id.service';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport CommonComponentsModule from '../components.module';\nimport { IBreadcrumb, IBreadcrumbGoTo } from '../../../shared/models/breadcrumb.model';\nimport cloneDeep from 'lodash.clonedeep';\n\nexport interface IBreadcrumbsService {\n  addOnResizeHandler(handler: Function & { id?: string }): Function;\n  createGoToAction($stateParams?: StateParams, stateName?: string): IBreadcrumbGoTo;\n  createHandler($element: IRootElementService): Function;\n  hasEnoughBreadcrumbs(breadcrumbs?: IBreadcrumb[] | { length: number }): boolean;\n  removeBreadcrumbsWithoutLabel(breadcrumbs?: IBreadcrumb[]): IBreadcrumb[];\n}\n\n@Service({\n  module: CommonComponentsModule,\n  name: 'BreadcrumbsService',\n})\nexport class BreadcrumbsService implements IBreadcrumbsService {\n  private onResizeHandlers: Function[];\n  private debounce: number;\n\n  constructor(private $state: StateService, private $stateParams: StateParams, private $timeout: ITimeoutService, private $window: IWindowService) {\n    'ngInject';\n\n    this.onResizeHandlers = [];\n    this.debounce = 0;\n    angular.element($window).on('resize', () => this.onResize());\n  }\n\n  public addOnResizeHandler(handler: Function & { id?: string }): Function {\n    handler.id = IdService.getId();\n    this.onResizeHandlers.push(handler);\n\n    return this.createUnregisterFunction(handler.id);\n  }\n\n  public createGoToAction($stateParams: StateParams = this.$stateParams, stateName: string = this.$state.current.name): IBreadcrumbGoTo {\n    const params = cloneDeep($stateParams);\n    const goToAction: IBreadcrumbGoTo = () => {\n      this.$state.go(`${stateName}`, params);\n    };\n\n    goToAction.params = params;\n\n    return goToAction;\n  }\n\n  public createHandler($element: IRootElementService): Function {\n    return () => {\n      window.requestAnimationFrame(() => {\n        const element: HTMLElement = $element[0];\n        const $breadcrumbs: JQuery = $element.find('.breadcrumb');\n        const $textContainers: JQuery = $breadcrumbs.find('span');\n\n        if (this.hasEnoughBreadcrumbs($breadcrumbs)) {\n          const availableWidth: number = element.clientWidth -\n            (($breadcrumbs.length - 1) * $breadcrumbs.find('.breadcrumb-chevron')[0].clientWidth);\n          let totalWidth: number = 0;\n\n          $textContainers.each((index: number, span: HTMLSpanElement) => {\n            totalWidth += span.scrollWidth;\n          });\n\n          if (totalWidth >= availableWidth) {\n            const maxWidthPerBreadcrumb: number = availableWidth / $breadcrumbs.length;\n\n            let remainingOffset: number = 0;\n            const oversizeContainers: JQuery[] = [];\n\n            $textContainers.each((index: number, item: HTMLElement) => {\n              const $item: JQuery = $(item);\n\n              if (item.scrollWidth >= maxWidthPerBreadcrumb) {\n                $item.animate({ 'max-width': maxWidthPerBreadcrumb }, 0);\n                oversizeContainers.push($item);\n              } else {\n                remainingOffset += (maxWidthPerBreadcrumb - item.scrollWidth);\n                $item.removeAttr('style');\n              }\n            });\n\n            const extraSize: number = (remainingOffset / oversizeContainers.length) - 1;\n            oversizeContainers.forEach(($item: JQuery) => {\n              $item.animate({ 'max-width': `+=${extraSize}` }, 0);\n            });\n          } else {\n            $textContainers.removeAttr('style');\n          }\n        }\n      });\n    };\n  }\n\n  public hasEnoughBreadcrumbs(breadcrumbs: IBreadcrumb[] | { length: number } = []): boolean {\n    return breadcrumbs.length > 1;\n  }\n\n  public removeBreadcrumbsWithoutLabel(breadcrumbs: IBreadcrumb[] = []): IBreadcrumb[] {\n    return breadcrumbs.filter((breadcrumb: IBreadcrumb) => breadcrumb.label);\n  }\n\n  private onResize(): void {\n    this.onResizeHandlers.forEach(handler => handler());\n  }\n\n  private createUnregisterFunction(handlerId: string): Function {\n    return () => {\n      this.onResizeHandlers = this.onResizeHandlers\n        .filter((handler: Function & { id?: string }): any => handler.id !== handlerId);\n    };\n  }\n}\n","var map = {\n\t\"./en/messages.json\": 166,\n\t\"./en_US/messages.json\": 262,\n\t\"./fi/messages.json\": 263,\n\t\"./nl/messages.json\": 264,\n\t\"./sv/messages.json\": 265\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 261;","export enum AssignmentState {\n  DRAFT = 'DRAFT',\n  PUBLISHED = 'PUBLISHED',\n}\n","export enum IconsPath {\n  SVG_WITHOUT_ASSESSMENT_CRITERIA = 'images/without_assessment_criteria_icon.svg',\n  SVG_WORK_UNIT = 'images/work_unit_icon.svg',\n  SVG_EXPAND_ALL = 'images/expandAll.svg',\n  SVG_COLLAPSE_ALL = 'images/collapseAll.svg',\n  SVG_ASSESSMENT_ASSESSING = 'images/icon_bk_assessing.svg',\n  SVG_ASSESSMENT_DONE = 'images/icon_bk_assessment_done.svg',\n  SVG_ASSESSMENT_NOT_ASSESSED = 'images/icon_bk_not_assessed.svg',\n  SVG_WARNING = 'images/icon_warning.svg',\n}\n","import {Injectable} from '@angular/core';\nimport {EntityUIQuery, QueryEntity} from '@datorama/akita';\nimport {AssignmentsState, AssignmentsStore} from './assignments.store';\nimport {map} from 'rxjs/operators';\nimport {Assignment, AssignmentSortFn, AssignmentUI} from './assignment.model';\nimport sort from 'fast-sort';\n\n@Injectable({providedIn: 'root'})\nexport class AssignmentsQuery extends QueryEntity<AssignmentsState> {\n  ui: EntityUIQuery<AssignmentUI>;\n\n  constructor(protected store: AssignmentsStore) {\n    super(store);\n    this.createUIQuery();\n  }\n\n  selectFilteredAndSorted() {\n    return this.selectAll({filterBy: assignment => this.filterBy(assignment)}).pipe(\n      map(assignments => this.sortBy(assignments)),\n    );\n  }\n\n  protected filterBy(assignment: Assignment): boolean {\n    const stateUI = this.getValue().ui;\n    return stateUI.filters.type.includes(assignment.assignment_type) &&\n      stateUI.filters.state.includes(assignment.state);\n  }\n\n  protected sortBy(assignments: Assignment[]): Assignment[] {\n    const stateUI = this.getValue().ui;\n    const sortMethod = this.getSortMethod(stateUI.sort.by);\n\n    return sort([...assignments])[stateUI.sort.order](sortMethod);\n  }\n\n  protected getSortMethod(by: keyof Assignment): keyof Assignment | AssignmentSortFn {\n    switch (by) {\n      default:\n        return by;\n    }\n  }\n\n}\n","import {IPromise} from 'angular';\nimport {APICurriculumObject} from '../../../../common/types/api_types';\nimport {BehaviourSubject, IBehaviourSubject} from '../../../../shared/services/helpers/behaviourSubject.service';\nimport {Service} from '../../../../utils/decorators/service.decorator';\nimport CourseManagementModule from '../../courseManagement.module';\n\nexport interface ICurriculumsService {\n  curriculums: APICurriculumObject[];\n  curriculums$: IBehaviourSubject<APICurriculumObject[]>;\n  updateCurriculums(): IPromise<APICurriculumObject[]>;\n}\n\n@Service({\n  module: CourseManagementModule,\n  name: 'CurriculumsService',\n})\nexport class CurriculumsService implements ICurriculumsService {\n\n  public curriculums: APICurriculumObject[];\n  public curriculums$: IBehaviourSubject<APICurriculumObject[]>;\n\n  constructor(private FetchData: any, private Path: any) {\n    'ngInject';\n\n    this.curriculums = [];\n    this.curriculums$ = new BehaviourSubject(this.curriculums);\n  }\n\n  public updateCurriculums(): IPromise<APICurriculumObject[]> {\n    return this.FetchData.v3.getCourseDefinitions(this.Path.getClassroomId())\n      .then((curriculums: APICurriculumObject[]): APICurriculumObject[] => {\n        this.curriculums = curriculums;\n        this.curriculums$.next(this.curriculums);\n\n        return this.curriculums;\n      });\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { EditCurriculumDialogCtrl } from '../../common/dialogs/edit-curriculum-dialog.controller';\nimport { SearchCurriculumDialogCtrl } from '../../common/dialogs/search-curriculum-dialog.controller';\nimport { Events } from '../../../../common/global-events.ts';\nimport { CourseType } from '../../../../utils/enums/courseType';\n\nconst dialogParentElement = angular.element(document.body);\n\nconst showConfirmationDialog = ($mdDialog, locals) => $mdDialog.show({\n  bindToController: true,\n  controller: class ConfirmationDialog {},\n  controllerAs: '$ctrl',\n  locals: { $mdDialog, ...locals },\n  multiple: true,\n  parent: dialogParentElement,\n  templateUrl: 'components/courseManagement/common/dialogs/confirmation.html',\n});\n\n\n/**\n *\n * @param $mdDialog\n * @param FetchData\n * @param Path\n * @param educationalSystemId\n * @param educationalStageId\n * @param isLocked\n */\nexport const showSearchCurriculumDialog = (\n  $mdDialog, FetchData, Path, educationalSystemId, isLocked = false,\n) => $mdDialog\n  .show({\n    parent: dialogParentElement,\n    templateUrl: 'components/courseManagement/common/dialogs/search-curriculum.html',\n    controller: SearchCurriculumDialogCtrl,\n    resolve: {\n      educationalSystems: () => FetchData.v3.getEducationalSystems(),\n      educationalSystemId: () => educationalSystemId,\n      isLocked: () => isLocked,\n    },\n    controllerAs: '$ctrl',\n  });\n\nexport const showCarriculumLibraryDialog = ($q, $mdDialog, FetchData) =>\n  $mdDialog.show({\n    parent: dialogParentElement,\n    templateUrl: 'components/courseManagement/common/dialogs/curriculum-library.html',\n    controller: class {\n      constructor() {\n        'ngInject';\n\n        this.$mdDialog = $mdDialog;\n      }\n    },\n    controllerAs: '$ctrl',\n    bindToController: true,\n    multiple: true,\n    resolve: {\n      curriculums: () => $q.all({\n        private: FetchData.v3.getPrivateCurriculums(),\n        public: FetchData.v3.getPublicCurriculums(),\n        shared: FetchData.v3.getGlobalCurriculums(),\n      }),\n    },\n  });\n\nexport const showMakeCurriculumPublicDialog = ($mdDialog, curriculumTitle) => {\n  const locals = {\n    curriculumTitle,\n    translations: {\n      header: 'makeCurriculumPublicHeading',\n      content1: 'makeCurriculumPublicInfoPart1',\n      content2: 'makeCurriculumPublicInfoPart2',\n      cancelButton: 'cancelBtn',\n      confirmButton: 'makePublicBtn',\n    },\n  };\n\n  return showConfirmationDialog($mdDialog, locals);\n};\n\nexport const showMakeCurriculumPublicToAllStudyBeeUsersDialog = ($mdDialog, curriculumTitle) => {\n  @test()\n  const locals = {\n    curriculumTitle,\n    translations: {\n      header: 'makeCurriculumPublicToAllHeading',\n      content1: 'makeCurriculumPublicToAllInfoPart1',\n      content2: 'makeCurriculumPublicToAllInfoPart2',\n      cancelButton: 'cancelBtn',\n      confirmButton: 'makePublicBtn',\n    },\n  };\n\n  return showConfirmationDialog($mdDialog, locals);\n};\n\nexport const showMakeCurriculumPrivateDialog = ($mdDialog, curriculumTitle, translations = {}) => {\n  const locals = {\n    curriculumTitle,\n    translations: {\n      header: 'makeCurriculumPrivateHeading',\n      content1: 'makeCurriculumPrivateInfoPart1',\n      content2: 'makeCurriculumPrivateInfoPart2',\n      cancelButton: 'cancelBtn',\n      confirmButton: 'makePrivateBtn',\n      ...translations\n    },\n  };\n\n  return showConfirmationDialog($mdDialog, locals);\n};\n\nexport const showEditCurriculumDialog = (\n  $mdDialog, FetchData, Path, course,\n  educationalSystemId, educationalStageId,\n  isLocked = false,\n) => $mdDialog.show({\n  parent: dialogParentElement,\n  templateUrl: 'components/courseManagement/common/dialogs/edit-curriculum.html',\n  multiple: true,\n  controller: EditCurriculumDialogCtrl,\n  resolve: {\n    course: () => course,\n    educationalSystemId: () => educationalSystemId,\n    educationalStageId: () => educationalStageId,\n    educationalSystems: () => FetchData.v3.getEducationalSystems(),\n    isLocked: () => isLocked,\n  },\n  controllerAs: '$ctrl',\n});\n\nexport const showRemoveCurriculumFromLibrary = ($mdDialog, curriculumTitle) => {\n  const locals = {\n    curriculumTitle,\n    translations: {\n      header: 'removeCurriculumFromLibraryHeading',\n      content1: 'removeCurriculumFromLibraryInfo1',\n      content2: 'removeCurriculumFromLibraryInfo2',\n      cancelButton: 'cancelBtn',\n      confirmButton: 'deleteBtn',\n    },\n  };\n\n  return showConfirmationDialog($mdDialog, locals);\n};\n\nexport const showSaveCourseToLibraryDialog = ($mdDialog, curriculum) => $mdDialog.show({\n  parent: dialogParentElement,\n  templateUrl: 'components/courseManagement/common/dialogs/save-curriculum-to-library.html',\n  controller: class {\n    constructor() {\n      'ngInject';\n\n      this.$mdDialog = $mdDialog;\n\n      // set the name and the code\n      this.courseName = curriculum.name;\n      this.courseCode = curriculum.code;\n    }\n  },\n  controllerAs: '$ctrl',\n});\n\nexport const showCreateObjectiveDialog = $mdDialog => $mdDialog.show({\n  parent: dialogParentElement,\n  templateUrl: 'components/courseManagement/common/dialogs/create-objective.html',\n  controller: class {\n    constructor() {\n      'ngInject';\n\n      this.$mdDialog = $mdDialog;\n    }\n\n    createObjective() {\n      this.$mdDialog.hide(this.objectiveName);\n    }\n  },\n  controllerAs: '$ctrl',\n  multiple: true,\n});\n\nexport const showCurriculumDetailsDialog = ($mdDialog, curriculum, FetchData) => $mdDialog.show({\n  parent: dialogParentElement,\n  templateUrl: 'components/courseManagement/common/dialogs/curriculum-details.html',\n  bindToController: true,\n  multiple: true,\n  controller: class {\n    constructor($rootScope, $q, Path) {\n      'ngInject';\n\n      this.$rootScope = $rootScope;\n      this.$q = $q;\n      this.Path = Path;\n    }\n\n    openCurriculumLibraryDialog() {\n      $mdDialog.cancel();\n      showCarriculumLibraryDialog(this.$q, $mdDialog, FetchData);\n    }\n\n    openAddNewObjectiveDialog() {\n      showCreateObjectiveDialog($mdDialog)\n        .then(objectiveName => FetchData\n          .v3\n          .createObjective(\n            curriculum.course,\n            { name: objectiveName },\n          ),\n        )\n        .then(() => {\n          this.$rootScope.$emit(Events.UPDATED_OBJECTIVES);\n        });\n    }\n  },\n  resolve: {\n    curriculumDetails: () => FetchData\n      .v3\n      .getCurriculumDetails(curriculum),\n    curriculum: () => curriculum,\n  },\n  controllerAs: '$ctrl',\n});\n\nexport const showDeleteObjectiveDialog = ($mdDialog, objective, course) => $mdDialog.show({\n  parent: dialogParentElement,\n  multiple: true,\n  templateUrl: 'components/courseManagement/common/dialogs/delete-objective.html',\n  controller: class {\n    constructor() {\n      'ngInject';\n\n      this.$mdDialog = $mdDialog;\n      this.objective = objective;\n      this.editingTemplate = course.type === CourseType.TEMPLATE;\n    }\n  },\n  controllerAs: '$ctrl',\n});\n\nexport const showDeleteCourseConfirmationDialog = ($mdDialog, courseDefinition) => $mdDialog.show({\n  parent: dialogParentElement,\n  templateUrl: 'components/courseManagement/common/dialogs/delete-course.html',\n  controller: class {\n    constructor() {\n      'ngInject';\n\n      this.$mdDialog = $mdDialog;\n      this.courseDefinition = courseDefinition;\n    }\n  },\n  controllerAs: '$ctrl',\n});\n\nexport const showChangeCourseCorePropertyWarning = (\n  $mdDialog, headerLabel, warningContent,\n) => $mdDialog.show({\n  parent: dialogParentElement,\n  multiple: true,\n  templateUrl: 'components/courseManagement/common/dialogs/change-property-warning.html',\n  controller: class {\n    constructor() {\n      'ngInject';\n\n      this.$mdDialog = $mdDialog;\n      this.headerLabel = headerLabel;\n      this.warningContent = warningContent;\n    }\n  },\n  controllerAs: '$ctrl',\n});\n\nexport const showWrongCurriculumSetupDialog = $mdDialog => $mdDialog.show({\n  parent: dialogParentElement,\n  multiple: true,\n  templateUrl: 'components/courseManagement/common/dialogs/wrong-curriculum-setup.html',\n  controller: class {\n    constructor() {\n      'ngInject';\n\n      this.$mdDialog = $mdDialog;\n    }\n  },\n  controllerAs: '$ctrl',\n});\n\nexport const showChangeCourseCorePropertyDoublecheckWarning = (\n  $mdDialog, headerLabel,\n  warningContent,\n) => $mdDialog.show({\n  parent: dialogParentElement,\n  multiple: true,\n  templateUrl: 'components/courseManagement/common/dialogs/change-property-doublecheck-warning.html',\n  controller: class {\n    constructor() {\n      'ngInject';\n\n      this.$mdDialog = $mdDialog;\n      this.headerLabel = headerLabel;\n      this.warningContent = warningContent;\n    }\n  },\n  controllerAs: '$ctrl',\n});\n","import angular, { IModule } from 'angular';\nimport uiRouter from '@uirouter/angularjs';\nimport { StudentAssignmentsRouting } from './studentAssignments.routing';\n\nexport const StudentAssignmentsModule: IModule = angular\n  .module('app.assignments.studentAssignments', [uiRouter])\n  .config(StudentAssignmentsRouting);\n\nexport default StudentAssignmentsModule.name;\n\nexport * from './shared/components/studentAssignmentsList/studentAssignmentsList.component';\nexport * from './studentAssignments.component';\nexport * from './studentAssignmentsPublished/studentAssignmentsPublished.component';\nexport * from './studentAssignmentsNotConfigured/studentAssignmentsNotConfigured.component';\n","export * from './assignment.model';\nexport * from './assignments.query';\nexport * from './assignments.service';\nexport * from './assignments.store';\n","import { Injectable } from '@angular/core';\nimport { QueryEntity } from '@datorama/akita';\nimport {AssignmentsState, AssignmentsStore} from './assignments.store';\nimport {map} from 'rxjs/operators';\nimport {Assignment, AssignmentSortFn} from './assignment.model';\nimport sort from 'fast-sort';\n\n@Injectable({ providedIn: 'root' })\nexport class AssignmentsQuery extends QueryEntity<AssignmentsState> {\n\n  constructor(protected store: AssignmentsStore) {\n    super(store);\n  }\n\n  selectFilteredAndSorted() {\n    return this.selectAll({filterBy: assignment => this.filterBy(assignment)}).pipe(\n      map(assignments => this.sortBy(assignments)),\n    );\n  }\n\n  protected filterBy(assignment: Assignment): boolean {\n    const stateUI = this.getValue().ui;\n    return stateUI.filters.type.includes(assignment.assignment_type);\n  }\n\n  protected sortBy(assignments: Assignment[]): Assignment[] {\n    const stateUI = this.getValue().ui;\n    const sortMethod = this.getSortMethod(stateUI.sort.by);\n\n    return sort([...assignments])[stateUI.sort.order](sortMethod);\n  }\n\n  protected getSortMethod(by: keyof Assignment): keyof Assignment | AssignmentSortFn {\n    switch (by) {\n      default:\n        return by;\n    }\n  }\n}\n","/* eslint-disable react-hooks/rules-of-hooks */\nimport {mutation, query} from 'gql-query-builder';\nimport {pick} from 'lodash';\nimport {getClassroomId} from './utils';\nimport {useFetch} from './hooks';\nimport {getAssignmentAlternateLinkId} from './path';\n\nexport const LOG_LEVEL = {\n  ERROR: 'error',\n  DEBUG: 'debug',\n  INFO: 'info',\n};\n\nlet baseURL = 'http://localhost:8082';\n// let baseURL = 'https://dev2py.studybee.io';\n// let baseURL = 'https://prodpy.studybee.io';\nlet gqlBaseUrl = 'http://localhost:4000/graphql';\n// let gqlBaseUrl = 'https://dev2.studybee.io/graphql';\n// let gqlBaseUrl = 'https://prod.studybee.io/graphql';\nif (!process.env.REACT_APP_STANDALONE) {\n  baseURL = DEVELOPMENT_ENV\n    ? 'https://dev2py.studybee.io'\n    : 'https://prodpy.studybee.io';\n  gqlBaseUrl = DEVELOPMENT_ENV\n    ? 'https://dev2.studybee.io/graphql'\n    : 'https://prod.studybee.io/graphql';\n}\nconst getAssignmentsUrl = () => `${baseURL}/v3/classes/${getClassroomId()}/assignments/?assignment_state=PUBLISHED&assignment_state=DRAFT&show_topics=true`;\nconst getStudentsInClassroomUrl = () => `${baseURL}/classes/students/${getClassroomId()}`;\nconst getAssignmentByAlternateLinkUrl = (assignmentAlternateLink) => `${baseURL}/v2/classes/assignment-alternate-link/${assignmentAlternateLink}/`;\nconst getAssignmentAssessmentsUrl = (assignmentId) => `${baseURL}/v3/classes/${getClassroomId()}/assignments/${assignmentId}/assessments/`;\nconst getAssignmentAssessmentUrl = (assignmentId, studentId) => `${baseURL}/v2/classes/assignment_assessment/${assignmentId}/${studentId}`;\nconst getObjectiveAssessmentsUrl = (assignmentId, studentId) => `${baseURL}/v2/classes/objective_assessments/${assignmentId}/${studentId}`;\nconst getFailWarningUrl = (assessmentId) => `${baseURL}/v3/classes/fail-warning/${assessmentId}`;\nconst getCourseGradeSystemsUrl = (assignmentId) => `${baseURL}/v2/classes/course-grade-systems/${getClassroomId()}/?assignment_id${assignmentId}`;\nconst getAssignedObjectivesToAssignmentUrl = (assignmentId) => `${baseURL}/classes/assigned_objectives_to_assignment/${assignmentId}/`;\nconst getObjectivesUrl = (objectiveId) => `${baseURL}/objectives/objectives/${objectiveId}/`;\nconst getAssignmentDriveUrl = (fileId) => `${baseURL}/classes/assessment_drive/${fileId}/?alternate_link_id=${getAssignmentAlternateLinkId(true)}/`;\nconst updateAssignmentAssessmentUrl = (assignmentId) => `${baseURL}/v2/classes/assignment_assessment/${assignmentId}/`;\nconst updateObjectiveAssessmentUrl = () => `${baseURL}/classes/objective_assessments/`;\nconst updateAssignmentStatusUrl = (assignmentId, studentId) => `${baseURL}/v3/classes/${getClassroomId()}/assignments/${assignmentId}/status/${studentId}/`;\nconst updateVisibilityManyUrl = (assignmentId) => `${baseURL}/v3/classes/${getClassroomId()}/assignment-assessments/grouped-visibility/${assignmentId}/`;\nconst updateAssignmentDetailsUrl = (assignmentId) => `${baseURL}/classes/assignment_details/${assignmentId}/`;\nconst syncAssignmentsUrl = () => `${baseURL}/classes/assignments_new/${getClassroomId()}/`;\nconst newAssignment = (title) => `${baseURL}/classes/assignment_id/?course_id=${getClassroomId()}&title=${encodeURI(title)}`;\nconst syncStudentsUrl = () => `${baseURL}/classes/students/${getClassroomId()}/`;\n\n\nlet ApiInstance;\nconst refreshTokenTimeSeconds = 60 * 10;\nlet latestToken;\nconst sendInForeground = process.env.REACT_APP_STANDALONE;\n\nexport default class Api {\n  constructor(setNetworkTraffic, setNetworkError) {\n    this.setNetworkTraffic = setNetworkTraffic;\n    this.setNetworkError = setNetworkError;\n  }\n\n  async getToken() {\n    if (process.env.REACT_APP_STANDALONE) {\n      return process.env.REACT_APP_TOKEN_FOR_DEBUG;\n    }\n    return new Promise((resolve, reject) => {\n      if (latestToken && latestToken.token) {\n        const secondsOld = Math.floor((Date.now() - latestToken.date) / 1000);\n        if (secondsOld > refreshTokenTimeSeconds) {\n          latestToken = false;\n          resolve(this.getToken());\n        }\n        resolve(latestToken.token);\n      } else {\n        chrome.runtime.sendMessage({action: 'getToken'}, (token) => {\n          latestToken = {token, date: Date.now()};\n          resolve(token);\n        });\n      }\n    });\n  }\n\n  async doFetch(url, method = 'GET', data = {}, overrideMethodForSave = false) {\n    this.setNetworkTraffic(overrideMethodForSave ? 'GET' : method);\n    const config = {url, method, data};\n    const requestConfig = {...config, action: 'fetchData'};\n    console.log('doFetch: ', config);\n    if (sendInForeground) {\n      let token = await this.getToken();\n      if (!token) {\n        token = await this.getToken();\n      }\n      const request = {\n        method,\n        headers: {\n          Authorization: `StudybeeToken ${token}`,\n          'Content-Type': 'application/json',\n        },\n      };\n      if (method !== 'GET') {\n        request.body = JSON.stringify(data);\n      }\n\n      try {\n        let tag = url;\n        if (data.query) {\n          tag = `${data.query.slice(0, data.query.indexOf('\\n'))} (${JSON.stringify(data.variables)})`;\n        }\n        console.time(`api: ${tag}`);\n        const json = await (await fetch(url, request)).json();\n        console.log('doFetch response: ', {json, config});\n        console.timeEnd(`api: ${tag}`);\n        return json;\n      } catch (e) {\n        this.setNetworkError(e.message);\n        return null;\n      } finally {\n        this.setNetworkTraffic(false);\n      }\n    }\n\n    return new Promise((resolve) => {\n      let tag = url;\n      if (data.query) {\n        tag = `${data.query.slice(0, data.query.indexOf('\\n'))} (${JSON.stringify(data.variables)})`;\n      }\n      console.time(`api: ${tag}`);\n      chrome.runtime.sendMessage(requestConfig, (response) => {\n        console.log('doFetch response: ', url, response);\n        console.timeEnd(`api: ${tag}`);\n        this.setNetworkTraffic(false);\n        // I get status = 0 from graphql when there is no internet (only with prod not local)\n        if (response.status < 400 && response.status !== 0) {\n          resolve(response.data);\n        } else {\n          this.setNetworkError(response);\n        }\n      });\n    });\n  }\n\n  getAssignments = () => this.doFetch(getAssignmentsUrl());\n\n  getAssignmentDrive = (fileId) => this.doFetch(getAssignmentDriveUrl(fileId));\n\n  getAssignmentsAsHook = () => useFetch(getAssignmentsUrl(), this.setNetworkTraffic, this.setNetworkError);\n\n  getStudentsInClassroomAsHook = () => useFetch(getStudentsInClassroomUrl(), this.setNetworkTraffic, this.setNetworkError);\n\n  getAssignmentAssessments = (assignmentId) => this.doFetch(getAssignmentAssessmentsUrl(assignmentId));\n\n  getAssignmentAssessmentsAsHook = (assignmentId) => useFetch(\n    getAssignmentAssessmentsUrl(assignmentId),\n    this.setNetworkTraffic,\n    this.setNetworkError,\n  );\n\n  getAssignmentAssessment = (assignmentId, studentId) => this.doFetch(getAssignmentAssessmentUrl(assignmentId, studentId));\n\n  getAssignmentWithAssessment = (assignmentId, fields) => {\n    const q = query({\n      operation: 'assignment',\n      variables: {\n        id: {value: assignmentId, required: true, type: 'Int'},\n      },\n      fields: [fields],\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q, true);\n  };\n\n  getAssignmentAssessmentAsHook = (assignmentId, studentId) => useFetch(\n    getAssignmentAssessmentUrl(assignmentId, studentId),\n    this.setNetworkTraffic,\n    this.setNetworkError,\n  );\n\n  getObjectiveAssessments = (assignmentId, studentId) => this.doFetch(getObjectiveAssessmentsUrl(assignmentId, studentId));\n\n  getObjectiveAssessmentsAsHook = (assignmentId, studentId) => useFetch(\n    getObjectiveAssessmentsUrl(assignmentId, studentId),\n    this.setNetworkTraffic,\n    this.setNetworkError,\n  );\n\n  getFailWarning = (assessmentId) => this.doFetch(getFailWarningUrl(assessmentId));\n\n  getCourseGradeSystems = (assignmentId) => this.doFetch(getCourseGradeSystemsUrl(assignmentId));\n\n  getCourseGradeSystemsAsHook = (assignmentId) => useFetch(\n    getCourseGradeSystemsUrl(assignmentId),\n    this.setNetworkTraffic,\n    this.setNetworkError,\n  );\n\n  getAssignedObjectivesToAssignment = (assignmentId) => this.doFetch(getAssignedObjectivesToAssignmentUrl(assignmentId));\n\n  getAssignedObjectivesToAssignmentAsHook = (assignmentId) => useFetch(\n    getAssignedObjectivesToAssignmentUrl(assignmentId),\n    this.setNetworkTraffic,\n    this.setNetworkError,\n  );\n\n  getObjectives = (objectiveId) => this.doFetch(getObjectivesUrl(objectiveId));\n\n  getObjectivesAsHook = (objectiveId) => useFetch(\n    getObjectivesUrl(objectiveId),\n    this.setNetworkTraffic,\n    this.setNetworkError,\n  );\n\n  getAssignmentByAlternateLink = (link) => this.doFetch(getAssignmentByAlternateLinkUrl(link));\n\n  getAssignmentByAlternateLinkAsHook = (link) => useFetch(\n    getAssignmentByAlternateLinkUrl(link),\n    this.setNetworkTraffic,\n    this.setNetworkError,\n  );\n\n  syncAssignments = async () => this.doFetch(syncAssignmentsUrl());\n\n  newAssignment = async (title) => this.doFetch(newAssignment(title));\n\n  syncStudents = async () => this.doFetch(syncStudentsUrl());\n\n  getClassroom = async (fields, studentId) => {\n    const variables = {\n      classroomId: {value: getClassroomId(), required: true, type: 'String'},\n    };\n    if (studentId) {\n      variables.studentId = {value: studentId, required: false, type: 'Int'};\n    }\n    const q = query({\n      operation: 'classroom',\n      variables,\n      fields: [fields],\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q, true);\n  };\n\n  updateStudentEWSStatus = (data) => {\n    const saveData = pick(data, [\n      'student_id',\n      'course_id',\n      'status',\n      'published',\n    ]);\n    const q = mutation({\n      operation: 'updateStudentEWSStatus',\n      variables: {\n        ewsStatus: {value: saveData, required: true, type: 'StudentEWSStatusInput'},\n      },\n      fields: [`\n          id\n          created\n          modified\n          admin_id\n          course_definition_id\n          student_id\n          published\n          status\n        `,\n      ],\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q);\n  };\n\n  updateStudentExtraAdjustments2 = (adjustments, courseId, studentId) => {\n    const q = mutation({\n      operation: 'updateStudentExtraAdjustments2',\n      variables: {\n        adjustments: {value: adjustments, required: true, type: '[Int]'},\n        courseId: {value: courseId, required: true, type: 'Int'},\n        studentId: {value: studentId, required: true, type: 'Int'},\n      },\n      fields: [`\n        name\n        `,\n      ],\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q);\n  };\n\n  updateStudentExtraAdjustments = (added, removed, courseId, studentId) => {\n    const q = mutation({\n      operation: 'updateStudentExtraAdjustments',\n      variables: {\n        added: {value: added, required: true, type: '[Int]'},\n        removed: {value: removed, required: true, type: '[Int]'},\n        courseId: {value: courseId, required: true, type: 'Int'},\n        studentId: {value: studentId, required: true, type: 'Int'},\n      },\n      fields: [`\n        name\n        `,\n      ],\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q);\n  };\n\n  updateAssignmentCourseDefinitions = (assignmentId, courseDefinitionsIds) => {\n    const q = mutation({\n      operation: 'updateAssignmentCourseDefinitions',\n      variables: {\n        assignmentId: {value: assignmentId, required: true, type: 'Int'},\n        courseDefinitionIds: {value: courseDefinitionsIds, required: true, type: '[Int]'},\n      },\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q);\n  };\n\n  updateAssignmentObjectivesConnected = (assignmentId, objectives) => {\n    const q = mutation({\n      operation: 'updateAssignmentObjectivesConnected',\n      variables: {\n        assignmentId: {value: assignmentId, required: true, type: 'Int'},\n        objectives: {value: objectives, required: true, type: '[ObjectiveInput]'},\n      },\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q);\n  };\n\n  updateAssignment = (assignment) => {\n    const picked = pick(assignment, [\n      'id',\n      'state',\n      'worktype',\n      'grade_system_id',\n      'connected',\n      'use_submitted_status',\n    ]);\n    const q = mutation({\n      operation: 'updateAssignment',\n      variables: {\n        assignment: {value: picked, required: true, type: 'AssignmentInput'},\n      },\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q);\n  };\n\n  updateCourseAssessments = (assessments) => {\n    const pickedAssessments = assessments.map((a) => pick(a, [\n      'id',\n      'feedback',\n      'feedback_published',\n      'grade_id',\n      'grade_published',\n      'target_grade_id',\n      'target_grade_published',\n      'private_note',\n      'result',\n      'result_published',\n    ]));\n    pickedAssessments.forEach((a) => {\n      a.grade_id = a.grade_id > 0 ? a.grade_id : null;\n    });\n    pickedAssessments.forEach((a) => {\n      a.target_grade_id = a.target_grade_id > 0 ? a.target_grade_id : null;\n    });\n    const q = mutation({\n      operation: 'updateCourseAssessment',\n      variables: {\n        assessments: {value: pickedAssessments, required: true, type: '[CourseAssessmentInput]'},\n      },\n      fields: [\n        'id',\n        'modified',\n        'feedback',\n        'feedback_published',\n        'private_note',\n        'grade_published',\n        'grade_id',\n        'active',\n        'feedback_last_edit',\n        'private_note_last_edit',\n        'grade_last_edit',\n        'target_grade_id',\n        'target_grade_published',\n        'target_grade_last_edit',\n        'last_edit_for_student',\n        'courseName',\n        'courseCode',\n        'courseDescription',\n        'gradeName',\n        'gradeColor',\n        'gradeIsPassed',\n      ],\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q);\n  };\n\n  updateAssignmentAssessment = (assessments) => {\n    const pickedAssessments = assessments.map((a) => pick(a, [\n      'id',\n      'feedback',\n      'feedback_published',\n      'grade_id',\n      'grade_published',\n      'private_note',\n      'result',\n      'result_published',\n      'self_assessment',\n      'status_new',\n      'submitted_status',\n    ]));\n    pickedAssessments.forEach((a) => {\n      a.grade_id = a.grade_id > 0 ? a.grade_id : null;\n    });\n    const q = mutation({\n      operation: 'updateAssignmentAssessment',\n      variables: {\n        assessments: {value: pickedAssessments, required: true, type: '[AssignmentAssessmentInput]'},\n      },\n      fields: [\n        'id',\n        'feedback',\n        'feedback_last_edit',\n        'feedback_published',\n        'grade_id',\n        'grade_last_edit',\n        'grade_name',\n        'private_note',\n        'private_note_last_edit',\n        'result',\n        'result_last_edit',\n        'result_published',\n        'status_new',\n        'student_id',\n      ],\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q);\n  };\n\n  updateCourseObjectiveAssessment = (assessments) => {\n    const pickedAssessments = assessments.map((a) => pick(a, [\n      'id',\n      'grade_id',\n      'grade_published',\n      'feedback',\n      'feedback_published',\n      'private_note',\n    ]));\n    pickedAssessments.forEach((a) => {\n      a.grade_id = a.grade_id > 0 ? a.grade_id : null;\n    });\n    const q = mutation({\n      operation: 'updateCourseObjectiveAssessment',\n      variables: {\n        assessments: {value: pickedAssessments, required: true, type: '[CourseObjectiveAssessmentInput]'},\n      },\n      fields: [\n        'name',\n        'id',\n        'created',\n        'modified',\n        'feedback',\n        'feedback_published',\n        'private_note',\n        'grade_published',\n        'course_assessment_id',\n        'grade_id',\n        'objective_id',\n        'active',\n        'feedback_last_edit',\n        'private_note_last_edit',\n        'grade_last_edit',\n        'last_edit_for_student',\n      ],\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q);\n  };\n\n  updateObjectiveAssessment = (objectiveAssessment) => this.doFetch(updateObjectiveAssessmentUrl(), 'PUT', objectiveAssessment);\n\n  updateAssignmentStatus = (assignmentId, studentId, status) => this.doFetch(\n    updateAssignmentStatusUrl(assignmentId, studentId),\n    'PATCH',\n    status,\n  );\n\n  updateVisibilityMany = (assignmentId, data) => this.doFetch(updateVisibilityManyUrl(assignmentId), 'PATCH', data);\n\n  updateAssignmentDetails = (assignmentId, data) => this.doFetch(updateAssignmentDetailsUrl(assignmentId), 'PATCH', data);\n\n  updateObjectiveAssessmentsGql = async (assessments) => {\n    const data = assessments.map((a) => ({\n      id: a.id,\n      feedback: a.feedback,\n      feedback_published: a.feedback_published,\n      private_note: a.private_note,\n      grade_published: a.grade_published,\n      grade_id: a.grade_id || null,\n      self_assessment: a.self_assessment,\n      counter_grade_0: a.counter_grade_0 || 0,\n      counter_grade_1: a.counter_grade_1 || 0,\n      counter_grade_2: a.counter_grade_2 || 0,\n      counter_grade_3: a.counter_grade_3 || 0,\n      counter_grade_4: a.counter_grade_4 || 0,\n      counter_grade_5: a.counter_grade_5 || 0,\n      counter_grade_6: a.counter_grade_6 || 0,\n      counter_grade_7: a.counter_grade_7 || 0,\n      counter_grade_8: a.counter_grade_8 || 0,\n      counter_grade_9: a.counter_grade_9 || 0,\n    }));\n    const m = mutation({\n      operation: 'updateObjectiveAssessment',\n      variables: {\n        assessments: {\n          type: '[ObjectiveAssessmentInput]',\n          value: data,\n        },\n      },\n      fields: ['id', 'feedback', 'grade_id'],\n    });\n\n    await this.doFetch(gqlBaseUrl, 'POST', m);\n  };\n\n  getUserInfo = async () => {\n    const q = query({\n      operation: 'userInfo',\n      fields: [\n        'id',\n        'email',\n        'first_name',\n        'last_name',\n        'photo_url',\n        'schools',\n      ],\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q, true);\n  };\n\n  addStudentCourseComment = async ({text, courseId, studentId}) => {\n    const m = mutation({\n      operation: 'addEWSComment',\n      variables: {\n        comment: {\n          type:'String!',\n          value: text\n        },\n        courseId: {\n          type: 'Int!',\n          value: courseId,\n        },\n        studentId: {\n          type: 'Int!',\n          value: studentId,\n        }\n      },\n    });\n    await this.doFetch(gqlBaseUrl, 'POST', m);\n  };\n\n  deleteComment = async (id) => {\n    const m = mutation({\n      operation: 'deleteComment',\n      variables: {\n        commentId: {\n          type:'Int!',\n          value: id,\n        },\n      },\n    });\n    await this.doFetch(gqlBaseUrl, 'POST', m);\n  };\n\n  setClassroomSchoolId = async (classroomId, schoolId) => {\n    const m = mutation({\n      operation:'setClassroomSchoolId',\n      variables:{\n        schoolId: {\n          type: 'Int!',\n          value: schoolId,\n        },\n        classroomId: {\n          type:'String!',\n          value: classroomId,\n        }\n      }\n    });\n    await this.doFetch(gqlBaseUrl, 'POST', m);\n  };\n\n  getSchools = async (educationalSystemId) => {\n    const q = query({\n      operation: 'schoolsList',\n      variables: {\n        educationalSystemId: {\n          type:'Int!',\n          value: educationalSystemId,\n        }\n      },\n      fields: [\n        'id',\n        'name',\n        'city',\n      ]\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q, true);\n  };\n\n  setPrimarySchool = async (schoolId) => {\n    const m = mutation({\n      operation:'setPrimarySchool',\n      variables: {\n        schoolId: {\n          type: 'Int!',\n          value: schoolId,\n        }\n      }\n    });\n    await this.doFetch(gqlBaseUrl, 'POST', m);\n  };\n\n  addSchool = async (schoolId) => {\n    const m = mutation({\n      operation:'addSchool',\n      variables: {\n        schoolId: {\n          type: 'Int!',\n          value: schoolId,\n        }\n      }\n    });\n    await this.doFetch(gqlBaseUrl, 'POST', m);\n  };\n\n  removeSchool = async (schoolId) => {\n    const m = mutation({\n      operation: 'removeSchool',\n      variables: {\n        schoolId: {\n          type:'Int!',\n          value: schoolId,\n        },\n      },\n    });\n    await this.doFetch(gqlBaseUrl, 'POST', m);\n  };\n\n  cloudLog = async (LEVEL, log) => {\n    const m = mutation({\n      operation: 'log',\n      variables: {\n        text: {\n          type: 'String!',\n          value: log,\n        },\n        level: {\n          type: 'String!',\n          value: LEVEL,\n        },\n      },\n    });\n    await this.doFetch(gqlBaseUrl, 'POST', m);\n  };\n\n  getWebstoreInfo = async () => {\n    const webstore = await this.doFetch('https://www.googleapis.com/chromewebstore/v1.1/items/nbhebloikpdgagghfhamjkbgfnobcfck');\n    console.log('xxx webstore: ', webstore);\n  }\n}\n\nexport const createApi = (a, b) => {\n  if (!ApiInstance) {\n    ApiInstance = new Api(a, b);\n  }\n  return ApiInstance;\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1 0a1 1 0 011 1v12a1 1 0 01-2 0V1a1 1 0 011-1zm9.481 1.862l.082.071 4.504 4.504a.796.796 0 01.07 1.044l-.07.082-4.504 4.504a.796.796 0 01-1.197-1.045l.071-.081 3.143-3.144H5.096a.796.796 0 01-.108-1.586l.108-.007h7.484L9.437 3.06a.796.796 0 01-.071-1.044l.071-.082a.796.796 0 011.044-.07z\"\n});\n\nfunction SvgCollapse(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 14,\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/c607cb0b9cd89b51227060f837f05649-collapse.svg\";\nexport { SvgCollapse as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"g\", {\n  \"data-name\": \"Artwork 29\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  \"data-name\": \"Group 2667\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  \"data-name\": \"Path 1353\",\n  d: \"M0 0h12v12H0z\",\n  fill: \"none\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  \"data-name\": \"Path 1354\",\n  d: \"M.5 10.5h11L6 1zm6-1.5h-1V8h1zm0-2h-1V5h1z\",\n  fill: \"current\"\n})));\n\nfunction SvgIconWarning(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 12,\n    height: 12\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/fc9b410bc812394d00572b8071be7d26-icon_warning.svg\";\nexport { SvgIconWarning as ReactComponent };","import React, { useState, useEffect, useReducer } from 'react';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { ArrowDropDown } from '@material-ui/icons';\nimport { ClickAwayListener } from '@material-ui/core';\nimport { colors, fonts } from '../theme';\nimport { ReactComponent as DoneIcon } from '../images/icon_bk_assessment_done.svg';\nimport { ReactComponent as WarningIcon } from '../images/icon_warning.svg';\nimport { ReactComponent as NotDoneIcon } from '../images/icon_bk_not_assessed.svg';\nimport { ReactComponent as AccessingIcon } from '../images/icon_bk_assessing.svg';\nimport {\n  getAssessmentIcon,\n  NOT_SUBMITTED,\n  NOT_SUBMITTED_LATE,\n  SUBMITTED,\n  SUBMITTED_LATE\n} from '../utils';\nimport { getTranslation } from '../i18n';\nimport {ReactComponent as SubmittedIcon} from \"../images/submitted.svg\";\nimport {ReactComponent as SubmittedLateIcon} from \"../images/submitted-late.svg\";\nimport {ReactComponent as NotSubmittedLateIcon} from \"../images/not-submitted-late.svg\";\nimport {ReactComponent as NotSubmittedIcon} from \"../images/not-submitted.svg\";\n\nconst ASSESSMENT_DONE = 'ASSESSMENT_DONE';\nconst ASSESSING = 'ASSESSING';\nconst NOT_ASSESSED = 'NOT_ASSESSED';\n\nconst options = [\n  {\n    title: getTranslation('teacherAssignmentsAssessmentsStudentMenuAssessed'),\n    icon: (\n      <DoneIcon fill={colors.green} style={{ border: '0px solid green' }} />\n    ),\n    value: ASSESSMENT_DONE,\n  },\n  {\n    title: getTranslation('teacherAssignmentsAssessmentsStudentMenuAssessing'),\n    icon: <AccessingIcon fill={colors.orange} />,\n    value: ASSESSING,\n  },\n  {\n    title: getTranslation('teacherAssignmentsAssessmentsStudentMenuNotAssessed'),\n    icon: (\n      <NotDoneIcon\n        fill={colors.darkGrey}\n        style={{ border: '0px solid green' }}\n      />\n    ),\n    value: NOT_ASSESSED,\n  },\n  {\n    title:'divider',\n  },\n  {\n    title: getTranslation('mark_submitted_status_submitted'),\n    icon: <SubmittedIcon/>,\n    value: SUBMITTED,\n  },\n  {\n    title: getTranslation('mark_submitted_status_submitted_late'),\n    icon: <SubmittedLateIcon/>,\n    value: SUBMITTED_LATE,\n  },\n  {\n    title: getTranslation('mark_submitted_status_not_submitted_late'),\n    icon: <NotSubmittedLateIcon/>,\n    value: NOT_SUBMITTED_LATE,\n  },\n  {\n    title: getTranslation('mark_submitted_status_not_submitted'),\n    icon: <NotSubmittedIcon/>,\n    value: NOT_SUBMITTED,\n  }\n];\n\n// Only use submittedStatus with button without text\nconst AssessmentButton = (props) => {\n  const {\n    initialState, warning, onStatusChange, button, style = {}, readonly = false, submittedStatus = false,\n  } = props;\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [state, setState] = useState(initialState);\n  const open = Boolean(anchorEl);\n\n  const getAssessmentStatusTitle = () => {\n    switch (state) {\n      case ASSESSMENT_DONE:\n        return getTranslation('teacherAssignmentsAssessmentManyStudentStatusLabel_ASSESSMENT_DONE');\n      case NOT_ASSESSED:\n        return getTranslation('teacherAssignmentsAssessmentManyStudentStatusLabel_NOT_ASSESSED');\n      case ASSESSING:\n        return getTranslation('teacherAssignmentsAssessmentManyStudentStatusLabel_ASSESSING');\n      default:\n        return getTranslation('teacherAssignmentsAssessmentManyStudentStatusLabel_NOT_ASSESSED');\n    }\n  };\n\n  useEffect(() => {\n    setState(initialState);\n  }, [initialState]);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleSelect = (option) => {\n    setAnchorEl(null);\n    setState(option.value);\n    if (onStatusChange) {\n      onStatusChange(option.value);\n    }\n  };\n\n  const handleClickAway = (event) => {\n    setTimeout(() => { setAnchorEl(null); });\n  };\n\n  if (readonly) {\n    return (\n      <div style={{ display: 'flex', alignItems: 'center' }}>\n        {getAssessmentIcon({ status: state })}\n        <span style={{ ...fonts.MEDIUM, marginLeft: '10px' }}>{getAssessmentStatusTitle()}</span>\n      </div>\n    );\n  }\n\n  const activeOptions = submittedStatus?options:options.slice(0,3);\n\n  return (\n    <div style={style}>\n      <ClickAwayListener onClickAway={handleClickAway}>\n        {button ? (\n          <div onClick={handleClick}>{button}</div>\n        ) : (\n          <div\n            onClick={handleClick}\n            style={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              border: '0px solid red',\n              flex: 1,\n              height: '35px',\n              backgroundColor: colors.white,\n              borderRadius: '35px',\n              cursor: 'pointer',\n              boxShadow: '0px 2px 3px 0px rgba(0, 0, 0, 0.3)',\n              alignItems: 'center',\n              paddingLeft: '16px',\n              paddingRight: '16px',\n            }}\n          >\n            <div style={{ display: 'flex', alignItems: 'center' }}>\n            {getAssessmentIcon({ status: state })}\n            <span style={{ ...fonts.MEDIUM, marginLeft: '10px' }}>{getAssessmentStatusTitle()}</span>\n            </div>\n            <ArrowDropDown style={{ color: colors.darkGrey }} />\n            {warning && state === ASSESSMENT_DONE && false && (\n              <WarningIcon\n                fill={colors.red}\n                style={{ position: 'absolute', left: '25px', bottom: '6px' }}\n              />\n            )}\n          </div>\n        )}\n      </ClickAwayListener>\n      <Menu open={open} anchorEl={anchorEl}>\n        {activeOptions.map((option) => {\n          if(option.title === 'divider'){\n            return <div style={{height:'1px', width:'100%', backgroundColor: colors.borderColor}}/>;\n          }\n          return (\n            <MenuItem\n              key={option.title}\n              onClick={() => handleSelect(option)}\n              style={{display: 'flex', alignItems: 'center', padding: '10px'}}\n            >\n              {option.icon}\n              <span\n                style={{\n                  ...fonts.MEDIUM,\n                  marginLeft: '16px',\n                  border: '0px solid red',\n                }}\n              >\n                {option.title}\n              </span>\n            </MenuItem>\n          );\n        })}\n      </Menu>\n    </div>\n  );\n};\n\nexport default AssessmentButton;\n","import angular, { IModule } from 'angular';\nimport { AccordionComponent } from './accordion/accordion.component';\nimport { Accordion } from './accordion/accordion.service';\nimport { AccordionFooterComponent } from './accordion/accordionFooter/accordionFooter.component';\nimport { AccordionHeaderComponent } from './accordion/accordionHeader/accordionHeader.component';\nimport { ExtendedViewContainer } from './extended-view-container.component';\nimport { ExtendedViewTopWhiteframe } from './extended-view-top-whiteframe.component';\nimport { LoaderComponent } from './loader.component';\nimport { LongTextTooltipComponent } from './longTextTooltip/longTextTooltip.component';\nimport { LongTextTooltip } from './longTextTooltip/longTextTooltip.service';\nimport { MenuToggleComponent } from './menu-toggle.component';\nimport { ObjectDetailsToggle } from './object-details-toggle.component';\nimport { RightViewContainer } from './right-view-container.component';\nimport { SavingIndicator } from './saving-indicator.component';\nimport { StudentStatusIconComponent } from './student-status-icon.component';\n\nexport const CommonComponentsModule: IModule = angular\n  .module('app.common.components', [])\n  .component('loader', LoaderComponent)\n  .component('objectDetailsToggle', ObjectDetailsToggle)\n  .component('menuToggle', MenuToggleComponent)\n  .component('extendedViewContainer', ExtendedViewContainer)\n  .component('studentStatusIcon', StudentStatusIconComponent)\n  .component('savingIndicator', SavingIndicator)\n  .component('rightViewContainer', RightViewContainer)\n  .component('extendedViewTopWhiteframe', ExtendedViewTopWhiteframe)\n  .component('longTextTooltip', LongTextTooltipComponent)\n  .component('accordion', AccordionComponent)\n  .component('accordionHeader', AccordionHeaderComponent)\n  .component('accordionFooter', AccordionFooterComponent)\n  .service('Accordion', Accordion)\n  .service('LongTextTooltip', LongTextTooltip);\n\nexport default CommonComponentsModule.name;\nexport * from './components.scss';\nexport * from './accordion/accordionHeader/accordionHeaderMenu/accordionHeaderMenu.component';\nexport * from './breadcrumbs/breadcrumbs.component';\nexport * from './breadcrumbs/breadcrumbs.service';\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module UserInfo/Service\n * @description\n *   Handle User Info - keep information about user\n *   and allow to check user matched, user role and user config.\n * @param {Object} Courses Courses service instance\n * @param {Object} Path Path service instance\n */\n\nexport class UserInfo {\n  constructor(Courses, Path, UserQuery) {\n    'ngInject';\n\n    this.Courses = Courses;\n    this.Path = Path;\n    this.userMatched = null;\n    this.userConfigured = null;\n    this.userId = null;\n    this.userEmail = null;\n    this.userRole = null;\n    this.loggedToBrowser = null;\n    this.hasCreateCoursePermission = false;\n    this.agreementSeen = false;\n    this.hasSetup = null;\n    this.student_name = null;\n    this.firstName = '';\n    this.lastName = '';\n    this.photoUrl = '';\n    this.googleId = '';\n    this.gdpr = false;\n\n    UserQuery.user$.subscribe(user => {\n      this.applyDetails(user);\n    });\n  }\n\n  applyDetails(userDetails) {\n    this.student_name = `${userDetails.first_name} ${userDetails.last_name}`;\n    this.first_name = userDetails.first_name || '';\n    this.last_name = userDetails.last_name || '';\n    this.photo_url = userDetails.photo_url || '';\n    this.google_id = userDetails.google_id || '';\n    this.gdpr = userDetails.gdpr_check || false;\n    this.userId = userDetails.id || 0;\n    this.userRole = userDetails.is_teacher ? 'teacher' : 'student';\n    this.hasCreateCoursePermission = userDetails.is_teacher;\n  }\n\n  /**\n   * Check if user logged in to Chrome and user logged in to Classroom/Drive is the same user\n   * @memberof module:UserInfo/Service\n   */\n  checkUser() {\n    const userEmail = this.userEmail.toLowerCase();\n    let classroomStructure;\n    let driveStructure;\n\n    if (this.Path.isClassroomInstance()) {\n      classroomStructure = this.Path.classroomNode[0].innerHTML.toLowerCase();\n      if (userEmail.length && classroomStructure.indexOf(userEmail) >= 0) {\n        this.userMatched = true;\n      }\n    } else if (this.Path.isDriveInstance()) {\n      if (this.Path.driveNode[0].attributes['aria-label']) {\n        driveStructure = this.Path.driveNode[0].attributes['aria-label'].value.toLowerCase();\n      } else {\n        driveStructure = this.Path.driveNode[0].innerHTML.toLowerCase();\n      }\n\n      if (userEmail.length && driveStructure.indexOf(userEmail) >= 0) {\n        this.userMatched = true;\n      }\n    }\n  }\n\n  /**\n   * Check user role.\n   * @memberof module:UserInfo/Service\n   * @param {Number} courseId Selected course ID\n   */\n  checkRole(courseId) {\n    if (this.Path.isClassroomInstance()) {\n      this.Courses.list.forEach((elem) => {\n        if (elem.id === courseId && elem.role === 'teacher') {\n          this.userRole = 'teacher';\n        } else if (elem.id === courseId && elem.role !== 'teacher') {\n          this.userRole = 'student';\n        } else if (!courseId) {\n          this.userRole = null;\n        }\n      });\n    }\n  }\n\n  setUserRole(role) {\n    this.userRole = role;\n  }\n\n  /**\n   * Check if user config specific course\n   * @memberof module:UserInfo/Service\n   * @param {Number} courseId Selected course ID\n   */\n  checkConfig(courseId) {\n    if (this.Path.isClassroomInstance()) {\n      this.Courses.list.forEach((elem) => {\n        if (elem.id === courseId) {\n          this.userConfigured = elem.configured;\n        } else if (!courseId) {\n          this.userConfigured = null;\n        }\n      });\n    }\n  }\n\n  isTeacher() {\n    return this.userRole ? this.userRole === 'teacher' : this.hasCreateCoursePermission;\n  }\n\n  getUserObj() {\n    const { Courses, Path, ...student } = this;\n\n    student.id = this.id;\n    student.email = this.email;\n\n    return student;\n  }\n\n  get id() {\n    return this.userId;\n  }\n\n  get email() {\n    return this.userEmail;\n  }\n}\n","import { StateParams, StateService } from '@uirouter/core';\nimport { IScope } from 'angular';\nimport xor from 'lodash.xor';\nimport { AssessmentSort } from '../../../../../../src/app/shared/models/assessment.model';\nimport { AssignmentOrder } from '../../../assignments/teacherAssignments/shared/enums/assignmentOrder';\nimport { StudentOrder } from '../../../assignments/teacherAssignments/shared/enums/studentOrder.enum';\nimport { AssignmentFilterGroup } from '../../enums/assignmentFilterGroup.enum';\nimport { AssignmentState } from '../../enums/assignmentStateType.enum';\nimport { AssignmentType } from '../../enums/assignmentType.enum';\nimport { ILocalStorageService } from '../../services/localStorage/localStorage.service';\nimport { UnsubscribableComponent } from '../abstracts/unsubscribable.component';\n\nexport abstract class AssignmentsComponent extends UnsubscribableComponent {\n\n  public sortingItems: any[];\n  public studentSortingItems: any[];\n  public filters: any[];\n\n  protected abstract readonly statePrefix: string;\n  protected refreshStateName: string;\n\n  constructor(protected $scope: IScope, protected $stateParams: StateParams, protected $state: StateService,\n              protected LocalStorageService: ILocalStorageService) {\n    'ngInject';\n\n    super();\n    this.sortingItems = [{\n      order: AssignmentOrder.ASC_TYPE,\n      label: 'assignmentsActionMenuSortByTypeAsc',\n    }, {\n      order: AssignmentOrder.ASC_CREATED,\n      label: 'assignmentsActionMenuSortByCreationDateAsc',\n    }, {\n      order: AssignmentOrder.DESC_CREATED,\n      label: 'assignmentsActionMenuSortByCreationDateDesc',\n    }, {\n      order: AssignmentOrder.DESC_LAST_CHANGE,\n      label: 'assignmentsActionMenuSortByLastChanged',\n    }, {\n      order: AssignmentOrder.ASC_TITLE,\n      label: 'assignmentsActionMenuSortByNameAsc',\n    }];\n    this.studentSortingItems = [\n      {\n        order: AssessmentSort.ASC_FIRST_NAME,\n        label: 'studentsActionMenuSortByFirstNameAsc',\n      }, {\n        order: AssessmentSort.ASSESSMENT_DONE,\n        label: 'studentsActionMenuSortByAssessmentDoneAsc',\n      }, {\n        order: AssessmentSort.NOT_ASSESSED,\n        label: 'studentsActionMenuSortByNotAssessedAsc',\n      },\n    ];\n    this.filters = [\n      {\n        group: AssignmentFilterGroup.TYPE,\n        type: AssignmentType.WORK_UNIT,\n        label: 'assignmentActionMenuFilterWorkUnit',\n      },\n      {\n        group: AssignmentFilterGroup.TYPE,\n        type: AssignmentType.STANDARD_ASSIGNMENT,\n        label: 'assignmentActionMenuFilterAssignments',\n      },\n      {\n        group: AssignmentFilterGroup.TYPE,\n        type: AssignmentType.WITHOUT_ASSESSMENT_CRITERIAS,\n        label: 'assignmentActionMenuFilterWithoutAssessmentCriterias',\n      },\n      {\n        group: AssignmentFilterGroup.STATE,\n        type: AssignmentState.PUBLISHED,\n        label: 'publishedStatus',\n      },\n      {\n        group: AssignmentFilterGroup.STATE,\n        type: AssignmentState.DRAFT,\n        label: 'draftsStatus',\n      },\n    ];\n    this.refreshStateName = this.$state.current.name;\n  }\n\n  public $onInit(): void {\n    this.$$unsubscribes.push(\n      this.$scope.$on('$mdMenuClose', this.onFilterMenuClose.bind(this)),\n    );\n  }\n\n  public isCurrentOrder(ordering: AssignmentOrder): boolean {\n    return ordering === this.$stateParams.ordering;\n  }\n\n  public isSortAssessmentSelected(assessmentSort: AssessmentSort) {\n    return true; // this.AppAssignmentsService.isSortAssessmentSelected(assessmentSort);\n  }\n\n  public isFilterSelected(filter: AssignmentType, group: AssignmentFilterGroup): boolean {\n    return group === AssignmentFilterGroup.TYPE ?\n      this.$stateParams.filters.includes(filter) : this.$stateParams.states.includes(filter);\n  }\n\n  public onClickOrder(ordering: AssignmentOrder): void {\n    this.reloadState({ ordering });\n  }\n\n  public sortAssessments(assessmentSort: AssessmentSort): void {\n    // this.AssignmentsService.updateSort({ assessments: assessmentSort });\n  }\n\n  public onClickFilter(filter: AssignmentType & AssignmentState, group: AssignmentFilterGroup): void {\n    if (group === AssignmentFilterGroup.TYPE) {\n      let filters: AssignmentType[] = this.$stateParams.filters;\n\n      if (filters.includes(filter)) {\n        filters = filters.filter((_filter: AssignmentType): boolean => _filter !== filter);\n      } else {\n        filters.push(filter);\n      }\n\n      Object.assign(this.$stateParams, { filters });\n    } else if (group === AssignmentFilterGroup.STATE) {\n      let states: AssignmentState[] = this.$stateParams.states;\n\n      if (states.includes(filter)) {\n        states = states.filter((_states: AssignmentState): boolean => _states !== filter);\n      } else {\n        states.push(filter);\n      }\n\n      Object.assign(this.$stateParams, { states });\n    }\n  }\n\n  public isDividerVisible(index: number): boolean {\n    return this.filters[index + 1] ? this.filters[index].group !== this.filters[index + 1].group : false;\n  }\n\n  protected reloadState(stateParams: { ordering?: AssignmentOrder, studentOrdering?: StudentOrder, states?: AssignmentState[], filters?: AssignmentType[] } = {}): void {\n    const params: { ordering?: AssignmentOrder, states?: AssignmentState[], filters?: AssignmentType[] } = Object\n      .assign({}, this.$stateParams, stateParams);\n\n    this.saveFilters(params.filters);\n    this.saveState(params.states);\n    this.saveOrdering(params.ordering);\n    this.$state.go(`${this.refreshStateName}`, params, { reload: true });\n  }\n\n  protected saveOrdering(ordering: AssignmentOrder): void {\n    if (ordering) {\n      this.LocalStorageService.set(`${this.statePrefix}AssignmentsOrdering`, `${ordering}`);\n    }\n  }\n\n  protected saveState(states: AssignmentState[]): void {\n    if (states) {\n      this.LocalStorageService.setArray(`${this.statePrefix}AssignmentsStates`, states);\n    }\n  }\n\n  protected saveFilters(filters: AssignmentType[]): void {\n    if (filters) {\n      this.LocalStorageService.setArray(`${this.statePrefix}AssignmentsFiltering`, filters);\n    }\n  }\n\n  protected isFilterChange(): boolean {\n    const currentFilters: AssignmentType[] = this.$stateParams.filters;\n    const previousFilters: AssignmentType[] = this.LocalStorageService.getArray<AssignmentType>(`${this.statePrefix}AssignmentsFiltering`);\n\n    return !!xor(previousFilters, currentFilters).length;\n  }\n\n  protected isStateChange(): boolean {\n    const currentStates: AssignmentState[] = this.$stateParams.states;\n    const previousStates: AssignmentState[] = this.LocalStorageService.getArray<AssignmentState>(`${this.statePrefix}AssignmentsStates`);\n\n    return !!xor(previousStates, currentStates).length;\n  }\n\n  protected onFilterMenuClose(): void {\n    const currentFilters: AssignmentType[] = this.$stateParams.filters;\n    const currentStates: AssignmentState[] = this.$stateParams.states;\n\n    if (this.isFilterChange() || this.isStateChange()) {\n      this.reloadState({ filters: currentFilters, states: currentStates });\n    }\n  }\n}\n","export enum AssignmentFilterGroup {\n  STATE,\n  TYPE\n}\n","import { GroupedVisibilityDialogType } from '../enums/groupedVisibilityDialogType.enum';\nimport { ICourseDefinition } from './courseDefinition.model';\nimport { IStudent } from './student.model';\n\nexport interface IGroupedVisibilitySettings {\n  courseDefinitions: ICourseDefinition[];\n  students: IStudent[];\n  type: GroupedVisibilityDialogType;\n}\n\nexport class GroupedVisibilitySettings implements IGroupedVisibilitySettings {\n  courseDefinitions: ICourseDefinition[];\n  students: IStudent[];\n  type: GroupedVisibilityDialogType;\n\n  constructor(type: GroupedVisibilityDialogType, courseDefinitions?: ICourseDefinition[], students?: IStudent[]) {\n    this.type = type;\n    this.courseDefinitions = courseDefinitions || [];\n    this.students = students || [];\n  }\n}\n","import { IObserver, IUnsubscribe } from './observer.service';\nimport { ISubject, Subject } from './subject.service';\n\nexport interface IBehaviourSubject<T = any> extends ISubject<T> {\n  value: T;\n  getValue(): T;\n}\n\nexport class BehaviourSubject<T = any> extends Subject<T> implements IBehaviourSubject<T> {\n\n  public value: T;\n\n  constructor(value?: T) {\n    'ngInject';\n    super();\n    this.value = value;\n  }\n\n  public subscribe(observer: IObserver<T>): IUnsubscribe {\n    observer.closed = false;\n    observer.next(this.value);\n\n    return super.subscribe(observer);\n  }\n\n  public next(value: T): void {\n    this.value = value;\n    super.next(value);\n  }\n\n  public getValue(): T {\n    return this.value;\n  }\n}\n","export interface IObjectiveAssignmentAssessment {\n  $$open?: boolean;\n  assignment_id: number;\n  assignment_title: string;\n  feedback: string;\n  feedback_last_edit: string;\n  feedback_published: boolean;\n  id: number;\n  private_note: string;\n  private_note_last_edit: string;\n  result: string;\n  result_last_edit: string;\n  result_published: boolean;\n  seen: boolean;\n  student_id: number;\n  teacher_in_class: boolean;\n}\n\nexport class ObjectiveAssignmentAssessment implements IObjectiveAssignmentAssessment {\n  public $$open?: boolean;\n  public assignment_id: number;\n  public assignment_title: string;\n  public feedback: string;\n  public feedback_last_edit: string;\n  public feedback_published: boolean;\n  public id: number;\n  public private_note: string;\n  public private_note_last_edit: string;\n  public result: string;\n  public result_last_edit: string;\n  public result_published: boolean;\n  public seen: boolean;\n  public student_id: number;\n  public teacher_in_class: boolean;\n}\n","import { IPromise } from 'angular';\nimport { StateParams } from '@uirouter/core';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { GroupedVisibilityDialogType } from '../../enums/groupedVisibilityDialogType.enum';\nimport { GroupedVisibilityFeedbackType } from '../../enums/groupedVisibilityFeedbackType.enum';\nimport { IAssignment } from '../../models/assignment.model';\nimport { GroupedVisibility, IGroupedVisibility } from '../../models/groupedVisibility.model';\nimport SharedServicesModule from '../services.module';\nimport {getTranslation} from '../../../../../../react_src/i18n';\n\nexport interface IGroupedVisibilityService {\n  getEmptyGroupedVisibilityObject(): IGroupedVisibility;\n  getSelectedTypeOfFeedbackByType(type: GroupedVisibilityDialogType): { id: GroupedVisibilityFeedbackType, name: string, group: number }[];\n  mapObjectToArrayOfIds(items: { id: number }[]): number[];\n  patchAssignmentAssessmentsGroupedVisibility(groupedVisibility: IGroupedVisibility, assignment?: IAssignment): IPromise<void>;\n  patchCourseAssessmentsGroupedVisibility(groupedVisibility: IGroupedVisibility): IPromise<void>;\n}\n\n\n@Service({\n  module: SharedServicesModule,\n  name: 'GroupedVisibilityService',\n})\nexport class GroupedVisibilityService implements IGroupedVisibilityService {\n  constructor(private $stateParams: StateParams, private Path: any, private FetchData: any) {\n    'ngInject';\n  }\n\n  public getEmptyGroupedVisibilityObject(): IGroupedVisibility {\n    return new GroupedVisibility(\n      {\n        overall: {\n          feedback_published: true,\n          grade_published: true,\n          result_published: true,\n          target_grade_published: true,\n        },\n        objective: {\n          feedback_published: true,\n          grade_published: true,\n        },\n      }, undefined, [], []);\n  }\n\n  public getSelectedTypeOfFeedbackByType(type: GroupedVisibilityDialogType): { id: GroupedVisibilityFeedbackType, name: string, group: number }[] {\n    let selectedTypeOfFeedback: { id: GroupedVisibilityFeedbackType; name: string, group: number }[] = [\n      {\n        id: GroupedVisibilityFeedbackType.ObjectiveAssessment,\n        name: getTranslation('objectiveAssessment'),\n        group: 1,\n      },\n      {\n        id: GroupedVisibilityFeedbackType.ObjectiveFeedback,\n        name: getTranslation('objectiveFeedback'),\n        group: 1,\n      },\n    ];\n\n    if (type === GroupedVisibilityDialogType.StudentProgressView) {\n      selectedTypeOfFeedback = [\n        {\n          id: GroupedVisibilityFeedbackType.OverallAssessment,\n          name: getTranslation('overallAssessment'),\n          group: 0,\n        },\n        {\n          id: GroupedVisibilityFeedbackType.OverallTarget,\n          name: getTranslation('overallTarget'),\n          group: 0,\n        },\n        {\n          id: GroupedVisibilityFeedbackType.OverallFeedback,\n          name: getTranslation('overallFeedbackStudentProgress'),\n          group: 0,\n        },\n        ...selectedTypeOfFeedback,\n      ];\n    } else {\n      selectedTypeOfFeedback = [\n        {\n          id: GroupedVisibilityFeedbackType.OverallFeedback,\n          name: getTranslation('overallFeedback'),\n          group: 0,\n        },\n        {\n          id: GroupedVisibilityFeedbackType.OverallResult,\n          name: getTranslation('overallResult'),\n          group: 0,\n        },\n        ...selectedTypeOfFeedback,\n      ];\n    }\n\n    return selectedTypeOfFeedback;\n  }\n\n  public mapObjectToArrayOfIds(items: { id: number }[] = []): number[] {\n    return items.reduce((acc: number[], item: { id: number }) => {\n      return item ? [...acc, item.id] : acc;\n    }, []);\n  }\n\n  public patchAssignmentAssessmentsGroupedVisibility(groupedVisibility: IGroupedVisibility, assignment: IAssignment = this.$stateParams.assignment): IPromise<void> {\n    const courseId: number = this.Path.getClassroomId();\n    const assignmentId: number = assignment.id;\n\n    return this.FetchData.v3\n      .patchAssignmentAssessmentsGroupedVisibility(courseId, assignmentId, groupedVisibility);\n  }\n\n  public patchCourseAssessmentsGroupedVisibility(groupedVisibility: IGroupedVisibility): IPromise<void> {\n    const courseId: number = this.Path.getClassroomId();\n\n    return this.FetchData.v3.patchCourseAssessmentsGroupedVisibility(courseId, groupedVisibility);\n  }\n}\n","import { IPromise } from 'angular';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { FetchData } from '../../../utils/services/fetchData.service';\nimport { RequestType } from '../../enums/requestType.enum';\nimport { SchoolCategoryType } from '../../enums/schoolCategoryType';\nimport { ISchool } from '../../models/school.model';\nimport { ISchoolCategory } from '../../models/schoolCategory.model';\nimport { ISchoolRequestBody } from '../../models/schoolRequestBody.model';\nimport { ISchoolRequestParams } from '../../models/schoolRequestParams.model';\nimport SharedServicesModule from '../services.module';\n\n@Service({\n  module: SharedServicesModule,\n  name: 'SchoolService',\n})\nexport class SchoolService {\n  constructor(private FetchData: FetchData) {\n    'ngInject';\n  }\n\n  public getSchools(params: ISchoolRequestParams = {}): IPromise<ISchool[]> {\n    return this.FetchData.sendAPIRequestWithParams(params, `/schools/school/`);\n  }\n\n  public getSchoolCategories(): ISchoolCategory[] {\n    return [\n      {\n        type: SchoolCategoryType.K_12,\n        name: 'SchoolCategoryNameK12',\n      },\n      {\n        type: SchoolCategoryType.HIGHER_EDUCATION,\n        name: 'SchoolCategoryNameHigherEducation',\n      },\n      {\n        type: SchoolCategoryType.HOME_SCHOOL,\n        name: 'SchoolCategoryNameHomeSchool',\n      },\n      {\n        type: SchoolCategoryType.CORPORATION,\n        name: 'SchoolCategoryNameCorporation',\n      },\n      {\n        type: SchoolCategoryType.OTHER,\n        name: 'SchoolCategoryNameOther',\n      },\n    ];\n  }\n\n  public filterSchools(schools: ISchool[], query: string): ISchool[] {\n    const lowerQuery: string = query.toLocaleLowerCase();\n\n    return schools.filter((school: ISchool): boolean => {\n      const lowerTitle: string = school.title.toLocaleLowerCase();\n\n      return lowerTitle.includes(lowerQuery);\n    });\n  }\n\n  public getSchoolName(school: ISchool): string {\n    return school.title.match(/(.*) - (.*)/)[1].trim();\n  }\n\n  public getCityName(school: ISchool): string {\n    return school.title.match(/(.*) - (.*)/)[2].trim();\n  }\n\n  public sendSchoolRequest(data: ISchoolRequestBody): IPromise<any> {\n    return this.FetchData.sendAPIRequest('/v3/schools/school-request/', RequestType.POST, data);\n  }\n}\n","import angular from 'angular';\nimport { IBindingsOptions } from 'angular';\n\nexport const Output: (options?: IBindingsOptions) => (prototype: object, property: string | symbol) => void = (options?: IBindingsOptions): (prototype: object, property: string | symbol) => void => {\n  return (prototype: object & { $$bindings?: any }, property: string | symbol): void => {\n    const _options: IBindingsOptions = angular.merge({}, { alias: '', optional: false }, options);\n    const binding: { [property: string]: string } = { [property]: `&${_options.optional ? '?' : ''}${_options.alias}` };\n    let $$bindings: { [boundProperty: string]: string } = prototype.$$bindings || {};\n\n    $$bindings = angular.merge({}, $$bindings, binding);\n    Object.assign(prototype, { $$bindings });\n  };\n};\n","import {Inject, Injectable, Optional} from '@angular/core';\nimport {forkJoin, from, Observable, of} from 'rxjs';\nimport {UserQuery} from './user.query';\nimport {UserStore} from './user.store';\nimport {HttpService} from '../../../core/http/http.service';\nimport {catchError, map, switchMap, take, tap} from 'rxjs/operators';\nimport {PRE_FETCH_USER_DATA, User, UserSetup} from './user.model';\n\n@Injectable({providedIn: 'root'})\nexport class UserService {\n  constructor(private userStore: UserStore,\n              private userQuery: UserQuery,\n              protected http: HttpService,\n              @Inject(PRE_FETCH_USER_DATA) @Optional() protected preFetchUserData: User) {\n\n    if (preFetchUserData !== null) {\n      this.userStore.update(state => ({...state, ...preFetchUserData}));\n      this.userStore.setHasCache(true);\n    }\n  }\n\n  public fetchUser(): Observable<User> {\n    let userDataSource: Observable<User>;\n\n    if (this.userQuery.getHasCache()) {\n      userDataSource = this.userQuery.select();\n    } else {\n      userDataSource = forkJoin({\n        user: this.http.get<User>('/users/user_data/'),\n        userInfo: from(new Promise<User>(resolve => chrome.runtime.sendMessage({action: 'getUserInfo'}, resolve)))\n      }).pipe(\n        map(sources => ({...sources.user, ...{google_id: sources.userInfo.id, email: sources.userInfo.email}} as User)),\n        switchMap(user => {\n            if (user.is_teacher) {\n              return this.http.get<User>('/schools/user_setup/').pipe(\n                catchError(() => of(user)),\n                map(response => ({...user, ...response})),\n              );\n            }\n\n            return of(user);\n          }\n        ),\n        take(1),\n        tap(user => this.userStore.update({...user})),\n        tap(() => this.userStore.setHasCache(true)),\n      );\n    }\n\n    return userDataSource;\n  }\n\n  public updateUser(user: Partial<User>): void {\n    this.userStore.update(state => ({...state, ...user}));\n  }\n\n  public updateUserSetup(userSetup: UserSetup) {\n    return this.http.post<UserSetup>('/schools/user_setup/', userSetup).pipe(\n      take(1),\n      tap(response => this.userStore.update(state => ({...state, ...response}))),\n    );\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {Query} from '@datorama/akita';\nimport {User} from './user.model';\nimport {UserState, UserStore} from './user.store';\n\n@Injectable({ providedIn: 'root' })\nexport class UserQuery extends Query<UserState> {\n  public user$ = this.select((user: User) => user);\n\n  constructor(protected store: UserStore) {\n    super(store);\n  }\n}\n","import {ID} from '@datorama/akita';\nimport {InjectionToken} from '@angular/core';\n\nexport interface UserSetup {\n  educational_system_setup?: ID;\n  school: ID;\n}\n\nexport interface User {\n  readonly educational_system_setup?: ID;\n  readonly email: string;\n  readonly first_name: string;\n  readonly first_time_setup: boolean;\n  readonly gdpr_check: boolean;\n  readonly google_id: string;\n  readonly id: ID;\n  readonly is_teacher: boolean;\n  readonly last_name: string;\n  readonly photo_url: string;\n  readonly school?: ID;\n  readonly school_name?: string;\n}\n\nexport const PRE_FETCH_USER_DATA = new InjectionToken<User>('app.pre-fetch-user-data');\n","import { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport { AssignmentState } from '../../enums/assignmentStateType.enum';\nimport { AssignmentType } from '../../enums/assignmentType.enum';\nimport { IAssignment } from '../../models/assignment.model';\nimport SharedComponentsModule, { UnsubscribableComponent } from '../components.module';\nimport style from './assignmentsList.scss';\nimport template from './assignmentsList.tpl.html';\nimport {getTranslation} from '../../../../../../react_src/i18n';\n\n@Component({\n  module: SharedComponentsModule,\n  selector: 'assignments-list-new',\n  template: template,\n  style: style,\n})\nexport class AssignmentsListComponent extends UnsubscribableComponent {\n  @Input({ string: true })\n  public label: string;\n  @Input()\n  public assignments: IAssignment[];\n\n  constructor() {\n    'ngInject';\n\n    super();\n    this.label = '';\n    this.assignments = [];\n  }\n\n  public getIconTooltip(assignment: IAssignment): string {\n    const suffix: string = assignment.state === AssignmentState.DRAFT ?\n      `(${getTranslation('assignmentStateIconTooltipDraft')})` : '';\n    let tooltipText: string;\n\n    if (assignment.assignment_not_assessable) {\n      tooltipText = getTranslation('assignmentTypeIconTooltipWithoutAssessmentCriteria');\n    } else if (assignment.assignment_type === AssignmentType.WORK_UNIT) {\n      tooltipText = getTranslation('assignmentTypeIconTooltipWorkUnit');\n    } else if (assignment.assignment_type === AssignmentType.STANDARD_ASSIGNMENT) {\n      tooltipText = getTranslation('assignmentTypeIconTooltipStandardAssignment');\n    }\n\n    return tooltipText && suffix ? `${tooltipText} ${suffix}` : tooltipText;\n  }\n\n\n  public consumeEvent($event: Event): void {\n    if ($event && $event.stopPropagation instanceof Function) {\n      $event.stopPropagation();\n    }\n  }\n}\n","export enum SchoolCategory {\n  K_12,\n  HIGHER_EDUCATION,\n  HOME_SCHOOL,\n  CORPORATION,\n  OTHER,\n}\n\nexport interface SchoolRequest {\n  category: SchoolCategory;\n  city: string;\n  comment?: string;\n  country_code: string;\n  postal_code: string;\n  school_name: string;\n  state: string;\n  street_address: string;\n  website: string;\n}\n\nexport interface School {\n  readonly id: number;\n  readonly is_intercom_enabled: boolean;\n  readonly title: string;\n  readonly url: string;\n}\n\n\n","import React, {\n  useContext, useEffect, useRef, useState,\n} from 'react';\nimport {colors, fonts} from '../theme';\nimport AssignmentStudentList from './assignmentStudentList';\nimport AssignmentsListHeader from './assignmentsListHeader';\nimport AssignmentObjectivesList from './assignmentObjectivesList';\nimport AssignmentItem from '../components/assignmentItem';\nimport {checkIfMyTab, GlobalContext, sortAssessmentsByStudentName} from '../utils';\nimport {getTranslation} from '../i18n';\nimport FullscreenProgress from '../components/fullscreenProgress';\nimport {getAssignmentAlternateLinkId, getFileId} from '../path';\nimport TopicItem from '../components/topicItem';\nimport {ReactComponent as SortIcon} from '../images/sort.svg';\nimport EditAssessmentCriteria from './editAssignment/editAssessmentCriteria';\nimport AccordionItem from '../components/accordionItem';\nimport NotConnectedItem from '../components/notConnectedItem';\nimport HideAssignmentsDialog from './hideAssignmentsDialog';\nimport Tooltip from \"../components/tooltip\";\n\nexport const classroomFields = `\n        name\n        assignments {\n          modified\n          created\n          connected\n          use_submitted_status\n          title\n          state\n          worktype\n          id\n          is_topic\n          topic_order\n          topic_id\n          alternate_link_id\n          courseDefinitions {\n            id\n            name\n          }\n          gradeSystem {\n            id\n            name\n            is_counter\n            order\n            grades {\n              id\n              name\n              is_passed\n              color\n              label\n              circle_label\n              order\n            }\n          }\n          assessments {\n            id\n            student_id\n            first_name\n            last_name\n            email\n          }\n          assignments {\n            title\n            id\n            connected\n            use_submitted_status\n            modified\n            created\n            state\n            worktype\n            is_topic\n            topic_order\n            topic_id\n            alternate_link_id\n            courseDefinitions {\n              id\n              name\n            }\n            gradeSystem {\n              id\n              name\n              is_counter\n              order\n              grades {\n                id\n                name\n                is_passed\n                color\n                label\n                circle_label\n                order\n              }\n            }\n            assessments {\n              id\n              student_id\n              first_name\n              last_name\n              email\n            }\n          }\n        }`;\n\nconst AssignmentList = () => {\n  const context = useContext(GlobalContext);\n  const {\n    Api, height, isStudent, sortingMethod, assignmentSortMethod, setAssignmentSortMethod, studybeeOpen\n  } = context;\n  const [assignmentSelected, setAssignmentSelected] = useState();\n  const [studentSelected, setStudentSelected] = useState();\n  const [editAssessmentCriteria, setEditAssessmentCriteria] = useState();\n  const [classroom, setClassroom] = useState();\n  const [showHideAssignmentsDialog, setHowHideAssignmentsDialog] = useState(false);\n  const lastStorageChange = useRef();\n\n  const [loading, setLoading] = useState(true);\n  const fetchAssignments = async () => {\n    const response = await Api.getClassroom(classroomFields);\n    setClassroom(response?.data?.classroom);\n    setLoading(false);\n    return response?.data?.classroom;\n  };\n\n  const assignments = classroom?.assignments || [];\n  const routeWithLinkId = (courseId = null) => {\n    const link = courseId || getAssignmentAlternateLinkId();\n    if (!link) {\n      return;\n    }\n    const allAssignments = assignments\n      .map((a) => [a, ...(a.assignments || [])])\n      .flat();\n    const assignment = allAssignments.find((a) => a.alternate_link_id === link);\n    if (assignment.connected) {\n      setAssignmentSelected(assignment);\n    }\n  };\n\n  const studentClicked = async (data, assignment, openGrid = false) => {\n    const {student} = data;\n    const promises = [];\n    promises.push(\n      Api.getClassroom(`\n    courseDefinitions {\n      id\n      name\n      course_id\n      objectives{\n        id\n        name\n        description\n      }\n    }`),\n    );\n\n    promises.push(\n      Api.getAssignmentWithAssessment(\n        assignment.id,\n        `\n    gradeSystem {\n      id\n      name\n      is_counter\n      is_main\n      is_final\n      grades{\n        id\n        name\n        is_passed\n        color\n        label\n      }\n    }`,\n      ),\n    );\n    const [resp1, resp2] = await Promise.all(promises);\n    const {courseDefinitions} = resp1?.data?.classroom;\n    const {gradeSystem} = resp2?.data?.assignment[0];\n    const params = {\n      openGrid,\n      studentId: student?.student_id,\n      assignment,\n      assessment: assignment?.assessments.find(\n        (a) => a.student_id === student?.student_id,\n      ),\n      courseDefinitions,\n      gradeSystem,\n      historyBack: () => {\n        setStudentSelected(null);\n        fetchAssignments();\n      },\n      students: assignment?.assessments,\n    };\n    setStudentSelected(params);\n  };\n\n  let listener;\n  const processStorageChange = async (change) => {\n    const myTab = await checkIfMyTab();\n    if (!myTab) {\n      return;\n    }\n\n    if (change?.studentSelected) {\n      const link = getAssignmentAlternateLinkId();\n      const allAssignments = assignments\n        .map((a) => [a, ...(a.assignments || [])])\n        .flat();\n      const assignment = allAssignments.find(\n        (a) => a.alternate_link_id === link,\n      );\n      if (!assignment.connected) {\n        return;\n      }\n      const {assessments} = assignment;\n      const student = assessments.find(\n        (a) => `${a.first_name} ${a.last_name}` === change.studentSelected,\n      );\n      studentClicked({student}, assignment);\n      chrome.storage.sync.set({studentSelected: 0});\n    } else if (change?.assignmentSelected) {\n      setStudentSelected(null);\n      routeWithLinkId(change?.assignmentSelected);\n      chrome.storage.sync.set({assignmentSelected: 0});\n    }\n    if (change?.editAssignment) {\n      const newClassroom = await fetchAssignments();\n      const assignmentId = change.editAssignment;\n      const allAssignments = newClassroom?.assignments\n        .map((a) => [a, ...(a.assignments || [])])\n        .flat();\n      const assignment = allAssignments.find((a) => a.id === assignmentId);\n      setEditAssessmentCriteria(assignment);\n      chrome.storage.sync.set({editAssignment: 0});\n    }\n    if (change?.connectNewAssignment) {\n      studybeeOpen();\n      const title = change.connectNewAssignment;\n      chrome.storage.sync.set({connectNewAssignment: 0});\n      const assignment = await Api.newAssignment(title);\n      const newClassroom = await fetchAssignments();\n      const assignmentId = assignment.id;\n      const allAssignments = newClassroom?.assignments\n        .map((a) => [a, ...(a.assignments || [])])\n        .flat();\n      const assignmentFromDb = allAssignments.find((a) => a.id === assignmentId);\n      setEditAssessmentCriteria(assignmentFromDb);\n    }\n    if (change?.disconnectNewAssignment) {\n      const title = change.disconnectNewAssignment;\n      chrome.storage.sync.set({disconnectNewAssignment: 0});\n      const assignment = await Api.newAssignment(title);\n      const newClassroom = await fetchAssignments();\n      const assignmentId = assignment.id;\n      const allAssignments = newClassroom?.assignments\n        .map((a) => [a, ...(a.assignments || [])])\n        .flat();\n      const assignmentFromDb = allAssignments.find((a) => a.id === assignmentId);\n      await Api.updateAssignment({...assignmentFromDb, connected: false});\n      await fetchAssignments();\n    }\n  };\n\n  const processStorage = async () => {\n    chrome.storage.sync.get(\n      [\n        'editAssignment',\n        'assignmentDriveSelected',\n        'studentSelected',\n        'assignmentSelected',\n        'connectNewAssignment',\n        'disconnectNewAssignment',\n      ],\n      (storage) => {\n        processStorageChange(storage);\n      },\n    );\n  };\n\n  const storageListener = async (change) => {\n    const changes = Object.keys(change).map((key) => {\n      const obj = {};\n      obj[key] = change[key].newValue;\n      return obj;\n    });\n    const [firstChange] = changes;\n    if (firstChange !== lastStorageChange.current) {\n      lastStorageChange.current = firstChange;\n      await processStorageChange(firstChange);\n    }\n  };\n\n  useEffect(() => {\n    if (!assignments.length) {\n      return;\n    }\n    if (listener) {\n      return;\n    }\n    if (!process.env.REACT_APP_STANDALONE) {\n      chrome.storage.sync.get(['assignmentDriveSelected'], async (selected) => {\n        if (selected?.assignmentDriveSelected !== 0) {\n          const fileId = await getFileId();\n          if (!fileId) {\n            return;\n          }\n          const temp = (await Api.getAssignmentDrive(fileId))[0];\n          const allAssignments = assignments\n            .map((a) => [a, ...(a.assignments || [])])\n            .flat();\n          const assignment = allAssignments.find(\n            (a) => a.id === temp.assignment,\n          );\n          if (!assignment.connected) {\n            return;\n          }\n          chrome.storage.sync.set({assignmentDriveSelected: 0});\n          studentClicked(\n            {student: {student_id: temp.student_id}},\n            assignment,\n          );\n        }\n      });\n\n      processStorage();\n      chrome.storage.onChanged.addListener(storageListener);\n    }\n    return function cleanup() {\n      if (!process.env.REACT_APP_STANDALONE) {\n        chrome.storage.onChanged.removeListener(storageListener);\n      }\n    };\n  }, [assignments]);\n\n  useEffect(() => {\n    fetchAssignments();\n  }, []);\n\n  useEffect(() => {\n    if (!showHideAssignmentsDialog) {\n      fetchAssignments();\n    }\n  }, [showHideAssignmentsDialog]);\n\n  const handleAssignmentMenuClick = async (assignment, {name}) => {\n    switch (name) {\n      case 'DISCONNECT':\n        if (assignment.is_topic && assignment?.assignments?.filter((a) => a.connected).length > 0) {\n          setHowHideAssignmentsDialog(assignment);\n          return;\n        }\n        await Api.updateAssignment({...assignment, connected: false});\n        await fetchAssignments();\n        break;\n      case 'CONNECT':\n        await Api.updateAssignment({...assignment, connected: true});\n        await fetchAssignments();\n        break;\n      case 'ASSESSMENT_CRITERIA':\n        setEditAssessmentCriteria(assignment);\n        break;\n      default:\n        break;\n    }\n  };\n\n  const hideAllAssignments = async () => {\n    const topic = showHideAssignmentsDialog;\n    Api.updateAssignment({...topic, connected: false});\n    await Promise.all(topic.assignments.filter((a) => a.connected).map((a) => Api.updateAssignment({\n      ...a,\n      connected: false,\n    })));\n    setHowHideAssignmentsDialog(false);\n  };\n\n  const assignmentClicked = async (assignment) => {\n    if (isStudent) {\n      studentClicked({student: assignment.assessments[0]}, assignment);\n      return;\n    }\n    if (assignment.assignment_not_assessable) {\n      setEditAssessmentCriteria(assignment);\n    }\n    setAssignmentSelected(assignment);\n  };\n\n  const openGridView = async (topic) => {\n    const sortedAssessments = sortAssessmentsByStudentName(\n      topic.assessments,\n      sortingMethod,\n    );\n    studentClicked({student: sortedAssessments[0]}, topic, true);\n  };\n\n  if (editAssessmentCriteria) {\n    return (\n      <EditAssessmentCriteria\n        assignment={editAssessmentCriteria}\n        onClose={() => {\n          fetchAssignments();\n          setEditAssessmentCriteria(null);\n          setAssignmentSelected(null);\n        }}\n      />\n    );\n  }\n\n  if (studentSelected) {\n    return <AssignmentObjectivesList {...studentSelected} />;\n  }\n  if (assignmentSelected) {\n    return (\n      <AssignmentStudentList\n        assignment={assignmentSelected}\n        back={() => {\n          fetchAssignments();\n          setAssignmentSelected(null);\n        }}\n      />\n    );\n  }\n\n  const empty = assignments.length === 0;\n\n  const sortByCreate = (a, b) => {\n    const ad = new Date(a.created);\n    const bd = new Date(b.created);\n    return bd - ad;\n  };\n\n  let assignmentsNotInTopics = assignments\n    .filter((a) => !a.is_topic)\n    .sort(sortByCreate);\n  const topics = assignments\n    .filter((a) => a.is_topic)\n    .sort((a, b) => a.topic_order - b.topic_order);\n\n  if (assignmentSortMethod === 'alpha') {\n    assignmentsNotInTopics = assignmentsNotInTopics.sort((a, b) => a.title.localeCompare(b.title));\n  }\n  const sortedAssignments = [...assignmentsNotInTopics, ...topics];\n  let notConnected = [...assignmentsNotInTopics, ...topics.map((a) => a.assignments), ...topics].flat().filter((a) => !a.connected).filter(a => {\n    if (a.is_topic) {\n      const anyConnectedAssignments = a.assignments.filter(aa => aa.connected).length > 0;\n      if (anyConnectedAssignments) {\n        return false;\n      }\n    }\n    return true;\n  });\n  if (notConnected.length === 0) {\n    notConnected = [{text: getTranslation('noNotConnectedItemsPlaceholder'), placeholder: true}]\n  }\n\n  return (\n    <div>\n      <AssignmentsListHeader title={getTranslation('assignmentsPage')}/>\n      {loading && empty && <FullscreenProgress/>}\n      <div style={{display: 'flex', justifyContent: 'flex-end', borderBottom: `1px solid ${colors.borderColor}`}}>\n        <Tooltip\n          title={assignmentSortMethod === 'alpha' ? getTranslation('standardSortTooltip') : getTranslation('sortAssignmentAlphabetically')}\n        >\n          <div style={{margin: '6px 12px 4px 0px'}}>\n            <SortIcon\n              style={{\n                height: '25px',\n                cursor: 'pointer',\n                transform: `rotate(${assignmentSortMethod === 'alpha' ? 0 : 180}deg)`,\n              }}\n              fill={colors.darkGrey}\n              onClick={async () => {\n                setAssignmentSortMethod(assignmentSortMethod === 'alpha' ? null : 'alpha');\n              }}\n            />\n          </div>\n        </Tooltip>\n      </div>\n      <div style={{height: height - 100, overflow: 'scroll'}}>\n        {empty && !loading && (\n          <div style={{margin: '20px'}}>\n            <span style={{...fonts.LARGE}}>\n              {getTranslation('assignmentOverviewEmptyList')}\n            </span>\n          </div>\n        )}\n        {sortedAssignments.map((assignment) => {\n          let {connected} = assignment;\n          if (assignment.is_topic) {\n            connected = assignment.assignments.filter((a) => a.connected).length > 0 || assignment.connected;\n            if (!connected) {\n              return null;\n            }\n          }\n\n          return (\n            <div key={assignment.id}>\n              {assignment.is_topic && (\n                <TopicItem\n                  isStudent={isStudent}\n                  assignment={assignment}\n                  onAssignmentClicked={assignmentClicked}\n                  onGridClicked={openGridView}\n                  handleAssignmentMenuClick={handleAssignmentMenuClick}\n                  editAssessmentCriteria={editAssessmentCriteria}\n                />\n              )}\n              {(!assignment.is_topic && connected) && (\n                <AssignmentItem\n                  isStudent={isStudent}\n                  assignment={assignment}\n                  onAssignmentClicked={assignmentClicked}\n                  handleAssignmentMenuClick={handleAssignmentMenuClick}\n                  editAssessmentCriteria={editAssessmentCriteria}\n                  onGridClicked={openGridView}\n                />\n              )}\n            </div>\n          );\n        })}\n        {!isStudent\n        && <AccordionItem\n          summary={(\n            <div style={{height: '50px', alignItems: 'center', display: 'flex'}}>\n              <span style={{...fonts.MEDIUM, color: colors.topic}}>{getTranslation('notConnectedToStudyBee')}</span>\n            </div>\n          )}\n          details={(\n            <div style={{display: 'flex', flexDirection: 'column', width: '100%'}}>\n              {notConnected.map((a) => {\n                if (a.placeholder) {\n                  return <span style={{\n                    ...fonts.MEDIUM,\n                    backgroundColor: colors.white,\n                    padding: '10px 10px 10px 14px'\n                  }}>{a.text}</span>\n                }\n                return (\n                  <NotConnectedItem\n                    assignment={a}\n                    handleAssignmentMenuClick={handleAssignmentMenuClick}\n                    topic={topics.find((t) => t.id === a.topic_id)}\n\n                  />\n                );\n              })}\n            </div>\n          )}\n        />\n        }\n      </div>\n      <HideAssignmentsDialog\n        open={showHideAssignmentsDialog}\n        no={async () => {\n          await Api.updateAssignment({...showHideAssignmentsDialog, connected: false});\n          setHowHideAssignmentsDialog(false);\n        }}\n        yes={hideAllAssignments}/>\n    </div>\n  );\n};\n\nexport default AssignmentList;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  \"data-name\": \"Path 1179\",\n  d: \"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2zm10 14.5V20H8v-3.5l4-4zm-4-5l-4-4V4h8v3.5z\",\n  fill: \"current\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  \"data-name\": \"Path 1180\",\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nfunction SvgIconBkNotAssessed(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24\n  }, props), _ref, _ref2);\n}\n\nexport default __webpack_public_path__ + \"images/51cd8713c4f4830078600e517022ee99-icon_bk_not_assessed.svg\";\nexport { SvgIconBkNotAssessed as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"g\", {\n  \"data-name\": \"Group 2776\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  \"data-name\": \"Rectangle 3722\",\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  \"data-name\": \"Path 1413\",\n  d: \"M12 1H5a2 2 0 00-2 2v18a2 2 0 002 2h14a2 2 0 002-2V10a9 9 0 00-9-9zM5 3h7a7.008 7.008 0 017 7v8.293l-3.145-3.145a5.079 5.079 0 10-1.555 1.269L18.878 21H5zm10 9a3 3 0 11-3-3 3 3 0 013 3z\",\n  fill: \"current\"\n}));\n\nfunction SvgIconBkAssessing(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/fa3b9590476e06963ca85f394c400602-icon_bk_assessing.svg\";\nexport { SvgIconBkAssessing as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.321 11.98l.398.059c1.051.153 2.112.23 3.173.23h.788c.446 0 .807.361.807.807a.822.822 0 01-.807.822l-2.2.04a.292.292 0 00-.286.292c0 .158.128.287.287.287h1.758c.576 0 1.147-.066 1.704-.193.186-.17.376-.334.569-.496l.642-.538c.3-.253.712-.33 1.083-.203a.39.39 0 01.216.18l.686-.397a1.602 1.602 0 011.572-.017.557.557 0 01.048.947l-1.5 1.036a12.265 12.265 0 01-4.931 2l-1.427.24-3.184.349a2 2 0 00-1.619 1.195l-.164.38H1l1.082-2.467a9.376 9.376 0 012.574-3.429l.157-.13a4.466 4.466 0 013.508-.993zM15.981 1l1.13.695-6.717 9.592-4.929-4.725.972-.89 3.753 3.597L15.982 1z\",\n  fill: \"#4caf50\",\n  fillRule: \"nonzero\"\n});\n\nfunction SvgSubmitted(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/ee5239aacd07a6134da5b3fb2439f639-submitted.svg\";\nexport { SvgSubmitted as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.321 11.98l.398.059c1.051.153 2.112.23 3.173.23h.788c.446 0 .807.361.807.807a.822.822 0 01-.807.822l-2.2.04a.292.292 0 00-.286.292c0 .158.128.287.287.287h1.758c.576 0 1.147-.066 1.704-.193.186-.17.376-.334.569-.496l.642-.538c.3-.253.712-.33 1.083-.203a.39.39 0 01.216.18l.686-.397a1.602 1.602 0 011.572-.017.557.557 0 01.048.947l-1.5 1.036a12.265 12.265 0 01-4.931 2l-1.427.24-3.184.349a2 2 0 00-1.619 1.195l-.164.38H1l1.082-2.467a9.376 9.376 0 012.574-3.429l.157-.13a4.466 4.466 0 013.508-.993zM15.981 1l1.13.695-6.717 9.592-4.929-4.725.972-.89 3.753 3.597L15.982 1z\",\n  fill: \"#FA4D56\",\n  fillRule: \"nonzero\"\n});\n\nfunction SvgSubmittedLate(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/3964e1b2f3653068b022c6dfd928b157-submitted-late.svg\";\nexport { SvgSubmittedLate as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.321 11.812l.4.06c1.05.157 2.11.236 3.171.236h.769c.456 0 .826.37.826.826a.842.842 0 01-.826.842l-2.173.04a.3.3 0 00-.294.3c0 .162.131.293.294.293h1.751c.576 0 1.148-.066 1.704-.196.186-.174.376-.343.569-.509l.646-.554c.297-.256.709-.334 1.08-.205.095.034.17.1.216.182l.685-.404a1.573 1.573 0 011.572-.017.574.574 0 01.05.968l-1.503 1.062a12.154 12.154 0 01-4.95 2.052l-1.407.243-3.177.355a2 2 0 00-1.62 1.21l-.17.404H1l1.09-2.547a9.534 9.534 0 012.566-3.49l.171-.147a4.38 4.38 0 013.494-1.004zM14.65 1l.822.841-3.877 3.965 3.877 3.965-.822.84-3.877-3.964-3.877 3.965-.822-.841L9.95 5.806 6.074 1.84 6.896 1l3.877 3.965L14.65 1z\",\n  fill: \"#FA4D56\",\n  fillRule: \"evenodd\"\n});\n\nfunction SvgNotSubmittedLate(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/059c7a2238d686be7739525e3a1b6d0a-not-submitted-late.svg\";\nexport { SvgNotSubmittedLate as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.321 11.812l.4.06c1.05.157 2.11.236 3.171.236h.769c.456 0 .826.37.826.826a.842.842 0 01-.826.842l-2.173.04a.3.3 0 00-.294.3c0 .162.131.293.294.293h1.751c.576 0 1.148-.066 1.704-.196.186-.174.376-.343.569-.509l.646-.554c.297-.256.709-.334 1.08-.205.095.034.17.1.216.182l.685-.404a1.573 1.573 0 011.572-.017.574.574 0 01.05.968l-1.503 1.062a12.154 12.154 0 01-4.95 2.052l-1.407.243-3.177.355a2 2 0 00-1.62 1.21l-.17.404H1l1.09-2.547a9.534 9.534 0 012.566-3.49l.171-.147a4.38 4.38 0 013.494-1.004zM14.65 1l.822.841-3.877 3.965 3.877 3.965-.822.84-3.877-3.964-3.877 3.965-.822-.841L9.95 5.806 6.074 1.84 6.896 1l3.877 3.965L14.65 1z\",\n  fill: \"#A8A8A8\",\n  fillRule: \"evenodd\"\n});\n\nfunction SvgNotSubmitted(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/2b972ad49182c7583352a4b05cda6c43-not-submitted.svg\";\nexport { SvgNotSubmitted as ReactComponent };","import React, {memo} from \"react\";\nimport {colors, fonts} from \"../theme\";\nimport {getTranslation} from \"../i18n\";\nimport noteImage from '../images/png/sb-ico-note.png';\nimport feedbackImage from '../images/png/sb-ico-feedback.png';\nimport Tooltip from \"./tooltip\";\nimport Icon from \"./icon\";\nimport PublishedIcon from \"./publishedIcon\";\n\nconst styles = {\n  item: {\n    display: \"flex\",\n    width: \"40px\",\n    height: \"50px\",\n    // border: \"0px solid red\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n  },\n  icon: {height: \"20px\", width: \"20px\"},\n  iconWMargin: {\n    height: \"20px\",\n    width: \"20px\",\n    marginBottom: \"10px\",\n  },\n};\n\nconst GridObjectivesSummaryItem = (props) => {\n  let {assessments, objectives, selected, selectedObjective = null, gradeOnly = true} = props;\n  if (!objectives) {\n    objectives = assessments.map((a) => ({\n      name: a.objectiveName,\n      id: a.objective_id,\n    }));\n  }\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-around\",\n        padding: \"0px\",\n        borderRight: `1px solid ${colors.borderColor}`,\n      }}\n    >\n      {objectives.sort((a, b) => (a.name.localeCompare(b.name, undefined, {\n        numeric: true,\n        sensitivty: 'base'\n      }))).map((o) => {\n        const assessment = assessments.find((a) => a.objective_id === o.id) || {\n          id: Math.random(),\n          grade: -1,\n        };\n        const connectedToObjective = assessment?.grade !== -1;\n        const grade = assessment?.grade?.name || \"-\";\n        const isSelectedObjective = selectedObjective\n          ? o.id === selectedObjective?.id\n          : true;\n        return (\n          <div\n            key={o.id}\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              borderRight: `${gradeOnly ? 0 : 1}px solid ${\n                selected ? colors.borderColorDark : colors.borderColor\n              }`,\n            }}\n          >\n            <Tooltip key={assessment.id} title={o.name}>\n              <div style={{...styles.item, position: 'relative', width: '40px'}}>\n                <div style={{display: 'flex', flexDirection: 'column', alignItems: 'center'}}>\n                <span\n                  style={{\n                    ...fonts.LARGE,\n                    fontWeight: \"800\",\n                    color: assessment?.grade?.color || colors.iconColorLight,\n                  }}\n                >\n                  {connectedToObjective ? grade : \"\"}\n                </span>\n                  {connectedToObjective &&\n                  <PublishedIcon published={assessment.grade_published} active={!!assessment?.grade?.name}/>\n                  }\n                </div>\n                {!isSelectedObjective\n                && <div style={{\n                  position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, backgroundColor: '#888888CC',\n                }}/>}\n              </div>\n            </Tooltip>\n            {!gradeOnly &&\n            <Tooltip title={getTranslation(\"overallFeedback\")}>\n              <div style={styles.item}>\n                <Icon file={feedbackImage} active={assessment.feedback} style={styles.icon}/>\n                <PublishedIcon published={assessment.feedback_published} active={!!assessment.feedback}/>\n              </div>\n            </Tooltip>}\n            {!gradeOnly && <Tooltip title={getTranslation(\"overallPrivateNotesMode\")}>\n              <div style={{...styles.item}}>\n                <Icon\n                  file={noteImage}\n                  active={assessment.private_note}\n                  style={styles.iconWMargin}/>\n              </div>\n            </Tooltip>}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default GridObjectivesSummaryItem;\n","export default __webpack_public_path__ + \"images/9ad44b9c66d5efcd5912dcb68272f013-sb-ico-feedback.png\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.1 12.4l.8-.8 2 2V2.2H14v11.3l2-2 .8.8-3.4 3.4-3.3-3.3zm-9-9H9v1.1H1.1V3.4zm2.3 3.4H9v1.1H3.4V6.8zm2.2 3.3H9v1.1H5.6v-1.1z\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.1 12.4l.8-.8 2 2V2.2H14v11.3l2-2 .8.8-3.4 3.4-3.3-3.3zm-9-9H9v1.1H1.1V3.4zm2.3 3.4H9v1.1H3.4V6.8zm2.2 3.3H9v1.1H5.6v-1.1z\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#656565\"\n});\n\nfunction SvgSort(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 18 18\"\n  }, props), _ref, _ref2);\n}\n\nexport default __webpack_public_path__ + \"images/df3f19905b71263d8726f86cefe46373-sort.svg\";\nexport { SvgSort as ReactComponent };","import React, { useContext } from \"react\";\nimport { Menu } from \"@material-ui/icons\";\nimport { colors, fonts } from \"../theme\";\nimport { ReactComponent as PaneIcon } from \"../images/pane.svg\";\nimport LinearProgress from \"../components/LinearProgress\";\nimport { GlobalContext } from \"../utils\";\nimport { getTranslation } from \"../i18n\";\nimport Tooltip from \"../components/tooltip\";\n\nconst AssignmentsListHeader = (props) => {\n  const context = useContext(GlobalContext);\n  const { toggleMenu, openDrawer } = context;\n  const { title, gridOpen = false, toggleGrid, isTopic=true } = props;\n\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        height: \"60px\",\n        display: \"flex\",\n        backgroundColor: isTopic?colors.topic:colors.green,\n        border: \"0px solid blue\",\n        position: \"relative\",\n      }}\n    >\n      <div\n        style={{\n          display: \"flex\",\n          flex: 1,\n          padding: \"14px\",\n          border: \"0px solid red\",\n        }}\n      >\n        <Menu\n          style={{\n            cursor: \"pointer\",\n            color: colors.white,\n            height: \"25px\",\n            marginTop: \"2px\",\n            marginRight: \"4px\",\n          }}\n          onClick={openDrawer}\n        />\n        <p\n          style={{\n            ...fonts.LARGE,\n            color: colors.white,\n            marginLeft: \"14px\",\n            marginTop: \"4px\",\n            fontWeight: \"500\",\n          }}\n        >\n          {title}\n        </p>\n        {gridOpen && (\n          <div\n            onClick={toggleGrid}\n            style={{\n              position: \"absolute\",\n              top: \"20px\",\n              right: \"16px\",\n              cursor: \"pointer\",\n            }}\n          >\n            <Tooltip title={getTranslation(\"collapseGridTooltip\")}>\n              <div>\n                <PaneIcon />\n              </div>\n            </Tooltip>\n          </div>\n        )}\n      </div>\n      <div\n        style={{\n          position: \"absolute\",\n          bottom: 0,\n          left: 0,\n          right: 0,\n        }}\n      >\n        <LinearProgress />\n      </div>\n    </div>\n  );\n};\n\nexport default AssignmentsListHeader;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1 17a1 1 0 01-1-1V1a1 1 0 011-1h15a1 1 0 011 1v15a1 1 0 01-.883.993L16 17H1zM12 1H1v15h11V1z\",\n  fill: \"#FFF\",\n  fillRule: \"evenodd\"\n});\n\nfunction SvgPane(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 17,\n    height: 17,\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/374733bcf42d959d7c96132ed5948fe7-pane.svg\";\nexport { SvgPane as ReactComponent };","import React from 'react';\nimport {colors, fonts} from '../theme';\nimport {getTranslation} from '../i18n';\n\nconst MultiEditDescription = () => {\n  return(\n    <div style={{ border:'1px solid '+ colors.green, marginBottom:'20px', padding:'20px', backgroundColor:colors.white, borderRadius:'5px'}}>\n      <span style={{...fonts.MEDIUM}}>{getTranslation('multiedit_description')}</span>\n    </div>\n  );\n\n};\n\nexport default MultiEditDescription;\n","import {\n  FormControl,\n  InputBase,\n  InputLabel,\n  ListItemText,\n  MenuItem,\n  Select,\n  withStyles,\n} from '@material-ui/core';\nimport React from 'react';\nimport {colors, fonts} from '../theme';\n\nconst BootstrapInput = withStyles((theme) => ({\n  input: {\n    ...fonts.MEDIUM,\n    fontSize: '18px',\n    minHeight: '35px',\n    alignItems: 'flex-end',\n    display: 'flex',\n    borderBottom: `1px solid ${colors.borderColor}`,\n    paddingBottom: '0px',\n    marginTop: 10,\n    '&:focus': {\n      color: colors.green,\n    },\n  },\n}))(InputBase);\n\nconst OptionsDropdown = (\n  {\n    multiple = false,\n    options,\n    helpText,\n    value,\n    handleChange,\n    style = {},\n    helpTextStyle = {},\n    renderValueItem = null,\n  }) => {\n  return (\n    <FormControl style={{flex: 1, display: 'flex', ...style}}>\n      <InputLabel id={helpText}>\n        <span\n          style={{\n            ...fonts.SMALL,\n            color: value === '' ? colors.red : colors.green,\n            ...helpTextStyle,\n          }}\n        >\n          {helpText}\n        </span>\n      </InputLabel>\n      <Select\n        multiple={multiple}\n        labelId={helpText}\n        style={{width: '100%'}}\n        value={value}\n        onChange={handleChange}\n        renderValue={(ids) => {\n          if (!ids.map) {\n            if (renderValueItem) {\n              return renderValueItem(options.find((o) => o.id === ids));\n            }\n            return (\n              <span\n                style={{\n                  ...fonts.MEDIUM,\n                  overflow: 'hidden',\n                  textOverflow: 'ellipsis',\n                }}\n              >\n            {options.find((o) => o.id === ids)?.name}\n          </span>);\n          }\n          return (\n            <div style={{display: 'flex', flexWrap: 'wrap'}}>\n              {ids.map(id => {\n                if (renderValueItem) {\n                  return renderValueItem(options.find((o) => o.id === id));\n                }\n                return (\n                  <span\n                    style={{\n                      ...fonts.MEDIUM,\n                      overflow: 'hidden',\n                      textOverflow: 'ellipsis',\n                      borderRadius: 4,\n                      padding: 4,\n                      backgroundColor: colors.darkYellow,\n                      margin: 4,\n                    }}\n                  >\n                {options.find((o) => o.id === id)?.name}\n              </span>\n                );\n              })\n              }</div>);\n        }}\n        input={<BootstrapInput/>}\n      >\n        {options.map((option) => (\n          <MenuItem key={option.id} value={option.id}>\n            <ListItemText\n              primary={<span style={{...fonts.MEDIUM}}>{option.name}</span>}\n              secondary={<span style={fonts.TINY}>{option.description}</span>}\n            />\n          </MenuItem>\n        ))}\n      </Select>\n    </FormControl>\n  );\n};\n\nexport default OptionsDropdown;\n","import React, {useState, useEffect} from 'react';\nimport Alert from '@material-ui/lab/Alert';\n\nexport default function Toast(props) {\n  const {\n    timeout = 3000, severity = 'error', message, open, onClose = () => {\n    }\n  } = props;\n  const [internalOpen, setInternalOpen] = useState(open);\n\n  useEffect(() => {\n    if (open) {\n      setInternalOpen(true);\n      setTimeout(() => {\n        setInternalOpen(false);\n        onClose();\n      }, timeout);\n    }\n  }, [open]);\n\n  if (!internalOpen) {\n    return null;\n  }\n  return (\n    <div style={{display: 'flex', position: 'absolute', bottom: 0, left: 0, right: 0, justifyContent:'center', boxShadow: \"0px 5px 10px rgba(0,0,0,0.1)\", padding:'20px', zIndex:10000}}>\n      <Alert severity={severity}>{message}</Alert>\n    </div>\n  );\n}\n","import React from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport {withStyles} from \"@material-ui/core/styles\";\nimport {colors} from \"../theme\";\n\nconst StyledAccordionDetails = withStyles({\n  root: {\n    backgroundColor: colors.grey,\n    padding: '0px',\n  },\n})(AccordionDetails);\n\nconst StyledAccordion = withStyles({\n  root: {\n    '&$expanded': {\n      marginTop: '0px',\n    },\n  },\n  expanded: {},\n})(Accordion);\n\nconst StyledAccordionSummary = withStyles({\n  root: {\n    minHeight: \"50px\",\n    padding: \"0px\",\n    marginLeft: \"10px\",\n    \"&$expanded\": {\n      minHeight: \"0px\",\n      marginTop: '0px',\n    },\n  },\n  content: {\n    // padding: '0px',\n    margin: \"0px\",\n    \"&$expanded\": {\n      padding: \"0px\",\n      margin: \"0px\",\n      minHeight: \"0px\",\n    },\n  },\n  expandIcon: {\n    padding:'0px',\n    margin: \"0px 8px 0px 0px\",\n    \"&$expanded\": {},\n  },\n  expanded: {},\n})(AccordionSummary);\n\n\nconst AccordionItem = (props) => {\n  const { summary, details, style } = props;\n  return (\n      <StyledAccordion  square TransitionProps={{ unmountOnExit: true }}>\n        <StyledAccordionSummary expandIcon={<ExpandMoreIcon/>}>\n          {summary}\n        </StyledAccordionSummary>\n        <StyledAccordionDetails>\n          {details}\n        </StyledAccordionDetails>\n      </StyledAccordion>\n  );\n};\n\nexport default AccordionItem;\n","import React, {useState, memo} from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport {ReactComponent as GridIcon} from '../images/grid.svg';\nimport {colors, fonts} from '../theme';\nimport MoreMenu from './moreMenu';\nimport {getTranslation} from '../i18n';\nimport {getAssignmentIcon} from '../utils';\nimport Tooltip from \"./tooltip\";\n\nconst menuOptionsConnected = [\n  {\n    title: getTranslation('editAssessmentCriteriaBtn'),\n    name: 'ASSESSMENT_CRITERIA',\n  },\n  {\n    title: getTranslation('disconnectFromStudyBee'),\n    name: 'DISCONNECT',\n  },\n];\n\nconst menuOptionsNotConnected = [\n  {\n    title: getTranslation('connectToStudybee'),\n    name: 'CONNECT',\n  },\n];\n\nconst AssignmentItem = (props) => {\n  const {\n    assignment,\n    onAssignmentClicked,\n    handleAssignmentMenuClick,\n    inTopic = false,\n    onGridClicked,\n    isStudent,\n  } = props;\n  const [focused, setFocused] = useState(false);\n\n  const click = () => {\n    if(assignment.connected){\n      onAssignmentClicked(assignment);\n    }\n  };\n\n  return (\n    <div\n      onMouseEnter={() => setFocused(true)}\n      onMouseLeave={() => setFocused(false)}\n      style={{\n        height: '70px',\n        borderBottom: `1px solid ${colors.borderColor}`,\n        alignItems: 'center',\n        display: 'flex',\n        paddingLeft: inTopic ? '30px' : '16px',\n        backgroundColor: focused ? colors.borderColor : colors.white,\n      }}\n    >\n      <ButtonBase\n        onClick={click}\n        focusRipple\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          flex: 1,\n          justifyContent: 'flex-start',\n        }}\n      >\n        {getAssignmentIcon(assignment)}\n        <p\n          style={{\n            ...fonts.MEDIUM,\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            whiteSpace: 'nowrap',\n            width: '190px',\n            textAlign: 'start',\n          }}\n        >\n          {assignment.title}\n        </p>\n      </ButtonBase>\n      <div\n        style={{\n          display: 'flex',\n          border: '0px solid',\n          width: '100%',\n          alignItems: 'center',\n          justifyContent: 'flex-end',\n        }}\n      >\n        {!isStudent && (\n          <>\n            {assignment.connected &&\n            <Tooltip title={getTranslation('gridOverviewTooltip')}>\n              <div>\n                <GridIcon\n                  style={{width: '20px', height: '20px', cursor: 'pointer'}}\n                  fill={colors.darkGrey}\n                  onClick={() => onGridClicked(assignment)}\n                />\n              </div>\n            </Tooltip>\n            }\n\n            <MoreMenu\n              iconStyle={{color: colors.darkGrey, marginBottom: '4px'}}\n              options={assignment.connected?menuOptionsConnected:menuOptionsNotConnected}\n              onClick={(option) => handleAssignmentMenuClick(assignment, option)\n              }\n            />\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(AssignmentItem);\n","import React from 'react';\nimport {withStyles} from '@material-ui/core/styles';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputBase from '@material-ui/core/InputBase';\nimport {colors, fonts} from '../theme';\n\nconst StyledSelect = withStyles(() => ({\n  icon: {\n    color: colors.white,\n  },\n}))(Select);\n\nconst BootstrapInput = withStyles(() => ({\n  input: {\n    ...fonts.MEDIUM,\n    borderRadius: 0,\n    color: colors.white,\n    marginTop: '2px',\n    // '&:focus': {\n    //   borderRadius: 4,\n    //   borderColor: '#80bdff',\n    //   boxShadow: '0 0 0 0.2rem rgba(0,123,255,.25)',\n    // },\n  },\n}))(InputBase);\n\nconst StudentDropDown = (props) => {\n  const {\n    students, defaultValue, label, onSelect,\n  } = props;\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        border: '0px solid red',\n        marginTop: '-8px',\n        marginLeft: '4px',\n      }}\n    >\n      <div style={{display: 'flex', flexDirection: 'column'}}>\n        <StyledSelect\n          style={{\n            border: '0px solid yellow', height: '25px', color: colors.white, width: '260px',\n          }}\n          input={<BootstrapInput/>}\n          value={defaultValue}\n        >\n          {students.map((student) => {\n            if (!student.student_name) {\n              student.student_name = `${student.first_name} ${student.last_name}`;\n            }\n            return (\n              <MenuItem\n                onClick={() => {\n                  onSelect(student.student_id);\n                }}\n                key={student.student_id}\n                value={student.student_id}\n                style={{...fonts.SMALL, color: colors.textColor}}\n              >\n                {student.student_name}\n              </MenuItem>\n            );\n          })}\n        </StyledSelect>\n        <span style={{\n          ...fonts.SMALL,\n          color: colors.white,\n          overflow: 'hidden',\n          textOverflow: 'ellipsis',\n          whiteSpace: 'nowrap',\n          width: '250px',\n          marginTop:'-2px',\n        }}>{label}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default StudentDropDown;\n","import React from 'react';\nimport {ArrowBack} from '@material-ui/icons';\nimport {colors, fonts} from '../theme';\nimport StudentDropDown from '../components/studentDropDown';\nimport LinearProgress from '../components/LinearProgress';\nimport {ReactComponent as GridIcon} from '../images/grid.svg';\nimport {getTranslation} from '../i18n';\nimport Tooltip from \"../components/tooltip\";\n\nconst AssignmentObjectivesListHeader = (props) => {\n  const {\n    back,\n    students,\n    title,\n    selectedStudentId,\n    onStudentSelected,\n    isTopic,\n    onToggleGrid,\n    isStudent,\n  } = props;\n  return (\n    <div\n      style={{\n        position: 'relative',\n        width: '100%',\n        height: '60px',\n        display: 'flex',\n        backgroundColor: isTopic ? colors.topic : colors.green,\n        border: '0px solid blue',\n        zIndex: 1000,\n      }}\n    >\n      <div\n        style={{\n          display: 'flex',\n          flex: 1,\n          padding: '14px',\n          border: '0px solid red',\n        }}\n      >\n        <ArrowBack\n          style={{\n            cursor: 'pointer',\n            color: colors.white,\n            height: '25px',\n            marginTop: '2px',\n            marginRight: '4px',\n          }}\n          onClick={back}\n        />\n        {!isStudent\n        && <StudentDropDown\n          onSelect={onStudentSelected}\n          students={students}\n          defaultValue={selectedStudentId}\n          label={title}\n        />\n        }\n        {isStudent\n        && <div style={{display: 'flex', flexDirection: 'column'}}>\n          <span style={{...fonts.LARGE, color: colors.white}}>{students[0].first_name} {students[0].last_name}</span>\n          <span style={{\n            ...fonts.MEDIUM,\n            color: colors.white,\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            whiteSpace: 'nowrap',\n            width:'300px',\n          }}>{title}</span>\n        </div>\n        }\n\n        {!isStudent\n        && <div style={{\n          position: 'absolute', top: '20px', right: '16px', display: 'flex', alignItems: 'center',\n        }}>\n          <div style={{cursor: 'pointer', alignItems: 'center', display: 'flex'}} onClick={onToggleGrid}>\n            <Tooltip title={getTranslation('gridOverviewTooltip')}>\n              <div>\n                <GridIcon fill={colors.white}/>\n              </div>\n            </Tooltip>\n          </div>\n        </div>\n        }\n\n      </div>\n      <div style={{\n        position: 'absolute', bottom: 0, left: 0, right: 0,\n      }}>\n        <LinearProgress/>\n      </div>\n    </div>\n  );\n};\n\nexport default AssignmentObjectivesListHeader;\n","import React, { useContext, useEffect, useState } from 'react';\nimport { ArrowBack } from '@material-ui/icons';\nimport { colors, fonts } from '../theme';\nimport { useWindowDimensions } from '../hooks';\nimport { GlobalContext } from '../utils';\n\nconst GridHeader = (props) => {\n  const {\n    assignment, back,\n  } = props;\n  const context = useContext(GlobalContext);\n  const { Api } = context;\n  const window = useWindowDimensions();\n  const [classroom, setClassroom] = useState();\n\n  useEffect(() => {\n    (async () => {\n      const response = await Api.getClassroom('name');\n      setClassroom(response?.data?.classroom);\n    })();\n  }, []);\n\n  return (\n    <div style={{ height: '60px' }}>\n      <div style={{\n        position: 'absolute',\n        width: `${window.width - 360}px`,\n        left: `${-window.width + 360}px`,\n        height: '60px',\n        display: 'flex',\n        backgroundColor: assignment.is_topic ? colors.topic : colors.green,\n        alignItems: 'center',\n      }}>\n        <ArrowBack\n          style={{\n            cursor: 'pointer',\n            color: colors.white,\n            height: '25px',\n            marginLeft: '26px',\n          }}\n          onClick={back}\n        />\n        <div style={{\n          display: 'flex',\n          width: '100%',\n          justifyContent: 'space-between',\n          padding: '16px',\n        }}>\n          <div style={{ display: 'flex', flexDirection: 'column' }}>\n            <span style={{ ...fonts.MEDIUM, color: colors.white }}>{classroom?.name}</span>\n            <span style={{ ...fonts.LARGE, color: colors.white }}>{assignment.title}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default GridHeader;\n","import React, {memo, useEffect, useState} from 'react';\nimport {colors, fonts} from '../theme';\nimport {ReactComponent as GoToAssignmentIcon} from '../images/collapse.svg';\nimport {getAssessmentIcon, getStatusText, getSubmittedIcon, getSubmittedStatusText} from '../utils';\nimport GridSummaryItem from './gridSummaryItem';\nimport Tooltip from \"./tooltip\";\n\nconst header = {\n  ...fonts.MEDIUM,\n  fontWeight: '400',\n  padding: '0px 10px 0px 10px',\n  height: '30px',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  whiteSpace: 'nowrap',\n};\n\nconst submittedIcon = {\n  height: '30px',\n  width: '26px',\n  marginLeft: '10px',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  padding: '0px 2px 0px 4px',\n  borderLeft: `1px solid ${colors.borderColor}`,\n};\n\nconst styles = {\n  table: {\n    boxShadow: '0px 5px 10px rgba(0,0,0,0.1)',\n    minWidth: '180px',\n    marginRight: '10px',\n    height: '100%',\n  },\n  tableHeaderPublished: {\n    ...header,\n    backgroundColor: colors.green,\n    color: colors.white,\n    borderTopLeftRadius: '3px',\n    borderTopRightRadius: '3px',\n  },\n  tableHeaderDraft: {\n    ...header,\n    backgroundColor: colors.draft,\n    color: colors.white,\n    borderTopLeftRadius: '3px',\n    borderTopRightRadius: '3px',\n  },\n  assignmentTitle: {\n    color: colors.white,\n    width: '140px',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    marginRight: '10px',\n  },\n  assessmentIcon: {maxHeight: '18px'},\n  submittedIconSelected: {\n    ...submittedIcon,\n    borderLeft: `1px solid ${colors.borderColorDark}`,\n  },\n  summeryContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n    padding: '0px 6px 0px 6px',\n  },\n  assignmentTitleContainer: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  noAssessment: {\n    cursor: 'pointer',\n    height: '52px'\n  },\n  summeryContainerInner: {\n    height: '30px',\n    width: '1px',\n    margin: '0px 4px 0px 4px'\n  },\n  tr: {\n    cursor: 'pointer',\n    height: '50px'\n  },\n  assessmentIconContainer: {\n    width: '20px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n};\n\nconst AssignmentTable = (props) => {\n  const {\n    setHighlight,\n    studentClicked,\n    assignment,\n    onAssignmentClicked,\n    selectedStudents,\n    highlight,\n    selectedStudentId,\n    style,\n    students,\n  } = props;\n\n  const [assessmentMap, setAssessmentMap] = useState({});\n\n  useEffect(() => {\n    setAssessmentMap(assignment.assessments.reduce((acc, a) => {\n      acc[a.student_id] = a;\n      return acc;\n    }, {}));\n  }, [assignment]);\n\n  return (\n    <table style={{...styles.table, ...style}} key={assignment.id}>\n      <tbody>\n      <tr>\n        <th style={assignment.state === 'PUBLISHED' ? styles.tableHeaderPublished : styles.tableHeaderDraft}>\n          <div\n            onClick={() => {\n              if (onAssignmentClicked) {\n                onAssignmentClicked(assignment);\n              }\n            }}\n            style={{...styles.assignmentTitleContainer, cursor: onAssignmentClicked ? 'pointer' : 'default'}}\n          >\n            <span style={styles.assignmentTitle}>\n              {assignment.title}\n            </span>\n            {onAssignmentClicked && <GoToAssignmentIcon fill={colors.white}/>}\n          </div>\n        </th>\n      </tr>\n      {students.map((studentId, i) => {\n        const assessment = assessmentMap[studentId];\n        const bgColor = i === highlight ? colors.grey : colors.white;\n        const selected = studentId === selectedStudentId || selectedStudents.find((id) => id === studentId);\n        if (!assessment) {\n          return (\n            <tr\n              key={studentId}\n              style={{...styles.noAssessment, backgroundColor: selected ? colors.borderColor : bgColor}}>\n              <td\n                onMouseEnter={() => setHighlight(i)}\n                onMouseLeave={() => setHighlight(null)}\n                onClick={() => studentClicked(studentId)}\n              />\n            </tr>\n          );\n        }\n\n        return (\n          <tr style={{...styles.tr, backgroundColor: selected ? colors.borderColor : bgColor}} key={studentId}>\n            <td\n              onMouseEnter={() => setHighlight(i)}\n              onMouseLeave={() => setHighlight(null)}\n              onClick={() => studentClicked(assessment.student_id)}\n            >\n              <div style={styles.summeryContainer}>\n                <Tooltip title={getStatusText(assessment.status_new)}>\n                  <div style={{\n                    ...styles.assessmentIconContainer,\n                    marginRight: assignment.use_submitted_status ? '0px' : '6px'\n                  }}>\n                    {getAssessmentIcon({status: assessment.status_new, style: styles.assessmentIcon})}\n                  </div>\n                </Tooltip>\n                {assignment.use_submitted_status &&\n                <Tooltip title={getSubmittedStatusText(assessment.submitted_status)}>\n                  <div style={{...submittedIcon, borderLeft: `1px solid ${selected?colors.borderColorDark:colors.borderColor}`}}>\n                    {getSubmittedIcon({status: assessment.submitted_status})}\n                  </div>\n                </Tooltip>\n                }\n                <div\n                  style={{\n                    ...styles.summeryContainerInner,\n                    backgroundColor: selected ? colors.borderColorDark : colors.borderColor\n                  }}/>\n                <GridSummaryItem assessment={assessment}/>\n              </div>\n            </td>\n          </tr>\n        );\n      })}\n      </tbody>\n    </table>\n  );\n};\n\nexport default memo(AssignmentTable);\n","import React, {\n  memo,\n  useCallback,\n  useContext, useEffect,\n  useRef, useState,\n} from 'react';\nimport {Checkbox, Tooltip, withStyles} from '@material-ui/core';\nimport {colors, fonts} from '../theme';\nimport {useWindowDimensions} from '../hooks';\nimport {getAssessmentIcon, getSubmittedStatusText, getStatusText, getSubmittedIcon, GlobalContext} from '../utils';\nimport GridSummaryItem from './gridSummaryItem';\nimport CheckboxWithText from './CheckboxWithText';\nimport AssignmentTable from './AssignmentTable';\nimport {getTranslation} from '../i18n';\nimport GridObjectivesSummaryItem from './GridObjectivesSummaryItem';\nimport SortStudentComponent from './sortStudentComponent';\n\nconst GreenCheckbox = withStyles({\n  root: {\n    color: colors.borderColorDark,\n    paddingLeft: 0,\n    marginLeft: '6px',\n    '&$checked': {\n      color: colors.green,\n    },\n    '& .MuiSvgIcon-root': {\n      fontSize: '1.5rem',\n    },\n  },\n\n  checked: {},\n})(Checkbox);\n\nconst fields = `\n    id\n    title\n    is_topic\n    connected\n    state\n    use_submitted_status\n    topic_id\n    courseDefinitions {\n      id\n    }\n    objectiveAssessments {\n      id\n      objective_id\n      objectiveName\n      objectiveDescription\n      feedback\n      feedback_published\n      private_note\n      grade_published\n      assessment_id\n      grade_id\n      feedback_last_edit\n      private_note_last_edit\n      grade_last_edit\n      self_assessment\n      self_assessment_last_edit\n      last_edit_for_student\n      student_id\n      counter_grade_0\n      counter_grade_1\n      counter_grade_2\n      counter_grade_3\n      counter_grade_4\n      counter_grade_5\n      counter_grade_6\n      counter_grade_7\n      counter_grade_8\n      counter_grade_9\n      max_counter_grade_0\n      max_counter_grade_1\n      max_counter_grade_2\n      max_counter_grade_3\n      max_counter_grade_4\n      max_counter_grade_5\n      max_counter_grade_6\n      max_counter_grade_7\n      max_counter_grade_8\n      max_counter_grade_9\n      grade {\n        id\n        name\n        is_passed\n        color\n      }\n    }\n    assessments {\n      id\n      created\n      modified\n      feedback\n      feedback_published\n      private_note\n      grade_published\n      result\n      result_published\n      status\n      assignment_id\n      grade_id\n      student_id\n      assessment_status\n      active\n      feedback_last_edit\n      private_note_last_edit\n      result_last_edit\n      grade_last_edit\n      status_new\n      last_edit_for_student\n      status_new_last_edit\n      self_assessment\n      self_assessment_last_edit\n      first_name\n      last_name\n      email\n      grade_name\n      grade_color\n      submitted_status\n    }\n    assignments {\n      id\n      title\n      connected\n      use_submitted_status\n      is_topic\n      topic_id\n      state\n      courseDefinitions {\n       id\n      }\n      gradeSystem {\n        name\n        is_counter\n        order\n        grades {\n          id\n          name\n          is_passed\n          color\n          label\n          circle_label\n          order\n        }\n      }\n      assessments {\n        id\n        created\n        modified\n        feedback\n        feedback_published\n        private_note\n        grade_published\n        result\n        result_published\n        status\n        assignment_id\n        grade_id\n        student_id\n        assessment_status\n        active\n        feedback_last_edit\n        private_note_last_edit\n        result_last_edit\n        grade_last_edit\n        status_new\n        last_edit_for_student\n        status_new_last_edit\n        self_assessment\n        self_assessment_last_edit\n        first_name\n        last_name\n        email\n        grade_name\n        grade_color\n        submitted_status\n      }\n    }\n    gradeSystem {\n      name\n      is_counter\n      order\n      grades {\n        id\n        name\n        is_passed\n        color\n        label\n        circle_label\n        order\n      }\n    }`;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    overflow: 'scroll',\n    position: 'relative',\n    width: '100%',\n    marginLeft: '10px',\n  },\n  container2: {\n    display: 'flex',\n    height: '0%',\n    justifyContent: 'flex-start',\n    padding: '16px',\n    marginTop: '60px',\n  },\n  header: {\n    ...fonts.MEDIUM,\n    fontWeight: '400',\n    padding: '0px 10px 0px 10px',\n    height: '30px',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n  },\n  table: {\n    marginRight: '10px',\n    minWidth: '600px',\n    height: '100%',\n    boxShadow: '0px 5px 10px rgba(0,0,0,0.1)',\n  },\n  th: {\n    ...fonts.MEDIUM,\n    fontWeight: '400',\n    padding: '0px 10px 0px 10px',\n    height: '30px',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap', width: '220px', display: 'flex', alignItems: 'center', justifyContent: 'flex-start',\n  },\n  studentNameText: {\n    ...fonts.MEDIUM,\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    display: 'inline-block',\n    width: '200px',\n    padding: '0px 16px 0px 16px',\n  },\n  container3: {display: 'flex', justifyContent: 'space-around'},\n  iconContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  assessmentIcon: {height: '20px'},\n  block: {height: '50px', width: '50px', backgroundColor: 'transparent'},\n  shadow: {\n    width: '30px',\n    height: '100%',\n    position: 'absolute',\n    right: -30,\n    top: 0,\n    backgroundColor: 'transparent',\n    boxShadow: '-5px 0px 6px rgba(0,0,0,0.1)',\n  },\n};\n\nconst GridViewContent = (props) => {\n  const {\n    assignment: initialAssignment,\n    selectedStudentId,\n    onStudentSelected,\n    onAssignmentClicked,\n    multiEdit,\n    setMultiEdit,\n    selectedStudents,\n    setSelectedStudents,\n  } = props;\n  const window = useWindowDimensions();\n  const [assignment, setAssignment] = useState(initialAssignment);\n  const [highlight, setHighlight] = useState();\n  const [renderAssignments, setRenderAssignments] = useState(false);\n  const [sortedAssignments, setSortedAssignments] = useState([]);\n  const [sortedAssessments, setSortedAssessments] = useState([]);\n  const [students, setStudents] = useState([]);\n  const originallySelectedStudent = useRef();\n  const context = useContext(GlobalContext);\n  const {Api, networkTraffic, sortingMethod} = context;\n  const saving = useRef(false);\n\n  const refresh = async () => {\n    const response = await Api.getAssignmentWithAssessment(\n      assignment.id,\n      fields,\n    );\n    const newAssignment = response?.data?.assignment[0];\n    setAssignment(newAssignment);\n    // Delay rendering of the tables 1s because this view is heavy to render\n    setTimeout(() => setRenderAssignments(true), 1000);\n  };\n\n  // A little bit hacky, reload classroom if something has been saved\n  useEffect(() => {\n    if (networkTraffic === 'POST' || networkTraffic === 'PUT') {\n      saving.current = true;\n    } else if (saving.current) {\n      if (!multiEdit) {\n        refresh();\n        saving.current = false;\n      }\n    }\n  }, [networkTraffic]);\n\n  useEffect(() => {\n    setAssignment(initialAssignment);\n    setSortedAssignments(initialAssignment?.assignments?.filter(a => a.connected)?.sort((a, b) => a.title.localeCompare(b.title)));\n    setSortedAssessments(initialAssignment.assessments\n      .sort((a, b) => {\n        if (sortingMethod === 'firstName') {\n          return a.first_name.localeCompare(b.first_name);\n        }\n        return a.last_name.localeCompare(b.last_name);\n      }));\n    setStudents(initialAssignment?.assessments.map((a) => a.student_id));\n  }, [initialAssignment, sortingMethod]);\n\n  useEffect(() => {\n    refresh();\n  }, []);\n\n  const studentClicked = useCallback((id) => {\n    if (!multiEdit) {\n      onStudentSelected(id);\n    }\n  }, [students, multiEdit]);\n\n\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        width: `${window.width - 360}px`,\n        left: `${-window.width + 360}px`,\n        height: `${window.height - 60}px`,\n        display: 'flex',\n        backgroundColor: colors.grey,\n      }}\n    >\n      <div style={styles.container}>\n        <CheckboxWithText\n          subText={''}\n          id={'multiselect'}\n          text={getTranslation('selectMany')}\n          onCheck={(c) => {\n            setMultiEdit(c);\n            if (!c) {\n              setSelectedStudents([]);\n            } else {\n              setSelectedStudents([selectedStudentId]);\n            }\n          }}\n          checked={multiEdit}\n          style={{\n            position: 'absolute',\n            left: '30px',\n            top: '6px',\n          }}\n        />\n        <div style={styles.container2}>\n          <div>\n            <table style={styles.table}>\n              <tr>\n                {multiEdit && (\n                  <th>\n                    <CheckboxWithText\n                      subText={''}\n                      id={'multiselect'}\n                      style={{marginLeft: '10px', height: '10px'}}\n                      onCheck={(check) => {\n                        if (check) {\n                          originallySelectedStudent.current = selectedStudents;\n                          setSelectedStudents(\n                            assignment.assessments.map((a) => a.student_id),\n                          );\n                        } else {\n                          setSelectedStudents(originallySelectedStudent.current);\n                        }\n                      }}\n                      checked={\n                        assignment.assessments.length === selectedStudents.length\n                      }\n                    />\n                  </th>\n                )}\n                <th style={styles.th}>\n                  <SortStudentComponent style={{marginRight: '6px'}}/>\n                  {getTranslation('student')}\n                </th>\n                <th style={styles.header}>{getTranslation('status')}</th>\n                <th style={styles.header}>\n                  {getTranslation('overallResultHeaderStudent')}\n                </th>\n                {assignment?.objectiveAssessments?.length > 0 && (\n                  <th style={styles.header}>\n                    {getTranslation('objectivesText')}\n                  </th>\n                )}\n              </tr>\n              {sortedAssessments.map((assessment, i) => {\n                const bgColor = i === highlight ? colors.grey : colors.white;\n                let selected = assessment.student_id === selectedStudentId;\n                if (multiEdit) {\n                  selected = selectedStudents.find(\n                    (id) => id === assessment.student_id,\n                  );\n                }\n                return (\n                  <tr\n                    onMouseEnter={() => setHighlight(i)}\n                    onMouseLeave={() => setHighlight(null)}\n                    onClick={() => studentClicked(assessment.student_id)}\n                    key={assessment.id}\n                    style={{\n                      backgroundColor: selected ? colors.borderColor : bgColor,\n                      cursor: 'pointer',\n                      height: '50px',\n                    }}\n                  >\n                    {multiEdit && (\n                      <td>\n                        <div\n                          style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            width: '36px',\n                            border: '0px solid',\n                          }}\n                        >\n                          <GreenCheckbox\n                            inputProps={{'aria-label': 'controlled'}}\n                            checked={selected || false}\n                            onChange={(e) => {\n                              if (e.target.checked) {\n                                setSelectedStudents([\n                                  ...selectedStudents,\n                                  assessment.student_id,\n                                ]);\n                              } else {\n                                setSelectedStudents(\n                                  selectedStudents.filter(\n                                    (id) => id !== assessment.student_id,\n                                  ),\n                                );\n                              }\n                            }}\n                          />\n                        </div>\n                      </td>\n                    )}\n                    <td style={{}}>\n                      <Tooltip title={assessment?.email}>\n                      <span style={styles.studentNameText}>\n                        {assessment.first_name} {assessment.last_name}\n                      </span>\n                      </Tooltip>\n                    </td>\n                    <td>\n                      <div style={styles.container3}>\n                        <Tooltip title={getStatusText(assessment.status_new)}>\n                          <div style={styles.iconContainer}>\n                            {getAssessmentIcon({status: assessment.status_new, style: styles.assessmentIcon})}\n                          </div>\n                        </Tooltip>\n                        {assignment.use_submitted_status &&\n                        <Tooltip title={getSubmittedStatusText(assessment.submitted_status)}>\n                          <div style={styles.iconContainer}>\n                            {getSubmittedIcon({status: assessment.submitted_status})}\n                          </div>\n                        </Tooltip>\n                        }\n                      </div>\n                    </td>\n\n                    <td>\n                      <GridSummaryItem assessment={assessment}/>\n                    </td>\n                    {assignment?.objectiveAssessments?.length > 0 && (\n                      <td>\n                        <GridObjectivesSummaryItem\n                          selected={selected}\n                          assessments={assignment?.objectiveAssessments.filter(\n                            (o) => o.student_id === assessment.student_id,\n                          )}\n                        />\n                      </td>\n                    )}\n                  </tr>\n                );\n              })}\n            </table>\n            <div style={styles.block}/>\n          </div>\n          {renderAssignments &&\n          <>\n            {sortedAssignments?.map((ass) => {\n              return (\n                <AssignmentTable\n                  students={students}\n                  key={ass.id}\n                  setHighlight={setHighlight}\n                  studentClicked={studentClicked}\n                  assignment={ass}\n                  onAssignmentClicked={onAssignmentClicked}\n                  selectedStudents={selectedStudents}\n                  highlight={highlight}\n                  selectedStudentId={selectedStudentId}\n                />\n              );\n            })}</>}\n        </div>\n      </div>\n      <div style={styles.shadow}/>\n    </div>\n  );\n};\n\nexport default GridViewContent;\n","import {Radio} from \"@material-ui/core\";\nimport {ReactComponent as DoneIcon} from \"../images/icon_bk_assessment_done.svg\";\nimport {colors, fonts} from \"../theme\";\nimport {getTranslation} from \"../i18n\";\nimport {ReactComponent as AccessingIcon} from \"../images/icon_bk_assessing.svg\";\nimport {ReactComponent as NotDoneIcon} from \"../images/icon_bk_not_assessed.svg\";\nimport React, {useEffect, useState} from \"react\";\n\nconst MultiEditStatusComponent = (props) => {\n  const {onStatusChange} = props;\n  const [status, setStatus] = useState();\n\n  useEffect(() =>{\n    onStatusChange(status);\n  },[status]);\n\n  return (\n    <div style={{display: \"flex\", flexDirection: \"column\"}}>\n      <div style={{display: \"flex\", alignItems: \"center\"}}>\n        <Radio\n          checked={status === 'ASSESSMENT_DONE'}\n          onChange={(e) => {\n            if (e.target.checked) {\n              setStatus(\"ASSESSMENT_DONE\");\n            }\n          }}\n        />\n        <DoneIcon fill={colors.green}/>\n        <span style={{\n          ...fonts.MEDIUM,\n          marginLeft: \"6px\"\n        }}>{getTranslation(\"teacherAssignmentsAssessmentsStudentMenuAssessed\")}</span>\n      </div>\n      <div style={{display: \"flex\", alignItems: \"center\"}}>\n        <Radio\n          checked={status === \"ASSESSING\"}\n          onChange={(e) => {\n            if (e.target.checked) {\n              setStatus(\"ASSESSING\");\n            }\n          }}\n        />\n        <AccessingIcon fill={colors.orange}/>\n        <span style={{\n          ...fonts.MEDIUM,\n          marginLeft: \"6px\"\n        }}>{getTranslation(\"teacherAssignmentsAssessmentsStudentMenuAssessing\")}</span>\n      </div>\n      <div style={{display: \"flex\", alignItems: \"center\"}}>\n        <Radio\n          checked={\n            status === \"NOT_ASSESSED\"\n          }\n          onChange={(e) => {\n            if (e.target.checked) {\n              setStatus(\"NOT_ASSESSED\");\n            }\n          }}\n        />\n        <NotDoneIcon fill={colors.iconColor}/>\n        <span style={{\n          ...fonts.MEDIUM,\n          marginLeft: \"6px\"\n        }}>{getTranslation(\"teacherAssignmentsAssessmentsStudentMenuNotAssessed\")}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default MultiEditStatusComponent;","import React, { useState, useEffect } from 'react';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { ArrowDropDown } from '@material-ui/icons';\nimport { ClickAwayListener } from '@material-ui/core';\nimport { colors, fonts } from '../theme';\nimport { ReactComponent as SubmittedIcon } from '../images/submitted.svg';\nimport { ReactComponent as SubmittedLateIcon } from '../images/submitted-late.svg';\nimport { ReactComponent as NotSubmittedLateIcon } from '../images/not-submitted-late.svg';\nimport { ReactComponent as NotSubmittedIcon } from '../images/not-submitted.svg';\nimport {getSubmittedStatusText, getSubmittedIcon} from '../utils';\nimport { getTranslation } from '../i18n';\n\nconst SUBMITTED = 'SUBMITTED';\nconst SUBMITTED_LATE = 'SUBMITTED_LATE';\nconst NOT_SUBMITTED = 'NOT_SUBMITTED';\nconst NOT_SUBMITTED_LATE ='NOT_SUBMITTED_LATE'\n\nconst options = [\n  {\n    title: getTranslation('mark_submitted_status_submitted'),\n    icon: <SubmittedIcon/>,\n    value: SUBMITTED,\n  },\n  {\n    title: getTranslation('mark_submitted_status_submitted_late'),\n    icon: <SubmittedLateIcon/>,\n    value: SUBMITTED_LATE,\n  },\n  {\n    title: getTranslation('mark_submitted_status_not_submitted_late'),\n    icon: <NotSubmittedLateIcon/>,\n    value: NOT_SUBMITTED_LATE,\n  },\n  {\n    title: getTranslation('mark_submitted_status_not_submitted'),\n    icon: <NotSubmittedIcon/>,\n    value: NOT_SUBMITTED,\n\n  }\n];\n\nconst SubmissionStatusButton = (props) => {\n  const {\n    initialState, onStatusChange, button, style = {}, readonly = false,\n  } = props;\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [state, setState] = useState(initialState);\n  const open = Boolean(anchorEl);\n\n\n  useEffect(() => {\n    setState(initialState);\n  }, [initialState]);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleSelect = (option) => {\n    setAnchorEl(null);\n    setState(option.value);\n    if (onStatusChange) {\n      onStatusChange(option.value);\n    }\n  };\n\n  const handleClickAway = (event) => {\n    setTimeout(() => { setAnchorEl(null); });\n  };\n\n  if (readonly) {\n    return (\n      <div style={{ display: 'flex', alignItems: 'center' }}>\n        {getSubmittedIcon({ status: state })}\n        <span style={{ ...fonts.MEDIUM, marginLeft: '10px' }}>{getSubmittedStatusText(state)}</span>\n      </div>\n    );\n  }\n\n  return (\n    <div style={style}>\n      <ClickAwayListener onClickAway={handleClickAway}>\n        {button ? (\n          <div onClick={handleClick}>{button}</div>\n        ) : (\n          <div\n            onClick={handleClick}\n            style={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              border: '0px solid red',\n              flex: 1,\n              height: '35px',\n              backgroundColor: colors.white,\n              borderRadius: '35px',\n              cursor: 'pointer',\n              boxShadow: '0px 2px 3px 0px rgba(0, 0, 0, 0.3)',\n              alignItems: 'center',\n              paddingLeft: '16px',\n              paddingRight: '16px',\n            }}\n          >\n            <div style={{ display: 'flex', alignItems: 'center' }}>\n              {getSubmittedIcon({ status: state })}\n              <span style={{ ...fonts.MEDIUM, marginLeft: '10px' }}>{getSubmittedStatusText(state)}</span>\n            </div>\n            <ArrowDropDown style={{ color: colors.darkGrey }} />\n          </div>\n        )}\n      </ClickAwayListener>\n      <Menu open={open} anchorEl={anchorEl}>\n        {options.map((option) => (\n          <MenuItem\n            key={option.title}\n            onClick={() => handleSelect(option)}\n            style={{ display: 'flex', alignItems: 'center', padding: '10px' }}\n          >\n            {option.icon}\n            <span\n              style={{\n                ...fonts.MEDIUM,\n                marginLeft: '16px',\n                border: '0px solid red',\n              }}\n            >\n              {option.title}\n            </span>\n          </MenuItem>\n        ))}\n      </Menu>\n    </div>\n  );\n};\n\nexport default SubmissionStatusButton;\n","import {Radio} from \"@material-ui/core\";\nimport {fonts} from \"../theme\";\nimport {getTranslation} from \"../i18n\";\nimport React, {useEffect, useState} from \"react\";\nimport {getSubmittedIcon} from \"../utils\";\n\nconst SUBMITTED = 'SUBMITTED';\nconst SUBMITTED_LATE = 'SUBMITTED_LATE';\nconst NOT_SUBMITTED = 'NOT_SUBMITTED';\nconst NOT_SUBMITTED_LATE = 'NOT_SUBMITTED_LATE'\n\nconst MultiEditSubmissionComponent = (props) => {\n  const {onStatusChange} = props;\n  const [status, setStatus] = useState();\n\n  useEffect(() => {\n    onStatusChange(status);\n  }, [status]);\n\n  return (\n    <div style={{display: \"flex\", flexDirection: \"column\"}}>\n      <div style={{display: \"flex\", alignItems: \"center\"}}>\n        <Radio\n          checked={status === SUBMITTED}\n          onChange={(e) => {\n            if (e.target.checked) {\n              setStatus(SUBMITTED);\n            }\n          }}\n        />\n        {getSubmittedIcon({status: SUBMITTED})}\n        <span style={{\n          ...fonts.MEDIUM,\n          marginLeft: \"6px\"\n        }}>{getTranslation('mark_submitted_status_submitted')}</span>\n      </div>\n      <div style={{display: \"flex\", alignItems: \"center\"}}>\n        <Radio\n          checked={status === SUBMITTED_LATE}\n          onChange={(e) => {\n            if (e.target.checked) {\n              setStatus(SUBMITTED_LATE);\n            }\n          }}\n        />\n        {getSubmittedIcon({status: SUBMITTED_LATE})}\n        <span style={{\n          ...fonts.MEDIUM,\n          marginLeft: \"6px\"\n        }}>{getTranslation('mark_submitted_status_submitted_late')}</span>\n      </div>\n      <div style={{display: \"flex\", alignItems: \"center\"}}>\n        <Radio\n          checked={status === NOT_SUBMITTED_LATE}\n          onChange={(e) => {\n            if (e.target.checked) {\n              setStatus(NOT_SUBMITTED_LATE);\n            }\n          }}\n        />\n        {getSubmittedIcon({status: NOT_SUBMITTED_LATE})}\n        <span style={{\n          ...fonts.MEDIUM,\n          marginLeft: \"6px\"\n        }}>{getTranslation('mark_submitted_status_not_submitted_late')}</span>\n      </div>\n      <div style={{display: \"flex\", alignItems: \"center\"}}>\n        <Radio\n          checked={status === NOT_SUBMITTED}\n          onChange={(e) => {\n            if (e.target.checked) {\n              setStatus(NOT_SUBMITTED);\n            }\n          }}\n        />\n        {getSubmittedIcon({status: NOT_SUBMITTED})}\n        <span style={{\n          ...fonts.MEDIUM,\n          marginLeft: \"6px\"\n        }}>{getTranslation('mark_submitted_status_not_submitted')}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default MultiEditSubmissionComponent;","import React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useReducer,\n  useRef,\n  useState,\n} from \"react\";\nimport debounce from \"lodash.debounce\";\nimport {ButtonBase, CircularProgress} from \"@material-ui/core\";\nimport Promise from \"bluebird\";\nimport AssignmentObjectivesListHeader from \"./assignmentObjectiveListHeader\";\nimport {getPublishedStatus, GlobalContext} from \"../utils\";\nimport {getTranslation} from \"../i18n\";\nimport {GroupedVisibilityDialogType} from \"../types\";\nimport ObjectivesList from \"../components/objectivesList\";\nimport AssignmentAssessment from \"../components/assignmentAssessment\";\nimport Header from \"../components/header\";\nimport FeedbackInput from \"../components/feedbackInput\";\nimport {colors, fonts} from \"../theme\";\nimport AssessmentButton from \"../components/assessmentButton\";\nimport GridHeader from \"../components/gridHeader\";\nimport GridViewContent from \"../components/gridViewContent\";\nimport AssignmentsListHeader from \"./assignmentsListHeader\";\nimport MultiEditDescription from \"../components/multiEditDescription\";\nimport MultiEditStatusComponent from \"./MultiEditStatusComponent\";\nimport SubmissionStatusButton from \"../components/submissionStatusButton\";\nimport MultiEditSubmissionComponent from \"../components/multiEditSubmissionComponent\";\nimport {useWindowDimensions} from \"../hooks\";\n\nconst fields = `\n    id\n    title\n    is_topic\n    topic_id\n    connected\n    state\n    use_submitted_status\n    courseDefinitions {\n      id\n    }\n    objectiveAssessments {\n      id\n      objective_id\n      objectiveName\n      objectiveDescription\n      feedback\n      feedback_published\n      private_note\n      grade_published\n      assessment_id\n      grade_id\n      feedback_last_edit\n      private_note_last_edit\n      grade_last_edit\n      self_assessment\n      self_assessment_last_edit\n      last_edit_for_student\n      student_id\n      counter_grade_0\n      counter_grade_1\n      counter_grade_2\n      counter_grade_3\n      counter_grade_4\n      counter_grade_5\n      counter_grade_6\n      counter_grade_7\n      counter_grade_8\n      counter_grade_9\n      max_counter_grade_0\n      max_counter_grade_1\n      max_counter_grade_2\n      max_counter_grade_3\n      max_counter_grade_4\n      max_counter_grade_5\n      max_counter_grade_6\n      max_counter_grade_7\n      max_counter_grade_8\n      max_counter_grade_9\n      grade {\n        id\n        name\n        is_passed\n        color\n      }\n    }\n    assessments {\n      id\n      created\n      modified\n      feedback\n      feedback_published\n      private_note\n      grade_published\n      result\n      result_published\n      status\n      assignment_id\n      grade_id\n      student_id\n      assessment_status\n      active\n      feedback_last_edit\n      private_note_last_edit\n      result_last_edit\n      grade_last_edit\n      status_new\n      last_edit_for_student\n      status_new_last_edit\n      self_assessment\n      self_assessment_last_edit\n      first_name\n      last_name\n      email\n      grade_name\n      grade_color\n      student_id\n      submitted_status\n    }\n    assignments {\n      id\n      title\n      is_topic\n      connected\n      state\n      use_submitted_status\n      topic_id\n      courseDefinitions {\n       id\n      }\n      gradeSystem {\n        name\n        is_counter\n        order\n        grades {\n          id\n          name\n          is_passed\n          color\n          label\n          circle_label\n          order\n        }\n      }\n      assessments {\n        id\n        created\n        modified\n        feedback\n        feedback_published\n        private_note\n        grade_published\n        result\n        result_published\n        status\n        assignment_id\n        grade_id\n        student_id\n        assessment_status\n        active\n        feedback_last_edit\n        private_note_last_edit\n        result_last_edit\n        grade_last_edit\n        status_new\n        last_edit_for_student\n        status_new_last_edit\n        self_assessment\n        self_assessment_last_edit\n        first_name\n        last_name\n        email\n        grade_name\n        grade_color\n        student_id\n        submitted_status\n      }\n    }\n    gradeSystem {\n      name\n      is_counter\n      order\n      grades {\n        id\n        name\n        is_passed\n        color\n        label\n        circle_label\n        order\n      }\n    }`;\n\nconst AssignmentObjectivesList = (props) => {\n  const {\n    students,\n    assignment: initialAssignment,\n    courseDefinitions: initialCourseDefinitions,\n    studentId: initialStudentId,\n    historyBack,\n    assignmentAssessment: initialAssignmentAssessment,\n    openGrid,\n  } = props;\n\n  const context = useContext(GlobalContext);\n  const {\n    ChangeVisibilityManyDialog,\n    Api,\n    height,\n    showObjectiveDetails,\n    isStudent,\n    setVisibilityDialogData,\n  } = context;\n  const [studentId, setStudentId] = useState(initialStudentId);\n  const [assignment, setAssignment] = useState(initialAssignment);\n  const courseDefinitions = useRef(initialCourseDefinitions);\n  const assignmentId = useRef(initialAssignment.id);\n  const [textFilter, setTextFilter] = useState(\"\");\n  const [parentTopic, setParentTopic] = useState();\n  const [loading, setLoading] = useState(false);\n  const [assignmentAssessment, setAssignmentAssessment] = useState(\n    initialAssignmentAssessment || []\n  );\n  const [failWarning, setFailWarning] = useState(\n    () =>\n      initialAssignment?.assessments.find((a) => a.student_id === studentId)\n        ?.fail_warning\n  );\n  const [showGrid, setShowGrid] = useState(openGrid);\n  const [multiEdit, setMultiEdit] = useState(false);\n  const [selectedStudents, setSelectedStudents] = useState([]);\n  const saveManyAssessment = useRef({});\n  const saveManyObjectives = useRef();\n  const dim = useWindowDimensions();\n\n  const setFilterTextDebounced = debounce(\n    (text) => setTextFilter(text.toLowerCase()),\n    1000\n  );\n  const [ignored, forceUpdate] = useReducer((x) => x + 1, 0);\n\n  const refresh = async () => {\n    setLoading(true);\n    const response = await Api.getAssignmentWithAssessment(\n      assignment.id,\n      fields\n    );\n\n    setAssignment(response?.data?.assignment[0]);\n    const assessment = response?.data?.assignment[0].assessments.find(\n      (a) => a.student_id === studentId\n    );\n    setAssignmentAssessment(\n      assessment || response?.data?.assignment[0].assessments[0]\n    );\n    forceUpdate();\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    if (selectedStudents.length === 0) {\n      setMultiEdit(false);\n    }\n  }, [selectedStudents]);\n\n  useEffect(() => {\n    setStudentId(initialStudentId);\n  }, [initialStudentId]);\n\n  useEffect(() => {\n    refresh();\n  }, [studentId]);\n\n  useEffect(() => {\n    if (assignment.id !== assignmentId.current) {\n      assignmentId.current = assignment.id;\n      refresh();\n    }\n  }, [assignment]);\n\n  const statusUpdated = async (status) => {\n    assignmentAssessment.status_new = status;\n    assignmentAssessment.objectiveAssessments =\n      assignment?.objectiveAssessments.filter(oa => oa.student_id === studentId);\n    if (status === \"ASSESSMENT_DONE\") {\n      setVisibilityDialogData({\n        isTopic: assignment?.is_topic,\n        assignmentId: assignment.id,\n        assessments: [assessment],\n        callback: () => {\n          refresh();\n        },\n      });\n    }\n    await Api.updateAssignmentAssessment([assessment]);\n  };\n\n  const submittedStatusChanged = async (status) => {\n    assignmentAssessment.submitted_status = status;\n    await Api.updateAssignmentAssessment([assignmentAssessment]);\n  }\n\n  const handleHeaderMenuClick = async ({name}) => {\n    switch (name) {\n      case \"VISIBILITY_MANY\": {\n        const settings = {\n          students: [\n            students.find((s) => s.student_id === studentId),\n          ].map((s) => ({...s, id: s.student_id})),\n          courseDefinitions: courseDefinitions.current.filter(\n            (courseDefinition) => !!courseDefinition.objectives.length\n          ),\n          type: GroupedVisibilityDialogType.AssignmentStudentView,\n        };\n        const result = await ChangeVisibilityManyDialog.show(settings);\n        await Api.updateVisibilityMany(assignment.id, result);\n        await refresh();\n        break;\n      }\n      default:\n        break;\n    }\n  };\n\n  const assessment = useMemo(\n    () => assignment?.assessments.find((a) => a.student_id === studentId),\n    [assignment]\n  );\n\n  const numberOfObjectives = assignment?.objectiveAssessments?.filter((o) => o.student_id === studentId)?.length || 0;\n\n  const saveMany = async () => {\n    const response = await Api.getAssignmentWithAssessment(\n      assignmentId.current,\n      `assessments {\n        id\n        student_id\n        grade_id\n        grade_published\n        feedback\n        feedback_published\n        result\n        result_published\n        private_note\n        submitted_status\n        }\n      `\n    );\n    const {assessments} = response?.data?.assignment[0];\n\n    let newAssignmentAssessments = [];\n    if (saveManyAssessment.current) {\n      newAssignmentAssessments = selectedStudents.map((sid) => {\n        const ass = assessments.find((a) => a.student_id === sid);\n        return {\n          ...ass,\n          id: ass.id,\n          status_new: saveManyAssessment.current.status_new || ass.status_new,\n          grade_id: saveManyAssessment.current.grade_id || ass.grade_id,\n          grade_published: getPublishedStatus(saveManyAssessment.current.grade_published, ass.grade_published),\n          feedback: saveManyAssessment.current.feedback || ass.feedback,\n          feedback_published: getPublishedStatus(saveManyAssessment.current.feedback_published, ass.feedback_published),\n          result: saveManyAssessment.current.result || ass.result,\n          result_published: getPublishedStatus(saveManyAssessment.current.result_published, ass.result_published),\n          private_note: saveManyAssessment.current.private_note || ass.private_note,\n          submitted_status: saveManyAssessment.current.submitted_status || ass.submitted_status,\n        };\n      });\n    }\n    let newObjectiveAssessments = [];\n    if (saveManyObjectives.current) {\n      newObjectiveAssessments = selectedStudents.map((sid) => {\n        const assessments = assignment?.objectiveAssessments?.filter(\n          (o) => o.student_id === sid\n        );\n        return Object.keys(saveManyObjectives.current).map((key) => {\n          const currentAssessment = saveManyObjectives.current[key];\n          const assessment = assessments.find(\n            (a) => a.objective_id === currentAssessment.objective_id\n          );\n          const newAssessment = {\n            ...assessment,\n            feedback_published: getPublishedStatus(currentAssessment?.feedback_published, assessment?.feedback_published),\n            counter_grade_0:\n              currentAssessment?.counter_grade_0 || assessment?.counter_grade_0,\n            counter_grade_1:\n              currentAssessment?.counter_grade_1 || assessment?.counter_grade_1,\n            counter_grade_2:\n              currentAssessment?.counter_grade_2 || assessment?.counter_grade_2,\n            counter_grade_3:\n              currentAssessment?.counter_grade_3 || assessment?.counter_grade_3,\n            counter_grade_4:\n              currentAssessment?.counter_grade_4 || assessment?.counter_grade_4,\n            counter_grade_5:\n              currentAssessment?.counter_grade_5 || assessment?.counter_grade_5,\n            counter_grade_6:\n              currentAssessment?.counter_grade_6 || assessment?.counter_grade_6,\n            counter_grade_7:\n              currentAssessment?.counter_grade_7 || assessment?.counter_grade_7,\n            counter_grade_8:\n              currentAssessment?.counter_grade_8 || assessment?.counter_grade_8,\n            counter_grade_9:\n              currentAssessment?.counter_grade_9 || assessment?.counter_grade_9,\n            feedback: currentAssessment?.feedback || assessment?.feedback,\n            grade_published: getPublishedStatus(currentAssessment?.grade_published, assessment?.grade_published),\n            private_note:\n              currentAssessment?.private_note || assessment?.private_note,\n            self_assessment:\n              currentAssessment?.self_assessment || assessment?.self_assessment,\n          };\n          if (currentAssessment?.grade_id) {\n            newAssessment.grade_id =\n              currentAssessment?.grade_id || assessment?.grade_id;\n          }\n          return newAssessment;\n        });\n      });\n    }\n\n    await Api.updateAssignmentAssessment(newAssignmentAssessments);\n    await Promise.map(\n      newObjectiveAssessments,\n      (assessments) => {\n        return Api.updateObjectiveAssessmentsGql(assessments);\n      },\n      {concurrency: 10}\n    );\n\n    if (saveManyAssessment.current.status_new === \"ASSESSMENT_DONE\") {\n      const objectiveAssessments = assignment?.objectiveAssessments.map(oa => {\n        const newOa = newObjectiveAssessments?.flat()?.find(noa => noa.id === oa.id);\n        return newOa ? newOa : oa;\n      });\n      const dialogData = {\n        isTopic: assignment?.is_topic,\n        assignmentId: assignment.id,\n        assessments: newAssignmentAssessments.map((a) => {\n          a.objectiveAssessments = objectiveAssessments?.filter((o) => a.student_id === o.student_id);\n          return a;\n        }),\n        callback: async () => {\n          setMultiEdit(false);\n          setSelectedStudents([]);\n          await refresh();\n          saveManyAssessment.current = {};\n          saveManyObjectives.current = {};\n        },\n        hideSaveSetting: true,\n      };\n      setVisibilityDialogData(dialogData);\n    } else {\n      setMultiEdit(false);\n      setSelectedStudents([]);\n      await refresh();\n      saveManyAssessment.current = {};\n      saveManyObjectives.current = {};\n    }\n  };\n  const toggleGrid = () => {\n    setShowGrid(!showGrid);\n  };\n\n  const assignmentClicked =  useCallback(async (selectedAssignment) => {\n    setMultiEdit(false);\n    const response = await Api.getClassroom(`\n    courseDefinitions {\n      id\n      name\n      course_id\n      objectives{\n        id\n        name\n        description\n      }\n    }`);\n    const {courseDefinitions: cd} = response?.data?.classroom;\n    courseDefinitions.current = cd;\n    setParentTopic(assignment);\n    setAssignment(selectedAssignment);\n    const ass = selectedAssignment.assessments.find(\n      (a) => a.student_id === studentId\n    );\n    setAssignmentAssessment(ass || selectedAssignment.assessments[0]);\n    setStudentId(\n      ass?.student_id || selectedAssignment.assessments[0].student_id\n    );\n  }, [studentId]);\n\n  const goBack = async () => {\n    if (parentTopic) {\n      const {\n        // eslint-disable-next-line camelcase\n        course_definitions,\n      } = await Api.getAssignmentAssessments(parentTopic.id);\n      // eslint-disable-next-line camelcase\n      courseDefinitions.current = course_definitions;\n      setAssignment(parentTopic);\n      setStudentId(parentTopic.assessments[0].student_id);\n      setParentTopic(null);\n    } else {\n      historyBack();\n    }\n  };\n\n  const sortedStudents = students.sort((a,b) => Intl.Collator('sv').compare(a.last_name, b.last_name));\n  const student = students.find((s) => s.student_id === studentId);\n  const content = (\n    <>\n      {showGrid && (\n        <div style={{display: \"flex\"}}>\n          <GridHeader\n            handleMenuClick={handleHeaderMenuClick}\n            assignment={assignment}\n            onCollapse={toggleGrid}\n            back={() => {\n              showObjectiveDetails(false);\n              goBack();\n            }}\n          />\n          <AssignmentsListHeader\n            isTopic={assignment?.is_topic}\n            title={getTranslation(\"assignmentsPage\")}\n            gridOpen\n            toggleGrid={toggleGrid}\n          />\n        </div>\n      )}\n      {showGrid && (\n        <GridViewContent\n          setMultiEdit={setMultiEdit}\n          multiEdit={multiEdit}\n          onStudentSelected={setStudentId}\n          assignment={assignment}\n          selectedStudentId={studentId}\n          onAssignmentClicked={assignmentClicked}\n          selectedStudents={selectedStudents}\n          setSelectedStudents={setSelectedStudents}\n        />\n      )}\n      {!showGrid && (\n        <AssignmentObjectivesListHeader\n          isStudent={isStudent}\n          onStudentSelected={setStudentId}\n          onStudent\n          back={() => {\n            showObjectiveDetails(false);\n            historyBack();\n          }}\n          selectedStudentId={studentId}\n          students={sortedStudents}\n          title={assignment.title}\n          handleMenuClick={handleHeaderMenuClick}\n          isTopic={assignment.is_topic}\n          onToggleGrid={toggleGrid}\n        />\n      )}\n      {showGrid && (\n        <div\n          style={{\n            backgroundColor: colors.borderColor,\n            display: \"flex\",\n            alignItems: \"center\",\n            padding: \"16px\",\n            justifyContent: \"space-between\",\n          }}\n        >\n          <div style={{display: \"flex\", flexDirection: \"column\"}}>\n            <span style={{...fonts.LARGE}}>\n              {(() =>\n                multiEdit\n                  ? `${selectedStudents.length}  ${getTranslation(\n                    \"studentsSelected\"\n                  )}`\n                  : `${student?.first_name || \"\"} ${\n                    student?.last_name || \"\"\n                  } `)()}\n            </span>\n            {!multiEdit && student?.email && (\n              <span style={{...fonts.SMALL}}>({student?.email})</span>\n            )}\n          </div>\n          {multiEdit && (\n            <ButtonBase\n              onClick={saveMany}\n              style={{\n                border: `1px solid ${colors.borderColorDark}`,\n                padding: \"8px 12px 8px 12px\",\n                borderRadius: \"4px\",\n                backgroundColor: colors.grey,\n              }}\n            >\n              <span style={{...fonts.MEDIUM}}>\n                {getTranslation(\"saveAll\")}\n              </span>\n            </ButtonBase>\n          )}\n        </div>\n      )}\n      <div\n        style={{\n          padding: \"10px\",\n          height: `${height - (showGrid ? 120 : 60)}px`,\n          overflow: \"scroll\",\n        }}\n      >\n        {multiEdit && <MultiEditDescription/>}\n        <Header\n          style={{\n            backgroundColor: assignment?.is_topic ? colors.topic : colors.green,\n            marginBottom: \"16px\",\n          }}\n          title={getTranslation(\"status\")}\n        />\n        {!multiEdit && (\n          <>\n            <AssessmentButton\n              initialState={multiEdit ? \"NOT_ASSESSED\" : assessment?.status_new}\n              warning={failWarning}\n              onStatusChange={(status) => statusUpdated(status)}\n              readonly={isStudent}\n            />\n            {assignment.use_submitted_status &&\n            <SubmissionStatusButton\n              initialState={assessment?.submitted_status || \"NOT_SUBMITTED\"}\n              onStatusChange={(status) => {\n                submittedStatusChanged(status);\n              }}\n              readonly={isStudent}\n              style={{marginTop: '10px'}}\n            />}\n          </>\n        )}\n        {multiEdit && (\n          <>\n            <MultiEditStatusComponent onStatusChange={(status) => saveManyAssessment.current.status_new = status}/>\n            {assignment.use_submitted_status &&\n            <div style={{borderTop: `1px solid ${colors.green}`}}>\n              <MultiEditSubmissionComponent\n                onStatusChange={(status => saveManyAssessment.current.submitted_status = status)}/>\n            </div>\n            }\n          </>\n        )}\n        <Header\n          style={{\n            backgroundColor: assignment.is_topic ? colors.topic : colors.green,\n            marginTop: \"16px\",\n          }}\n          title={getTranslation(\"overallResultHeaderTeacher\")}\n        />\n        <AssignmentAssessment\n          multiEdit={multiEdit}\n          selectedStudents={selectedStudents}\n          onSave={(ass) => {\n            saveManyAssessment.current = {\n              ...saveManyAssessment.current,\n              ...ass,\n            };\n          }}\n          assignment={assignment}\n          assessment={assignmentAssessment}\n        />\n        {numberOfObjectives > 20 && (\n          <FeedbackInput\n            onTextChange={setFilterTextDebounced}\n            hideEye\n            placeholder={getTranslation(\"filterObjectives\")}\n            style={{margin: \"20px\", marginBottom: \"20px\", width: \"300px\"}}\n          />\n        )}\n\n        <ObjectivesList\n          multiEdit={multiEdit}\n          textFilter={textFilter}\n          assignmentAssessmentId={assignmentAssessment?.id}\n          courseDefinitions={courseDefinitions.current}\n          objectiveAssessments={\n            assignment?.objectiveAssessments?.filter(\n              (o) => o.student_id === studentId\n            ) || []\n          }\n          gradeSystem={assignment.gradeSystem}\n          failWarning={setFailWarning}\n          isTopic={assignment.is_topic}\n          onSave={(objectiveAssessments) => {\n            saveManyObjectives.current = objectiveAssessments;\n          }}\n        />\n      </div>\n      {loading && false &&\n      <div style={{\n        display: 'flex',\n        position: 'absolute',\n        top: 60,\n        left: -dim.width,\n        right: 0,\n        bottom: 0,\n        backgroundColor: colors.dimmed,\n        alignItems: 'center',\n        justifyContent: 'center'\n      }}>\n        <CircularProgress size={60}/>\n      </div>}\n    </>\n  );\n  return content;\n};\n\nexport default AssignmentObjectivesList;\n","import {colors, fonts} from \"../../theme\";\nimport {Close} from \"@material-ui/icons\";\nimport {getTranslation} from \"../../i18n\";\nimport React from \"react\";\n\nconst EditAssessmentCriteriaHeader = (props) => {\n  const {assignment, onClose, onSave, saveEnabled} = props;\n  return (\n    <div\n      style={{\n        padding: \"0px 14px 0px 14px\",\n        height: \"60px\",\n        display: \"flex\",\n        backgroundColor: assignment.is_topic ? colors.topic : colors.green,\n        position: \"relative\",\n        alignItems: \"center\",\n      }}\n    >\n      <div style={{alignItems: \"center\", display: \"flex\", height: \"40px\"}}>\n        <Close\n          onClick={onClose}\n          style={{cursor: \"pointer\", color: colors.white}}\n        />\n        <span\n          style={{\n            ...fonts.LARGE,\n            fontWeight: \"500\",\n            color: colors.white,\n            marginLeft: \"6px\",\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            whiteSpace: 'nowrap',\n            width: '240px',\n          }}\n        >\n          {assignment.title}\n        </span>\n      </div>\n      <span\n        onClick={onSave}\n        style={{\n          ...fonts.MEDIUM,\n          color: saveEnabled ? colors.white : colors.darkGrey,\n          position: \"absolute\",\n          right: \"20px\",\n          bottom: \"20px\",\n          cursor: saveEnabled ? \"pointer\" : \"default\",\n        }}\n      >\n        {getTranslation(\"saveBtn\").toUpperCase()}\n      </span>\n    </div>\n  );\n};\n\nexport default EditAssessmentCriteriaHeader;","import Header from \"../../components/header\";\nimport {getTranslation} from \"../../i18n\";\nimport {colors, fonts} from \"../../theme\";\nimport {Dialog} from \"@material-ui/core\";\nimport React from \"react\";\n\nconst styles = {\n  dialogFont: {\n    ...fonts.MEDIUM,\n    color: colors.green,\n    cursor: \"pointer\",\n  },\n};\n\nconst SaveDialog = (props) => {\n  const {open, onSave, onClose, onCancel} = props;\n  return (\n    <Dialog open={open}>\n      <div\n        style={{\n          padding: \"0px\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          width: \"250px\",\n        }}\n      >\n        <Header\n          title={getTranslation(\"saveBtn\").toUpperCase()}\n          style={{margin: \"0px\"}}\n        />\n        <span style={{...fonts.MEDIUM, padding: \"20px\"}}>\n            {getTranslation(\"saveChangesModalTitle\")}\n          </span>\n        <div\n          style={{\n            padding: \"0 20px 20px 20px\",\n            display: \"flex\",\n            justifyContent: \"space-between\",\n          }}\n        >\n            <span\n              onClick={onClose}\n              style={{...styles.dialogFont}}\n            >\n              {getTranslation(\"dontSaveBtn\")}\n            </span>\n          <div>\n              <span\n                onClick={onCancel}\n                style={styles.dialogFont}\n              >\n                {getTranslation(\"cancelBtn\")}\n              </span>\n            <span\n              onClick={onSave}\n              style={{...styles.dialogFont, marginLeft: \"20px\"}}\n            >\n                {getTranslation(\"saveBtn\")}\n              </span>\n          </div>\n        </div>\n      </div>\n    </Dialog>\n  );\n};\n\nexport default SaveDialog;","import CheckboxWithText from \"../../components/CheckboxWithText\";\nimport {fonts} from \"../../theme\";\nimport {Switch, Tooltip} from \"@material-ui/core\";\nimport {getTranslation} from \"../../i18n\";\nimport React from \"react\";\n\nconst EditAssessmentCriteriaItem = ({text, enabled = true, onChange, checked = true, checkbox = false}) => (\n  <div\n    style={{\n      display: \"flex\",\n      alignItems: \"center\",\n      width: \"100%\",\n      justifyContent: \"space-between\",\n    }}\n  >\n    {checkbox && (\n      <CheckboxWithText\n        checked={checked}\n        onCheck={onChange}\n        text={text}\n        controlled={true}\n        textWidth={260}\n      />\n    )}\n    {!checkbox && (\n      <>\n        <span style={{...fonts.MEDIUM}}>{text}</span>\n        <Tooltip\n          title={enabled ? \"\" : getTranslation(\"switch_default_on_tooltip\")}\n        >\n          <div>\n            <Switch\n              onChange={onChange}\n              checked={checked}\n              color=\"primary\"\n              disabled={!enabled}\n            />\n          </div>\n        </Tooltip>\n      </>\n    )}\n  </div>\n);\n\nexport default EditAssessmentCriteriaItem;\n","import {colors, fonts} from \"../../theme\";\nimport {getTranslation} from \"../../i18n\";\nimport EditAssessmentCriteriaItem from \"./editAssessmentCriteriaItem\";\nimport React, {useState} from \"react\";\nimport Toast from \"../../components/toast\";\n\nconst CourseDefinitions = ({assignment, onChange}) => {\n  const [showCurriculumToast, setShowCurriculumToast] = useState(false);\n\n  return (\n    <div style={{marginTop: \"20px\"}}>\n      <span style={{...fonts.SMALL, color: colors.green}}>\n        {getTranslation(\"courseSelect\")}\n      </span>\n      {assignment?.courseDefinitions\n        .sort((a, b) => a.name.localeCompare(b.name))\n        .map((c) => {\n            return (\n              <EditAssessmentCriteriaItem\n                text={c.name}\n                checkbox\n                checked={() => c.selected}\n                onChange={\n                  (checked) => {\n                    if (assignment?.courseDefinitions.filter(cd => cd.selected)?.length === 1 && !checked) {\n                      setShowCurriculumToast(true);\n                    } else {\n                      c.selected = checked;\n                    }\n                    onChange(assignment);\n                  }\n                }/>\n            );\n          }\n        )}\n      <Toast timeout={3000} onClose={() => setShowCurriculumToast(false)} open={showCurriculumToast}\n             message={getTranslation(\"chooseAtLeastOneCurriculumTooltip\")}/>\n    </div>\n\n  );\n};\n\nexport default CourseDefinitions;\n","import {fonts} from \"../../theme\";\nimport {getTranslation} from \"../../i18n\";\nimport React from \"react\";\n\nconst NoCurriculum = () => {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        height: \"200px\",\n        padding: \"0 40px 0 40px\",\n      }}\n    >\n            <span style={{...fonts.MEDIUM}}>\n              {getTranslation(\"assessCourseNotConfigured\")}\n            </span>\n    </div>\n  )\n};\nexport default NoCurriculum;","import Header from \"../../components/header\";\nimport {colors} from \"../../theme\";\nimport Card from \"../../components/card\";\nimport AccordionItem from \"../../components/accordionItem\";\nimport FeedbackInput from \"../../components/feedbackInput\";\nimport {getTranslation} from \"../../i18n\";\nimport CheckboxWithText from \"../../components/CheckboxWithText\";\nimport React, {useContext} from \"react\";\nimport {GlobalContext} from \"../../utils\";\n\nconst Objectives = ({assignment, selectedGradeSystem, onChange}) => {\n  const context = useContext(GlobalContext);\n  const {showObjectiveDetails} = context;\n\n  const {courseDefinitions} = assignment;\n  if (!courseDefinitions) {\n    return null;\n  }\n\n  const handleObjectiveCheck = (checked, id) => {\n    assignment.courseDefinitions.forEach(cd => {\n      cd.objectives.forEach(o => {\n        if (o.id === id) {\n          o.selected = checked;\n        }\n      });\n    });\n    onChange({...assignment});\n  };\n\n  return courseDefinitions.filter(c => c.selected).sort((a, b) => a.name.localeCompare(b.name))\n    .map((def) => {\n      if (def.objectives.length === 0) {\n        return null;\n      }\n      return (\n        <div key={def.id} style={{marginLeft: \"10px\", marginRight: \"10px\"}}>\n          <Header style={{backgroundColor: assignment?.is_topic ? colors.topic : colors.green}}\n                  title={def.name}/>\n          <Card style={{height: \"100%\", padding: 0}}>\n            {def.objectives.sort((a, b) => (a.name.localeCompare(b.name, undefined, {\n              numeric: true,\n              sensitivty: 'base'\n            }))).map((o) => {\n              return (\n                <div key={o.id} style={{borderBottom: `1px solid ${colors.borderColor}`}}>\n                  {selectedGradeSystem?.is_counter && (\n                    <AccordionItem\n                      details={\n                        <div>\n                          {selectedGradeSystem?.grades?.map(\n                            (g, i) => (\n                              <FeedbackInput\n                                key={g.id}\n                                type={\"number\"}\n                                style={{width: \"300px\"}}\n                                text={o.max_counter_grades[i]}\n                                placeholder={`${getTranslation(\"maxPointsInput\")} ${g.name}`}\n                                hideEye={true}\n                                onTextChange={(text) => {\n                                  o.max_counter_grades[i] = parseInt(text, 10);\n                                  onChange({...assignment});\n                                }}\n                                id={g.id}\n                              />\n                            )\n                          )}\n                        </div>\n                      }\n                      summary={\n                        <CheckboxWithText\n                          onClick={() => {\n                            showObjectiveDetails(o.id);\n                          }}\n                          id={o.id}\n                          onCheck={handleObjectiveCheck}\n                          subText={o.description}\n                          text={o.name}\n                          checked={o.selected}\n                          style={{\n                            padding: \"0px 0px 0px 20px\",\n                            width: \"270px\",\n                          }}\n                        />\n                      }\n                    />\n                  )}\n                  {!selectedGradeSystem?.is_counter && (\n                    <CheckboxWithText\n                      onClick={() => showObjectiveDetails(o.id)}\n                      id={o.id}\n                      onCheck={handleObjectiveCheck}\n                      subText={o.description}\n                      text={o.name}\n                      checked={o.selected}\n                      style={{padding: \"10px 20px 10px 20px\"}}\n                    />\n                  )}\n                </div>\n              );\n            })}\n          </Card>\n        </div>\n      );\n    });\n};\n\nexport default Objectives;\n","import Header from \"../../components/header\";\nimport {getTranslation} from \"../../i18n\";\nimport {colors, fonts} from \"../../theme\";\nimport {Dialog} from \"@material-ui/core\";\nimport React from \"react\";\n\nconst styles = {\n  dialogFont: {\n    ...fonts.MEDIUM,\n    color: colors.green,\n    cursor: \"pointer\",\n  },\n};\n\nconst GradeWarningDialog = ({warningDialogText, close}) => {\n  return (\n    <Dialog open={!!warningDialogText}>\n      <div\n        style={{\n          padding: \"0px\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          width: \"250px\",\n        }}\n      >\n        <Header\n          title={getTranslation(\"assignConfirmationModalTitle\")}\n          style={{margin: \"0px\"}}\n        />\n        <span style={{...fonts.MEDIUM, padding: \"20px\"}}>\n            {warningDialogText}\n          </span>\n        <div\n          style={{\n            padding: \"0 20px 20px 20px\",\n            display: \"flex\",\n            justifyContent: \"flex-end\",\n          }}\n        >\n            <span\n              onClick={() => close()}\n              style={styles.dialogFont}\n            >\n              {getTranslation(\"cancelBtn\")}\n            </span>\n          <span\n            onClick={async () => {\n              close(true);\n            }}\n            style={{...styles.dialogFont, marginLeft: \"20px\"}}\n          >\n              {getTranslation(\"saveBtn\")}\n            </span>\n        </div>\n      </div>\n    </Dialog>\n  );\n};\n\nexport default GradeWarningDialog;","import React, {useContext, useEffect, useRef, useState} from 'react';\nimport {getLastUsedGradeSystem, GlobalContext, storeLastUsedGradeSystem} from \"../../utils\";\nimport EditAssessmentCriteriaHeader from \"./editAssessmentCriteriaHeader\";\nimport LinearProgress from \"../../components/LinearProgress\";\nimport Header from \"../../components/header\";\nimport {getTranslation} from \"../../i18n\";\nimport {colors} from \"../../theme\";\nimport SaveDialog from \"./saveDialog\";\nimport FullscreenProgress from \"../../components/fullscreenProgress\";\nimport EditAssessmentCriteriaItem from \"./editAssessmentCriteriaItem\";\nimport OptionsDropdown from \"../../components/optionsDropdown\";\nimport Card from \"../../components/card\";\nimport CourseDefinitions from \"./courseDefinitions\";\nimport NoCurriculum from \"./noCurriculum\";\nimport Objectives from \"./objectives\";\nimport GradeWarningDialog from \"./gradeWarningDialog\";\n\nconst CLASSROOM_QUERY = `\n     name\n     courses{\n      id\n      name\n      scale_id\n      objectives {\n        id\n        name\n      }\n      gradeSystem{\n        id\n        name\n        is_final\n        is_main\n        order\n        is_counter\n        grades {\n          id\n          name\n          is_passed\n          color\n          label\n          circle_label\n          order\n          grade_system_id\n        }\n      }\n    }\n   `;\n\nconst resultText = getTranslation(\"resultsInput\");\nconst overallFeedbackText = getTranslation(\"overallFeedback\");\nconst overallPrivateNoteText = getTranslation(\"overallPrivateNoteInput\");\nconst teacherSelfAssessmentText = getTranslation(\"teacherSelfAssessmentLabel\");\nconst objectivesText = getTranslation(\"objectivesText\");\n\nconst EditAssessmentCriteria = (props) => {\n  const {assignment: initialAssignment, onClose} = props;\n\n  const context = useContext(GlobalContext);\n  const {Api, showObjectiveDetails, height} = context;\n\n  const [assignment, setAssignment] = useState(initialAssignment);\n  const [gradeSystems, setGradeSystems] = useState();\n  const [warningDialogText, setWarningDialogText] = useState();\n  const [saveEnabled, setSaveEnabled] = useState(false);\n  const [saveDialogOpen, setSaveDialogOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [lastUsedGradeSystem, setLastUsedGradeSystem] = useState();\n  const [enableObjectives, setEnableObjectives] = useState(false);\n\n  const referenceAssignment = useRef();\n\n  const isArrayChanged = (aArr, bArr) => {\n    if (aArr?.length !== bArr?.length) {\n      return true;\n    }\n    const test = aArr.filter((a) => bArr.indexOf(a) < 0);\n    return test.length !== 0;\n  };\n\n  const updateSaveEnabled = () => {\n    const {current: ref} = referenceAssignment;\n    if (!ref || !assignment) {\n      return\n    }\n    let saveEnable = false;\n    if(ref.use_submitted_status !== assignment.use_submitted_status){\n      saveEnable = true;\n    }\n    if (ref.grade_system_id !== assignment.grade_system_id) {\n      saveEnable = true;\n    }\n\n    const refCourseDefinitions = ref.courseDefinitions?.filter(cd => cd.selected).map(cd => cd.id);\n    const courseDefinitions = assignment.courseDefinitions?.filter(cd => cd.selected).map(cd => cd.id);\n    if (isArrayChanged(refCourseDefinitions, courseDefinitions)) {\n      saveEnable = true;\n    }\n\n    const refSelectedObjectivesIds = ref.courseDefinitions?.map(cd => cd?.objectives.filter(o => o.selected).map(o => o.id)).flat();\n    const selectedObjectivesIds = assignment.courseDefinitions?.map(cd => cd?.objectives.filter(o => o.selected).map(o => o.id)).flat();\n    if (isArrayChanged(refSelectedObjectivesIds, selectedObjectivesIds)) {\n      saveEnable = true;\n    }\n\n    if (!saveEnable) {\n      const refSelectedObjectives = ref.courseDefinitions?.map(cd => cd?.objectives.filter(o => o.selected)).flat();\n      const selectedObjectives = assignment.courseDefinitions?.map(cd => cd?.objectives.filter(o => o.selected)).flat();\n      const refMaxcounter = refSelectedObjectives.map(o => o.max_counter_grades);\n      const maxCounter = selectedObjectives.map(o => o.max_counter_grades);\n\n      refMaxcounter.forEach((rf, i) => {\n        const change = rf.filter((r, ii) => r !== maxCounter[i][ii]);\n        if (change.length) {\n          saveEnable = true;\n        }\n      });\n    }\n\n\n    setSaveEnabled(saveEnable);\n  };\n\n  useEffect(() => {\n    updateSaveEnabled();\n  }, [assignment]);\n\n  const getGradeSystem = (courses) => {\n    return courses\n      .map((c) => c.gradeSystem)\n      .flat()\n      .reduce((acc, g) => {\n        if (!acc?.find((a) => a.id === g.id)) {\n          acc.push(g);\n        }\n        return acc;\n      }, [])\n      .sort((a, b) => {\n        if (a.is_main) {\n          return -1;\n        }\n        if (b.is_main) {\n          return 1;\n        }\n        return a.name.localeCompare(b.name);\n      });\n  };\n\n  const getCourseDefinitions = async () => {\n    setLoading(true);\n    const response = await Api.getClassroom(CLASSROOM_QUERY);\n    const {courses} = response?.data?.classroom;\n    const gradeSystem = getGradeSystem(courses);\n    setGradeSystems(gradeSystem);\n    const fields = `\n    courseDefinitions{\n      id\n      objectives{\n        id\n      }\n    }`\n    const {data} = await Api.getAssignmentWithAssessment(assignment.id, fields);\n    const objectives = data?.assignment[0]?.courseDefinitions.map(cd => cd.objectives).flat();\n\n    const selectedObjectives = [...new Set(objectives.map(o => o.id))];\n    let {courses: courseDefinitions} = response?.data?.classroom;\n    courseDefinitions.map(cd => {\n      cd.objectives = cd.objectives.map(o => {\n        const objectiveAssessment = objectives.find(oa => oa.objective_id === o.id);\n        let max_counter_grades;\n        if (objectiveAssessment) {\n          max_counter_grades = Object.keys(objectiveAssessment).filter(k => k.startsWith('max')).map(k => objectiveAssessment[k]);\n        } else {\n          max_counter_grades = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        }\n        return {...o, selected: !!selectedObjectives.find(id => id === o.id), max_counter_grades};\n      });\n    });\n\n    const noAssignedCurriculums = assignment?.courseDefinitions.length === 0\n    if (noAssignedCurriculums) {\n      await Api.updateAssignmentCourseDefinitions(assignment.id, courseDefinitions.map(cd => cd.id));\n    }\n    const newCourseDefinitions = courseDefinitions.map(cd => {\n      return {...cd, selected: !!assignment?.courseDefinitions.find(acd => acd.id === cd.id) || noAssignedCurriculums}\n    });\n    const newAssignment = {\n      ...assignment,\n      courseDefinitions: newCourseDefinitions,\n      grade_system_id: assignment?.gradeSystem?.id,\n    };\n    setAssignment(newAssignment);\n    // Deep clone\n    referenceAssignment.current = JSON.parse(JSON.stringify(newAssignment));\n    const anyObjectivesSelected = newAssignment?.courseDefinitions.map(cd => cd.objectives.filter(o => o.selected)).flat().length;\n    setEnableObjectives(anyObjectivesSelected > 0);\n    setLoading(false);\n  };\n\n  const handleSave = async ({force = false, close = false}) => {\n    if (referenceAssignment.current.grade_system_id && referenceAssignment.current.grade_system_id !== assignment.grade_system_id && !force) {\n      setWarningDialogText(getTranslation(\"assignGradeConfirmationModalText\"));\n      return;\n    }\n    const objectives = assignment.courseDefinitions.map(cd => cd.objectives.filter(o => o.selected)).flat();\n    await Api.updateAssignmentCourseDefinitions(assignment.id, assignment.courseDefinitions.filter(cd => cd.selected).map(cd => cd.id));\n    await Api.updateAssignmentObjectivesConnected(assignment.id, objectives.map(o => ({\n      id: o.id,\n      max_counter_grades: objectives.find(oo => oo.id === o.id)?.max_counter_grades\n    })));\n    await Api.updateAssignment(assignment);\n    referenceAssignment.current = JSON.parse(JSON.stringify(assignment));\n    updateSaveEnabled();\n    if (assignment?.grade_system_id) {\n      storeLastUsedGradeSystem(assignment?.grade_system_id);\n    }\n    if (close) {\n      onClose();\n    }\n  };\n\n  useEffect(() => {\n    getCourseDefinitions();\n    (async () => {\n      const lastUsedScale = await getLastUsedGradeSystem();\n      setLastUsedGradeSystem(lastUsedScale);\n    })();\n  }, []);\n\n  return (\n    <>\n      <EditAssessmentCriteriaHeader\n        assignment={assignment}\n        onClose={() => {\n          if (saveEnabled) {\n            setSaveDialogOpen(true);\n          } else {\n            onClose();\n            showObjectiveDetails(false);\n          }\n        }}\n        onSave={handleSave}\n        saveEnabled={saveEnabled}\n      />\n      <LinearProgress/>\n      {loading && <FullscreenProgress/>}\n      {!loading && assignment?.courseDefinitions?.length === 0 && <NoCurriculum/>}\n      {!loading && assignment?.courseDefinitions?.length > 0 &&\n      <div style={{height: `${height - 60}px`, overflow: \"scroll\"}}>\n        <Header\n          style={{\n            backgroundColor: assignment?.is_topic ? colors.topic : colors.green,\n            marginTop: '10px',\n            marginLeft: '10px',\n            marginRight: '10px'\n          }}\n          title={`${getTranslation(\"connectAttributesToAssignment\")} ${assignment?.title}.`}\n        />\n        <Card style={{padding: \"20px\", margin: \"0px 10px 0px 10px\"}}>\n          <EditAssessmentCriteriaItem\n            text={getTranslation('use_submitted_status')} enabled={true}\n            checked={assignment.use_submitted_status}\n            onChange={() => {\n              setAssignment({...assignment, use_submitted_status: !assignment.use_submitted_status})\n            }}\n          />\n          <EditAssessmentCriteriaItem text={overallFeedbackText} enabled={false}/>\n          <EditAssessmentCriteriaItem text={teacherSelfAssessmentText} enabled={false}/>\n          <EditAssessmentCriteriaItem text={resultText} enabled={false}/>\n          <EditAssessmentCriteriaItem\n            text={getTranslation(\"overallAssessment\")}\n            checked={!!assignment.grade_system_id}\n            onChange={() => {\n              if (!assignment.grade_system_id) {\n                const lastUsedExists = gradeSystems.find((gs) => gs.id === lastUsedGradeSystem);\n                setAssignment({\n                  ...assignment,\n                  grade_system_id: lastUsedExists ? lastUsedGradeSystem : gradeSystems[0].id\n                });\n              } else {\n                setAssignment({...assignment, grade_system_id: null});\n                setEnableObjectives(false);\n              }\n            }}\n          />\n          <EditAssessmentCriteriaItem text={overallPrivateNoteText} enabled={false} checked={true}/>\n          <EditAssessmentCriteriaItem\n            text={objectivesText}\n            checked={enableObjectives && !!assignment.grade_system_id}\n            onChange={(e) => {\n              setEnableObjectives(e.target.checked);\n              if (!assignment.grade_system_id) {\n                const lastUsedExists = !!gradeSystems.find((gs) => gs.id === lastUsedGradeSystem);\n                setAssignment({\n                  ...assignment,\n                  grade_system_id: lastUsedExists ? lastUsedGradeSystem : gradeSystems[0].id\n                });\n              } else if (!e.target.checked) {\n                assignment?.courseDefinitions?.forEach(cd => {\n                  cd.objectives = cd.objectives.map(o => ({...o, selected: false}));\n                });\n                setAssignment({...assignment});\n              }\n            }}\n          />\n          {(assignment.grade_system_id || enableObjectives) && (\n            <OptionsDropdown\n              options={gradeSystems.map((g) => ({id: g.id, name: g.name})) || []}\n              helpText={getTranslation(\"scaleSelect\")}\n              value={assignment.grade_system_id}\n              handleChange={(e) => setAssignment({...assignment, grade_system_id: e.target.value})}\n              style={{marginTop: \"10px\"}}\n            />\n          )}\n          {assignment?.courseDefinitions.length > 1 &&\n          <CourseDefinitions assignment={assignment} onChange={(a) => setAssignment({...a})}/>}\n        </Card>\n        {enableObjectives && assignment.grade_system_id &&\n        <Objectives\n          assignment={assignment}\n          selectedGradeSystem={gradeSystems.find(gr => gr.id === assignment?.grade_system_id)}\n          onChange={setAssignment}\n        />\n        }\n      </div>\n      }\n      <GradeWarningDialog\n        warningDialogText={warningDialogText}\n        close={(save = false) => {\n          setWarningDialogText(false);\n          if (save) {\n            handleSave({force: true});\n          }\n        }}\n      />\n\n      <SaveDialog\n        open={saveDialogOpen}\n        onSave={() => {\n          handleSave({close: true});\n        }}\n        onCancel={() => {\n          setSaveDialogOpen(false);\n        }}\n        onClose={onClose}\n      />\n    </>\n  );\n};\n\nexport default EditAssessmentCriteria;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 6a9.77 9.77 0 018.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5A9.77 9.77 0 0112 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5a2.5 2.5 0 010 5 2.5 2.5 0 010-5m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z\",\n  fill: \"none\",\n  stroke: \"#696969\",\n  strokeDasharray: \"3 2\"\n});\n\nfunction SvgVisibilityKeep(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/702f8e828ed0a81934e974f4fc03d796-visibilityKeep.svg\";\nexport { SvgVisibilityKeep as ReactComponent };","import React from 'react';\nimport {PUBLISH_STATES} from \"./publishIcon\";\nimport {getTranslation} from \"../i18n\";\nimport {ReactComponent as VisibilityKeep} from '../images/visibilityKeep.svg';\nimport Tooltip from \"./tooltip\";\nimport PublishedIcon from \"./publishedIcon\";\n\n\nconst getTooltipText = (state) => {\n  switch (state) {\n    case PUBLISH_STATES.published:\n      return getTranslation('visibility_tooltip_publish');\n    case PUBLISH_STATES.notPublished:\n      return getTranslation('visibility_tooltip_unpublish');\n    case PUBLISH_STATES.dontChange:\n      return getTranslation('visibility_tooltip_dont_change');\n  }\n};\n\nconst VisibilityIcon = (props) => {\n  const {visible: state, style, size} = props;\n\n  return (\n    <Tooltip title={getTooltipText(state)}>\n      {state !== PUBLISH_STATES.dontChange &&\n      <PublishedIcon size={size} published={state === PUBLISH_STATES.published} active={true} style={{...style}}/>}\n      {state === PUBLISH_STATES.dontChange && <VisibilityKeep style={{width: size ? size + 'px' : '12px', ...style}}/>}\n    </Tooltip>\n  );\n};\nexport default VisibilityIcon;","export class SlideToggleAnimation {\n  static className = 'slideToggleOpen';\n\n  constructor() {\n    'ngInject';\n    this.addClass = this.addClass.bind(this);\n    this.removeClass = this.removeClass.bind(this);\n  }\n\n  static create() {\n    return new SlideToggleAnimation();\n  }\n\n  addClass(element, className, done) {\n    if (className === SlideToggleAnimation.className) {\n      setTimeout(() => {\n        element.stop().slideDown(0, done);\n      }, 0);\n    }\n    return this.animationFinished.bind({ element });\n  }\n\n  removeClass(element, className, done) {\n    if (className === SlideToggleAnimation.className) {\n      element.stop().slideUp(0, done);\n    }\n\n    return this.animationFinished.bind({ element });\n  }\n\n  animationFinished() {\n    if (this.element && this.element.stop) {\n      this.element.stop();\n    }\n  }\n}\n","export class IdService {\n  public static ID_FRAGMENT: string = 's';\n  private static pattern: RegExp = new RegExp(`${IdService.ID_FRAGMENT}`, 'g');\n\n  public static getId(format: string = `${IdService.ID_FRAGMENT}${IdService.ID_FRAGMENT}`): string {\n    return format.replace(this.pattern, IdService.generateIDFragment);\n  }\n\n  private static generateIDFragment(): string {\n    return IdService.getRandomNumber().toString(16).slice(2);\n  }\n\n  private static getRandomNumber(base: number = Math.floor((1 + Math.random()) * 0x10000)): number {\n    return base ^ window.crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> base / 4;\n  }\n}\n","import { Params } from '@angular/router';\n\nexport enum MainMenuID {\n  ASSIGNMENT,\n  COURSE_PROGRESS,\n  CURRICULUM\n}\n\nexport interface MainMenu {\n  readonly icon: 'assignment' | 'school' | 'book';\n  readonly iconColor: 'green-icon' | 'pink-icon' | 'blue-icon';\n  readonly id: MainMenuID;\n  readonly label: string;\n  readonly params?: Params;\n  readonly state: string;\n}\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\nimport { IStudent } from '../../shared/models/student.model';\n\nexport class Students {\n  public students: IStudent[];\n\n  constructor(protected Path: any, protected FetchData: any) {\n    'ngInject';\n\n    this.students = [];\n  }\n\n  public updateStudentsList(updatedStudents: IStudent[]) {\n    this.students = updatedStudents;\n  }\n\n  public getStudentsList(): Promise<IStudent[]> {\n    return this.students.length ?\n      Promise.resolve([...this.students]) :\n      this.FetchData.getStudentsList(this.Path.getClassroomId())\n        .then((students: IStudent[]): IStudent[] => {\n          this.students = students;\n\n          return [...students];\n        });\n  }\n\n  public getStudentsIds(): number[] {\n    return this.students.map(student => student.id);\n  }\n}\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 403;","import angular from 'angular';\n\nexport interface IDialogService {\n  readonly DEFAULT_OPTIONS: ng.material.IDialogOptions;\n}\n\nexport abstract class DialogService implements IDialogService {\n  public readonly DEFAULT_OPTIONS: ng.material.IDialogOptions = {\n    bindToController: true,\n    controller: class DialogController {\n      constructor(public $mdDialog: ng.material.IDialogService) {\n        'ngInject';\n      }\n    },\n    controllerAs: '$ctrl',\n    parent: angular.element(document.body),\n  };\n\n  constructor(protected $mdDialog: ng.material.IDialogService) {\n    'ngInject';\n  }\n\n  protected buildOptions(options: ng.material.IDialogOptions = this.DEFAULT_OPTIONS): ng.material.IDialogOptions {\n    return Object.assign({}, this.DEFAULT_OPTIONS, options);\n  }\n}\n","import { IPromise } from 'angular';\nimport get from 'lodash.get';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { GroupedVisibilityDialogType } from '../../enums/groupedVisibilityDialogType.enum';\nimport { IGroupedVisibility } from '../../models/groupedVisibility.model';\nimport { IGroupedVisibilitySettings } from '../../models/groupedVisibilitySettings.model';\nimport { DialogService, IDialogService } from '../dialog/dialog.service';\nimport SharedServicesModule from '../services.module';\n\nexport interface IGroupedVisibilityDialogService extends IDialogService {\n  show(settings: IGroupedVisibilitySettings): IPromise<IGroupedVisibility>;\n}\n\n@Service({\n  module: SharedServicesModule,\n  name: 'GroupedVisibilityDialogService',\n})\nexport class GroupedVisibilityDialogService extends DialogService implements IGroupedVisibilityDialogService {\n  protected readonly helpButtonLinks: { [type: string]: string };\n\n  constructor(protected $mdDialog: ng.material.IDialogService) {\n    'ngInject';\n\n    super($mdDialog);\n    this.helpButtonLinks = {\n      [GroupedVisibilityDialogType.AssignmentStudentView]: 'teacherAssignmentStudentChangeVisibilityDialogHelpButtonUrl',\n      [GroupedVisibilityDialogType.AssignmentView]: 'teacherAssignmentClassChangeVisibilityDialogHelpButtonUrl',\n      [GroupedVisibilityDialogType.StudentProgressView]: 'teacherStudentProgressChangeVisibilityDialogHelpButtonUrl',\n    };\n  }\n\n  public show(settings: IGroupedVisibilitySettings): IPromise<IGroupedVisibility> {\n    const options: ng.material.IDialogOptions = this.buildOptions({\n      locals: {\n        settings,\n        helpButtonLink: this.helpButtonLinks[settings.type],\n      },\n      controller: class GroupedVisibilityDialogController {\n        public setVisibilityIsDisabled: boolean;\n        public groupedVisibility: IGroupedVisibility;\n\n        constructor(private $mdDialog: DialogService) {\n          'ngInject';\n          this.setVisibilityIsDisabled = true;\n        }\n\n        public onChange(groupedVisibility: IGroupedVisibility): void {\n          const isTypeOfFeedbackSelected: boolean =\n            this.checkIfAnySelected(get(groupedVisibility, 'types_of_feedback.objective', null)) ||\n            this.checkIfAnySelected(get(groupedVisibility, 'types_of_feedback.overall', null));\n\n          this.setVisibilityIsDisabled = !groupedVisibility || !isTypeOfFeedbackSelected ||\n            !groupedVisibility.students_ids.length ||\n            !groupedVisibility.course_definitions_ids.length ||\n            typeof groupedVisibility.visible !== 'boolean';\n\n          this.groupedVisibility = groupedVisibility;\n        }\n\n        private checkIfAnySelected(obj: { [prop: string]: boolean }) {\n          for (const prop in obj) {\n            if (get(obj, `${prop}`, false)) {\n              return true;\n            }\n          }\n\n          return false;\n        }\n      },\n      template: `\n<md-dialog class=\"grouped-visibility-dialog\">\n<!--  <help-button class=\"black\"-->\n<!--               link=\"{{ ::$ctrl.helpButtonLink }}\"></help-button>-->\n  <md-dialog-content class=\"sb-dialog-content\">\n    <div class=\"dialog__small--title\" localize>__MSG_groupedVisibility__</div>\n    <grouped-visibility settings=\"$ctrl.settings\" on-change=\"$ctrl.onChange(changes)\"></grouped-visibility>\n    <footer class=\"dialog__small--button--container\"\n         layout=\"row\"\n         layout-align=\"end center\">\n      <md-button class=\"sb-btn-no-background md-primary sb-btn-no-min-width\"\n                 ng-click=\"$ctrl.$mdDialog.cancel()\"\n                 localize>__MSG_cancelBtn__</md-button>\n      <md-button class=\"sb-btn-no-background md-primary sb-btn-no-min-width\"\n                 ng-click=\"$ctrl.$mdDialog.hide($ctrl.groupedVisibility)\"\n                 ng-disabled=\"$ctrl.setVisibilityIsDisabled\"\n                 localize>__MSG_setVisibilityButton__</md-button>\n    </footer>\n  </md-dialog-content>\n</md-dialog>`,\n    });\n\n    return this.$mdDialog.show(options);\n  }\n}\n","import angular from 'angular';\nimport { IParentComponentOptions } from 'angular';\n\nexport const ParentComponent: (options?: IParentComponentOptions) => (prototype: object, property: string | symbol) => void = (options?: IParentComponentOptions): (prototype: object, property: string | symbol) => void => {\n  return (prototype: object & { $$require?: any }, property: string | symbol): void => {\n    const _options: IParentComponentOptions = angular.merge({}, {\n      alias: '',\n      optional: false,\n    }, options);\n    const require: { [property: string]: string } = { [property]: `^^${_options.optional ? '?' : ''}${_options.alias}` };\n    let $$require: { [boundProperty: string]: string } = prototype.$$require || {};\n\n    $$require = angular.merge({}, $$require, require);\n    Object.assign(prototype, { $$require });\n  };\n};\n","import angular, { IPromise } from 'angular';\n\nexport class CourseProgressDialog {\n  static DEFAULT_CONFIG: angular.material.IDialogOptions = {\n    bindToController: true,\n    controller($mdDialog: angular.material.IDialogService) {\n      'ngInject';\n\n      this.$mdDialog = $mdDialog;\n    },\n    controllerAs: 'dialog',\n    parent: angular.element(document.body),\n  };\n  static TEMPLATE_PATH = 'components/course-progress/common/dialogs';\n\n  constructor(protected $mdDialog: angular.material.IDialogService) {\n    'ngInject';\n\n    this.$mdDialog = $mdDialog;\n  }\n\n  show(config: angular.material.IDialogOptions): IPromise<any>{\n    return this.$mdDialog.show(this.buildDialogConfig(config));\n  }\n\n  buildDialogConfig(config: angular.material.IDialogOptions = {}): angular.material.IDialogOptions {\n    const $config = angular.copy(config);\n    return angular.extend({}, CourseProgressDialog.DEFAULT_CONFIG, $config);\n  }\n}\n","import { TransitionAuth } from '../types/transitionAuth.type';\n\nexport abstract class TransitionHandler {\n  deregisterOnBefore: Function = () => {};\n  deregisterOnEnter: Function = () => {};\n  deregisterOnError: Function = () => {};\n  deregisterOnExit: Function = () => {};\n  deregisterOnFinish: Function = () => {};\n  deregisterOnRetain: Function = () => {};\n  deregisterOnStart: Function = () => {};\n  deregisterOnSuccess: Function = () => {};\n\n  deregisterAll(): void {\n    this.deregisterOnBefore();\n    this.deregisterOnEnter();\n    this.deregisterOnError();\n    this.deregisterOnExit();\n    this.deregisterOnFinish();\n    this.deregisterOnRetain();\n    this.deregisterOnStart();\n    this.deregisterOnSuccess();\n  }\n\n  abstract getCriteria(): any;\n\n  onBefore(transition: any): TransitionAuth {\n    return true;\n  }\n\n  onStart(transition: any): TransitionAuth {\n    return true;\n  }\n\n  onExit(transition: any): TransitionAuth {\n    return true;\n  }\n\n  onRetain(transition: any): TransitionAuth {\n    return true;\n  }\n\n  onEnter(transition: any): TransitionAuth {\n    return true;\n  }\n\n  onFinish(transition: any): TransitionAuth {\n    return true;\n  }\n\n  onSuccess(transition: any): TransitionAuth {\n    return true;\n  }\n\n  onErro(transition: any): TransitionAuth {\n    return true;\n  }\n}\n","import { TransitionHandler } from '../../shared/models/transitionHandler.model';\nimport get from 'lodash.get';\n\nexport const registerOnBeforeTransition: ($transitionsProvider: any) => Function = ($transitionsProvider: any): Function => (constructor: new (...args: any[]) => TransitionHandler): void => {\n  const instance: TransitionHandler = new constructor();\n  instance.deregisterOnBefore = $transitionsProvider\n    .onBefore(instance.getCriteria(), (transition: any): any => instance.onBefore(transition));\n};\n\nexport function transitionOnce(\n  target: Object,\n  propertyName: string,\n  propertyDescriptor: PropertyDescriptor): PropertyDescriptor {\n\n  const method = propertyDescriptor.value;\n  const deregisterMethodName = `deregister${propertyName.replace(/^on/, 'On')}`;\n\n  propertyDescriptor.value = function (...args: any[]) {\n    const transition: any = method.apply(this, args);\n\n    get(this, deregisterMethodName, () => {}).call(this);\n\n    return transition;\n  };\n\n  return propertyDescriptor;\n};\n","import angular, { IModule } from 'angular';\nimport uiRouter from '@uirouter/angularjs';\nimport { UserSetupDialog } from './commons/dialogs/UserSetupDialog.service';\nimport { userSetupComponent } from './components/userSetup/userSetup.component';\nimport { userSetupAgreementComponent } from './components/userSetupAgreement/userSetupAgreement.component';\nimport { userSetupAgreementMissingComponent } from './components/userSetupAgreementMissing/userSetupAgreementMissing.component';\nimport { userSetupCheckComponent } from './components/userSetupCheck/userSetupCheck.component';\nimport { UserSetupCheck } from './components/userSetupCheck/userSetupCheck.service';\nimport { userSetupCheckInvalidComponent } from './components/userSetupCheck/userSetupCheckInvalid/userSetupCheckInvalid.component';\nimport { userSetupCheckProgressComponent } from './components/userSetupCheck/userSetupCheckProgress/userSetupCheckProgress.component';\nimport { userSetupCheckValidComponent } from './components/userSetupCheck/userSetupCheckValid/userSetupCheckValid.component';\nimport { userSetupCompleteComponent } from './components/userSetupComplete/userSetupComplete.component';\nimport { userSetupSettingsComponent } from './components/userSetupSettings/userSetupSettgins.component';\nimport { UserSetupSettings } from './components/userSetupSettings/usetSetupSettings.service';\nimport { userSetupSlidesComponent } from './components/userSetupSlides/userSetupSlides.component';\nimport { UserSetupRouting } from './userSetup.routing';\n\n\nexport const UserSetupModule: IModule = angular.module('app.userSetup', [uiRouter])\n  .component('userSetup', userSetupComponent)\n  .component('userSetupAgreement', userSetupAgreementComponent)\n  .component('userSetupAgreementMissing', userSetupAgreementMissingComponent)\n  .component('userSetupCheck', userSetupCheckComponent)\n  .component('userSetupCheckInvalid', userSetupCheckInvalidComponent)\n  .component('userSetupCheckProgress', userSetupCheckProgressComponent)\n  .component('userSetupCheckValid', userSetupCheckValidComponent)\n  .component('userSetupComplete', userSetupCompleteComponent)\n  .component('userSetupSettings', userSetupSettingsComponent)\n  .component('userSetupSlides', userSetupSlidesComponent)\n  .service('UserSetupCheck', UserSetupCheck)\n  .service('UserSetupDialog', UserSetupDialog)\n  .service('UserSetupSettings', UserSetupSettings)\n  .config(UserSetupRouting);\n\nexport default UserSetupModule.name;\n\nexport * from './components/userSetupSchoolSelect/userSetupSchoolSelect.component';\nexport * from './components/userSetupRegisterSchool/userSetupRegisterSchool.component';\n","export enum HttpRequestType {\n  DELETE = 'DELETE',\n  GET = 'GET',\n  HEAD = 'HEAD',\n  OPTIONS = 'OPTIONS',\n  PATCH = 'PATCH',\n  POST = 'POST',\n  PUT = 'PUT',\n}\n","export * from './http-cache.query';\nexport * from './http-cache.store';\nexport * from './http-cache.service';\nexport * from './http-cache.model';\n","import { Injectable } from '@angular/core';\nimport { QueryEntity } from '@datorama/akita';\nimport { HttpCacheStore, HttpCacheState } from './http-cache.store';\n\n@Injectable({ providedIn: 'root' })\nexport class HttpCacheQuery extends QueryEntity<HttpCacheState> {\n\n  constructor(protected store: HttpCacheStore) {\n    super(store);\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {HttpRequestType} from '../http.model';\nimport {Params} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {ID} from '@datorama/akita';\nimport SparkMD5 from 'spark-md5';\nimport {HttpCacheStore} from './http-cache.store';\n\n@Injectable({ providedIn: 'root' })\nexport class HttpCacheService {\n\n  constructor(protected httpCacheStore: HttpCacheStore) {\n  }\n\n  add<T = any>(source: Observable<T>, url: string, type: HttpRequestType, body?: any, params: Params = {}) {\n    const id: ID = this.generateID(url, type, body, params);\n\n    this.httpCacheStore.add({ id, source });\n  }\n\n  delete(id: ID) {\n    this.httpCacheStore.remove(id);\n  }\n\n  generateID(url: string, type: HttpRequestType, body?: any, params: Params = {}): ID {\n    return SparkMD5.hash(`${url}${type}${JSON.stringify(body)}${JSON.stringify(params)}`);\n  }\n}\n","import angular, { IModule } from 'angular';\n\nexport const SharedComponentsMaterialModule: IModule = angular.module('app.shared.components.material', []);\n\nexport default SharedComponentsMaterialModule.name;\n\nexport * from './mdMenuLabel/mdMenuLabel.component';\nexport * from './mdSelectAll/mdSelectAll.component';\n","import angular from 'angular';\nimport { ISiblingComponentOptions } from 'angular';\n\nexport const SiblingComponent: (options?: ISiblingComponentOptions) => (prototype: object, property: string | symbol) => void = (options?: ISiblingComponentOptions): (prototype: object, property: string | symbol) => void => {\n  return (prototype: object & { $$require?: any }, property: string | symbol): void => {\n    const _options: ISiblingComponentOptions = angular.merge({}, {\n      alias: '',\n      optional: false,\n    }, options);\n    const require: { [property: string]: string } = { [property]: `^${_options.optional ? '?' : ''}${_options.alias}` };\n    let $$require: { [boundProperty: string]: string } = prototype.$$require || {};\n\n    $$require = angular.merge({}, $$require, require);\n    Object.assign(prototype, { $$require });\n  };\n};\n","import {Injectable} from '@angular/core';\nimport {AssignmentsStore} from './assignments.store';\nimport {HttpService} from '../../../core/http/http.service';\nimport {AssignmentsQuery} from './assignments.query';\nimport {Path} from '../../../ajs-upgraded-providers';\nimport {ID, transaction} from '@datorama/akita';\nimport {Params} from '@angular/router';\nimport {map, tap} from 'rxjs/operators';\nimport {Assignment, AssignmentsUI, AssignmentType, AssignmentUI, NormalizeAssignmentsResponse, AssignmentState} from './assignment.model';\nimport {AssessmentsStore} from '../assignment/assessments/state';\nimport {normalizeAssignmentsResponse} from './assignments.normalizer';\nimport {NormalizedSchema} from 'normalizr';\n\n@Injectable({providedIn: 'root'})\nexport class AssignmentsService {\n\n  constructor(protected assignmentsStore: AssignmentsStore,\n              protected assignmentsQuery: AssignmentsQuery,\n              protected assessmentsStore: AssessmentsStore,\n              protected http: HttpService,\n              protected path: Path) {\n  }\n\n  get() {\n    return this.assignmentsQuery.getHasCache() ? this.assignmentsQuery.selectAll() : this.getFromAPI();\n  }\n\n  update(assignment: Assignment) {\n    this.assignmentsStore.update(assignment.id, state => ({\n      ...state,\n      ...assignment,\n      assessment_last_changed: (new Date()).getTime(),\n    }));\n  }\n\n  updateUI(id: ID, assignmentUI: AssignmentUI) {\n    this.assignmentsStore.ui.update(id, state => ({\n        ...state,\n        ...assignmentUI,\n      }),\n    );\n  }\n\n  setFilters(filters: AssignmentsUI['filters']) {\n    this.assignmentsStore.update(state => ({\n      ...state,\n      ui: {\n        ...state.ui,\n        filters,\n      },\n    }));\n\n    this.assignmentsStore.forceRefreshEntities();\n  }\n\n  setSorting(sort: AssignmentsUI['sort']) {\n    this.assignmentsStore.update(state => ({\n      ...state,\n      ui: {\n        ...state.ui,\n        sort,\n      },\n    }));\n\n    this.assignmentsStore.forceRefreshEntities();\n  }\n\n  protected getFromAPI() {\n    const courseID: ID = this.path.getClassroomId();\n    const params: Params = {\n      assignment_state: [AssignmentState.PUBLISHED, AssignmentState.DRAFT],\n      // show_topics: true,\n    };\n    const url = `/v3/classes/${courseID}/assignments/`;\n\n    return this.http.get<Assignment[]>(url, params).pipe(\n      map(response => this.unifyDateTimeFormat(response)),\n      map(response => this.updateAssignmentsType(response)),\n      map(response => normalizeAssignmentsResponse(response)),\n      tap(normalizeResponse => this.putAssessmentsIntoStorage(normalizeResponse)),\n      tap(normalizeResponse => this.putAssignmentsIntoStorage(normalizeResponse)),\n      map(normalizeResponse => Object.values(normalizeResponse.entities.assignments || {})),\n    );\n  }\n\n  @transaction()\n  protected putAssignmentsIntoStorage(normalizeResponse: NormalizedSchema<NormalizeAssignmentsResponse, ID[]>) {\n    this.assignmentsStore.set({\n      entities: normalizeResponse.entities.assignments || {},\n      ids: normalizeResponse.result\n    });\n  }\n\n  @transaction()\n  protected putAssessmentsIntoStorage(normalizeResponse: NormalizedSchema<NormalizeAssignmentsResponse, ID[]>) {\n    this.assessmentsStore.set(normalizeResponse.entities.assessments || {});\n  }\n\n  protected unifyDateTimeFormat(assignments: Assignment[]): Assignment[] {\n    return assignments.map(assignment => {\n      const assessmentLastChanged = (new Date(assignment.assessment_last_changed)).getTime() || assignment.assessment_last_changed;\n      const assignmentCreated = (new Date(assignment.assignment_created)).getTime() || assignment.assignment_created;\n      return {\n        ...assignment,\n        assessment_last_changed: assessmentLastChanged,\n        assignment_created: assignmentCreated,\n      };\n    });\n  }\n\n  protected updateAssignmentsType(assignments: Assignment[]): Assignment[] {\n    return assignments.map(assignment => ({\n      ...assignment,\n      assignment_type: assignment.assignment_not_assessable ? AssignmentType.WITHOUT_ASSESSMENT_CRITERIAS : assignment.assignment_type,\n    }));\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {getIDType, QueryEntity} from '@datorama/akita';\nimport {AssessmentsState, AssessmentsStore} from './assessments.store';\nimport {Assessment, AssessmentSortFn, AssessmentStatus, createAssessment} from './assessment.model';\nimport {map} from 'rxjs/operators';\nimport sort from 'fast-sort';\n\n@Injectable({ providedIn: 'root' })\nexport class AssessmentsQuery extends QueryEntity<AssessmentsState> {\n\n  constructor(protected store: AssessmentsStore) {\n    super(store);\n  }\n\n  selectManySorted(ids: getIDType<Assessment>[]) {\n    return this.selectAll({\n      filterBy: assessment => ids.includes(assessment.id),\n    }).pipe(\n      map(assessments => this.sortBy(assessments))\n    );\n  }\n\n  protected sortBy(assessments: Assessment[]): Assessment[] {\n    const stateUI = this.getValue().ui;\n    const sortMethod = this.getSortMethod(stateUI.sort.by);\n\n    return sort([...assessments])[stateUI.sort.order](sortMethod);\n  }\n\n  protected getSortMethod(by: keyof Assessment): keyof Assessment | AssessmentSortFn {\n    switch (by) {\n      case 'status_new':\n        return this.sortByStatusNew;\n      default:\n        return by;\n    }\n  }\n\n  sortByStatusNew(assessment: Assessment): number {\n    const orderBy = [AssessmentStatus.NOT_ASSESSED, AssessmentStatus.ASSESSING, AssessmentStatus.ASSESSMENT_DONE];\n\n    return 1 - orderBy.indexOf(assessment.status_new);\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {AssessmentsStore} from './assessments.store';\nimport {\n  Assessment,\n  AssessmentStatusUpdateBody,\n  AssessmentStatusUpdateResponse,\n  AssessmentsUI,\n  AssessmentVisibility\n} from './assessment.model';\nimport {HttpService} from '../../../../../core/http/http.service';\nimport {Path} from '../../../../../ajs-upgraded-providers';\nimport {ID} from '@datorama/akita';\nimport {map, tap} from 'rxjs/operators';\nimport {Assignment} from '../../../state';\nimport {normalizeUpdateStatusForManyResponse} from './assessments.normalizer';\n\n@Injectable({ providedIn: 'root' })\nexport class AssessmentsService {\n\n  constructor(protected assessmentsStore: AssessmentsStore,\n              protected path: Path,\n              protected http: HttpService) {\n  }\n\n  update(assessment: Assessment) {\n    this.assessmentsStore.update(assessment.id, state => ({\n      ...state,\n      ...assessment\n    }));\n  }\n\n  updateStatus(assignmentID: ID, assessment: Assessment, statusUpdateBody: AssessmentStatusUpdateBody) {\n    return this.updateStatusAPI(assignmentID, assessment.student_id, statusUpdateBody).pipe(\n      map(response => {\n       const updatedAssessment = {\n         ...assessment,\n         status_new: statusUpdateBody.status,\n         fail_warning: response ? response.fail_warning : assessment.fail_warning,\n       };\n       this.update(updatedAssessment);\n\n       return updatedAssessment;\n     })\n    );\n  }\n\n  updateStatusForMany(assignment: Assignment, assessmentVisibility: AssessmentVisibility) {\n    return this.updateStatusForManyAPI(assignment.id, assessmentVisibility).pipe(\n      map(response => {\n        const updates = response || assignment.assessments\n          .filter(assessment => assessmentVisibility.student_ids.includes(assessment.student_id))\n          .map(assessment => ({id: assessment.id, fail_warning: assessment.fail_warning}));\n        const normalizeUpdates = normalizeUpdateStatusForManyResponse(updates);\n\n        return [normalizeUpdates.entities.updates, normalizeUpdates.result];\n      }),\n      tap(([updates, assessmentsID]) => {\n        this.assessmentsStore.upsert(assessmentsID, state => {\n          return {\n            ...state,\n            status_new: assessmentVisibility.status,\n            fail_warning: (updates[state.id] || state).fail_warning,\n          };\n        });\n      }));\n  }\n\n  synchronizeWarningStatus(assessment: Assessment) {\n    return this.checkWarningStatusAPI(assessment.id).pipe(\n      map(response => ({...assessment, ...response})),\n      tap(updatedAssessment => this.update(updatedAssessment)),\n    );\n  }\n\n  checkWarningStatus(assessment: Assessment) {\n    return this.checkWarningStatusAPI(assessment.id).pipe(\n      map(response => response.fail_warning),\n    );\n  }\n\n  setSorting(sort: AssessmentsUI['sort']) {\n    this.assessmentsStore.update(state => ({\n      ...state,\n      ui: {\n        ...state.ui,\n        sort,\n      },\n    }));\n\n    this.assessmentsStore.forceRefreshEntities();\n  }\n\n  protected updateStatusAPI(assignmentID: ID, studentID: ID, statusUpdateBody: AssessmentStatusUpdateBody) {\n    const courseID: ID = this.path.getClassroomId();\n    const url = `/v3/classes/${courseID}/assignments/${assignmentID}/status/${studentID}/`;\n\n    return this.http.patch<AssessmentStatusUpdateResponse>(url, {...statusUpdateBody});\n  }\n\n  protected updateStatusForManyAPI(assignmentID: ID, assignmentVisibility: AssessmentVisibility) {\n    const courseID: string = this.path.getClassroomId();\n    const url = `/v3/classes/${courseID}/assignments/${assignmentID}/status/`;\n\n    return this.http.patch<AssessmentStatusUpdateResponse[]>(url, assignmentVisibility);\n  }\n\n  protected checkWarningStatusAPI(assessmentID: ID) {\n    const url = `/v3/classes/fail-warning/${assessmentID}/`;\n\n    return this.http.get<AssessmentStatusUpdateResponse>(url);\n  }\n}\n","import {normalize, schema} from 'normalizr';\n\nconst updateStatusForManyResponse = new schema.Entity('updates', );\nexport const normalizeUpdateStatusForManyResponse = response => normalize(response, [updateStatusForManyResponse]);\n","import {normalize, schema} from 'normalizr';\nimport {Assignment, NormalizeAssignmentsResponse} from './assignment.model';\nimport {ID} from '@datorama/akita';\n\nconst assessment = new schema.Entity('assessments');\nconst assignmentsForTopic = new schema.Entity('assignments_for_topic');\nconst assignment = new schema.Entity('assignments', {\n  assessments: [assessment],\n  assignments_for_topic: [assignmentsForTopic],\n});\n\nexport const normalizeAssignmentsResponse = assignments =>\n  normalize<Assignment, NormalizeAssignmentsResponse, ID[]>(assignments, [assignment]);\n\n","import angular, { IModule } from 'angular';\n\nexport const SharedDirectivesModule: IModule = angular\n  .module('app.shared.directives', []);\n\nexport default SharedDirectivesModule.name;\n\nexport * from './hint/hint.directive';\nexport * from './textarea/textarea.directive';\n","import angular from 'angular';\nimport { IDirectiveOptions, IModule } from 'angular';\n\nexport const Directive: (options: IDirectiveOptions) => any = (options: IDirectiveOptions): <T extends { new(...args: any[]): angular.IDirective }>(constructor: T) => any => {\n\n  const getOrCreateComponentModule: () => IModule = (): IModule => {\n    const moduleName: string = 'app';\n    let module: IModule;\n\n    if (options.module) {\n      try {\n        module = angular.module(`${options.module}`);\n      } catch (err) {\n        module = null;\n      }\n    }\n\n    if (!module) {\n      try {\n        module = angular.module(`${moduleName}`);\n      } catch (err) {\n        console.error(`Error on register directive ${options.selector} in module ${moduleName}. Module ${moduleName} is not exists.`, err);\n        module = null;\n      }\n    }\n\n    return module;\n  };\n\n  const createDirectiveFactory: (constructor: { new(...args: any[]): angular.IDirective }) => angular.IDirectiveFactory = (constructor: { new(...args: any[]): angular.IDirective }): angular.IDirectiveFactory => {\n    const directiveFactory: any = (...args: any[]): angular.IDirective =>  {\n      const directive: angular.IDirective = new constructor(...args);\n      Object.assign(directive, options);\n\n      return directive;\n    };\n\n    if (constructor.$inject) {\n      directiveFactory.$inject = constructor.$inject;\n    }\n\n    return directiveFactory;\n  };\n\n  const convertSelectorName: (selector: string) => string = (selector: string): string => {\n    return selector.replace(\n      /-([a-z])/g,\n      (word: string): string => word[1].toUpperCase(),\n    );\n  };\n\n  return <T extends { new(...args: any[]): angular.IDirective }>(constructor: T): T => {\n    const module: IModule = getOrCreateComponentModule();\n\n    const directiveFactory: angular.IDirectiveFactory = createDirectiveFactory(constructor);\n\n    if (module) {\n      const selector: string = convertSelectorName(options.selector);\n      module.directive(selector, directiveFactory);\n    }\n\n    return constructor;\n  };\n};\n\n","import angular, { IModule } from 'angular';\nimport { CourseDefinitionDetails } from './common/components/course-definition-details.component';\nimport { ObjectiveDetails } from './common/components/objective-details.component';\nimport { CourseManagementRouting } from './courseManagement.routing';\n\nexport const CourseManagementModule: IModule = angular\n  .module('app.courseManagement', [])\n  .component('courseDefinitionDetails', CourseDefinitionDetails)\n  .component('cmObjectiveDetails', ObjectiveDetails)\n  .config(CourseManagementRouting);\n\nexport default CourseManagementModule.name;\n\n\n// Do not ask.. It have to be like that..\nimport StudentCourseManagementModule from './studentCourseManagement/studentCourseManagement.module';\nimport TeacherCourseManagementModule from './teacherCourseManagement/teacherCourseManagement.module';\nCourseManagementModule.requires.push(...[StudentCourseManagementModule, TeacherCourseManagementModule]);\n\nexport * from './common/services/curriculums.service';\nexport * from './shared/cmEmptyObjectivesList/cmEmptyObjectivesList.component';\n","import angular, { IModule } from 'angular';\n\nexport const AssignmentsSharedModule: IModule = angular.module('app.assignments.shared', []);\n\nexport default AssignmentsSharedModule.name;\nexport * from  './objectiveKnowledgeRequirements/objectiveKnowledgeRequirements.directive';\nexport * from  './studentAssignmentTextarea/studentAssignmentTextarea.component';\n","import {Injectable} from '@angular/core';\nimport {AssignmentsStore} from './assignments.store';\nimport {HttpService} from '../../../core/http/http.service';\nimport {AssignmentsQuery} from './assignments.query';\nimport {ID, transaction} from '@datorama/akita';\nimport {map, tap} from 'rxjs/operators';\nimport {Assignment, AssignmentsUI, AssignmentType, NormalizeAssignmentsResponse} from './assignment.model';\nimport {Path} from '../../../ajs-upgraded-providers';\nimport {NormalizedSchema} from 'normalizr';\nimport {normalizeAssignmentsResponse} from './assignments.normalizer';\n\n@Injectable({ providedIn: 'root' })\nexport class AssignmentsService {\n\n  constructor(protected assignmentsStore: AssignmentsStore,\n              protected assignmentsQuery: AssignmentsQuery,\n              protected http: HttpService,\n              protected path: Path) {\n  }\n\n  get() {\n    return this.assignmentsQuery.getHasCache() ? this.assignmentsQuery.selectAll() : this.getFromAPI();\n  }\n\n  setFilters(filters: AssignmentsUI['filters']) {\n    this.assignmentsStore.update(state => ({\n      ...state,\n      ui: {\n        ...state.ui,\n        filters,\n      },\n    }));\n\n    this.assignmentsStore.forceRefreshEntities();\n  }\n\n  setSorting(sort: AssignmentsUI['sort']) {\n    this.assignmentsStore.update(state => ({\n      ...state,\n      ui: {\n        ...state.ui,\n        sort,\n      },\n    }));\n\n    this.assignmentsStore.forceRefreshEntities();\n  }\n\n  protected getFromAPI() {\n    const courseID: ID = this.path.getClassroomId();\n    const url = `/classes/student_assignments/${courseID}/`;\n\n    return this.http.get<Assignment[]>(url).pipe(\n      map(response => this.unifyDateTimeFormat(response)),\n      map(response => this.updateAssignmentsType(response)),\n      map(response => normalizeAssignmentsResponse(response)),\n      tap(normalizeResponse => this.putAssignmentsIntoStorage(normalizeResponse)),\n      map(normalizeResponse => Object.values(normalizeResponse.entities.assignments || {})),\n    );\n  }\n\n  @transaction()\n  protected putAssignmentsIntoStorage(normalizeResponse: NormalizedSchema<NormalizeAssignmentsResponse, ID[]>) {\n    this.assignmentsStore.set({\n      entities: normalizeResponse.entities.assignments || {},\n      ids: normalizeResponse.result\n    });\n  }\n\n  protected unifyDateTimeFormat(assignments: Assignment[]): Assignment[] {\n    return assignments.map(assignment => {\n      const assessmentLastChanged = (new Date(assignment.assessment_last_changed)).getTime() || assignment.assessment_last_changed;\n      const assignmentCreated = (new Date(assignment.assignment_created)).getTime() || assignment.assignment_created;\n      return {\n        ...assignment,\n        assessment_last_changed: assessmentLastChanged,\n        assignment_created: assignmentCreated,\n      };\n    });\n  }\n\n  protected updateAssignmentsType(assignments: Assignment[]): Assignment[] {\n    return assignments.map(assignment => {\n      if (assignment.assignment_not_assessable || !assignment.assignment_type) {\n        return {\n          ...assignment,\n          assignment_type: AssignmentType.WITHOUT_ASSESSMENT_CRITERIAS,\n        };\n      }\n      return { ...assignment };\n    });\n  }\n}\n","import {normalize, schema} from 'normalizr';\nimport {Assignment, NormalizeAssignmentsResponse} from './assignment.model';\nimport {ID} from '@datorama/akita';\n\nconst assignment = new schema.Entity('assignments');\n\nexport const normalizeAssignmentsResponse = assignments =>\n  normalize<Assignment, NormalizeAssignmentsResponse, ID[]>(assignments, [assignment]);\n\n","import { IAssignment } from './assignment.model';\n\nexport interface IAssignmentGroupedResponse {\n  assessable: IAssignment[];\n  not_assessable: IAssignment[];\n}\n\nexport class AssignmentGroupedResponse implements IAssignmentGroupedResponse {\n  public assessable: IAssignment[];\n  public not_assessable: IAssignment[];\n}\n","import angular, { IModule } from 'angular';\nimport uiRouter from '@uirouter/angularjs';\nimport { TeacherSetAssignmentObjectiveCtrl } from './teacher-set-assignment-objectives.controller';\nimport { TeacherSetAssignmentObjectivesRouting } from './teacherSetAssignmentObjectives.routing';\n\nexport * from './teacherSetAssignmentObjectives.scss';\n\nexport const TeacherSetAssignmentObjectivesModule: IModule = angular\n  .module('app.assignments.teacherSetAssignmentObjectives', [uiRouter])\n  .controller('teacherSetAssignmentObjectivesCtrl', TeacherSetAssignmentObjectiveCtrl)\n  .config(TeacherSetAssignmentObjectivesRouting);\n\nexport default TeacherSetAssignmentObjectivesModule.name;\n\nexport * from './shared/components/objectiveGradeTextVisibilitySettings/objectiveGradeTextVisibilitySettings.component';\nexport * from './teacherSetAssignmentObjectives.service';\n","export default \"<div id=\\\"studybee\\\"\\n     class=\\\"studybee\\\"\\n     ng-class=\\\"dynamicThemeClass\\\"\\n     custom-routing\\n     dynamic-theme\\n     last-modified\\n     ng-cloak>\\n    <md-sidenav\\n      md-component-id=\\\"studybee\\\"\\n      class=\\\"md-sidenav-right md-whiteframe-z3\\\"\\n      style=\\\"overflow:visible\\\">\\n      <app-main-menu></app-main-menu>\\n      <div ui-view\\n           layout-fill></div>\\n    </md-sidenav>\\n    <studybee-handle\\n      ng-click=\\\"vm.toggleStudybee()\\\">\\n    </studybee-handle>\\n\\n    <assign-objectives-popup>\\n\\n    </assign-objectives-popup>\\n\\n    <!-- here is the full view -->\\n    <div\\n      ng-if=\\\"extendedViewEnable\\\"\\n      class=\\\"sb-sidenav-extended md-whiteframe-z3\\\">\\n      <div ui-view=\\\"extended\\\"></div>\\n    </div>\\n  <rapp data=\\\"$root\\\" ctrl=\\\"$ctrl\\\" view=\\\"'newsAssignmentPopup'\\\"/>\\n</div>\\n\";","export default __webpack_public_path__ + \"images/8633ad2a079c765134a6305ab16804d6-assignment.png\";","export default __webpack_public_path__ + \"images/43f98c95556138da5590508d92bfb308-icon_bk_not_assessed.png\";","export default __webpack_public_path__ + \"images/26f9605e4b052b0cca232f231910e43e-without_assessment_criteria_icon.png\";","export default __webpack_public_path__ + \"images/746fd24b7a3fa361ecbc14ebf8be02c7-not-submitted.png\";","import CommonComponentsModule from './components/components.module.ts';\nimport { CommonServicesModule } from './services/services.module';\nimport { CommonFiltersModule } from './filters/filters.module';\nimport { CommonDirectivesModule } from './directives/directives.module';\n\nexport const CommonModule = angular\n  .module('commonModule', [\n    CommonComponentsModule,\n    CommonServicesModule,\n    CommonFiltersModule,\n    CommonDirectivesModule,\n  ])\n  .name;\n","export default \"<div class=\\\"content\\\"\\n     ng-transclude>\\n</div>\\n\";","export default \"<div class=\\\"breadcrumb\\\"\\n     flex=\\\"nogrow\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"start center\\\"\\n     md-ink-ripple=\\\"rgba(255,255,255,.5)\\\"\\n     ng-repeat=\\\"breadcrumb in ::$ctrl.breadcrumbs track by $index\\\"\\n     ng-click=\\\"breadcrumb.action()\\\"\\n     ng-if=\\\"::$ctrl.hasEnoughBreadcrumbs\\\"\\n     ng-class=\\\"{last: $last}\\\">\\n    <long-text-tooltip text=\\\"::breadcrumb.label\\\" direction=\\\"bottom\\\">\\n        <span class=\\\"md-truncate\\\">{{ ::breadcrumb.label }}</span>\\n    </long-text-tooltip>\\n    <md-icon class=\\\"breadcrumb-chevron\\\"\\n             ng-if=\\\"::!$last\\\">chevron_right</md-icon>\\n</div>\\n\";","export const selectorWords: { [lang: string]: { [key: string]: string } } = {\n  en: {\n    assign: 'Assign',\n    save: 'Save',\n    delete: 'Delete',\n    schedule: 'Schedule',\n    saveDraft: 'Save draft',\n    assignment: 'Assignment',\n    question: 'Question',\n    reusePost: 'Reuse post',\n    topic: 'Topic',\n    addTopic: 'Add',\n    ask: 'Ask',\n  },\n  sv: {\n    assign: 'Tilldela',\n    save: 'Spara',\n    delete: 'Ta bort',\n    schedule: 'Schemalägg',\n    saveDraft: 'Spara utkast',\n    assignment: 'Uppgift',\n    question: 'Fråga',\n    reusePost: 'Återanvänd inlägget',\n    topic: 'Ämne',\n    addTopic: 'Lägg till',\n    ask: 'Fråga',\n  },\n  nl: {\n    assign: 'Opdracht plaatsen',\n    save: 'Opslaan',\n    delete: 'Verwijderen',\n    schedule: 'Planning',\n    saveDraft: 'Concept opslaan',\n    assignment: 'Opdracht',\n    question: 'Vraag',\n    reusePost: 'Bericht opnieuw gebruiken',\n    topic: 'Onderwerp',\n    addTopic: 'Toevoegen',\n    ask: 'Vragen',\n  },\n};\n\nfunction* generateSelectors(labelName: string, selectorPattern: string): IterableIterator<string> {\n  const selectors: string[] = [];\n\n  for (const lang in selectorWords) {\n    yield selectorPattern.replace(/%LABEL%/, selectorWords[lang][labelName]);\n  }\n}\n\nexport class HostPage {\n  static LABEL_PLACEHOLDER: string = '%LABEL%';\n\n  static ASSIGNMENT_MODAL_ASSIGN_SEL: string[] = [...generateSelectors('assign', `[role=\"dialog\"] span:textEquals(\"${HostPage.LABEL_PLACEHOLDER}\")`)];\n\n    static ASSIGNMENT_MODAL_ADD_TOPIC: string[] = [...generateSelectors('addTopic', `[role=\"alertdialog\"] span:textEquals(\"${HostPage.LABEL_PLACEHOLDER}\")`)];\n\n  static ASSIGNMENT_MODAL_SAVE_SEL: string[] = [...generateSelectors('save', `[role=\"dialog\"] span:textEquals(\"${HostPage.LABEL_PLACEHOLDER}\")`)];\n\n  static ASSIGNMENT_MODAL_ASK_SEL: string[] = [...generateSelectors('ask', `[role=\"dialog\"] span:textEquals(\"${HostPage.LABEL_PLACEHOLDER}\")`)];\n\n  // this is delete assignment from the stream\n  static ASSIGNMENT_MODAL_DELETE_SEL: string[] = [...generateSelectors('delete', `[role=\"alertdialog\"] span:textEquals(\"${HostPage.LABEL_PLACEHOLDER}\")`)];\n\n  static ASSIGNMENT_MENU_ITEM_ASSIGN_SEL: string[] = [...generateSelectors('assign', `[role=\"menu\"] div:textEquals(\"${HostPage.LABEL_PLACEHOLDER}\")`)];\n\n  static ASSIGNMENT_MENU_ITEM_SCHEDULE_SEL: string[] = [...generateSelectors('schedule', `[role=\"menu\"] div:textEquals(\"${HostPage.LABEL_PLACEHOLDER}\")`)];\n\n  static ASSIGNMENT_MENU_ITEM_SAVE_DRAFT_SEL: string[] = [...generateSelectors('saveDraft', `[role=\"menu\"] div:textEquals(\"${HostPage.LABEL_PLACEHOLDER}\")`)];\n\n  // this is delete from the drafts\n  static ASSIGNMENT_ALERT_OK_SEL: string[] = ['[role=\"alertdialog\"] [name=\"ok\"]'];\n\n  // classwork view - create new item\n  static CLASSWORK_CREATE_NEW_ASSIGNMENT: string[] = [...generateSelectors('assignment', `body > [role=\"menu\"] [role=\"menuitem\"][aria-label=\"${HostPage.LABEL_PLACEHOLDER}\"]`)];\n\n  static CLASSWORK_CREATE_NEW_QUESTION: string[] = [...generateSelectors('question', `body > [role=\"menu\"] [role=\"menuitem\"][aria-label=\"${HostPage.LABEL_PLACEHOLDER}\"]`)];\n\n  static CLASSWORK_CREATE_NEW_REUSE_POST: string[] = [...generateSelectors('reusePost', `body > [role=\"menu\"] [role=\"menuitem\"][aria-label=\"${HostPage.LABEL_PLACEHOLDER}\"]`)];\n\n  static CLASSWORK_CREATE_NEW_TOPIC: string[] = [...generateSelectors('topic', `body > [role=\"menu\"] [role=\"menuitem\"][aria-label=\"${HostPage.LABEL_PLACEHOLDER}\"]`)];\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n/**\n * @module Mixpanel/Service\n * @description\n *   Handle Mixpanel analytics script.\n */\n\nexport class Mixpanel {\n  constructor($window, Config, FetchData, Courses) {\n    'ngInject';\n\n    this.$window = $window;\n    this.Config = Config;\n    this.FetchData = FetchData;\n    this.Courses = Courses;\n    this.instance = {};\n  }\n\n  isPanelDisable() {\n    // Diasable mixpanel\n    return true;\n    // return DEVELOPMENT_ENV ||\n    //   this.Config.apiUrl === 'http://dev.studybee.io' ||\n    //   this.instance.distinct_id.includes('studybee.io');\n  }\n\n  get events() {\n    return {\n      toggle: 'Toggle studybee',\n      edit_multiple: 'Multiedit done',\n      course_summary: 'Course summary to student',\n      course_private_note: 'Course private notes to student',\n      result: 'Result to student',\n      overall_feedback: 'Overall feedback to student',\n      overall_private_note: 'Overall private notes to student',\n      feedback: 'Feedback to student',\n      private_note: 'Private notes to student',\n      visibility: 'Item visibility changed',\n      objective_slider: 'Objective slider moved',\n      course_slider: 'Course slider moved',\n      fetch_course_definition: 'Classroom assigned to course',\n      assigned_objectives: 'Objectives assigned to assignment',\n      setup_complete: 'Setup complete',\n      menu_teacher_assignments: 'Menu item Assignments',\n      menu_teacher_assess_course: 'Menu item Course assessments',\n      menu_teacher_assignment_objectives: 'Menu item Assign course',\n      menu_teacher_synchronize: 'Menu item Refresh',\n      menu_teacher_user_setup: 'Menu item School setup',\n      menu_student_assignments: 'Menu item Assignments',\n      menu_student_course_progression: 'Menu item Course progression',\n      menu_student_course_requirements: 'Menu item Course requirements',\n      menu_get_help: 'Menu item Get help',\n      saving_curriculum_to_library: 'Saving curriculum to library',\n      new_assignment_popup: 'New assignment pop up',\n      feedback_to_student_on_objective: 'Feedback to student on objective',\n      feedback_to_student_on_assignment_objective: 'Feedback to student on objective',\n      // this is different event, but it has to be send as the same as above\n      feedback_to_student_on_overall_assignment: 'Feedback to student on overall assignment',\n      feedback_to_student_on_course_progress: 'Feedback to student on course progress',\n      feedback_to_student_with_multiedit: 'Feedback to student with multi edit',\n      student_self_assessment_on_objective: 'Student self assessment on objective',\n      moving_slider_on_objective_level_in_course: 'Moving slider on objective level in course view',\n    };\n  }\n\n  /**\n   * Init configuration for Mixpanel\n   * @memberof module:Mixpanel/Service\n   * @param {String} token Token used to identify extension in Mixed Panel\n   * @param {String} userEmail Email of user that is logged in Chrome browser\n   */\n  init(token, userEmail) {\n    this.instance.token = token;\n    this.instance.distinct_id = userEmail;\n  }\n\n  /**\n   * Allow to track events (if it's not dev server)\n   * @memberof module:Mixpanel/Service\n   * @param {String} eventCode Name of the event\n   */\n  track(eventCode) {\n    if (this.isPanelDisable() || !eventCode) {\n      return Promise.resolve();\n    }\n\n    const eventName = this.getEventName(eventCode);\n\n    const payload = {\n      event: eventName,\n      properties: {\n        distinct_id: this.instance.distinct_id,\n        alias: this.instance.distinct_id,\n        token: this.instance.token,\n        browser: this.$window.navigator.userAgent,\n      },\n    };\n\n    return this.FetchData.mixpanelTrack(\n      this.$window.btoa(JSON.stringify(payload)),\n    );\n  }\n\n  /**\n   * Allow to handle users (if it's not dev server)\n   * @memberof module:Mixpanel/Service\n   * @param {String} type\n   * @param userCountry\n   * @param userEducationalSystem\n   * @param userSchoolName\n   */\n  engage(type, userCountry, userEducationalSystem, userSchoolName) {\n    if (this.isPanelDisable()) {\n      return Promise.resolve();\n    }\n\n    let isTeacher = null;\n    const currentTime = this.getCurrentDate();\n\n    const payload = {\n      $distinct_id: this.instance.distinct_id,\n      $token: this.instance.token,\n    };\n\n    if (type === 'extension_run') {\n      payload.$set = {\n        $email: this.instance.distinct_id, // We used user email as distinct_id\n      };\n    }\n\n    if (type === 'first_time_setup') {\n      payload.$set_once = {\n        'First time setup': currentTime,\n      };\n\n      payload.$set = {\n        'User country': userCountry,\n        'User educational system': userEducationalSystem,\n        'User school name': userSchoolName,\n      };\n    }\n\n    if (type === 'edit_setup') {\n      payload.$set = {\n        'Last setup update': currentTime,\n        'User country': userCountry,\n        'User educational system': userEducationalSystem,\n        'User school name': userSchoolName,\n      };\n    }\n\n    if (type === 'add_role') {\n      isTeacher = this.Courses.list.some(courseElem => courseElem.role === 'teacher');\n\n      payload.$set = {\n        'User role': isTeacher ? 'Teacher' : 'Student',\n      };\n    }\n\n    return this.FetchData.mixpanelEngage(\n      this.$window.btoa(JSON.stringify(payload)),\n    );\n  }\n\n  /**\n   * Use event code to find event name\n   * @memberof module:Mixpanel/Service\n   */\n  getEventName(eventCode) {\n    return this.events[eventCode];\n  }\n\n  /**\n   * Get current date in YYYY-MM-DD T HH:MM:SS\n   * @memberof module:Mixpanel/Service\n   */\n  getCurrentDate() {\n    return moment().toISOString();\n  }\n}\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module Locale/Service\n * @description\n *   Detect Chrome UI language and set Moment.js locale\n */\n\nimport moment from 'moment';\n\nexport class Locale {\n  setMomentLocale() {\n    // moment.locale(chrome.i18n.getUILanguage());\n  }\n\n  static getISOLanguageCode(languageCode = chrome.i18n.getUILanguage()) {\n    return languageCode.replace(/(\\w+)-(\\w+)/, '$1').toLocaleLowerCase();\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { getTranslation } from '../../../../../react_src/i18n';\n\nconst dialogParentElement = angular.element(document.body);\n\nexport const showHintDialog = ($mdDialog, $timeout, stateName, $cookies) => {\n  const showedHint = $cookies.get(`${stateName}-hint`);\n\n  $timeout(() => {\n    if (showedHint === undefined) {\n      $cookies.put(`${stateName}-hint`, '', {\n        path: '/',\n        expires: moment().add(1, 'year').toDate(),\n      });\n\n      let headerText;\n      let contentText;\n\n      switch (stateName) {\n        case 'studentCourseManagement':\n          headerText = getTranslation('studentManagementHintHeader');\n          contentText = getTranslation('studentManagementHintContent');\n          break;\n        case 'student-course-progress':\n          headerText = getTranslation('studentProgressHintHeader');\n          contentText = getTranslation('studentProgressHintContent');\n          break;\n        default:\n      }\n\n      if (headerText && contentText) {\n        $mdDialog.show({\n          parent: dialogParentElement,\n          templateUrl: 'common/dialogs/hint-dialog.html',\n          controller: class {\n            constructor() {\n              'ngInject';\n\n              this.$mdDialog = $mdDialog;\n              this.$onInit();\n            }\n\n            $onInit() {\n              this.headerText = headerText;\n              this.contentText = contentText;\n            }\n          },\n          controllerAs: '$ctrl',\n        });\n      }\n    }\n  }, 700);\n};\n","export const DialogType = {\n  SUCCESS: 0,\n  FAIL: 1,\n  CONFIRMATION: 2,\n};\n","import { IObserver, IUnsubscribe } from './observer.service';\n\nexport interface ISubject<T = any> {\n  observers: IObserver<T>[];\n  subscribe(observer: IObserver<T>): IUnsubscribe;\n  unsubscribe(observer: IObserver<T>): void;\n  next(value: T): void;\n  dispose(): void;\n}\n\nexport class Subject<T = any> implements ISubject<T> {\n  public observers: IObserver<T>[] = [];\n\n  public subscribe(observer: IObserver<T>): IUnsubscribe {\n    observer.closed = false;\n    this.observers.push(observer);\n\n    return (): void => {\n      this.unsubscribe(observer);\n    };\n  }\n\n  public unsubscribe(observer: IObserver<T>): void {\n    observer.closed = false;\n    this.observers = this.observers.filter((_observer: IObserver<T>): boolean => !_observer.closed && !(_observer === observer));\n  }\n\n  public next(value: T): void {\n    this.observers.forEach((observer: IObserver<T>): void => {\n      if (!observer.closed) {\n        observer.next(value);\n      }\n    });\n  }\n\n  public dispose(): void {\n    this.observers.forEach(this.unsubscribe.bind(this));\n    this.observers = [];\n  }\n}\n","export default \"<extended-view-container>\\n  <toolbar class=\\\"grid\\\">\\n    <md-button class=\\\"md-icon-button arrow-back grid-back\\\">\\n      <md-icon class=\\\"material-icons\\\"\\n               ng-click=\\\"$ctrl.onClickBackArrow()\\\">\\n        {{ ::$ctrl.breadcrumbs.length > 1 ? 'arrow_back' : 'close' }}\\n      </md-icon>\\n    </md-button>\\n\\n    <breadcrumbs class=\\\"grid-breadcrumbs\\\"\\n                 steps=\\\"$ctrl.breadcrumbs\\\"></breadcrumbs>\\n    <div flex=\\\"nogrow\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"end center\\\">\\n<!--      <help-button link=\\\"teacherStudentCourseProgressSingleAssignmentTopToolbarHelpButtonUrl\\\"></help-button>-->\\n    </div>\\n  </toolbar>\\n\\n  <md-whiteframe class=\\\"sb-panel-shadow sb-main-card\\\"\\n                 flex=\\\"95\\\"\\n                 layout=\\\"column\\\">\\n    <div class=\\\"header\\\">\\n      <div class=\\\"avatar\\\">\\n        <assignment-icon-type assignment=\\\"$ctrl.objectiveAssessment\\\"></assignment-icon-type>\\n      </div>\\n      <md-input-container>\\n        <md-select ng-model=\\\"$ctrl.objectiveAssessment\\\"\\n                   md-selected-text=\\\"$ctrl.objectiveAssessment.assignment_title\\\"\\n                   ng-model-options=\\\"{ trackBy: '$value.id' }\\\"\\n                   ng-change=\\\"$ctrl.onChangeObjectiveAssessment()\\\">\\n          <md-option ng-repeat=\\\"objectiveAssignmentAssessment in ::$ctrl.objectiveAssignmentAssessments track by objectiveAssignmentAssessment.id\\\"\\n                     ng-value=\\\"objectiveAssignmentAssessment\\\">\\n            {{ ::objectiveAssignmentAssessment.assignment_title }}\\n          </md-option>\\n        </md-select>\\n        <div class=\\\"hint\\\">\\n          {{ ::$ctrl.courseName }}\\n        </div>\\n      </md-input-container>\\n    </div>\\n\\n    <accordion class=\\\"student-courses-details__accordion\\\"\\n               open=\\\"$ctrl.objectiveAssessment.$$open\\\">\\n      <accordion-header>\\n        <div class=\\\"title\\\">\\n          <long-text-tooltip text=\\\"overallAssignmentOverviewDetails\\\">\\n            <span\\n                  localize>__MSG_overallAssignmentOverviewDetails__</span>\\n          </long-text-tooltip>\\n        </div>\\n        <div class=\\\"status\\\">\\n          <assignment-overview-status objective-assignment-assessment=\\\"$ctrl.objectiveAssessment\\\"\\n                                      ng-show=\\\"!$ctrl.objectiveAssessment.$$open\\\">\\n          </assignment-overview-status>\\n        </div>\\n      </accordion-header>\\n      <assignment-overview-content objective-assignment-assessment=\\\"$ctrl.objectiveAssessment\\\"\\n                                   change=\\\"$ctrl.onChangeOverall(objectiveAssignmentAssessment)\\\"></assignment-overview-content>\\n      <accordion-footer>\\n        <md-button class=\\\"sb-button\\\"\\n                   ng-click=\\\"$ctrl.onClickClose()\\\"\\n                   localize>__MSG_closeBtn__\\n        </md-button>\\n      </accordion-footer>\\n    </accordion>\\n  </md-whiteframe>\\n\\n  <div ui-view=\\\"details\\\"></div>\\n</extended-view-container>\\n\\n<saving-indicator></saving-indicator>\\n\";","import { IPromise } from 'angular';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { FetchData } from '../../../utils/services/fetchData.service';\nimport { ICountry } from '../../models/country.model';\nimport SharedServicesModule from '../services.module';\n\n@Service({\n  module: SharedServicesModule,\n  name: 'CountryService',\n})\nexport class CountryService {\n  constructor(private FetchData: FetchData) {\n    'ngInject';\n  }\n\n  public getAll(): IPromise<ICountry[]> {\n    return this.FetchData.sendAPIRequest('/v3/schools/countries/');\n  }\n\n  public findCountryByCode(countries: ICountry[], countryCode: string): ICountry {\n    return countries\n      .find((country: ICountry): boolean => country.country_code === countryCode);\n  }\n}\n","import { IPromise } from 'angular';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { ICoverageMatrix } from '../../models/coverageMatrix.model';\nimport SharedServicesModule from '../services.module';\n\nexport interface ICoverageMatrixService {\n  get(studentId: number, courseDefinitionId: number): IPromise<ICoverageMatrix[]>;\n  map(courseDefinitionObjectiveAssessments: { coverage_matrix_grade_systems: ICoverageMatrix[] }[]): ICoverageMatrix[];\n}\n\n@Service({\n  name: 'CoverageMatrixService',\n  module: SharedServicesModule,\n})\nexport class CoverageMatrixService implements ICoverageMatrixService {\n\n  constructor(protected FetchData: any) {\n    'ngInject';\n  }\n\n  public get(studentId: number, courseDefinitionId: number): IPromise<ICoverageMatrix[]> {\n    return this.FetchData.v3.getCoverageMatrixGradeSystem(studentId, courseDefinitionId)\n      .then(this.map.bind(this));\n  }\n\n  public map(courseDefinitionObjectiveAssessments: { coverage_matrix_grade_systems: ICoverageMatrix[] }[]): ICoverageMatrix[] {\n    return this.filterNonCounterCoverageMatrix(\n      this.reduceUniqueCoverageMatrix(\n        this.flattenCoverageMatrixArray(\n          this.mapCourseDefinitionObjectiveAssessmentsToCoverageMatrixArray(courseDefinitionObjectiveAssessments),\n        ),\n      ),\n    );\n  }\n\n  private mapCourseDefinitionObjectiveAssessmentsToCoverageMatrixArray(courseDefinitionObjectiveAssessments: any[]): ICoverageMatrix[][] {\n    return courseDefinitionObjectiveAssessments\n      .map((item: { coverage_matrix_grade_systems: ICoverageMatrix[] }) =>\n        item.coverage_matrix_grade_systems,\n      );\n  }\n\n  private flattenCoverageMatrixArray(coverageMatrixesArray: ICoverageMatrix[][]): ICoverageMatrix[] {\n    return coverageMatrixesArray\n      .reduce((acc: ICoverageMatrix[], coverageMatrix: ICoverageMatrix[]): ICoverageMatrix[] =>\n          acc.concat(coverageMatrix),\n        [],\n      );\n  }\n\n  private reduceUniqueCoverageMatrix(coverageMatrixes: ICoverageMatrix[]): ICoverageMatrix[] {\n    const ids: number[] = [];\n    return coverageMatrixes\n      .reduce((acc: ICoverageMatrix[], coverageMatrix: ICoverageMatrix): ICoverageMatrix[] => {\n          if (!ids.includes(coverageMatrix.id)) {\n            acc.push(coverageMatrix);\n            ids.push(coverageMatrix.id);\n          }\n\n          return acc;\n        },\n        [],\n      );\n  }\n\n  private filterNonCounterCoverageMatrix(coverageMatrixes: ICoverageMatrix[]): ICoverageMatrix[] {\n    return coverageMatrixes\n      .filter((coverageMatrix: ICoverageMatrix): boolean => !coverageMatrix.is_counter);\n  }\n}\n","export enum GroupedVisibilityFeedbackType {\n  ObjectiveAssessment,\n  ObjectiveFeedback,\n  OverallAssessment,\n  OverallFeedback,\n  OverallResult,\n  OverallTarget\n}\n","import { Service } from '../../../utils/decorators/service.decorator';\nimport SharedServicesModule, { IPopupService } from '../services.module';\nimport { TabService } from '../tab/tab.service';\n\n@Service({\n  module: SharedServicesModule,\n  name: 'HelpButtonService',\n})\nexport class HelpButtonService {\n  public tab: chrome.tabs.Tab;\n\n  constructor(private PopupService: IPopupService, private TabService: TabService) {\n    'ngInject';\n  }\n\n  public open(url: string, isPopup: boolean): void {\n    if (isPopup) {\n      this.openPopup(url);\n    } else {\n      this.openTab(url);\n    }\n  }\n\n  protected openPopup(url: string): void {\n    this.PopupService.open(url);\n  }\n\n  protected openTab(url: string): void {\n    if (this.tab) {\n      this.TabService.get(this.tab).then((tab: chrome.tabs.Tab): void => {\n        if (tab) {\n          this.TabService.update(tab, { active: true, url }).then(this.storeTab.bind(this));\n        } else {\n          this.TabService.open(url).then(this.storeTab.bind(this));\n        }\n      });\n    } else {\n      this.TabService.open(url).then(this.storeTab.bind(this));\n    }\n  }\n\n  protected storeTab(tab: chrome.tabs.Tab): void {\n    this.tab = tab;\n  }\n}\n","export default \"<md-subheader class=\\\"md-no-sticky sb-subheading\\\"\\n              localize>\\n  __MSG_courseProgressLearningObjectivesListLabel__\\n</md-subheader>\\n<md-subheader class=\\\"md-no-sticky sb-subheading emptyList\\\"\\n              ng-if=\\\"::!$ctrl.objectives.length\\\"\\n              localize>\\n  __MSG_assignmentOverviewDetailsObjectiveEmptyList__\\n</md-subheader>\\n\\n<div class=\\\"accordions\\\"\\n     flex=\\\"95\\\"\\n     layout=\\\"column\\\"\\n     ng-if=\\\"::$ctrl.objectives.length\\\">\\n  <div class=\\\"toolbar md-whiteframe-objectives sb-panel-shadow\\\">\\n    <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n               ng-click=\\\"$ctrl.collapseAll()\\\">\\n      <md-tooltip md-direction=\\\"top\\\"\\n                  md-autohide=\\\"true\\\"\\n                  md-z-index=\\\"1014\\\">{{::'collapseAllStudentProgress' | localize}}</md-tooltip>\\n      <md-icon md-svg-src=\\\"{{ ::'SVG_COLLAPSE_ALL' | iconURL }}\\\"></md-icon>\\n    </md-button>\\n    <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n               ng-click=\\\"$ctrl.expandAll()\\\">\\n      <md-tooltip md-direction=\\\"top\\\"\\n                  md-autohide=\\\"true\\\"\\n                  md-z-index=\\\"1014\\\">{{::'expandAllStudentProgress' | localize}}</md-tooltip>\\n      <md-icon md-svg-src=\\\"{{ ::'SVG_EXPAND_ALL' | iconURL }}\\\"></md-icon>\\n    </md-button>\\n    <md-menu>\\n      <md-button class=\\\"md-icon-button\\\"\\n                 ng-click=\\\"$mdMenu.open($event)\\\">\\n        <md-icon>more_vert</md-icon>\\n      </md-button>\\n      <md-menu-content>\\n        <md-menu-label>{{ ::'teacherCurriculumObjectivesToolbarMenuLabel' | localize }}</md-menu-label>\\n        <md-menu-item ng-repeat=\\\"toolbarMenuItem in ::$ctrl.toolbarMenuItems track by toolbarMenuItem.id\\\">\\n          <md-button ng-click=\\\"$ctrl.onClickMenuItem(toolbarMenuItem);\\\">\\n            <md-icon ng-visible=\\\"toolbarMenuItem.checked\\\">check</md-icon>\\n            {{ ::toolbarMenuItem.label | localize }}\\n          </md-button>\\n        </md-menu-item>\\n      </md-menu-content>\\n    </md-menu>\\n  </div>\\n  <accordion class=\\\"student-courses-details__accordion sb-panel-shadow\\\"\\n             open=\\\"objective.open\\\"\\n             ng-repeat=\\\"objective in ::$ctrl.objectives track by objective.id\\\">\\n    <accordion-header>\\n      <div class=\\\"details\\\">\\n        <div ng-if=\\\"$ctrl.listViewType.DESCRIPTION_ONLY === $ctrl.view\\\">\\n      <span class=\\\"description\\\"\\n            ng-bind-html=\\\"::objective.objective.description | getFormattedOrEmpty\\\">\\n      </span>\\n        </div>\\n        <div ng-if=\\\"$ctrl.listViewType.TITLE_AND_DESCRIPTION === $ctrl.view\\\">\\n          <long-text-tooltip text=\\\"::objective.objective.name\\\">\\n            <span>{{ ::objective.objective.name }}</span>\\n          </long-text-tooltip>\\n          <span class=\\\"description\\\"\\n                ng-bind-html=\\\"::objective.objective.description | getFormattedOrEmpty\\\">\\n      </span>\\n        </div>\\n        <div ng-if=\\\"$ctrl.listViewType.TITLE_ONLY === $ctrl.view\\\">\\n          <long-text-tooltip text=\\\"::objective.objective.name\\\">\\n            <span>{{ ::objective.objective.name }}</span>\\n          </long-text-tooltip>\\n        </div>\\n      </div>\\n      <div class=\\\"status\\\">\\n        <assessment-status-preview assessment=\\\"objective\\\"\\n                                   show-private-note=\\\"$ctrl.isNoteAvailable(objective)\\\"\\n                                   show-feedback=\\\"$ctrl.isFeedbackAvailable(objective)\\\"\\n                                   show-visibility=\\\"::true\\\"\\n                                   ng-show=\\\"!objective.open\\\">\\n        </assessment-status-preview>\\n      </div>\\n    </accordion-header>\\n    <assessment-details class=\\\"sb-course-assessment__details\\\"\\n                        assessment=\\\"objective\\\"\\n                        show-private-note=\\\"true\\\"\\n                        teacher-account=\\\"true\\\"\\n                        mixpanel-feedback-event=\\\"feedback_to_student_on_objective\\\"\\n                        mixpanel-grade-event=\\\"moving_slider_on_objective_level_in_course\\\"\\n                        on-assessment-update=\\\"$ctrl.onUpdateAssessment(assessment)\\\"\\n                        is-grade-texts-enable=\\\"$ctrl.isGradeTextsEnable\\\"\\n                        flex=\\\"grow\\\"\\n                        layout=\\\"column\\\"\\n                        layout-align=\\\"center stretch\\\"\\n                        simple-view=\\\"true\\\">\\n    </assessment-details>\\n    <accordion-footer>\\n      <md-button class=\\\"sb-button\\\"\\n                 ng-click=\\\"$ctrl.onClickClose(objective)\\\"\\n                 localize>__MSG_closeBtn__\\n      </md-button>\\n    </accordion-footer>\\n  </accordion>\\n</div>\\n\";","export default \"<md-subheader class=\\\"md-no-sticky sb-subheading\\\"\\n              localize>\\n  __MSG_courseProgressLearningAssignmentLabel__\\n</md-subheader>\\n\\n<div class=\\\"accordions\\\"\\n     flex=\\\"95\\\"\\n     layout=\\\"column\\\">\\n  <div class=\\\"sb-panel-shadow toolbar\\\">\\n    <md-menu>\\n      <md-button class=\\\"md-icon-button\\\"\\n                 ng-click=\\\"$mdMenu.open()\\\">\\n        <md-tooltip md-z-index=\\\"1016\\\"\\n                    md-direction=\\\"top\\\"\\n                    localize>__MSG_assignmentsActionMenuFilterTooltip__\\n        </md-tooltip>\\n        <md-icon md-menu-origin>filter_list</md-icon>\\n      </md-button>\\n      <md-menu-content class=\\\"teacher-student-progress-action-menu\\\">\\n        <md-menu-label localize>\\n          __MSG_assignmentsActionMenuFilterByLabel__\\n        </md-menu-label>\\n        <md-menu-item ng-repeat-start=\\\"filter in ::$ctrl.filters track by filter.type\\\">\\n          <md-button class=\\\"checkbox\\\"\\n                     ng-click=\\\"$ctrl.onClickFilter(filter.type, filter.group);\\\"\\n                     md-prevent-menu-close>\\n            <md-checkbox ng-checked=\\\"$ctrl.isFilterSelected(filter.type, filter.group)\\\">\\n              {{ ::filter.label | localize }}\\n            </md-checkbox>\\n          </md-button>\\n        </md-menu-item>\\n        <md-divider ng-repeat-end\\n                    ng-show=\\\"::$ctrl.isDividerVisible($index)\\\"></md-divider>\\n      </md-menu-content>\\n    </md-menu>\\n    <md-menu>\\n      <md-button class=\\\"md-icon-button\\\"\\n                 ng-click=\\\"$mdMenu.open()\\\">\\n        <md-tooltip md-z-index=\\\"1016\\\"\\n                    md-direction=\\\"top\\\"\\n                    localize>__MSG_assignmentsActionMenuSortTooltip__\\n        </md-tooltip>\\n        <md-icon md-menu-origin>sort</md-icon>\\n      </md-button>\\n      <md-menu-content class=\\\"teacher-assignments-action-menu\\\">\\n        <md-menu-label localize>\\n          __MSG_assignmentsActionMenuSortByLabel__\\n        </md-menu-label>\\n        <md-menu-item ng-repeat=\\\"sortingItem in ::$ctrl.sortingItems track by sortingItem.order\\\">\\n          <md-button ng-click=\\\"$ctrl.onClickOrder(sortingItem.order)\\\"\\n                     localize>\\n            <md-icon ng-visible=\\\"::$ctrl.isCurrentOrder(sortingItem.order)\\\">check</md-icon>\\n            {{ ::sortingItem.label | localize }}\\n          </md-button>\\n        </md-menu-item>\\n      </md-menu-content>\\n    </md-menu>\\n    <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n               ng-click=\\\"$ctrl.collapseAll()\\\">\\n      <md-tooltip md-direction=\\\"top\\\"\\n                  md-autohide=\\\"true\\\"\\n                  md-z-index=\\\"1014\\\">{{::'collapseAllStudentProgress' | localize}}</md-tooltip>\\n      <md-icon md-svg-src=\\\"{{ ::'SVG_COLLAPSE_ALL' | iconURL }}\\\"></md-icon>\\n    </md-button>\\n    <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n               ng-click=\\\"$ctrl.expandAll()\\\">\\n      <md-tooltip md-direction=\\\"top\\\"\\n                  md-autohide=\\\"true\\\"\\n                  md-z-index=\\\"1014\\\">{{::'expandAllStudentProgress' | localize}}</md-tooltip>\\n      <md-icon md-svg-src=\\\"{{ ::'SVG_EXPAND_ALL' | iconURL }}\\\"></md-icon>\\n    </md-button>\\n  </div>\\n  <accordion class=\\\"student-courses-details__accordion sb-panel-shadow\\\"\\n             open=\\\"objectiveAssignmentAssessment.$$open\\\"\\n             ng-if=\\\"::$ctrl.objectiveAssignmentAssessments.length\\\"\\n             ng-repeat=\\\"objectiveAssignmentAssessment in $ctrl.objectiveAssignmentAssessments track by objectiveAssignmentAssessment.id\\\">\\n    <accordion-header>\\n      <div class=\\\"title\\\"\\n           ng-click=\\\"$ctrl.onClickHeader(objectiveAssignmentAssessment)\\\">\\n        <assignment-icon-type assignment=\\\"objectiveAssignmentAssessment\\\"></assignment-icon-type>\\n        <long-text-tooltip text=\\\"::objectiveAssignmentAssessment.assignment_title\\\">\\n          <span>{{ ::objectiveAssignmentAssessment.assignment_title }}</span>\\n        </long-text-tooltip>\\n      </div>\\n      <div class=\\\"status\\\">\\n        <assignment-overview-status objective-assignment-assessment=\\\"objectiveAssignmentAssessment\\\"\\n                                    ng-show=\\\"!objectiveAssignmentAssessment.$$open\\\">\\n        </assignment-overview-status>\\n      </div>\\n    </accordion-header>\\n    <assignment-overview-content objective-assignment-assessment=\\\"objectiveAssignmentAssessment\\\"\\n                                 change=\\\"$ctrl.onChange(objectiveAssignmentAssessment)\\\"></assignment-overview-content>\\n    <accordion-footer>\\n      <md-button class=\\\"sb-button\\\"\\n                 ng-click=\\\"$ctrl.onClickGoToDetails(objectiveAssignmentAssessment)\\\"\\n                 localize>__MSG_goToDetailsBtn__\\n      </md-button>\\n      <md-button class=\\\"sb-button\\\"\\n                 ng-click=\\\"$ctrl.onClickClose(objectiveAssignmentAssessment)\\\"\\n                 localize>__MSG_closeBtn__\\n      </md-button>\\n    </accordion-footer>\\n  </accordion>\\n</div>\\n<md-subheader class=\\\"md-no-sticky sb-subheading emptyList\\\"\\n              ng-if=\\\"::!$ctrl.objectiveAssignmentAssessments.length\\\"\\n              localize>\\n  __MSG_assignmentOverviewEmptyList__\\n</md-subheader>\\n\";","export default \"<md-input-container class=\\\"md-icon-float md-icon-right md-block\\\">\\n  <label localize>__MSG_resultsInput__</label>\\n  <textarea ng-model=\\\"$ctrl.objectiveAssignmentAssessment.result\\\"\\n            ng-model-options=\\\"{ debounce: 500 }\\\"\\n            ng-change=\\\"$ctrl.onChange()\\\"\\n            ng-disabled=\\\"::!$ctrl.isEditable()\\\"\\n            md-detect-hidden=\\\"true\\\"></textarea>\\n  <div class=\\\"hint\\\">\\n    {{ $ctrl.objectiveAssignmentAssessment.result_last_edit | LastModified }}\\n  </div>\\n  <md-icon ng-click=\\\"$ctrl.onClickResultPublished()\\\"\\n           ng-class=\\\"{ published: $ctrl.objectiveAssignmentAssessment.result_published }\\\"\\n           ng-disabled=\\\"::!$ctrl.isEditable()\\\">\\n    {{ $ctrl.objectiveAssignmentAssessment.result_published ? 'visibility' : 'visibility_off' }}\\n  </md-icon>\\n</md-input-container>\\n\\n<md-input-container class=\\\"md-icon-float md-icon-right md-block\\\">\\n  <label localize>__MSG_overallFeedbackInput__</label>\\n  <textarea ng-model=\\\"$ctrl.objectiveAssignmentAssessment.feedback\\\"\\n            ng-model-options=\\\"{ debounce: 500 }\\\"\\n            ng-change=\\\"$ctrl.onChange()\\\"\\n            ng-disabled=\\\"::!$ctrl.isEditable()\\\"\\n            md-detect-hidden=\\\"true\\\"></textarea>\\n  <div class=\\\"hint\\\">\\n    {{ $ctrl.objectiveAssignmentAssessment.feedback_last_edit | LastModified }}\\n  </div>\\n  <md-icon ng-click=\\\"$ctrl.onClickFeedbackPublished()\\\"\\n           ng-class=\\\"{ published: $ctrl.objectiveAssignmentAssessment.feedback_published }\\\"\\n           ng-disabled=\\\"::!$ctrl.isEditable()\\\">\\n    {{ $ctrl.objectiveAssignmentAssessment.feedback_published ? 'visibility' : 'visibility_off' }}\\n  </md-icon>\\n</md-input-container>\\n\\n<md-input-container class=\\\"md-icon-float md-icon-right md-block\\\"\\n                    ng-if=\\\"::$ctrl.objectiveAssignmentAssessment.teacher_in_class\\\">\\n  <label localize>__MSG_overallPrivateNoteInput__</label>\\n  <textarea ng-model=\\\"$ctrl.objectiveAssignmentAssessment.private_note\\\"\\n            ng-model-options=\\\"{ debounce: 500 }\\\"\\n            ng-change=\\\"$ctrl.onChange()\\\"\\n            md-detect-hidden=\\\"true\\\"></textarea>\\n  <div class=\\\"hint\\\">\\n    {{ $ctrl.objectiveAssignmentAssessment.private_note_last_edit | LastModified }}\\n  </div>\\n</md-input-container>\\n\";","export default \"<div class=\\\"layout-row-flex\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"end center\\\">\\n\\n  <md-icon class=\\\"notify\\\"\\n           ng-show=\\\"!$ctrl.objectiveAssignmentAssessment.seen\\\">new_releases\\n    <md-tooltip md-z-index=\\\"1015\\\"\\n                md-direction=\\\"top\\\"\\n                localize>\\n      __MSG_newAssignmentAssessmentTooltip__\\n    </md-tooltip>\\n  </md-icon>\\n  <last-update date=\\\"$ctrl.getLastUpdate()\\\"></last-update>\\n\\n  <md-icon ng-visible=\\\"$ctrl.objectiveAssignmentAssessment.private_note && $ctrl.objectiveAssignmentAssessment.teacher_in_class\\\">\\n    description\\n    <md-tooltip md-z-index=\\\"1015\\\"\\n                md-direction=\\\"top\\\"\\n                localize>__MSG_courseProgressPrivateNoteAvailableTooltip__\\n    </md-tooltip>\\n  </md-icon>\\n\\n  <md-icon class=\\\"nested-icon\\\"\\n           ng-visible=\\\"$ctrl.objectiveAssignmentAssessment.feedback\\\">\\n    announcement\\n    <md-icon ng-show=\\\"$ctrl.objectiveAssignmentAssessment.feedback_published\\\">remove_red_eye</md-icon>\\n    <md-tooltip md-z-index=\\\"1015\\\"\\n                md-direction=\\\"top\\\"\\n                localize>__MSG_courseProgressFeedbackAvailableTooltip__\\n    </md-tooltip>\\n  </md-icon>\\n\\n  <div class=\\\"result\\\"\\n       ng-class=\\\"{ published: $ctrl.objectiveAssignmentAssessment.result_published }\\\">\\n    <md-tooltip class=\\\"md-multiline\\\"\\n                md-z-index=\\\"1015\\\"\\n                md-direction=\\\"top\\\"\\n                ng-if=\\\"$ctrl.objectiveAssignmentAssessment.result\\\">\\n      {{ $ctrl.objectiveAssignmentAssessment.result }}\\n    </md-tooltip>\\n    <md-icon ng-show=\\\"$ctrl.objectiveAssignmentAssessment.result_published\\\">remove_red_eye</md-icon>\\n    <div class=\\\"result-text\\\">{{ $ctrl.objectiveAssignmentAssessment.result }}</div>\\n  </div>\\n\\n</div>\\n\";","export default \"<md-subheader class=\\\"md-no-sticky sb-subheading\\\"\\n              localize>\\n  __MSG_courseProgressLearningObjectivesListLabel__\\n</md-subheader>\\n\\n<md-subheader class=\\\"md-no-sticky sb-subheading emptyList\\\"\\n              ng-if=\\\"::!$ctrl.assessments.length\\\"\\n              localize>\\n  __MSG_courseProgressLearningObjectivesEmptyList__\\n</md-subheader>\\n\\n<md-whiteframe class=\\\"sb-panels\\\"\\n               ng-class=\\\"{'sb-panels--expanded': $ctrl.hasAnyAssessmentOpened}\\\"\\n               ng-if=\\\"::$ctrl.assessments.length\\\"\\n               flex=\\\"95\\\"\\n               layout=\\\"column\\\"\\n               layout-padding\\n               layout-margin>\\n\\n  <div class=\\\"sb-panel-shadow sb-simple-panel right\\\"\\n       ng-class=\\\"{ bottom: $ctrl.isCoverageMatrixView }\\\">\\n    <list-view-switch coverage-matrixes=\\\"::$ctrl.coverageMatrixes\\\"\\n                      on-coverage-matrix-change=\\\"$ctrl.onCoverageMatrixChange(coverageMatrix)\\\"\\n                      on-view-change=\\\"$ctrl.onViewChange(listViewSwitchType)\\\">\\n      <center-section>\\n        <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n                   ng-click=\\\"$ctrl.collapseAll()\\\">\\n          <md-tooltip md-direction=\\\"top\\\"\\n                      md-autohide=\\\"true\\\"\\n                      md-z-index=\\\"1014\\\">{{::'collapseAllStudentProgress' | localize}}</md-tooltip>\\n          <md-icon md-svg-src=\\\"{{ ::'SVG_COLLAPSE_ALL' | iconURL }}\\\"></md-icon>\\n        </md-button>\\n        <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n                   ng-click=\\\"$ctrl.expandAll()\\\">\\n          <md-tooltip md-direction=\\\"top\\\"\\n                      md-autohide=\\\"true\\\"\\n                      md-z-index=\\\"1014\\\">{{::'expandAllStudentProgress' | localize}}</md-tooltip>\\n          <md-icon md-svg-src=\\\"{{ ::'SVG_EXPAND_ALL' | iconURL }}\\\"></md-icon>\\n        </md-button>\\n      </center-section>\\n    </list-view-switch>\\n    <coverage-matrix-grid-header coverage-matrix=\\\"$ctrl.coverageMatrix\\\"\\n                                 ng-show=\\\"$ctrl.isCoverageMatrixView\\\"></coverage-matrix-grid-header>\\n  </div>\\n  <md-list flex\\n           class=\\\"sb-list\\\"\\n           ng-class=\\\"{'sb-list--expanded': assessment.open}\\\"\\n           ng-repeat=\\\"assessment in $ctrl.assessments track by assessment.$id\\\">\\n    <div flex\\n         layout=\\\"row\\\"\\n         layout-align=\\\"space-between center\\\">\\n      <md-list-item>\\n        <div class=\\\"objective-title\\\"\\n             flex=\\\"grow\\\"\\n             layout=\\\"column\\\"\\n             layout-align=\\\"center stretch\\\"\\n             ng-click=\\\"$ctrl.navigateToLearningObjective(assessment)\\\">\\n          <long-text-tooltip text=\\\"::assessment.objective.name\\\"\\n                             ng-if=\\\"$ctrl.informationView !== $ctrl.listViewType.DESCRIPTION_ONLY\\\">\\n            <span class=\\\"title\\\">{{ ::assessment.objective.name }}</span>\\n          </long-text-tooltip>\\n          <span class=\\\"description\\\"\\n                ng-bind-html=\\\"::assessment.objective.description | getFormattedOrEmpty\\\"\\n                ng-if=\\\"$ctrl.informationView !== $ctrl.listViewType.TITLE_ONLY\\\">\\n          </span>\\n        </div>\\n\\n        <div class=\\\"sb-course-assessment__meta--sm\\\">\\n          <div flex\\n               layout=\\\"row\\\"\\n               layout-align=\\\"end stretch\\\">\\n            <assessment-status-preview assessment=\\\"assessment\\\"\\n                                       show-private-note=\\\"$ctrl.isNoteAvailable(assessment)\\\"\\n                                       show-feedback=\\\"$ctrl.isFeedbackAvailable(assessment)\\\"\\n                                       show-visibility=\\\"::true\\\"\\n                                       ng-show=\\\"!assessment.open && !$ctrl.isCoverageMatrixView\\\">\\n            </assessment-status-preview>\\n            <coverage-matrix-grid coverage-matrix=\\\"$ctrl.getCoverageMatrixFromAssessment(assessment)\\\"\\n                                  ng-show=\\\"!assessment.open && $ctrl.isCoverageMatrixView\\\">\\n              <grade-prognosis grade=\\\"assessment.grade\\\"\\n                               published=\\\"assessment.grade_published\\\"></grade-prognosis>\\n            </coverage-matrix-grid>\\n\\n\\n            <div class=\\\"sb-course-assessment__meta__assessment-counter sb-list-item-name__link\\\"\\n                 ng-click=\\\"$ctrl.navigateToLearningObjective(assessment)\\\"\\n                 ng-show=\\\"!assessment.open && !$ctrl.isCoverageMatrixView\\\">\\n              <span>{{ assessment.stats.changed }} / {{ assessment.stats.total }}</span>\\n              <div ng-if=\\\"assessment.has_unseen_assignments\\\"\\n                   class=\\\"sb-course-assessment__meta__assessment-indicator\\\"></div>\\n              <md-tooltip md-direction=\\\"top\\\"\\n                          md-z-index=\\\"1010\\\"\\n                          class=\\\"md-fling\\n                                       sb-tooltip--align-position\\\"\\n                          localize>\\n                __MSG_assignmentAssessmentTooltip__\\n              </md-tooltip>\\n            </div>\\n\\n            <object-details-toggle object=\\\"assessment\\\"\\n                                   on-details-toggle=\\\"$ctrl.toggleAssessment(assessment)\\\">\\n            </object-details-toggle>\\n          </div>\\n        </div>\\n\\n\\n      </md-list-item>\\n    </div>\\n    <assessment-details class=\\\"sb-course-assessment__details\\\"\\n                        assessment=\\\"assessment\\\"\\n                        show-private-note=\\\"true\\\"\\n                        teacher-account=\\\"true\\\"\\n                        mixpanel-feedback-event=\\\"feedback_to_student_on_objective\\\"\\n                        mixpanel-grade-event=\\\"moving_slider_on_objective_level_in_course\\\"\\n                        on-assessment-update=\\\"$ctrl.updateAssessmentData(assessment)\\\"\\n                        on-assessment-close=\\\"$ctrl.toggleAssessment(assessment)\\\"\\n                        on-navigate-to-details=\\\"$ctrl.navigateToLearningObjective(assessment)\\\"\\n                        flex=\\\"grow\\\"\\n                        layout=\\\"column\\\"\\n                        layout-align=\\\"center stretch\\\"\\n                        slide-toggle=\\\"assessment.open\\\"\\n                        ng-disabled=\\\"!$ctrl.isEditable\\\">\\n    </assessment-details>\\n\\n  </md-list>\\n\\n</md-whiteframe>\\n\";","export interface ICoverageMatrixGrade {\n  circle_label: string;\n  color: string;\n  coverage_of_assignments: number;\n  id: number;\n  is_passed: boolean;\n  label: string;\n  name: string;\n  number_of_assingments: number;\n  order: number;\n}\n\nexport interface ICoverageMatrix {\n  coverage_matrix_grades: ICoverageMatrixGrade[];\n  id: number;\n  is_counter: boolean;\n  isSelected?: boolean;\n  name: string;\n  number_of_assingments: number;\n}\n\nexport class CoverageMatrix implements ICoverageMatrix {\n  public coverage_matrix_grades: ICoverageMatrixGrade[];\n  public id: number;\n  public is_counter: boolean;\n  public name: string;\n  public number_of_assingments: number;\n\n  constructor(coverageMatrix?: ICoverageMatrix) {\n    Object.apply(this, coverageMatrix || {});\n  }\n}\n","export default \"<div class=\\\"coverage-matrix-cell\\\"\\n     ng-repeat=\\\"coverageMatrixGrade in $ctrl.coverageMatrix.coverage_matrix_grades track by coverageMatrixGrade.id\\\"\\n     ng-style=\\\"::{ color: coverageMatrixGrade.coverage_of_assignments ? coverageMatrixGrade.color : ''  }\\\">\\n  {{ ::coverageMatrixGrade.coverage_of_assignments }}/{{ ::$ctrl.coverageMatrix.number_of_assingments }}\\n</div>\\n<div ng-transclude=\\\"gradePrognosis\\\"></div>\\n\";","export default \"<div class=\\\"coverage-matrix-grid-header-cell\\\"\\n     ng-repeat=\\\"coverageMatrixGrade in $ctrl.coverageMatrix.coverage_matrix_grades track by coverageMatrixGrade.id\\\"\\n     ng-style=\\\"::{ color: coverageMatrixGrade.color }\\\">\\n  {{ ::coverageMatrixGrade.circle_label }}\\n</div>\\n<div class=\\\"coverage-matrix-grid-header-cell empty-cell prognosis\\\"></div>\\n<div class=\\\"coverage-matrix-grid-header-cell empty-cell toggle\\\"></div>\\n\";","export default \"<div class=\\\"left-section\\\" ng-transclude=\\\"left\\\"></div>\\n<md-input-container class=\\\"coverage-matrix\\\"\\n                    ng-show=\\\"$ctrl.isCoverageMatrixView()\\\">\\n  <md-select ng-model=\\\"$ctrl.selectedCoverageMatrix\\\"\\n             ng-model-options=\\\"{ trackBy: '$value.id' }\\\"\\n             ng-change=\\\"$ctrl.onSelectCoverageMatrix()\\\">\\n    <md-option ng-repeat=\\\"coverageMatrix in ::$ctrl.coverageMatrixes track by coverageMatrix.id\\\"\\n               ng-value=\\\"coverageMatrix\\\">\\n      {{ ::coverageMatrix.name }}\\n    </md-option>\\n  </md-select>\\n</md-input-container>\\n<div class=\\\"center-section\\\" ng-transclude=\\\"center\\\"></div>\\n<md-menu class=\\\"view-menu attachHint\\\"\\n         md-position-mode=\\\"target-right target\\\">\\n  <md-button class=\\\"md-icon-button\\\"\\n             ng-click=\\\"$mdMenu.open()\\\">\\n    <md-icon>more_vert</md-icon>\\n    <div class=\\\"sb-hint\\\"\\n         data-cookie-name=\\\"listViewSwitchHintCookie\\\"\\n         lock-content=\\\"true\\\"\\n         attach-to=\\\"list-view-switch md-menu.attachHint\\\"\\n         hint>\\n      <div class=\\\"sb-hint-scrollable\\\">\\n        <p class=\\\"sb-hint-text\\\"\\n           localize>\\n          __MSG_teacherObjectiveListViewSwitchHint__\\n        </p>\\n        <p class=\\\"sb-hint-close\\\">\\n          <button class=\\\"sb-btn-no-background md-primary sb-hint-close\\\"\\n                  localize>\\n            __MSG_acceptHint__\\n          </button>\\n        </p>\\n      </div>\\n    </div>\\n  </md-button>\\n  <md-menu-content>\\n    <md-menu-label>{{ ::'teacherStudentProgressToolbarMenuPrimaryLabel' | localize }}</md-menu-label>\\n    <md-menu-item ng-repeat=\\\"menuItem in ::$ctrl.informationMenuItems track by menuItem.id\\\">\\n      <md-button ng-click=\\\"$ctrl.onMenuClick(menuItem)\\\">\\n        <md-icon ng-visible=\\\"menuItem.isSelected\\\">done</md-icon>\\n        {{ ::menuItem.label | localize }}\\n      </md-button>\\n    </md-menu-item>\\n    <md-menu-divider></md-menu-divider>\\n    <md-menu-item ng-repeat=\\\"menuItem in ::$ctrl.viewMenuItems track by menuItem.id\\\">\\n      <md-button ng-click=\\\"$ctrl.onMenuClick(menuItem)\\\">\\n        <md-icon ng-visible=\\\"menuItem.isSelected\\\">done</md-icon>\\n        {{ ::menuItem.label | localize }}\\n      </md-button>\\n    </md-menu-item>\\n  </md-menu-content>\\n</md-menu>\\n<div class=\\\"right-section\\\" ng-transclude=\\\"right\\\"></div>\\n\";","export default \"<md-dialog class=\\\"list-view-switch\\\">\\n  <md-dialog-content>\\n    <span localize>__MSG_listViewSwitchDialogContent__</span>\\n    <footer layout=\\\"row\\\"\\n            layout-align=\\\"end center\\\">\\n      <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                 ng-click=\\\"$ctrl.$mdDialog.hide()\\\"\\n                 localize>__MSG_okBtn__\\n      </md-button>\\n    </footer>\\n  </md-dialog-content>\\n</md-dialog>\\n\";","export default \"<div class=\\\"coverage-matrix-cell grade-prognosis\\\"\\n     ng-style=\\\"{ color: $ctrl.grade.color ? $ctrl.grade.color : ''  }\\\">\\n  {{ $ctrl.grade.circle_label }}\\n  <md-icon class=\\\"grade-prognosis-icon\\\"\\n           ng-show=\\\"$ctrl.grade && $ctrl.published\\\">\\n    visibility\\n  </md-icon>\\n</div>\\n\";","export interface ICountry {\n  country_code: string;\n  name: string;\n  states: string[];\n}\n\nexport class Country implements ICountry {\n  public country_code: string;\n  public name: string;\n  public states: string[];\n}\n","export default \"<h1>{{ ::'UserSetupHeaderWhereDoYouTeach' | localize }}</h1>\\n<ng-form name=\\\"$ctrl.schoolSelectForm\\\">\\n  <md-input-container>\\n    <label>{{ ::'UserSetupInputLabelCountry' | localize }}</label>\\n    <md-select name=\\\"country\\\"\\n               ng-model=\\\"$ctrl.country\\\"\\n               ng-model-options=\\\"{ trackBy: '$value.country_code' }\\\"\\n               ng-change=\\\"$ctrl.clearStateInput(); $ctrl.clearSchoolInput(); $ctrl.refreshSchools()\\\"\\n               ng-required=\\\"true\\\">\\n      <md-option ng-repeat=\\\"country in ::$ctrl.countries track by $index\\\"\\n                 ng-value=\\\"country\\\">\\n        {{ ::country.name }}\\n      </md-option>\\n    </md-select>\\n  </md-input-container>\\n  <md-input-container ng-if=\\\"$ctrl.country.states.length\\\">\\n    <label>{{ ::'UserSetupInputLabelState' | localize }}</label>\\n    <md-select name=\\\"state\\\"\\n               ng-model=\\\"$ctrl.state\\\"\\n               ng-change=\\\"$ctrl.clearSchoolInput(); $ctrl.refreshSchools()\\\"\\n               ng-required=\\\"$ctrl.country.states.length\\\"\\n               ng-disabled=\\\"!$ctrl.country\\\">\\n      <md-option ng-repeat=\\\"state in ::$ctrl.country.states track by $index\\\"\\n                 ng-value=\\\"state\\\">\\n        {{ ::state }}\\n      </md-option>\\n    </md-select>\\n  </md-input-container>\\n  <md-input-container class=\\\"md-icon-left\\\"\\n                      ng-class=\\\"{ 'md-input-has-value': $ctrl.school || $ctrl.searchSchoolName }\\\">\\n    <md-icon>search</md-icon>\\n    <md-autocomplete required\\n                     md-input-name=\\\"school\\\"\\n                     md-input-minlength=\\\"2\\\"\\n                     md-delay=\\\"100\\\"\\n                     md-no-cache=\\\"true\\\"\\n                     md-selected-item=\\\"$ctrl.school\\\"\\n                     md-search-text=\\\"$ctrl.searchSchoolName\\\"\\n                     md-items=\\\"school in $ctrl.searchSchool($ctrl.searchSchoolName)\\\"\\n                     md-item-text=\\\"school.title\\\"\\n                     md-require-match\\n                     md-floating-label=\\\"{{ ::'UserSetupInputLabelSchool' | localize }}\\\"\\n                     ng-disabled=\\\"$ctrl.isSchoolInputDisable()\\\">\\n      <md-not-found>\\n        <div class=\\\"school-item\\\">\\n            <span>{{ ::'UserSetupInputSchoolNoMatchFound' | localize }}</span>\\n        </div>\\n      </md-not-found>\\n      <md-item-template>\\n        <div class=\\\"school-item\\\"\\n             ng-mouseenter=\\\"school.$$mouseOver = true\\\"\\n             ng-mouseleave=\\\"school.$$mouseOver = false\\\">\\n          <long-text-tooltip text=\\\"$ctrl.getSchoolName(school)\\\"\\n                             watch-text=\\\"true\\\"\\n                             direction=\\\"left\\\"\\n                             visible=\\\"school.$$mouseOver\\\">\\n            <span class=\\\"md-truncate\\\"\\n                  md-highlight-text=\\\"$ctrl.searchSchoolName\\\">{{  ::$ctrl.getSchoolName(school)  }}</span>\\n          </long-text-tooltip>\\n          <span class=\\\"city\\\"\\n                md-highlight-text=\\\"$ctrl.searchSchoolName\\\">{{  ::$ctrl.getCityName(school)  }}</span>\\n        </div>\\n      </md-item-template>\\n      <div ng-messages=\\\"$ctrl.schoolSelectForm.school.$error\\\"\\n           ng-if=\\\"$ctrl.schoolSelectForm.school.$touched\\\">\\n        <div ng-message=\\\"md-require-match\\\">{{ ::'UserSetupErrorMessageRequireMatchSchool' | localize }}</div>\\n      </div>\\n    </md-autocomplete>\\n    <div class=\\\"hint\\\">\\n      <div class=\\\"tip\\\">{{ ::'UserSetupHelpTextCannotFindSchool' | localize }}</div>\\n<!--      <md-button class=\\\"add\\\"-->\\n<!--                 ng-click=\\\"$ctrl.registerSchool()\\\">{{ ::'UserSetupButtonLabelRequestAddYourSchool' | localize }}-->\\n<!--      </md-button>-->\\n      <a href=\\\"mailto:support@studybee.se?subject=Request to add school\\\">{{'UserSetupButtonLabelRequestAddYourSchool' | translate}}</a>\\n    </div>\\n  </md-input-container>\\n</ng-form>\\n<md-button class=\\\"submit save\\\"\\n           ng-click=\\\"$ctrl.sendSaveRequest()\\\"\\n           ng-disabled=\\\"$ctrl.schoolSelectForm.$invalid\\\">{{ ::'saveBtn' | localize}}\\n</md-button>\\n\";","export default \"<h1>{{ ::'UserSetupHeaderWhereDoYouTeach' | localize }}</h1>\\n<ng-form name=\\\"$ctrl.schoolRegisterForm\\\">\\n  <md-input-container>\\n    <label>{{ ::'UserSetupInputLabelCategory' | localize }}</label>\\n    <md-select name=\\\"schoolCategory\\\"\\n               ng-model=\\\"$ctrl.schoolRequest.category\\\"\\n               ng-model-options=\\\"{ trackBy: '$value' }\\\"\\n               ng-required=\\\"true\\\">\\n      <md-option ng-repeat=\\\"schoolCategory in ::$ctrl.schoolCategories track by schoolCategory.type\\\"\\n                 ng-value=\\\"schoolCategory.type\\\">\\n        {{ ::schoolCategory.name | localize }}\\n      </md-option>\\n    </md-select>\\n  </md-input-container>\\n  <md-input-container>\\n    <label>{{ ::'UserSetupInputLabelSchoolName' | localize }}</label>\\n    <input name=\\\"schoolName\\\"\\n           autocomplete=\\\"off\\\"\\n           ng-model=\\\"$ctrl.schoolRequest.school_name\\\"\\n           ng-required=\\\"true\\\">\\n  </md-input-container>\\n  <md-input-container>\\n    <label>{{ ::'UserSetupInputLabelStreetAddress' | localize }}</label>\\n    <input name=\\\"streetAddress\\\"\\n           autocomplete=\\\"off\\\"\\n           ng-model=\\\"$ctrl.schoolRequest.street_address\\\"\\n           ng-required=\\\"true\\\">\\n  </md-input-container>\\n  <md-input-container>\\n    <label>{{ ::'UserSetupInputLabelCity' | localize }}</label>\\n    <input name=\\\"city\\\"\\n           autocomplete=\\\"off\\\"\\n           ng-model=\\\"$ctrl.schoolRequest.city\\\"\\n           ng-required=\\\"true\\\">\\n  </md-input-container>\\n  <md-input-container>\\n    <label>{{ ::'UserSetupInputLabelCountry' | localize }}</label>\\n    <md-select name=\\\"country\\\"\\n               ng-model=\\\"$ctrl.country\\\"\\n               ng-model-options=\\\"{ trackBy: '$value.country_code' }\\\"\\n               ng-change=\\\"$ctrl.clearStateInput();\\\"\\n               ng-required=\\\"true\\\">\\n      <md-option ng-repeat=\\\"country in ::$ctrl.countries track by $index\\\"\\n                 ng-value=\\\"country\\\">\\n        {{ ::country.name }}\\n      </md-option>\\n    </md-select>\\n  </md-input-container>\\n  <md-input-container ng-if=\\\"$ctrl.country.states.length\\\">\\n    <label>{{ ::'UserSetupInputLabelState' | localize }}</label>\\n    <md-select name=\\\"state\\\"\\n               ng-model=\\\"$ctrl.state\\\"\\n               ng-required=\\\"$ctrl.country.states.length\\\"\\n               ng-disabled=\\\"!$ctrl.country\\\">\\n      <md-option ng-repeat=\\\"state in ::$ctrl.country.states track by $index\\\"\\n                 ng-value=\\\"state\\\">\\n        {{ ::state }}\\n      </md-option>\\n    </md-select>\\n  </md-input-container>\\n  <md-input-container>\\n    <label>{{ ::'UserSetupInputLabelZipCode' | localize }}</label>\\n    <input name=\\\"zipCode\\\"\\n           autocomplete=\\\"off\\\"\\n           ng-model=\\\"$ctrl.schoolRequest.postal_code\\\"\\n           ng-required=\\\"true\\\">\\n  </md-input-container>\\n  <md-input-container>\\n    <label>{{ ::'UserSetupInputLabelSchoolWebsite' | localize }}</label>\\n    <input name=\\\"schoolWebsite\\\"\\n           autocomplete=\\\"off\\\"\\n           pattern=\\\"(https?:\\\\/\\\\/)?(www\\\\.)?[-a-zA-Z0-9@:%._\\\\+~#=]{2,256}\\\\.[a-z0-9]{2,6}\\\\b([-a-zA-Z0-9@:%_\\\\+.~#?&//=]*)\\\"\\n           ng-model=\\\"$ctrl.schoolRequest.website\\\"\\n           ng-required=\\\"true\\\">\\n    <div ng-messages=\\\"$ctrl.schoolRegisterForm.schoolWebsite.$error\\\"\\n         role=\\\"alert\\\">\\n      <div ng-message=\\\"pattern\\\">\\n        {{ ::'InputErrorInvalidUrl' | localize }}\\n      </div>\\n    </div>\\n  </md-input-container>\\n  <md-input-container>\\n    <label>{{ ::'UserSetupInputLabelComment' | localize }}</label>\\n    <textarea name=\\\"comment\\\"\\n              autocomplete=\\\"off\\\"\\n              ng-model=\\\"$ctrl.schoolRequest.comment\\\"\\n              ng-required=\\\"false\\\"></textarea>\\n  </md-input-container>\\n</ng-form>\\n<md-button class=\\\"submit submit-request\\\"\\n           ng-click=\\\"$ctrl.sendSchoolRequest()\\\"\\n           ng-disabled=\\\"$ctrl.isSubmitDisabled()\\\">\\n  {{ ::'UserSetupButtonLabelSubmitYourRequest' | localize }}\\n</md-button>\\n\";","export default \"<md-checkbox ng-model=\\\"$ctrl.isSelectedAll\\\"\\n             ng-change=\\\"$ctrl.onChange()\\\"\\n             md-ink-ripple=\\\"true\\\">{{::'allMode' | localize}}\\n</md-checkbox>\\n\";","export default \"<md-input-container ng-hide=\\\"$ctrl.isSingleView()\\\">\\n  <md-select ng-model=\\\"$ctrl.ngModel.$viewValue\\\"\\n             ng-change=\\\"$ctrl.ngModel.$setViewValue($ctrl.ngModel.$viewValue)\\\">\\n    <md-option ng-repeat=\\\"courseDefinition in ::$ctrl.courseDefinitions track by courseDefinition.id\\\"\\n               ng-value=\\\"courseDefinition\\\">\\n      {{ ::courseDefinition.name }}\\n    </md-option>\\n  </md-select>\\n</md-input-container>\\n<div class=\\\"single-view\\\" ng-show=\\\"$ctrl.isSingleView()\\\">\\n  {{ ::$ctrl.courseDefinitions[0].name }}\\n</div>\\n\";","export default \"<span ng-bind-html=\\\"$ctrl.text | Sanitize\\\"></span>\\n\";","import { AssignmentState } from '../enums/assignmentStateType.enum';\nimport { AssignmentType } from '../enums/assignmentType.enum';\nimport { IAssessment } from './assessment.model';\n\nexport interface IAssignment {\n  alternate_link_id: string;\n  assessments: IAssessment[];\n  assignment_not_assessable: boolean;\n  assignment_type: AssignmentType;\n  classroom_name: string;\n  id: number;\n  state: AssignmentState;\n  title: string;\n  worktype: string;\n  ui?: { isExpanded: boolean };\n}\n\nexport class Assignment implements IAssignment {\n  public alternate_link_id: string;\n  public assessments: IAssessment[];\n  public assignment_not_assessable: boolean;\n  public assignment_type: AssignmentType;\n  public classroom_name: string;\n  public id: number;\n  public state: AssignmentState;\n  public title: string;\n  public worktype: string;\n  public ui?: { isExpanded: boolean };\n}\n","export default \"<md-icon class=\\\"type\\\"\\n         md-svg-src=\\\"{{ ::$ctrl.getSvgSrc() }}\\\"\\n         ng-class=\\\"::$ctrl.getIconClass()\\\"\\n         ng-bind=\\\"::$ctrl.getIconName()\\\"\\n         ng-show=\\\"$ctrl.assignment\\\"></md-icon>\\n\";","export default \"<div class=\\\"label\\\"\\n     ng-show=\\\"$ctrl.assignments.length\\\"\\n     ng-bind-html=\\\"::$ctrl.label | localize\\\"></div>\\n<div class=\\\"item\\\"\\n     md-ink-ripple=\\\"#000000\\\"\\n     ng-repeat=\\\"assignment in $ctrl.assignments track by assignment.id\\\">\\n  <div class=\\\"tooltip-wrapper\\\">\\n    <md-tooltip md-z-index=\\\"1006\\\"\\n                md-direction=\\\"top\\\"\\n                ng-bind=\\\"::$ctrl.getIconTooltip(assignment)\\\">\\n    </md-tooltip>\\n    <assignment-icon-type assignment=\\\"assignment\\\"></assignment-icon-type>\\n  </div>\\n  <long-text-tooltip text=\\\"::assignment.title\\\">\\n    <div>{{ ::assignment.title }}</div>\\n  </long-text-tooltip>\\n</div>\\n\";","export default \"<md-icon class=\\\"sb-list-icon sb-status sb-status-not-done\\\"\\n         ng-show=\\\"$ctrl.status == 'ND'\\\">\\n</md-icon>\\n\\n<md-icon class=\\\"sb-list-icon sb-status sb-status-not-done-late\\\"\\n         ng-show=\\\"$ctrl.status == 'NL'\\\">\\n  assignment_late\\n</md-icon>\\n\\n<md-icon class=\\\"sb-list-icon sb-status sb-status-done-not-fully-assessed\\\"\\n         ng-show=\\\"$ctrl.status == 'NV'\\\">\\n  assessment\\n</md-icon>\\n\\n<md-icon class=\\\"sb-list-icon sb-status sb-status-done-not-fully-assessed sb-status-dot\\\"\\n         ng-show=\\\"$ctrl.status == 'NN'\\\">\\n  assessment\\n</md-icon>\\n\\n<md-icon class=\\\"sb-list-icon sb-status sb-status-done-fully-assessed\\\"\\n         ng-show=\\\"$ctrl.status == 'AV'\\\">\\n  check\\n</md-icon>\\n\\n<md-icon class=\\\"sb-list-icon sb-status sb-status-done-fully-assessed sb-status-dot\\\"\\n         ng-show=\\\"$ctrl.status == 'AN'\\\">\\n  check\\n</md-icon>\\n\\n<md-icon class=\\\"sb-list-icon sb-status sb-status-warning\\\"\\n         ng-show=\\\"$ctrl.status == 'WV'\\\">\\n  warning\\n</md-icon>\\n\\n<md-icon class=\\\"sb-list-icon sb-status sb-status-warning sb-status-dot\\\"\\n         ng-show=\\\"$ctrl.status == 'WN'\\\">\\n  warning\\n</md-icon>\\n\";","export default \"<div class=\\\"manage-assignment md-whiteframe-5dp\\\"\\n     ng-class=\\\"visible\\\"\\n     ng-if=\\\"$ctrl.assignment\\\">\\n  <div class=\\\"content\\\">\\n    <div class=\\\"content-header\\\"\\n         localize>\\n      {{ $ctrl.title }}\\n    </div>\\n  </div>\\n\\n  <div class=\\\"footer\\\"\\n       layout=\\\"row\\\"\\n       layout-align=\\\"{{ $ctrl.showLoading ? 'center center' : 'end center' }}\\\">\\n    <md-progress-circular class=\\\"sb-progress-circular white-theme\\\"\\n                          ng-if=\\\"$ctrl.showLoading\\\"\\n                          md-diameter=\\\"24px\\\"\\n                          md-mode=\\\"indeterminate\\\">\\n    </md-progress-circular>\\n\\n    <md-button class=\\\"sb-btn-nlrm-dark-text\\\"\\n               aria-label=\\\"__MSG_assignObjectivesToastPostponeButtonLabel__\\\"\\n               ng-hide=\\\"$ctrl.showLoading\\\"\\n               ng-click=\\\"$ctrl.postponeAssigningObjectives()\\\"\\n               localize>\\n      __MSG_assignObjectivesToastPostponeButtonLabel__\\n    </md-button>\\n\\n    <md-button class=\\\"sb-btn-nlrm-dark-text\\\"\\n               aria-label=\\\"__MSG_assignObjectivesToastConfirmButtonLabel__\\\"\\n               ng-hide=\\\"$ctrl.showLoading\\\"\\n               ng-click=\\\"$ctrl.assignObjectives()\\\"\\n               localize>\\n      __MSG_assignObjectivesToastConfirmButtonLabel__\\n    </md-button>\\n  </div>\\n</div>\\n\";","export default \"<form class=\\\"dialog__small--text layout-column layout-align-start-stretch\\\"\\n      flex=\\\"grow\\\"\\n      layout=\\\"column\\\"\\n      layout-align=\\\"start stretch\\\"\\n      name=\\\"$ctrl.studentEditForm\\\">\\n  <md-input-container>\\n    <label localize>__MSG_visibility__</label>\\n    <md-select md-container-class=\\\"grouped-visibility-select-container\\\"\\n               md-selected-html=\\\"$ctrl.getVisibilityLabel()\\\"\\n               ng-model=\\\"$ctrl.groupedVisibility.visible\\\"\\n               ng-change=\\\"$ctrl.notifyChanges()\\\">\\n      <md-option ng-value=\\\"true\\\">\\n        <md-icon>visibility</md-icon>\\n        {{ 'visible' | localize }}\\n      </md-option>\\n      <md-option ng-value=\\\"false\\\">\\n        <md-icon>visibility_off</md-icon>\\n        {{ 'hidden' | localize }}\\n      </md-option>\\n    </md-select>\\n    <div class=\\\"hint\\\"\\n         localize>{{ ::$ctrl.i18n.hintGroupedVisibilityVisibility | localize }}\\n    </div>\\n  </md-input-container>\\n  <md-input-container ng-if=\\\"::!$ctrl.isAssignmentStudentView\\\">\\n    <label localize>__MSG_students__</label>\\n    <md-select md-container-class=\\\"grouped-visibility-select-container\\\"\\n               md-selected-html=\\\"$ctrl.getStudentsSelectLabel()\\\"\\n               ng-model=\\\"$ctrl.groupedVisibility.students_ids\\\"\\n               ng-change=\\\"$ctrl.notifyChanges()\\\"\\n               multiple>\\n      <md-select-header class=\\\"demo-select-header\\\">\\n        <md-select-all md-data-set=\\\"$ctrl.settings.students\\\"\\n                       on-change=\\\"$ctrl.selectAllStudents()\\\"></md-select-all>\\n      </md-select-header>\\n      <md-optgroup label=\\\"students\\\">\\n        <md-option class=\\\"grouped-visibility--option\\\"\\n                   ng-repeat=\\\"student in ::$ctrl.settings.students track by student.id\\\"\\n                   ng-value=\\\"::student.id\\\">{{ ::student.student_name }}\\n        </md-option>\\n      </md-optgroup>\\n    </md-select>\\n    <div class=\\\"hint\\\">{{ ::$ctrl.i18n.hintGroupedVisibilityStudentsHint | localize }}</div>\\n  </md-input-container>\\n  <md-input-container>\\n    <label localize>__MSG_coursesSubjects__</label>\\n    <md-select md-container-class=\\\"grouped-visibility-select-container\\\"\\n               md-selected-html=\\\"$ctrl.getCoursesSubjectsSelectLabel()\\\"\\n               ng-model=\\\"$ctrl.groupedVisibility.course_definitions_ids\\\"\\n               ng-change=\\\"$ctrl.notifyChanges()\\\"\\n               multiple>\\n      <md-select-header class=\\\"demo-select-header\\\">\\n        <md-select-all md-data-set=\\\"$ctrl.settings.courseDefinitions\\\"\\n                       on-change=\\\"$ctrl.selectAllCourseDefinitions()\\\"></md-select-all>\\n      </md-select-header>\\n      <md-optgroup label=\\\"students\\\">\\n        <md-option class=\\\"grouped-visibility--option\\\"\\n                   ng-repeat=\\\"courseDefinition in ::$ctrl.settings.courseDefinitions track by courseDefinition.id\\\"\\n                   ng-value=\\\"::courseDefinition.id\\\">{{ ::courseDefinition.name }}\\n        </md-option>\\n      </md-optgroup>\\n    </md-select>\\n    <div class=\\\"hint\\\">{{ ::$ctrl.i18n.hintGroupedVisibilityCoursesSubjects | localize }}</div>\\n  </md-input-container>\\n  <md-input-container>\\n    <label localize>__MSG_typeOfFeedback__</label>\\n    <md-select md-container-class=\\\"grouped-visibility-select-container\\\"\\n               md-selected-html=\\\"$ctrl.getTypeOfFeedbackLabel()\\\"\\n               ng-model=\\\"$ctrl.typeOfFeedback\\\"\\n               ng-change=\\\"$ctrl.selectTypeOfFeedback()\\\"\\n               multiple>\\n      <md-select-header class=\\\"demo-select-header\\\">\\n        <md-select-all md-data-set=\\\"$ctrl.selectedTypeOfFeedback\\\"\\n                       on-change=\\\"$ctrl.selectAllTypeOfFeedback()\\\"></md-select-all>\\n      </md-select-header>\\n      <md-optgroup label=\\\"{{ ::$ctrl.i18n.typeOfFeedbackOverallLabel | localize }}\\\">\\n        <label class=\\\"md-container-ignore grouped-visibility--label\\\"\\n               aria-hidden=\\\"true\\\">{{ ::$ctrl.i18n.typeOfFeedbackOverallLabel | localize }}</label>\\n        <md-option class=\\\"grouped-visibility--option\\\"\\n                   ng-repeat=\\\"typeOfFeedback in ::$ctrl.selectedTypeOfFeedback | filter:{ group: 0 } track by typeOfFeedback.id\\\"\\n                   ng-value=\\\"typeOfFeedback.id\\\">{{ ::typeOfFeedback.name }}\\n        </md-option>\\n      </md-optgroup>\\n      <md-optgroup label=\\\"{{ ::'typeOfFeedbackLearningObjectiveSection' | localize }}\\\">\\n        <label class=\\\"md-container-ignore grouped-visibility--label\\\"\\n               aria-hidden=\\\"true\\\">{{ ::'typeOfFeedbackLearningObjectiveSection' | localize }}</label>\\n        <md-option class=\\\"grouped-visibility--option\\\"\\n                   ng-repeat=\\\"typeOfFeedback in ::$ctrl.selectedTypeOfFeedback | filter:{ group: 1 } track by typeOfFeedback.id\\\"\\n                   ng-value=\\\"typeOfFeedback.id\\\">{{ ::typeOfFeedback.name }}\\n        </md-option>\\n      </md-optgroup>\\n    </md-select>\\n    <div class=\\\"hint\\\">{{ ::$ctrl.i18n.hintGroupedVisibilityFeedback | localize }}</div>\\n  </md-input-container>\\n</form>\\n\";","export default \"<md-button class=\\\"md-icon-button\\\"\\n           ng-click=\\\"$ctrl.onClick()\\\"\\n           ng-show=\\\"$ctrl.isVisible\\\">\\n  <md-icon>help_outline</md-icon>\\n</md-button>\\n\";","import angular, {IModule} from 'angular';\n\nexport const SharedUpgradesModule: IModule = angular.module('app.shared.upgrades', []);\n\nexport default SharedUpgradesModule.name;\n\nexport * from './autocomplete/autocomplete.component';\n","export default \"<md-input-container class=\\\"md-icon-left\\\"\\n                    ng-class=\\\"{ 'md-input-has-value': $ctrl.school || $ctrl.searchSchoolName }\\\">\\n  <md-icon>search</md-icon>\\n  <md-autocomplete md-input-name=\\\"school\\\"\\n                   md-input-minlength=\\\"2\\\"\\n                   md-delay=\\\"100\\\"\\n                   md-no-cache=\\\"true\\\"\\n                   md-selected-item=\\\"$ctrl.school\\\"\\n                   md-selected-item-change=\\\"$ctrl.change($ctrl.school)\\\"\\n                   md-search-text=\\\"$ctrl.searchSchoolName\\\"\\n                   md-items=\\\"school in $ctrl.searchSchool($ctrl.searchSchoolName)\\\"\\n                   md-item-text=\\\"school.title\\\"\\n                   md-require-match\\n                   md-floating-label=\\\"{{ ::'UserSetupInputLabelSchool' | localize }}\\\"\\n                   ng-disabled=\\\"$ctrl.disabled\\\">\\n    <md-not-found>\\n      <div class=\\\"school-item\\\">\\n        <span>{{ ::'UserSetupInputSchoolNoMatchFound' | localize }}</span>\\n      </div>\\n    </md-not-found>\\n    <md-item-template>\\n      <div class=\\\"school-item\\\"\\n           ng-init=\\\"$$mouseOver = false\\\"\\n           ng-mouseenter=\\\"$$mouseOver = true\\\"\\n           ng-mouseleave=\\\"$$mouseOver = false\\\">\\n        <long-text-tooltip text=\\\"$ctrl.getSchoolName(school)\\\"\\n                           watch-text=\\\"true\\\"\\n                           direction=\\\"left\\\"\\n                           visible=\\\"$$mouseOver\\\">\\n            <span class=\\\"md-truncate\\\"\\n                  md-highlight-text=\\\"$ctrl.searchSchoolName\\\">{{  ::$ctrl.getSchoolName(school)  }}</span>\\n        </long-text-tooltip>\\n        <span class=\\\"city\\\"\\n              md-highlight-text=\\\"$ctrl.searchSchoolName\\\">{{  ::$ctrl.getCityName(school)  }}</span>\\n      </div>\\n    </md-item-template>\\n<!--    <div ng-messages=\\\"$ctrl.schoolSelectForm.school.$error\\\"-->\\n<!--         ng-if=\\\"$ctrl.schoolSelectForm.school.$touched\\\">-->\\n<!--      <div ng-message=\\\"md-require-match\\\">{{ ::'UserSetupErrorMessageRequireMatchSchool' | localize }}</div>-->\\n<!--    </div>-->\\n  </md-autocomplete>\\n</md-input-container>\\n\";","export default \"<right-view-container>\\n  <toolbar flex\\n           layout=\\\"row\\\"\\n           layout-align=\\\"space-between center\\\">\\n    <menu-toggle flex=\\\"none\\\"></menu-toggle>\\n\\n    <p class=\\\"sb-toolbar-title\\\"\\n       flex\\n       localize>\\n      __MSG_courseManagementMainSectionTitle__\\n    </p>\\n<!--    <help-button link=\\\"studentCurriculumsSidebarHelpButtonUrl\\\"></help-button>-->\\n  </toolbar>\\n\\n  <div>\\n    <cm-student-courses-list courses=\\\"$ctrl.coursesDefinitions\\\"></cm-student-courses-list>\\n  </div>\\n</right-view-container>\\n\";","export default \"<md-list\\n    flex\\n    class=\\\"sb-list\\\">\\n\\n    <md-list-item\\n        layout=\\\"row\\\"\\n        layout-align=\\\"space-between center\\\"\\n        class=\\\"cm-courses-list__container\\n               sb-border-bottom\\\"\\n        ng-repeat=\\\"curriculum in $ctrl.courses track by curriculum.id\\\"\\n        ng-class=\\\"{'course-active': curriculum.id === $ctrl.selectedCourse.id }\\\"\\n        ng-click=\\\"$ctrl.navigateToCourseDetails(curriculum)\\\">\\n        <div\\n            flex\\n            class=\\\"sb-list-item\\n                   cm-courses-list\\\"\\n            layout=\\\"column\\\"\\n            layout-align=\\\"center start\\\">\\n          <long-text-tooltip text=\\\"curriculum.name\\\">\\n            <span class=\\\"cm-courses-list__course-name\\\">\\n                {{ curriculum.name }}\\n            </span>\\n          </long-text-tooltip>\\n\\n          <long-text-tooltip text=\\\"curriculum.code\\\" ng-if=\\\"!curriculum.based_on && curriculum.code\\\">\\n            <span class=\\\"cm-courses-list__sub-info cm-courses-list__sub-info--first\\\">\\n                {{ curriculum.code }}\\n            </span>\\n          </long-text-tooltip>\\n\\n          <long-text-tooltip text=\\\"curriculum.based_on.name\\\" ng-if=\\\"curriculum.based_on\\\">\\n            <span class=\\\"cm-courses-list__sub-info cm-courses-list__sub-info--first\\\">\\n                Based on: {{ curriculum.based_on.name }}\\n                <span ng-if=\\\"curriculum.code\\\">\\n                    ({{ curriculum.code }})\\n                </span>\\n            </span>\\n          </long-text-tooltip>\\n\\n          <long-text-tooltip text=\\\"{{ curriculum.based_on.author }}\\\" ng-if=\\\"curriculum.based_on && curriculum.based_on.author\\\">\\n            <span class=\\\"cm-courses-list__sub-info\\\">\\n                Created by: {{ curriculum.based_on.author}}\\n            </span>\\n          </long-text-tooltip>\\n        </div>\\n    </md-list-item>\\n</md-list>\\n\";","export default \"<extended-view-container>\\n  <toolbar flex\\n           layout=\\\"row\\\"\\n           layout-align=\\\"start center\\\">\\n    <md-button class=\\\"md-icon-button\\\">\\n      <md-icon class=\\\"material-icons\\\"\\n               ng-click=\\\"$ctrl.closeCourseView()\\\">close\\n      </md-icon>\\n    </md-button>\\n  </toolbar>\\n  <extended-view-top-whiteframe>\\n    <div flex\\n         layout=\\\"row\\\">\\n      <div class=\\\"sb-photo-placeholder layout-align-center-center layout-row\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"center center\\\">\\n        <md-icon class=\\\"sb-icon__big sb-icon__class material-icons\\\"\\n                 role=\\\"img\\\"\\n                 aria-label=\\\"class\\\">\\n          class\\n        </md-icon>\\n      </div>\\n      <div flex-auto\\n           layout=\\\"column\\\"\\n           layout-align=\\\"start start\\\">\\n        <long-text-tooltip text=\\\"$ctrl.course.name\\\">\\n                    <span class=\\\"md-display-1 cm-heading\\\">\\n                        {{ $ctrl.course.name }}\\n                    </span>\\n        </long-text-tooltip>\\n\\n        <span class=\\\"cm-course-code\\\">\\n                    {{ $ctrl.course.code }}\\n                </span>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"sb-course-assessment__course-grade cm-course-assesment__course-grade\\\"\\n         layout=\\\"row\\\">\\n      <div class=\\\"md-body-2 sb-subheading sb-course-assessment__meta-heading\\\"\\n           flex=\\\"35\\\"\\n           localize>\\n        __MSG_courseDetailsLabel__\\n      </div>\\n\\n      <div class=\\\"sb-course-assessment__meta cm-course-grades\\\"\\n           flex=\\\"65\\\">\\n        <div layout=\\\"row\\\"\\n             layout-align=\\\"end center\\\">\\n\\n          <object-details-toggle object=\\\"$ctrl.course\\\"\\n                                 on-details-toggle=\\\"$root.toggleObject($ctrl.course)\\\">\\n          </object-details-toggle>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <course-definition-details class=\\\"course-definition-details\\\"\\n                               ng-if=\\\"$ctrl.course.open\\\"\\n                               course=\\\"$ctrl.course\\\"\\n                               read-only=\\\"true\\\">\\n    </course-definition-details>\\n\\n  </extended-view-top-whiteframe>\\n\\n  <div ui-view=\\\"details\\\"></div>\\n</extended-view-container>\\n\";","export default \"<div flex\\n     layout=\\\"row\\\"\\n     layout-align=\\\"start center\\\">\\n  <md-subheader class=\\\"md-no-sticky sb-subheading help-button\\\"\\n                localize>\\n    __MSG_learnignObjectivesLabel__\\n  </md-subheader>\\n</div>\\n\\n<cm-student-objectives-toolbar class=\\\"sb-panel-shadow\\\">\\n  <md-menu>\\n    <md-button class=\\\"md-icon-button\\\"\\n               ng-click=\\\"$mdMenu.open($event)\\\">\\n      <md-icon>more_vert</md-icon>\\n    </md-button>\\n    <md-menu-content class=\\\"course-management\\\">\\n      <md-menu-label>{{ ::'teacherCurriculumObjectivesToolbarMenuLabel' | localize }}</md-menu-label>\\n      <md-menu-item ng-repeat=\\\"toolbarMenuItem in ::$ctrl.toolbarMenuItems track by toolbarMenuItem.id\\\">\\n        <md-button ng-click=\\\"$ctrl.onClickMenuItem(toolbarMenuItem);\\\">\\n          <md-icon ng-visible=\\\"toolbarMenuItem.checked\\\">check</md-icon>\\n          {{ ::toolbarMenuItem.label | localize }}\\n        </md-button>\\n      </md-menu-item>\\n    </md-menu-content>\\n  </md-menu>\\n</cm-student-objectives-toolbar>\\n\\n<cm-student-objectives-list objectives=\\\"::$ctrl.objectives\\\"\\n                            view=\\\"$ctrl.view\\\"></cm-student-objectives-list>\\n\";","export default \"<accordion class=\\\"sb-panel-shadow\\\"\\n           ng-if=\\\"::$ctrl.objectives.length\\\"\\n           ng-repeat=\\\"objective in $ctrl.objectives track by objective.id\\\"\\n           open=\\\"objective.$open\\\">\\n  <accordion-header>\\n    <div ng-if=\\\"$ctrl.listViewType.DESCRIPTION_ONLY === $ctrl.view\\\">\\n      <span class=\\\"description\\\"\\n            ng-bind-html=\\\"objective.description | getFormattedOrEmpty\\\">\\n      </span>\\n    </div>\\n    <div ng-if=\\\"$ctrl.listViewType.TITLE_AND_DESCRIPTION === $ctrl.view\\\">\\n      {{ objective.name }}\\n      <span class=\\\"description\\\"\\n            ng-bind-html=\\\"objective.description | getFormattedOrEmpty\\\">\\n      </span>\\n    </div>\\n    <div ng-if=\\\"$ctrl.listViewType.TITLE_ONLY === $ctrl.view\\\">\\n      {{ objective.name }}\\n    </div>\\n  </accordion-header>\\n  <cm-objective-details course=\\\"$ctrl.course\\\"\\n                        objective=\\\"objective\\\"\\n                        read-only=\\\"true\\\">\\n  </cm-objective-details>\\n  <accordion-footer>\\n    <div flex=\\\"100\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"end center\\\">\\n      <md-button class=\\\"sb-button\\\"\\n                 ng-click=\\\"objective.$open = false\\\"\\n                 localize>\\n        __MSG_closeBtn__\\n      </md-button>\\n    </div>\\n  </accordion-footer>\\n</accordion>\\n<cm-empty-objectives-list ng-if=\\\"!$ctrl.objectives.length\\\"></cm-empty-objectives-list>\\n\";","export default \"<div class=\\\"content\\\" ng-transclude></div>\\n\";","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n/**\n * This is not a classic solution in the angular apps, but the component is not the\n * the best solution here since the common part has only a few methods, and all\n * template layout is different. In this case I use this class as a base class\n * both for edit course modal and search course modal.\n */\nexport class SelectEducationalProperties {\n  constructor(FetchData) {\n    this.FetchData = FetchData;\n  }\n\n  /**\n   *\n   */\n  changeEducationalSystem() {\n    this.educationalStage = undefined;\n    this.resetScales();\n    this.updateEducationalStages(this.educationalSystem);\n  }\n\n  /**\n   *\n   */\n  changeEducationalStage() {\n    this.resetScales();\n    this.updateScales(this.educationalStage);\n  }\n\n  resetScales() {\n    this.scale = undefined;\n    this.scales = [];\n  }\n\n  /**\n   * Updates current educational stages based on the educational system\n   * @param educationalSystem\n   */\n  updateEducationalStages(educationalSystem) {\n    // reset educational stages\n    this.educationalStages = [];\n    return this.FetchData\n      .v3\n      .getEducationalStages({\n        educational_system: educationalSystem.id,\n      })\n      .then((educationalStages) => {\n        this.educationalStages = educationalStages;\n      });\n  }\n\n  /**\n   * Updates scales for modal window, based on actual educational stage\n   * @param educationalStage\n   */\n  updateScales(educationalStage) {\n    this.scales = [];\n    //  fetch only if stage is not undefined ( case for all stages )\n    if (!educationalStage) {\n      return;\n    }\n    // eslint-disable-next-line consistent-return\n    return this.FetchData\n      .v3\n      .getScales({\n        educational_stage: educationalStage.id,\n      })\n      .then((scales) => {\n        this.scales = scales;\n      });\n  }\n\n  updateEducationalStagesAndScales() {\n    return this.updateEducationalStages(this.educationalSystem)\n      .then(() => {\n        this.setEducationalStage(this.educationalStageId);\n      })\n      .then(() => this.updateScales(this.educationalStage));\n  }\n\n  setEducationalStage(educationalStageId) {\n    this.educationalStage = this.educationalStages.find(\n      educationalStage => educationalStage.id === educationalStageId,\n    );\n  }\n}\n","export default \"<right-view-container>\\n  <toolbar\\n    flex\\n    layout=\\\"row\\\"\\n    layout-align=\\\"space-between center\\\">\\n    <menu-toggle flex=\\\"none\\\"></menu-toggle>\\n\\n    <p\\n      flex\\n      class=\\\"sb-toolbar-title\\\"\\n      localize>\\n      __MSG_courseManagementMainSectionTitle__\\n    </p>\\n\\n      <md-menu flex=\\\"nogrow\\\">\\n        <md-button\\n          class=\\\"md-icon-button\\\"\\n          ng-click=\\\"$mdMenu.open($event)\\\"\\n          localize>\\n          <md-icon>more_vert</md-icon>\\n        </md-button>\\n\\n        <md-menu-content width=\\\"3\\\">\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.openLibraryDialog()\\\"\\n              localize>\\n              __MSG_myCurriculumLibrary__\\n            </md-button>\\n          </md-menu-item>\\n        </md-menu-content>\\n      </md-menu>\\n  </toolbar>\\n\\n  <div>\\n    <cm-teacher-courses-list curriculums=\\\"$ctrl.curriculums\\\"></cm-teacher-courses-list>\\n  </div>\\n\\n  <div\\n    class=\\\"sb-bottom-floating-button-container\\\"\\n    layout=\\\"row\\\"\\n    layout-align=\\\"center end\\\">\\n\\n    <md-fab-speed-dial\\n      md-direction=\\\"up\\\"\\n      class=\\\"md-scale\\\"\\n      md-open=\\\"$ctrl.isDialOpen\\\"\\n      ng-mouseenter=\\\"$ctrl.isDialOpen = true\\\"\\n      ng-mouseleave=\\\"$ctrl.isDialOpen = false\\\"\\n      ng-cloak>\\n      <md-fab-trigger>\\n        <md-button\\n          class=\\\"md-fab\\n                           cm-plus-button\\\"\\n          ng-click=\\\"$event.stopPropagation()\\\">\\n          <md-icon>add</md-icon>\\n        </md-button>\\n      </md-fab-trigger>\\n\\n      <md-fab-actions>\\n        <md-button\\n          class=\\\"md-fab md-raised\\n                           md-mini\\n                           cm-action-button\\\"\\n          ng-click=\\\"$ctrl.openSearchForCurriculumDialog()\\\">\\n          <md-tooltip\\n            md-direction=\\\"left\\\"\\n            md-z-index=\\\"1010\\\"\\n            class=\\\"md-fling\\\"\\n            localize>\\n            __MSG_searchCourseTooltip__\\n          </md-tooltip>\\n          <md-icon>search</md-icon>\\n        </md-button>\\n\\n        <md-button\\n          class=\\\"md-fab\\n                           md-raised\\n                           md-mini\\n                           cm-action-button\\\"\\n          ng-click=\\\"$ctrl.openCreateCurriculumDialog()\\\">\\n          <md-tooltip\\n            md-direction=\\\"left\\\"\\n            md-z-index=\\\"1010\\\"\\n            class=\\\"md-fling\\\"\\n            localize>\\n            __MSG_createEmptyCourseTooltip__\\n          </md-tooltip>\\n          <md-icon>build</md-icon>\\n        </md-button>\\n      </md-fab-actions>\\n    </md-fab-speed-dial>\\n  </div>\\n  <div\\n    hint\\n    class=\\\"sb-hint\\\"\\n    data-cookie-name=\\\"teacher-course-management-hint\\\">\\n    <div class=\\\"sb-hint-scrollable\\\">\\n      <p\\n        class=\\\"sb-hint-text\\\"\\n        localize>\\n        __MSG_teacherManagementHintContent__\\n      </p>\\n      <p class=\\\"sb-hint-close\\\">\\n        <button\\n          class=\\\"sb-btn-no-background\\n                       md-primary\\n                       sb-hint-close\\\"\\n          localize>\\n          __MSG_acceptHint__\\n        </button>\\n      </p>\\n    </div>\\n  </div>\\n</right-view-container>\\n\";","export default \"<div\\n  class=\\\"curriculum-library-dialog--content\\\"\\n  layout=\\\"column\\\"\\n  layout-align=\\\"start start\\\"\\n  ng-if=\\\"$ctrl.libraryCurriculums.private.length !== 0 ||\\n         $ctrl.libraryCurriculums.public.length !== 0 ||\\n         $ctrl.libraryCurriculums.shared.length !== 0\\\">\\n    <span\\n      class=\\\"curriculum-library-dialog--content--title\\\"\\n      localize>\\n      __MSG_myPrivateCurriculums__\\n    </span>\\n\\n  <md-list\\n    flex\\n    class=\\\"sb-list\\n               sb-panel-shadow\\\">\\n    <md-list-item\\n      layout=\\\"row\\\"\\n      layout-align=\\\"space-between center\\\"\\n      ng-repeat=\\\"curriculum in $ctrl.libraryCurriculums.private track by curriculum.id\\\"\\n      ng-click=\\\"$ctrl.openCurriculumDetails(curriculum)\\\">\\n      <div\\n        flex\\n        class=\\\"curriculum-library-dialog--content--item-text\\n                   sb-list-truncate\\\">\\n        <p class=\\\"sb-list-truncate\\\">\\n                    <span class=\\\"sb-list-item-main\\\">\\n                        {{ curriculum.name }}\\n                    </span>\\n        </p>\\n\\n        <p class=\\\"sb-list-truncate\\\">\\n                    <span class=\\\"sb-list-item-regular\\\">\\n                        Id: {{curriculum.course.code || 'N/A'}}\\n                    </span>\\n        </p>\\n\\n        <p\\n          layout=\\\"row\\\"\\n          layout-align=\\\"start center\\\">\\n                    <span localize\\n                          flex=\\\"none\\\"\\n                          class=\\\"sb-list-item-regular\\\">\\n                        __MSG_educationalStageLabel__\\n                    </span>\\n          <span class=\\\"sb-list-item-subname\\\"\\n                flex=\\\"grow\\\">\\n                        :&nbsp;{{ curriculum.educational_stage.name }}\\n                    </span>\\n        </p>\\n      </div>\\n\\n      <md-menu>\\n        <md-button\\n          class=\\\"md-icon-button\\\"\\n          ng-click=\\\"$mdMenu.open($event)\\\">\\n          <md-icon>more_vert</md-icon>\\n        </md-button>\\n        <md-menu-content width=\\\"3\\\">\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.addCurriculumToClassroom(curriculum)\\\"\\n              localize>\\n              __MSG_addCurriculumToClassroom__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.showEditCurriculumDialog(curriculum, 'private')\\\"\\n              localize>\\n              __MSG_editCourse__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-divider></md-menu-divider>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.showMakeCurriculumPublicInMySchoolDialog(curriculum, 'private')\\\"\\n              localize>\\n              __MSG_makeCurriculumPublic__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.showMakeCurriculumPublicToAllStudyBeeUsersDialog(curriculum, 'private')\\\"\\n              localize>\\n              __MSG_makeCurriculumPublicForAll__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-divider></md-menu-divider>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.removeCurriculumFromLibrary(curriculum, 'private')\\\"\\n              localize>\\n              __MSG_deleteCurriculum__\\n            </md-button>\\n          </md-menu-item>\\n        </md-menu-content>\\n      </md-menu>\\n    </md-list-item>\\n  </md-list>\\n\\n  <span\\n    class=\\\"curriculum-library-dialog--content--title\\\"\\n    localize>\\n      __MSG_myPublicCurriculums__\\n    </span>\\n\\n  <md-list\\n    flex\\n    class=\\\"sb-list sb-panel-shadow\\\">\\n    <md-list-item\\n      layout=\\\"row\\\"\\n      layout-align=\\\"space-between center\\\"\\n      ng-repeat=\\\"curriculum in $ctrl.libraryCurriculums.public track by curriculum.id\\\"\\n      ng-click=\\\"$ctrl.openCurriculumDetails(curriculum)\\\">\\n      <div\\n        flex\\n        class=\\\"curriculum-library-dialog--content--item-text\\n                       sb-list-truncate\\\">\\n        <p class=\\\"sb-list-truncate\\\">\\n                    <span class=\\\"sb-list-item-main\\\">\\n                        {{ curriculum.name }}\\n                    </span>\\n        </p>\\n\\n        <p class=\\\"sb-list-truncate\\\">\\n                    <span class=\\\"sb-list-item-regular\\\">\\n                        Id: {{curriculum.course.code || 'N/A'}}\\n                    </span>\\n        </p>\\n\\n        <p\\n          layout=\\\"row\\\"\\n          layout-align=\\\"start center\\\">\\n                    <span localize\\n                          flex=\\\"none\\\"\\n                          class=\\\"sb-list-item-regular\\\">\\n                        __MSG_educationalStageLabel__\\n                    </span>\\n          <span class=\\\"sb-list-item-subname\\\"\\n                flex=\\\"grow\\\">\\n                        :&nbsp;{{ curriculum.educational_stage.name }}\\n                    </span>\\n        </p>\\n      </div>\\n\\n      <md-menu>\\n        <md-button\\n          class=\\\"md-icon-button\\\"\\n          ng-click=\\\"$mdMenu.open($event)\\\">\\n          <md-icon>more_vert</md-icon>\\n        </md-button>\\n        <md-menu-content width=\\\"3\\\">\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.addCurriculumToClassroom(curriculum)\\\"\\n              localize>\\n              __MSG_addCurriculumToClassroom__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.showEditCurriculumDialog(curriculum, 'public')\\\"\\n              localize>\\n              __MSG_editCourse__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-divider></md-menu-divider>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.showMakeCurriculumPrivateDialog(curriculum, 'public')\\\"\\n              localize>\\n              __MSG_makeCurriculumPrivate__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.showMakeCurriculumPublicToAllStudyBeeUsersDialog(curriculum, 'public')\\\"\\n              localize>\\n              __MSG_makeCurriculumPublicForAll__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-divider></md-menu-divider>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.removeCurriculumFromLibrary(curriculum, 'public')\\\"\\n              localize>\\n              __MSG_deleteCurriculum__\\n            </md-button>\\n          </md-menu-item>\\n        </md-menu-content>\\n      </md-menu>\\n    </md-list-item>\\n  </md-list>\\n\\n  <span\\n    class=\\\"curriculum-library-dialog--content--title\\\"\\n    localize>\\n      __MSG_mySharedStudyBeeCurriculums__\\n    </span>\\n\\n  <md-list\\n    flex\\n    class=\\\"sb-list sb-panel-shadow\\\">\\n    <md-list-item\\n      layout=\\\"row\\\"\\n      layout-align=\\\"space-between center\\\"\\n      ng-repeat=\\\"curriculum in $ctrl.libraryCurriculums.shared track by curriculum.id\\\"\\n      ng-click=\\\"$ctrl.openCurriculumDetails(curriculum)\\\">\\n      <div\\n        flex\\n        class=\\\"curriculum-library-dialog--content--item-text\\n                       sb-list-truncate\\\">\\n        <p class=\\\"sb-list-truncate\\\">\\n                    <span class=\\\"sb-list-item-main\\\">\\n                        {{ curriculum.name }}\\n                    </span>\\n        </p>\\n\\n        <p class=\\\"sb-list-truncate\\\">\\n                    <span class=\\\"sb-list-item-regular\\\">\\n                        Id: {{curriculum.course.code || 'N/A'}}\\n                    </span>\\n        </p>\\n\\n        <p\\n          layout=\\\"row\\\"\\n          layout-align=\\\"start center\\\">\\n                    <span localize\\n                          flex=\\\"none\\\"\\n                          class=\\\"sb-list-item-regular\\\">\\n                        __MSG_educationalStageLabel__\\n                    </span>\\n          <span class=\\\"sb-list-item-subname\\\"\\n                flex=\\\"grow\\\">\\n                        :&nbsp;{{ curriculum.educational_stage.name }}\\n                    </span>\\n        </p>\\n      </div>\\n\\n      <md-menu>\\n        <md-button\\n          class=\\\"md-icon-button\\\"\\n          ng-click=\\\"$mdMenu.open($event)\\\">\\n          <md-icon>more_vert</md-icon>\\n        </md-button>\\n        <md-menu-content width=\\\"3\\\">\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.addCurriculumToClassroom(curriculum, 'shared')\\\"\\n              localize>\\n              __MSG_addCurriculumToClassroom__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.showEditCurriculumDialog(curriculum, 'shared')\\\"\\n              localize>\\n              __MSG_editCourse__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-divider></md-menu-divider>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.showMakeCurriculumPrivateDialog(curriculum, 'shared')\\\"\\n              localize>\\n              __MSG_makeCurriculumPrivate__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.showMakeCurriculumPublicInMySchoolDialog(curriculum, 'shared')\\\"\\n              localize>\\n              __MSG_makeCurriculumPublic__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-divider></md-menu-divider>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.removeCurriculumFromLibrary(curriculum, 'shared')\\\"\\n              localize>\\n              __MSG_deleteCurriculum__\\n            </md-button>\\n          </md-menu-item>\\n        </md-menu-content>\\n      </md-menu>\\n    </md-list-item>\\n  </md-list>\\n</div>\\n\\n<div\\n  class=\\\"curriculum-library-dialog--no-content\\\"\\n  ng-if=\\\"$ctrl.libraryCurriculums.private.length === 0 &&\\n         $ctrl.libraryCurriculums.public.length === 0 &&\\n         $ctrl.libraryCurriculums.shared.length === 0\\\"\\n  layout=\\\"column\\\"\\n  layout-align=\\\"center center\\\">\\n  <div class=\\\"sb-ico\\n                sb-ico__course\\n                sb-ico__big\\\"></div>\\n  <div\\n    class=\\\"curriculum-library-dialog--no-content--text\\\"\\n    localize>\\n    __MSG_noCurriculumsInLibrary__\\n  </div>\\n</div>\\n\";","export default \"<extended-view-container hide-toolbar=\\\"$ctrl.hideToolbar\\\">\\n  <toolbar flex\\n           layout=\\\"row\\\"\\n           layout-align=\\\"space-between center\\\">\\n    <md-button class=\\\"md-icon-button\\\">\\n      <md-icon class=\\\"material-icons\\\"\\n               ng-click=\\\"$ctrl.closeCourseView()\\\">close\\n      </md-icon>\\n    </md-button>\\n\\n    <div class=\\\"md-menu-wrapper\\\">\\n      <md-menu flex=\\\"nogrow\\\">\\n        <md-button class=\\\"md-icon-button\\\"\\n                   ng-click=\\\"$mdMenu.open($event)\\\">\\n          <md-icon>more_vert</md-icon>\\n        </md-button>\\n\\n        <md-menu-content width=\\\"3\\\">\\n          <md-menu-item>\\n            <md-button ng-click=\\\"$ctrl.addNewObjective()\\\"\\n                       localize>\\n              __MSG_addNewObjective__\\n            </md-button>\\n          </md-menu-item>\\n\\n          <md-menu-item>\\n            <md-button ng-click=\\\"$ctrl.openSaveCourseToLibraryDialog()\\\"\\n                       localize>\\n              __MSG_saveToMyCurriculumLibrary__\\n            </md-button>\\n          </md-menu-item>\\n\\n          <!--\\n              for now this is the only way how we can check whether it's possible to\\n              edit the course name or not\\n          -->\\n          <md-menu-item ng-if=\\\"$ctrl.course.type === 0\\\">\\n            <md-button ng-click=\\\"$ctrl.openEditCourseDialog()\\\"\\n                       localize>\\n              __MSG_editCourse__\\n            </md-button>\\n          </md-menu-item>\\n        </md-menu-content>\\n      </md-menu>\\n    </div>\\n  </toolbar>\\n\\n  <extended-view-top-whiteframe>\\n    <div flex\\n         layout=\\\"row\\\">\\n      <div class=\\\"sb-photo-placeholder layout-align-center-center layout-row\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"center center\\\">\\n        <md-icon class=\\\"sb-icon__big sb-icon__class material-icons\\\"\\n                 role=\\\"img\\\"\\n                 aria-label=\\\"class\\\">\\n          class\\n        </md-icon>\\n      </div>\\n      <div flex-auto\\n           layout=\\\"column\\\"\\n           layout-align=\\\"start start\\\">\\n\\n        <long-text-tooltip text=\\\"$ctrl.course.name\\\">\\n                    <span class=\\\"md-display-1 cm-heading\\\">\\n                            {{ $ctrl.curriculum.name }}\\n                    </span>\\n        </long-text-tooltip>\\n\\n        <span class=\\\"cm-course-code\\\">{{ $ctrl.course.code }}</span>\\n        <span class=\\\"cm-rubric-name\\\">{{ $ctr.course.rubric }}</span>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"sb-course-assessment__course-grade cm-course-assesment__course-grade\\\"\\n         layout=\\\"row\\\">\\n      <div class=\\\"md-body-2 sb-subheading sb-course-assessment__meta-heading\\\"\\n           flex=\\\"35\\\"\\n           localize>\\n        __MSG_courseDetailsLabel__\\n      </div>\\n\\n      <div class=\\\"sb-course-assessment__meta cm-course-grades\\\"\\n           flex=\\\"65\\\">\\n        <div layout=\\\"row\\\"\\n             layout-align=\\\"end center\\\">\\n\\n          <object-details-toggle object=\\\"$ctrl.course\\\"\\n                                 on-details-toggle=\\\"$root.toggleObject($ctrl.course)\\\">\\n          </object-details-toggle>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <course-definition-details class=\\\"course-definition-details\\\"\\n                               ng-if=\\\"$ctrl.course.open\\\"\\n                               course=\\\"$ctrl.course\\\"\\n                               on-update=\\\"$ctrl.update(course)\\\">\\n    </course-definition-details>\\n\\n  </extended-view-top-whiteframe>\\n\\n  <div ui-view=\\\"details\\\"></div>\\n\\n  <div ng-transclude></div>\\n\\n</extended-view-container>\\n\\n<saving-indicator></saving-indicator>\\n\";","export default \"<div flex\\n     layout=\\\"row\\\"\\n     layout-align=\\\"start center\\\">\\n  <md-subheader class=\\\"md-no-sticky sb-subheading help-button\\\"\\n                localize>\\n    __MSG_learnignObjectivesLabel__\\n  </md-subheader>\\n<!--  <help-button class=\\\"black\\\"-->\\n<!--               link=\\\"teacherCurriculumsContentHelpButtonUrl\\\"></help-button>-->\\n</div>\\n\\n<cm-teacher-objectives-toolbar class=\\\"sb-panel-shadow\\\">\\n  <md-menu>\\n    <md-button class=\\\"md-icon-button\\\"\\n               ng-click=\\\"$mdMenu.open($event)\\\">\\n      <md-icon>more_vert</md-icon>\\n    </md-button>\\n    <md-menu-content class=\\\"course-management\\\">\\n      <md-menu-label>{{ ::'teacherCurriculumObjectivesToolbarMenuLabel' | localize }}</md-menu-label>\\n      <md-menu-item ng-repeat=\\\"toolbarMenuItem in ::$ctrl.toolbarMenuItems track by toolbarMenuItem.id\\\">\\n        <md-button ng-click=\\\"$ctrl.onClickMenuItem(toolbarMenuItem);\\\">\\n          <md-icon ng-visible=\\\"toolbarMenuItem.checked\\\">check</md-icon>\\n          {{ ::toolbarMenuItem.label | localize }}\\n        </md-button>\\n      </md-menu-item>\\n    </md-menu-content>\\n  </md-menu>\\n</cm-teacher-objectives-toolbar>\\n\\n<cm-teacher-objectives-list course=\\\"::$ctrl.course\\\"\\n                            view=\\\"$ctrl.view\\\"></cm-teacher-objectives-list>\\n\";","export default \"<accordion class=\\\"sb-panel-shadow\\\"\\n           ng-if=\\\"$ctrl.objectives.length\\\"\\n           ng-repeat=\\\"objective in $ctrl.objectives track by objective.id\\\"\\n           open=\\\"objective.$open\\\">\\n  <accordion-header>\\n    <div ng-if=\\\"$ctrl.listViewType.DESCRIPTION_ONLY === $ctrl.view\\\">\\n      <span class=\\\"description\\\"\\n            ng-bind-html=\\\"objective.description | getFormattedOrEmpty\\\">\\n      </span>\\n    </div>\\n    <div ng-if=\\\"$ctrl.listViewType.TITLE_AND_DESCRIPTION === $ctrl.view\\\">\\n      {{ objective.name }}\\n      <span class=\\\"description\\\"\\n            ng-bind-html=\\\"objective.description | getFormattedOrEmpty\\\">\\n      </span>\\n    </div>\\n    <div ng-if=\\\"$ctrl.listViewType.TITLE_ONLY === $ctrl.view\\\">\\n      {{ objective.name }}\\n    </div>\\n    <accordion-header-menu>\\n      <md-menu>\\n        <md-button class=\\\"md-icon-button\\\"\\n                   ng-click=\\\"$mdMenu.open($event)\\\">\\n          <md-icon>more_vert</md-icon>\\n        </md-button>\\n        <md-menu-content>\\n          <md-menu-item>\\n            <md-button ng-click=\\\"$ctrl.onClickDelete(objective)\\\">\\n              {{ ::'deleteObjectiveOption' | localize }}\\n            </md-button>\\n          </md-menu-item>\\n        </md-menu-content>\\n      </md-menu>\\n    </accordion-header-menu>\\n  </accordion-header>\\n  <cm-objective-details objective=\\\"::objective\\\"\\n                        course=\\\"::$ctrl.course\\\">\\n  </cm-objective-details>\\n  <accordion-footer>\\n    <div flex=\\\"100\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"end center\\\">\\n      <md-button class=\\\"sb-button\\\"\\n                 ng-click=\\\"objective.$open = false\\\"\\n                 localize>\\n        __MSG_closeBtn__\\n      </md-button>\\n    </div>\\n  </accordion-footer>\\n</accordion>\\n<cm-empty-objectives-list ng-if=\\\"!$ctrl.objectives.length\\\"></cm-empty-objectives-list>\\n\";","export default \"<div class=\\\"content\\\" ng-transclude></div>\\n\";","export default \"<div\\n    ng-if=\\\"$ctrl.curriculums.length === 0\\\"\\n    flex\\n    layout=\\\"column\\\"\\n    layout-align=\\\"center center\\\"\\n    class=\\\"sb-cm-no-courses-container\\\">\\n    <i class=\\\"material-icons\\n              sb-cm-no-courses-icon\\\">\\n              class\\n    </i>\\n    <span\\n        localize\\n        class=\\\"sb-cm-no-courses-label\\\">\\n        __MSG_noCoursesInClassroomPage__\\n    </span>\\n</div>\\n\\n<md-list\\n    flex\\n    class=\\\"sb-list\\\"\\n    ng-if=\\\"$ctrl.curriculums.length > 0\\\">\\n\\n    <md-list-item\\n        layout=\\\"row\\\"\\n        layout-align=\\\"space-between center\\\"\\n        class=\\\"cm-courses-list__container\\n               sb-border-bottom\\\"\\n        ng-repeat=\\\"curriculum in $ctrl.curriculums track by curriculum.id\\\"\\n        ng-class=\\\"{'course-active': curriculum.id === $ctrl.selectedCurriculum.id }\\\"\\n        ng-click=\\\"$ctrl.navigateToCourseDetails(curriculum)\\\">\\n        <div\\n            flex\\n            class=\\\"sb-list-item\\n                   cm-courses-list\\\"\\n            layout=\\\"column\\\"\\n            layout-align=\\\"center start\\\">\\n            <!-- here this is always a course.name property -->\\n          <long-text-tooltip text=\\\"course.name\\\">\\n            <span class=\\\"cm-courses-list__course-name\\\">\\n                {{ curriculum.name }}\\n            </span>\\n          </long-text-tooltip>\\n\\n            <!-- show code if course code available -->\\n          <long-text-tooltip text=\\\"course.code\\\" ng-if=\\\"curriculum.code\\\">\\n            <span class=\\\"cm-courses-list__sub-info cm-courses-list__sub-info--first\\\">\\n                {{ curriculum.code }}\\n            </span>\\n          </long-text-tooltip>\\n        </div>\\n\\n        <md-menu md-offset=\\\"0 -80\\\">\\n            <md-button\\n                class=\\\"md-icon-button\\\"\\n                ng-click=\\\"$mdMenu.open($event)\\\"\\n                localize>\\n                <md-icon>more_vert</md-icon>\\n            </md-button>\\n\\n            <md-menu-content width=\\\"3\\\">\\n                <md-menu-item>\\n                    <md-button\\n                        ng-click=\\\"$ctrl.openSaveCourseToLibraryDialog(curriculum)\\\"\\n                        localize>\\n                        __MSG_saveToMyCurriculumLibrary__\\n                    </md-button>\\n                </md-menu-item>\\n\\n                <!--\\n                    for now this is the only way how we can check whether it's possible to\\n                    edit the course name or not\\n                -->\\n                <md-menu-item\\n                    ng-if=\\\"course.type === 0\\\">\\n                    <md-button\\n                        ng-click=\\\"$ctrl.openEditCourseDialog(curriculum)\\\"\\n                        localize>\\n                        __MSG_editCourse__\\n                    </md-button>\\n                </md-menu-item>\\n\\n                <md-menu-item>\\n                    <md-button\\n                        ng-click=\\\"$ctrl.deleteCourse(curriculum)\\\"\\n                        localize>\\n                        __MSG_deleteThisCourse__\\n                    </md-button>\\n                </md-menu-item>\\n            </md-menu-content>\\n        </md-menu>\\n    </md-list-item>\\n</md-list>\\n\";","export default \"<div class=\\\"md-no-sticky sb-subheading emptyList md-subheader _md\\\"\\n     role=\\\"heading\\\"\\n     aria-level=\\\"2\\\">\\n  <div class=\\\"md-subheader-inner\\\">\\n    <div class=\\\"md-subheader-content\\\"\\n         localize>\\n      __MSG_curriculumObjectivesListIsEmpty__\\n    </div>\\n  </div>\\n</div>\\n\";","export default \"<md-input-container class=\\\"md-block\\\">\\n  <label>{{ $ctrl.label | localize}}</label>\\n  <textarea md-detect-hidden=\\\"true\\\"\\n            ng-model=\\\"$ctrl.ngModel.$viewValue\\\"\\n            ng-change=\\\"$ctrl.ngModel.$setViewValue($ctrl.ngModel.$viewValue)\\\"\\n            ng-readonly=\\\"$ctrl.readonly\\\"\\n            ng-disabled=\\\"$ctrl.readonly\\\">\\n      </textarea>\\n  <md-icon ng-if=\\\"!$ctrl.isPublished\\\">visibility_off</md-icon>\\n</md-input-container>\\n\";","import angular, { IModule } from 'angular';\nimport uiRouter from '@uirouter/angularjs';\nimport { StudentAssessAssignmentRouting } from './studentAssessAssignment.routing';\n\nexport const StudentAssessAssignmentModule: IModule = angular\n  .module('app.assignments.studentAssessAssignment', [uiRouter])\n  .config(StudentAssessAssignmentRouting);\n\nexport default StudentAssessAssignmentModule.name;\nexport * from './studentAssessAssignment.component';\n","export default \"<div layout=\\\"column\\\"\\n     layout-fill>\\n  <md-toolbar class=\\\"sb-toolbar\\\"\\n              flex=\\\"nogrow\\\">\\n    <div class=\\\"md-toolbar-tools\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"start center\\\">\\n\\n      <menu-toggle ng-if=\\\"!$ctrl.isModal\\\"></menu-toggle>\\n\\n      <md-button class=\\\"md-icon-button\\\"\\n                 aria-label=\\\"__MSG_goBackBtn__\\\"\\n                 ng-click=\\\"$ctrl.historyBack()\\\"\\n                 ng-if=\\\"$ctrl.isModal\\\"\\n                 localize>\\n        <md-icon>\\n          arrow_back\\n        </md-icon>\\n      </md-button>\\n\\n      <div flex\\n           layout=\\\"column\\\"\\n           layout-align=\\\"center start\\\">\\n        <p class=\\\"sb-toolbar-page-name\\\"\\n           localize>\\n          <span>{{:: $ctrl.isAssignmentConfigure() ? 'assessedPage' : 'notAssessedPage' | localize}}</span>\\n        </p>\\n        <p class=\\\"sb-toolbar-title\\\">{{ ::$ctrl.assignment.assignment_title }}</p>\\n      </div>\\n<!--      <help-button link=\\\"studentAssignmentAssessmentsHelpButtonUrl\\\"></help-button>-->\\n      <md-menu ng-show=\\\"::$ctrl.isAssignmentConfigure()\\\">\\n        <md-button class=\\\"md-icon-button\\\"\\n                   aria-label=\\\"__MSG_actionMenuBtn__\\\"\\n                   ng-click=\\\"$mdMenu.open($event)\\\"\\n                   localize>\\n          <md-icon>\\n            more_vert\\n          </md-icon>\\n        </md-button>\\n\\n        <md-menu-content class=\\\"assignment\\\">\\n          <md-menu-label>\\n            {{ ::'teacherAssignmentToolbarMenuLearningObjectiveLabel' | localize }}\\n          </md-menu-label>\\n          <md-menu-item ng-repeat=\\\"toolbarMenuItem in ::$ctrl.viewMenuItems track by toolbarMenuItem.id\\\">\\n            <md-button ng-click=\\\"$ctrl.onClickMenuItem(toolbarMenuItem);\\\">\\n              <md-icon ng-visible=\\\"toolbarMenuItem.checked\\\">check</md-icon>\\n              {{ ::toolbarMenuItem.label | localize }}\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-label ng-show=\\\"::$ctrl.isGradeDescriptionEnable\\\">\\n            {{ ::'teacherAssignmentToolbarMenuGradeTextLabel' | localize }}\\n          </md-menu-label>\\n          <md-menu-item ng-show=\\\"::$ctrl.isGradeDescriptionEnable\\\">\\n            <md-button ng-click=\\\"$ctrl.showGradeDescription()\\\">\\n              <md-icon ng-visible=\\\"$ctrl.isGradeDescriptionVisible\\\">check</md-icon>\\n              {{ ::'teacherAssignmentToolbarMenuItemShowGradeTextLabel' | localize }}\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-item ng-show=\\\"::$ctrl.isGradeDescriptionEnable\\\">\\n            <md-button ng-click=\\\"$ctrl.hideGradeDescription()\\\">\\n              <md-icon ng-visible=\\\"!$ctrl.isGradeDescriptionVisible\\\">check</md-icon>\\n              {{ ::'teacherAssignmentToolbarMenuItemHideGradeTextLabel' | localize }}\\n            </md-button>\\n          </md-menu-item>\\n        </md-menu-content>\\n      </md-menu>\\n    </div>\\n  </md-toolbar>\\n\\n  <loader></loader>\\n\\n\\n  <div class=\\\"sb-hidden-x-scroll secondary-bg\\\"\\n       ng-show=\\\"::$ctrl.isAssignmentConfigure()\\\">\\n    <md-subheader aria-label=\\\"__MSG_overallResultHeaderStudent__\\\"\\n                  class=\\\"course-name\\\"\\n                  localize\\n                  ng-hide=\\\"!$ctrl.assignment.result_published && !$ctrl.assignment.feedback_published\\\"\\n                  >__MSG_overallResultHeaderStudent__\\n    </md-subheader>\\n      <md-card class=\\\"content overall\\\"\\n           ng-show=\\\"::$ctrl.isAssignmentConfigure()\\\"\\n            ng-hide=\\\"!$ctrl.assignment.result_published && !$ctrl.assignment.feedback_published\\\">\\n        <student-assignment-textarea label=\\\"'resultsInput'\\\"\\n                                     is-published=\\\"$ctrl.assignment.result_published\\\"\\n                                     ng-model=\\\"$ctrl.assignment.result\\\"\\n                                     ng-hide=\\\"!$ctrl.assignment.result_published\\\"\\n                                     readonly>\\n        </student-assignment-textarea>\\n        <student-assignment-textarea label=\\\"::$ctrl.assignment.feedback_published ? 'overallFeedbackInput' : 'invisibleOverallFeedbackInput'\\\"\\n                                     is-published=\\\"$ctrl.assignment.feedback_published\\\"\\n                                     ng-model=\\\"$ctrl.assignment.feedback\\\"\\n                                     ng-hide=\\\"!$ctrl.assignment.feedback_published\\\"\\n                                     readonly>\\n        </student-assignment-textarea>\\n      </md-card>\\n\\n    <section class=\\\"course-definition\\\"\\n             ng-repeat=\\\"courseDefinition in ::$ctrl.assignment.course_definitions track by courseDefinition.id\\\">\\n      <md-subheader class=\\\"md-no-sticky course-name\\\">{{ ::courseDefinition.name }}</md-subheader>\\n      <section ng-repeat=\\\"objective in ::courseDefinition.objectives track by objective.id\\\">\\n        <md-card class=\\\"content objective\\\">\\n          <header>\\n          <div class=\\\"grade-info-wrapper\\\"\\n               objective-id-path=\\\"objective\\\"\\n               objective-knowledge-requirements>\\n              <h1>{{ ::objective.name }}</h1>\\n          </div>\\n          <h4 ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n              ng-if=\\\"$ctrl.isDescriptionVisible(objective.description)\\\"></h4>\\n        </header>\\n\\n        <div class=\\\"grade\\\"\\n             ng-hide=\\\"::!objective.objective_assessments.grade_published\\\"\\n             ng-class=\\\"::{\\n             slider: !objective.objective_assessments.grade_system_is_counter,\\n             counter: objective.objective_assessments.grade_system_is_counter,\\n             'not-published': !objective.objective_assessments.grade_published\\n             }\\\">\\n          <single-slider class=\\\"sb-nouislider flex\\\"\\n                         grade-system=\\\"$ctrl.assignment.grade_system\\\"\\n                         auto-width=\\\"true\\\"\\n                         ng-model=\\\"objective.objective_assessments.grade_name\\\"\\n                         ng-update=\\\"$ctrl.updateDescription(event, objective)\\\"\\n                         ng-if=\\\"::!objective.objective_assessments.grade_system_is_counter\\\"\\n                         data-disabled=\\\"true\\\">\\n          </single-slider>\\n\\n          <counters class=\\\"counters\\\"\\n                    grade-system=\\\"$ctrl.assignment.grade_system\\\"\\n                    ng-model=\\\"objective.objective_assessments.counter_grades\\\"\\n                    assignment=\\\"objective.objective_assessments\\\"\\n                    ng-if=\\\"::objective.objective_assessments.grade_system_is_counter\\\"\\n                    data-disabled=\\\"true\\\">\\n          </counters>\\n\\n          <md-icon ng-hide=\\\"::objective.objective_assessments.grade_published\\\">\\n            visibility_off\\n          </md-icon>\\n\\n          <assignment-grade-text text=\\\"objective.gradeText\\\"\\n                                 ng-show=\\\"$ctrl.isGradeTextVisible(objective)\\\">\\n          </assignment-grade-text>\\n        </div>\\n        <div class=\\\"notes\\\">\\n          <student-assignment-textarea label=\\\"::objective.objective_assessments.feedback_published ? 'objectiveFeedbackInput' : 'invisibleObjectiveFeedbackInput'\\\"\\n                                       is-published=\\\"objective.objective_assessments.feedback_published\\\"\\n                                       ng-model=\\\"objective.objective_assessments.feedback\\\"\\n                                       ng-hide=\\\"::!objective.objective_assessments.grade_published\\\"\\n                                       readonly>\\n          </student-assignment-textarea>\\n          <student-assignment-textarea label=\\\"'teacherSelfAssessmentLabel'\\\"\\n                                       ng-model=\\\"objective.objective_assessments.self_assessment\\\"\\n                                       ng-model-options='{ debounce: 1000 }'\\n                                       mixpanel-text-event=\\\"student_self_assessment_on_objective\\\"\\n                                       ng-change=\\\"$ctrl.updateObjectiveAssessmentProperty(objective, $ctrl.assignment)\\\">\\n          </student-assignment-textarea>\\n        </div>\\n        </md-card>\\n      </section>\\n    </section>\\n  </div>\\n  <md-card>\\n  <md-content flex\\n              class=\\\"sb-hidden-x-scroll sb-not-configured-yet\\\"\\n              ng-hide=\\\"::$ctrl.isAssignmentConfigure()\\\">\\n    <div layout-padding>\\n      <p flex\\n         class=\\\"sb-parent-item-name\\\"\\n         localize>__MSG_objectivesText__</p>\\n      <p class=\\\"sb-child-item-name\\\"\\n         localize>__MSG_noObjectivesForAssignment__</p>\\n    </div>\\n  </md-content>\\n  </md-card>\\n</div>\\n\\n<knowledge-requirements trigger=\\\"$ctrl.triggerKnowledgeRequirements\\\"\\n                        objective-id=\\\"$ctrl.objectiveKnowledgeRequirements.id\\\">\\n</knowledge-requirements>\\n\";","import angular, { IModule } from 'angular';\nimport uiRouter from '@uirouter/angularjs';\nimport { StudentAssessAssignmentDriveRouting } from './studentAssessAssignmentDrive.routing';\n\nexport const StudentAssessAssignmentDriveModule: IModule = angular\n  .module('app.assignments.StudentAssessAssignmentDrive', [uiRouter])\n  .config(StudentAssessAssignmentDriveRouting);\n\nexport default StudentAssessAssignmentDriveModule.name;\nexport * from './studentAssessAssignmentDrive.component';\n","export default \"<div layout=\\\"column\\\"\\n     layout-fill>\\n  <md-toolbar class=\\\"sb-toolbar\\\"\\n              flex=\\\"nogrow\\\">\\n    <div class=\\\"md-toolbar-tools\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"start center\\\">\\n\\n      <div flex\\n           layout=\\\"column\\\"\\n           layout-align=\\\"center start\\\">\\n        <p class=\\\"sb-toolbar-page-name\\\"\\n           localize>\\n          <span>{{ $ctrl.isSelectedAssignmentConfigure() ? 'assessedPage' : 'notAssessedPage' | localize}}</span>\\n        </p>\\n\\n        <md-input-container\\n          class=\\\"sb-toolbar-select sb-select-toolbar-20 sb-select-toolbar-up\\\">\\n          <md-select\\n            aria-label=\\\"__MSG_assignmentSelected__\\\"\\n            ng-model=\\\"$ctrl.assignmentSelected\\\"\\n            ng-model-options=\\\"{ trackBy: '$value.id' }\\\"\\n            localize>\\n            <md-option ng-value=\\\"assignment\\\"\\n                       ng-repeat=\\\"assignment in $ctrl.assignments\\\">\\n              {{ ::assignment.assignment_title }}\\n            </md-option>\\n          </md-select>\\n        </md-input-container>\\n      </div>\\n      <div class=\\\"white-space-no-wrap\\\"\\n           flex=\\\"nogrow\\\"\\n           align=\\\"row\\\"\\n           layout-align=\\\"end center\\\">\\n<!--        <help-button link=\\\"studentAssignmentsDriveSingleStudentEditHeaderHelpButtonUrl\\\"></help-button>-->\\n        <md-menu ng-show=\\\"::$ctrl.isSelectedAssignmentConfigure()\\\">\\n          <md-button\\n            aria-label=\\\"__MSG_actionMenuBtn__\\\"\\n            class=\\\"md-icon-button\\\"\\n            ng-click=\\\"$mdMenu.open($event)\\\"\\n            localize>\\n            <md-icon>\\n              more_vert\\n            </md-icon>\\n          </md-button>\\n\\n          <md-menu-content class=\\\"assignment\\\">\\n            <md-menu-label>\\n              {{ ::'teacherAssignmentToolbarMenuLearningObjectiveLabel' | localize }}\\n            </md-menu-label>\\n            <md-menu-item ng-repeat=\\\"toolbarMenuItem in ::$ctrl.viewMenuItems track by toolbarMenuItem.id\\\">\\n              <md-button ng-click=\\\"$ctrl.onClickMenuItem(toolbarMenuItem);\\\">\\n                <md-icon ng-visible=\\\"toolbarMenuItem.checked\\\">check</md-icon>\\n                {{ ::toolbarMenuItem.label | localize }}\\n              </md-button>\\n            </md-menu-item>\\n            <md-menu-label ng-show=\\\"::$ctrl.isGradeDescriptionEnable\\\">\\n              {{ ::'teacherAssignmentToolbarMenuGradeTextLabel' | localize }}\\n            </md-menu-label>\\n            <md-menu-item ng-show=\\\"::$ctrl.isGradeDescriptionEnable\\\">\\n              <md-button ng-click=\\\"$ctrl.showGradeDescription()\\\">\\n                <md-icon ng-visible=\\\"$ctrl.isGradeDescriptionVisible\\\">check</md-icon>\\n                {{ ::'teacherAssignmentToolbarMenuItemShowGradeTextLabel' | localize }}\\n              </md-button>\\n            </md-menu-item>\\n            <md-menu-item ng-show=\\\"::$ctrl.isGradeDescriptionEnable\\\">\\n              <md-button ng-click=\\\"$ctrl.hideGradeDescription()\\\">\\n                <md-icon ng-visible=\\\"!$ctrl.isGradeDescriptionVisible\\\">check</md-icon>\\n                {{ ::'teacherAssignmentToolbarMenuItemHideGradeTextLabel' | localize }}\\n              </md-button>\\n            </md-menu-item>\\n          </md-menu-content>\\n        </md-menu>\\n      </div>\\n    </div>\\n  </md-toolbar>\\n\\n  <loader></loader>\\n\\n  <div class=\\\"content overall\\\"\\n       ng-show=\\\"::$ctrl.isSelectedAssignmentConfigure()\\\">\\n    <student-assignment-textarea label=\\\"'resultsInput'\\\"\\n                                 is-published=\\\"$ctrl.assignmentSelected.result_published\\\"\\n                                 ng-model=\\\"$ctrl.assignmentSelected.result\\\"\\n                                 readonly>\\n    </student-assignment-textarea>\\n    <student-assignment-textarea label=\\\"::$ctrl.assignmentSelected.feedback_published ? 'overallFeedbackInput' : 'invisibleOverallFeedbackInput'\\\"\\n                                 is-published=\\\"$ctrl.assignmentSelected.feedback_published\\\"\\n                                 ng-model=\\\"$ctrl.assignmentSelected.feedback\\\"\\n                                 readonly>\\n    </student-assignment-textarea>\\n  </div>\\n  <div class=\\\"content sb-hidden-x-scroll\\\"\\n       ng-show=\\\"::$ctrl.isSelectedAssignmentConfigure()\\\">\\n    <section class=\\\"course-definition\\\"\\n             ng-repeat=\\\"courseDefinition in ::$ctrl.assignmentSelected.course_definitions track by courseDefinition.id\\\">\\n      <header>\\n        <long-text-tooltip text=\\\"::courseDefinition.name\\\">\\n          <h1>{{ ::courseDefinition.name }}</h1>\\n        </long-text-tooltip>\\n        <long-text-tooltip text=\\\"::courseDefinition.code\\\">\\n          <h1>{{ ::courseDefinition.code }}</h1>\\n        </long-text-tooltip>\\n      </header>\\n      <section class=\\\"objective\\\"\\n               ng-repeat=\\\"objective in ::courseDefinition.objectives track by objective.id\\\">\\n        <header>\\n          <div class=\\\"grade-info-wrapper\\\"\\n               objective-id-path=\\\"objective\\\"\\n               objective-knowledge-requirements>\\n            <long-text-tooltip text=\\\"::objective.name\\\"\\n                               ng-if=\\\"$ctrl.isTitleVisible(objective.name)\\\">\\n              <h1>{{ ::objective.name }}</h1>\\n            </long-text-tooltip>\\n\\n          </div>\\n          <h4 ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n              ng-if=\\\"$ctrl.isDescriptionVisible(objective.description)\\\"></h4>\\n        </header>\\n        <div class=\\\"grade\\\"\\n             ng-class=\\\"::{\\n             slider: !objective.objective_assessments.grade_system_is_counter,\\n             counter: objective.objective_assessments.grade_system_is_counter,\\n             'not-published': !objective.objective_assessments.grade_published\\n             }\\\">\\n          <single-slider class=\\\"sb-nouislider flex\\\"\\n                         grade-system=\\\"$ctrl.assignmentSelected.grade_system\\\"\\n                         auto-width=\\\"true\\\"\\n                         ng-model=\\\"objective.objective_assessments.grade_name\\\"\\n                         ng-update=\\\"$ctrl.updateDescription(event, objective)\\\"\\n                         ng-if=\\\"::!objective.objective_assessments.grade_system_is_counter\\\"\\n                         data-disabled=\\\"true\\\">\\n          </single-slider>\\n\\n          <counters class=\\\"counters\\\"\\n                    grade-system=\\\"$ctrl.assignmentSelected.grade_system\\\"\\n                    ng-model=\\\"objective.objective_assessments.counter_grades\\\"\\n                    assignment=\\\"objective.objective_assessments\\\"\\n                    ng-if=\\\"::objective.objective_assessments.grade_system_is_counter\\\"\\n                    data-disabled=\\\"true\\\">\\n          </counters>\\n\\n          <md-icon ng-hide=\\\"::objective.objective_assessments.grade_published\\\">\\n            visibility_off\\n          </md-icon>\\n\\n          <assignment-grade-text text=\\\"objective.gradeText\\\"\\n                                 ng-show=\\\"$ctrl.isGradeTextVisible(objective)\\\">\\n          </assignment-grade-text>\\n        </div>\\n        <div class=\\\"notes\\\">\\n          <student-assignment-textarea label=\\\"::objective.objective_assessments.feedback_published ? 'objectiveFeedbackInput' : 'invisibleObjectiveFeedbackInput'\\\"\\n                                       is-published=\\\"objective.objective_assessments.feedback_published\\\"\\n                                       ng-model=\\\"objective.objective_assessments.feedback\\\"\\n                                       readonly>\\n          </student-assignment-textarea>\\n          <student-assignment-textarea label=\\\"'teacherSelfAssessmentLabel'\\\"\\n                                       ng-model=\\\"objective.objective_assessments.self_assessment\\\"\\n                                       ng-model-options='{ debounce: 1000 }'\\n                                       ng-change=\\\"$ctrl.updateObjectiveAssessmentProperty(objective, $ctrl.assignmentSelected)\\\">\\n          </student-assignment-textarea>\\n        </div>\\n      </section>\\n    </section>\\n  </div>\\n\\n  <md-content flex\\n              class=\\\"sb-hidden-x-scroll sb-not-configured-yet\\\"\\n              ng-hide=\\\"::$ctrl.isSelectedAssignmentConfigure()\\\">\\n    <div layout-padding>\\n      <p flex\\n         class=\\\"sb-parent-item-name\\\"\\n         localize>__MSG_objectivesText__</p>\\n      <p class=\\\"sb-child-item-name\\\"\\n         localize>__MSG_noObjectivesForAssignment__</p>\\n    </div>\\n  </md-content>\\n</div>\\n\\n\\n<knowledge-requirements trigger=\\\"$ctrl.triggerKnowledgeRequirements\\\"\\n                        objective-id=\\\"$ctrl.objectiveKnowledgeRequirements.id\\\">\\n</knowledge-requirements>\\n\";","export default \"<div class=\\\"label\\\"\\n     ng-show=\\\"$ctrl.assignments.length\\\"\\n     ng-bind-html=\\\"::$ctrl.label | localize\\\"></div>\\n<div class=\\\"item\\\"\\n     md-ink-ripple=\\\"#000000\\\"\\n     ng-repeat=\\\"assignment in $ctrl.assignments track by assignment.id\\\"\\n     ng-click=\\\"$ctrl.goToAssignmentDetails(assignment)\\\">\\n  <div class=\\\"tooltip-wrapper\\\">\\n    <md-tooltip md-z-index=\\\"1006\\\"\\n                md-direction=\\\"top\\\"\\n                ng-bind=\\\"::$ctrl.getIconTooltip(assignment)\\\">\\n    </md-tooltip>\\n    <assignment-icon-type assignment=\\\"assignment\\\"></assignment-icon-type>\\n  </div>\\n  <long-text-tooltip text=\\\"::assignment.title\\\">\\n    <div class=\\\"title\\\">{{ ::assignment.assignment_title }}</div>\\n  </long-text-tooltip>\\n  <div class=\\\"toolbar\\\">\\n    <assignment-status-icon status=\\\"assignment.status\\\"></assignment-status-icon>\\n  </div>\\n</div>\\n\";","export default \"<div layout=\\\"column\\\"\\n     layout-fill>\\n<!--  <md-toolbar flex=\\\"nogrow\\\"-->\\n<!--              class=\\\"sb-toolbar\\\">-->\\n\\n    <rapp data=\\\"$root\\\" ctrl=\\\"$ctrl\\\" view=\\\"'assignments'\\\" student=\\\"true\\\"/>\\n<!--    <div-->\\n<!--      layout=\\\"row\\\"-->\\n<!--      layout-align=\\\"start center\\\"-->\\n<!--      class=\\\"md-toolbar-tools\\\">-->\\n<!--      <menu-toggle></menu-toggle>-->\\n\\n<!--      <div flex-->\\n<!--           layout=\\\"column\\\"-->\\n<!--           layout-align=\\\"center start\\\">-->\\n<!--        <p class=\\\"sb-toolbar-title\\\"-->\\n<!--           localize>__MSG_assignmentsPage__</p>-->\\n<!--      </div>-->\\n<!--      <help-button link=\\\"studentAssignmentStreamHelpButtonUrl\\\"></help-button>-->\\n<!--      <md-menu>-->\\n<!--        <md-button class=\\\"md-icon-button\\\"-->\\n<!--                   ng-click=\\\"$mdMenu.open()\\\">-->\\n<!--          <md-tooltip md-z-index=\\\"1016\\\"-->\\n<!--                      md-direction=\\\"bottom\\\"-->\\n<!--                      localize>__MSG_assignmentsActionMenuFilterTooltip__-->\\n<!--          </md-tooltip>-->\\n<!--          <md-icon md-menu-origin>filter_list</md-icon>-->\\n<!--        </md-button>-->\\n<!--        <md-menu-content class=\\\"teacher-assignments-action-menu\\\">-->\\n<!--          <md-menu-label class=\\\"green\\\"-->\\n<!--                         localize>-->\\n<!--            __MSG_assignmentsActionMenuFilterByLabel__-->\\n<!--          </md-menu-label>-->\\n<!--          <md-menu-item ng-repeat=\\\"filter in ::$ctrl.filters track by $index\\\">-->\\n<!--            <md-button class=\\\"checkbox\\\"-->\\n<!--                       ng-click=\\\"$ctrl.filter(filter);\\\"-->\\n<!--                       md-prevent-menu-close>-->\\n<!--              <md-checkbox ng-checked=\\\"$ctrl.isFilterSelected(filter)\\\">-->\\n<!--                {{ ::filter.label | localize }}-->\\n<!--              </md-checkbox>-->\\n<!--            </md-button>-->\\n<!--          </md-menu-item>-->\\n<!--        </md-menu-content>-->\\n<!--      </md-menu>-->\\n<!--      <md-menu>-->\\n<!--        <md-button class=\\\"md-icon-button\\\"-->\\n<!--                   ng-click=\\\"$mdMenu.open()\\\">-->\\n<!--          <md-icon md-menu-origin>sort</md-icon>-->\\n<!--        </md-button>-->\\n<!--        <md-menu-content class=\\\"teacher-assignments-action-menu\\\"-->\\n<!--                         width=\\\"3\\\">-->\\n<!--          <md-menu-label class=\\\"green\\\"-->\\n<!--                         localize>-->\\n<!--            __MSG_assignmentsActionMenuSortByLabel__-->\\n<!--          </md-menu-label>-->\\n<!--          <md-menu-item ng-repeat=\\\"sortingItem in ::$ctrl.assignmentsSort track by $index\\\">-->\\n<!--            <md-button ng-click=\\\"$ctrl.sortAssignments(sortingItem)\\\"-->\\n<!--                       localize>-->\\n<!--              <md-icon ng-visible=\\\"$ctrl.isAssignmentSortSelected(sortingItem)\\\">check</md-icon>-->\\n<!--              {{ ::sortingItem.label | localize }}-->\\n<!--            </md-button>-->\\n<!--          </md-menu-item>-->\\n<!--        </md-menu-content>-->\\n<!--      </md-menu>-->\\n<!--    </div>-->\\n<!--  </md-toolbar>-->\\n\\n<!--  <loader></loader>-->\\n\\n<!--  <md-content sticky-subheader-->\\n<!--              save-scroll-->\\n<!--              flex>-->\\n<!--    <div ui-view=\\\"assignments\\\"></div>-->\\n<!--  </md-content>-->\\n</div>\\n\";","export default \"<student-assignments-list label=\\\"teacherAssignmentAssessableGroupLabel\\\"\\n                          assignments=\\\"$ctrl.assignmentsGroup.assessable\\\"></student-assignments-list>\\n<student-assignments-list label=\\\"teacherAssignmentWithoutAssessmentCriteriaGroupLabel\\\"\\n                          assignments=\\\"$ctrl.assignmentsGroup.not_assessable\\\"></student-assignments-list>\\n\";","export default \"<div class=\\\"sb-pl-16 sb-ptb-8\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"start center\\\">\\n  <p class=\\\"sb-list-parent-item\\\"\\n     flex>\\n    <span localize>__MSG_noAssignmentsInThisStatus__</span>\\n  </p>\\n</div>\\n\";","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\nimport angular, { IModule } from 'angular';\n\nexport * from './teacherAssessAssignment.scss';\n\nexport const TeacherAssessAssignmentModule: IModule = angular\n  .module('app.assignments.teacherAssessAssignment', [])\n  .controller('teacherAssessAssignment.MainCtrl', require('./controllers/main.js'));\n\nexport default TeacherAssessAssignmentModule.name;\n\nexport * from './teacherAssessAssignment.service';\n","import angular, { IModule } from 'angular';\nimport uiRouter from '@uirouter/angularjs';\n\nexport * from './teacherAssessAssignmentDrive.scss';\n\nexport const TeacherAssessAssignmentDriveModule: IModule = angular\n  .module('app.assignments.teacherAssessAssignmentDrive', [\n    uiRouter\n  ])\n  .controller('teacherAssessAssignmentDrive.MainCtrl', require('./controllers/main.js'));\nexport default TeacherAssessAssignmentDriveModule.name;\n\nexport * from './teacherAssessAssignmentDrive.service';\n","/**\n * Represents a SingleCheckbox.\n * @constructor\n */\n\nfunction AssignmentSingleCheckbox() {}\n/**\n * Handle click on single checkbox - at the end function trigger checkboxCheckAll\n * @param {Object} singleItem Single item\n * @param {Object} allGroups List of all groups\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n */\nAssignmentSingleCheckbox.prototype.assignmentCheckboxSingle = function(singleItem, allGroups, editMultiple) {\n  singleItem.checked = !singleItem.checked;\n\n  this.assignmentCheckboxCheckAll(allGroups, editMultiple);\n};\n\n/**\n * Handle click on all checkbox which check or uncheck all checkboxes\n * @param {Array} allGroups List of all groups\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n */\nAssignmentSingleCheckbox.prototype.assignmentCheckboxAll = function(allGroups, editMultiple) {\n  editMultiple.checkboxChecked = !editMultiple.checkboxChecked;\n\n  if (editMultiple.checkboxChecked) {\n    allGroups.forEach(function(courseDefinition) {\n      courseDefinition.objectives.forEach(function(objective) {\n        objective.checked = true;\n      });\n    });\n  } else {\n    allGroups.forEach(function(courseDefinition) {\n      courseDefinition.objectives.forEach(function(objective) {\n        objective.checked = false;\n      });\n    });\n  }\n};\n\n/**\n * Check if all checkboxes are checked or unchecked\n * @param {Array} allGroups List of all groups\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n */\nAssignmentSingleCheckbox.prototype.assignmentCheckboxCheckAll = function(allGroups, editMultiple) {\n  var allCheckboxChecked = true;\n\n  allGroups.forEach(function(courseDefinition) {\n    courseDefinition.objectives.forEach(function(objective) {\n      if (!objective.checked) {\n        allCheckboxChecked = false;\n      }\n    });\n  });\n\n  if (allCheckboxChecked) {\n    editMultiple.checkboxChecked = true;\n  } else {\n    editMultiple.checkboxChecked = false;\n  }\n};\n\n/**\n * Check if any checkboxes are checked\n * @param {Array} allGroups List of all groups\n */\nAssignmentSingleCheckbox.prototype.assignmentCheckboxCheckIfAny = function(allGroups) {\n  var anyCheckboxChecked = false;\n\n  for (var i = 0; i < allGroups.length; i++) {\n    anyCheckboxChecked = allGroups[i].objectives.some(function(elem) {\n      return elem.checked === true;\n    });\n\n    if (anyCheckboxChecked) { break; }\n  }\n\n  return anyCheckboxChecked;\n};\n\n/**\n * Clear all checkboxes\n * @param {Array} allGroups List of all groups\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n */\nAssignmentSingleCheckbox.prototype.assignmentClearCheckbox = function(allGroups, editMultiple) {\n  editMultiple.checkboxChecked = false;\n\n  allGroups.forEach(function(courseDefinition) {\n    courseDefinition.objectives.forEach(function(objective) {\n      objective.checked = true;\n    });\n  });\n};\n\nmodule.exports = AssignmentSingleCheckbox;\n","import angular, { IModule } from 'angular';\n\nexport * from './teacherAssessAssignmentStudent.scss';\n\nexport const TeacherAssessAssignmentStudentModule: IModule = angular\n  .module('app.assignments.teacherAssessAssignmentStudent', [])\n  .controller('teacherAssessAssignmentStudent.MainCtrl', require('./controllers/main.js'));\n\nexport default TeacherAssessAssignmentStudentModule.name;\n\nexport * from './teacherAssessAssignmentStudent.service';\n","export default \"<div class=\\\"assessment\\\"\\n     md-ink-ripple=\\\"#000000\\\"\\n     ng-repeat=\\\"assessment in ::$ctrl.assessments track by assessment.id\\\"\\n     ng-click=\\\"$ctrl.goToAssessAssignment(assessment.student_id)\\\">\\n  <student-status-icon student-status=\\\"{{ ::assessment.assessment_status }}\\\"></student-status-icon>\\n  <long-text-tooltip text=\\\"::assessment.student_name\\\">\\n    <div class=\\\"name\\\">{{ ::assessment.student_name }}</div>\\n  </long-text-tooltip>\\n</div>\\n\";","export default \"<div class=\\\"label\\\"\\n     ng-show=\\\"$ctrl.assignments.length\\\"\\n     ng-bind-html=\\\"::$ctrl.label | localize\\\"></div>\\n<div class=\\\"item\\\"\\n     md-ink-ripple=\\\"#000000\\\"\\n     ng-repeat=\\\"assignment in $ctrl.assignments track by assignment.id\\\"\\n     ng-click=\\\"$ctrl.goToEditAssignmentCriteria(assignment)\\\">\\n  <div class=\\\"tooltip-wrapper\\\">\\n    <md-tooltip md-z-index=\\\"1006\\\"\\n                md-direction=\\\"top\\\"\\n                ng-bind=\\\"::$ctrl.getIconTooltip(assignment)\\\">\\n    </md-tooltip>\\n    <assignment-icon-type assignment=\\\"assignment\\\"></assignment-icon-type>\\n  </div>\\n  <long-text-tooltip text=\\\"::assignment.title\\\">\\n    <div class=\\\"title\\\">{{ ::assignment.title }}</div>\\n  </long-text-tooltip>\\n</div>\\n\";","export default \"<div class=\\\"label\\\"\\n     ng-show=\\\"$ctrl.assignments.length\\\"\\n     ng-bind-html=\\\"::$ctrl.label | localize\\\"></div>\\n<div class=\\\"item\\\"\\n     md-ink-ripple=\\\"#000000\\\"\\n     ng-repeat-start=\\\"assignment in $ctrl.assignments track by assignment.id\\\"\\n     ng-click=\\\"$ctrl.goToAssessAssignment(assignment)\\\">\\n  <div class=\\\"tooltip-wrapper\\\">\\n    <md-tooltip md-z-index=\\\"1006\\\"\\n                md-direction=\\\"top\\\"\\n                ng-bind=\\\"::$ctrl.getIconTooltip(assignment)\\\">\\n    </md-tooltip>\\n    <assignment-icon-type assignment=\\\"assignment\\\"></assignment-icon-type>\\n  </div>\\n  <long-text-tooltip text=\\\"::assignment.title\\\">\\n    <div class=\\\"title\\\">{{ ::assignment.title }}</div>\\n  </long-text-tooltip>\\n  <div class=\\\"toolbar\\\"\\n       ng-class=\\\"::{ 'assessable': !assignment.assignment_not_assessable }\\\">\\n    <div class=\\\"assignments-assessable\\\">\\n      <md-button class=\\\"md-icon-button\\\"\\n                 ng-mousedown=\\\"$ctrl.consumeEvent($event)\\\"\\n                 ng-click=\\\"$ctrl.consumeEvent($event); $ctrl.toggleOpen(assignment);\\\"\\n                 ng-class=\\\"{ 'open': assignment.$$open }\\\">\\n        <md-icon>keyboard_arrow_down</md-icon>\\n      </md-button>\\n      <md-menu>\\n        <md-button class=\\\"md-icon-button\\\"\\n                   ng-mousedown=\\\"$ctrl.consumeEvent($event)\\\"\\n                   ng-click=\\\"$mdMenu.open($event)\\\">\\n          <md-icon>more_vert</md-icon>\\n        </md-button>\\n        <md-menu-content>\\n          <md-menu-item>\\n            <md-button ng-click=\\\"$ctrl.goToChangeVisibility(assignment)\\\">\\n              {{ ::'visibilityBtn' | localize }}\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-item>\\n            <md-button ng-click=\\\"$ctrl.goToEditAssignmentCriteria(assignment)\\\">\\n              {{ ::'editAssessmentCriteriaBtn' | localize }}\\n            </md-button>\\n          </md-menu-item>\\n        </md-menu-content>\\n      </md-menu>\\n    </div>\\n    <div class=\\\"assignments-not-assessable\\\">\\n      <md-button class=\\\"md-icon-button\\\"\\n                 ng-mousedown=\\\"$ctrl.consumeEvent($event)\\\"\\n                 ng-click=\\\"$ctrl.consumeEvent($event); $ctrl.goToEditAssignmentCriteria(assignment);\\\">\\n        <md-icon>edit</md-icon>\\n      </md-button>\\n    </div>\\n  </div>\\n</div>\\n<teacher-assessments-list assignment=\\\"::assignment\\\"\\n                          assessments=\\\"::assignment.assessments\\\"\\n                          ng-if=\\\"assignment.$$open\\\"\\n                          ng-repeat-end></teacher-assessments-list>\\n\";","export default \"<!-- <extended-view-container hide-toolbar=\\\"true\\\">>-->\\n<div class=\\\"teacher-assignments\\\"\\n     layout=\\\"column\\\"\\n     layout-fill>\\n\\n        <rapp data=\\\"$root\\\" ctrl=\\\"$ctrl\\\" view=\\\"'assignments'\\\"/>\\n</div>\\n<!--</extended-view-container>-->\\n<!--    <md-toolbar flex=\\\"nogrow\\\"-->\\n<!--                class=\\\"sb-toolbar\\\">-->\\n<!--      <div-->\\n<!--        layout=\\\"row\\\"-->\\n<!--        layout-align=\\\"start center\\\"-->\\n<!--        class=\\\"md-toolbar-tools\\\">-->\\n<!--        <menu-toggle></menu-toggle>-->\\n\\n<!--        <div flex-->\\n<!--             layout=\\\"column\\\"-->\\n<!--             layout-align=\\\"center start\\\">-->\\n<!--          <p class=\\\"sb-toolbar-title\\\"-->\\n<!--             localize>__MSG_assignmentsPage__</p>-->\\n<!--        </div>-->\\n<!--        <help-button link=\\\"teacherAssignmentStreamHelpButtonUrl\\\"></help-button>-->\\n<!--        <md-menu>-->\\n<!--          <md-button class=\\\"md-icon-button\\\"-->\\n<!--                     ng-click=\\\"$mdMenu.open()\\\">-->\\n<!--            <md-tooltip md-z-index=\\\"1016\\\"-->\\n<!--                        md-direction=\\\"bottom\\\"-->\\n<!--                        localize>__MSG_assignmentsActionMenuFilterTooltip__-->\\n<!--            </md-tooltip>-->\\n<!--            <md-icon md-menu-origin>filter_list</md-icon>-->\\n<!--          </md-button>-->\\n<!--          <md-menu-content class=\\\"teacher-assignments-action-menu\\\">-->\\n<!--            <md-menu-label class=\\\"green\\\"-->\\n<!--                           localize>-->\\n<!--              __MSG_assignmentsActionMenuFilterByLabel__-->\\n<!--            </md-menu-label>-->\\n<!--            <md-menu-item ng-repeat-start=\\\"filter in ::$ctrl.filters track by $index\\\"-->\\n<!--                          ng-if=\\\"::filter\\\">-->\\n<!--              <md-button class=\\\"checkbox\\\"-->\\n<!--                         ng-click=\\\"$ctrl.filter(filter);\\\"-->\\n<!--                         md-prevent-menu-close>-->\\n<!--                <md-checkbox ng-checked=\\\"$ctrl.isFilterSelected(filter)\\\">-->\\n<!--                  {{ ::filter.label | localize }}-->\\n<!--                </md-checkbox>-->\\n<!--              </md-button>-->\\n<!--            </md-menu-item>-->\\n<!--            <md-divider ng-repeat-end-->\\n<!--                        ng-show=\\\"::!filter\\\"></md-divider>-->\\n<!--          </md-menu-content>-->\\n<!--        </md-menu>-->\\n<!--        <md-menu>-->\\n<!--          <md-button class=\\\"md-icon-button\\\"-->\\n<!--                     ng-click=\\\"$mdMenu.open()\\\">-->\\n<!--            <md-tooltip md-z-index=\\\"1016\\\"-->\\n<!--                        md-direction=\\\"bottom\\\"-->\\n<!--                        localize>__MSG_assignmentsActionMenuSortTooltip__-->\\n<!--            </md-tooltip>-->\\n<!--            <md-icon md-menu-origin>sort</md-icon>-->\\n<!--          </md-button>-->\\n<!--          <md-menu-content class=\\\"teacher-assignments-action-menu auto-height\\\">-->\\n<!--            <md-menu-label class=\\\"green\\\"-->\\n<!--                           localize>-->\\n<!--              __MSG_assignmentsActionMenuSortByLabel__-->\\n<!--            </md-menu-label>-->\\n<!--            <md-menu-item ng-repeat=\\\"sortingItem in ::$ctrl.assignmentsSort track by $index\\\">-->\\n<!--              <md-button ng-click=\\\"$ctrl.sortAssignments(sortingItem)\\\"-->\\n<!--                         localize>-->\\n<!--                <md-icon ng-visible=\\\"$ctrl.isAssignmentSortSelected(sortingItem)\\\">check</md-icon>-->\\n<!--                {{ ::sortingItem.label | localize }}-->\\n<!--              </md-button>-->\\n<!--            </md-menu-item>-->\\n<!--            <md-menu-label class=\\\"green\\\"-->\\n<!--                           ng-show=\\\"::$ctrl.assessmentsSort.length\\\"-->\\n<!--                           localize>-->\\n<!--              __MSG_studentsActionMenuSortByLabel__-->\\n<!--            </md-menu-label>-->\\n<!--            <md-menu-item ng-repeat=\\\"sortingItem in ::$ctrl.assessmentsSort track by $index\\\">-->\\n<!--              <md-button ng-click=\\\"$ctrl.sortAssessments(sortingItem)\\\"-->\\n<!--                         localize>-->\\n<!--                <md-icon ng-visible=\\\"$ctrl.isAssessmentSortSelected(sortingItem)\\\">check</md-icon>-->\\n<!--                {{ ::sortingItem.label | localize }}-->\\n<!--              </md-button>-->\\n<!--            </md-menu-item>-->\\n<!--          </md-menu-content>-->\\n<!--        </md-menu>-->\\n<!--      </div>-->\\n<!--    </md-toolbar>-->\\n\\n<!--    <loader></loader>-->\\n\\n<!--    <md-content-->\\n<!--      sticky-subheader-->\\n<!--      save-scroll-->\\n<!--      flex>-->\\n<!--      <div ui-view=\\\"assignments\\\"></div>-->\\n<!--    </md-content>-->\\n\\n<!--  <div hint class=\\\"sb-hint\\\" data-cookie-name=\\\"tearcherAssessAssignment\\\">-->\\n<!--    <div class=\\\"sb-hint-scrollable\\\">-->\\n<!--      <p class=\\\"sb-hint-text\\\" localize>-->\\n<!--        __MSG_teacherAssessAssignmentHint__-->\\n<!--      </p>-->\\n<!--      <p class=\\\"sb-hint-close\\\">-->\\n<!--        <button-->\\n<!--          class=\\\"sb-btn-no-background md-primary sb-hint-close md-button\\\"-->\\n<!--          localize-->\\n<!--        >-->\\n<!--          __MSG_acceptHint__-->\\n<!--        </button>-->\\n<!--      </p>-->\\n<!--    </div>-->\\n<!--  </div>-->\\n<!--</div>-->\\n\";","export default \"<teacher-assignments-drafts-list label=\\\"teacherAssignmentAssessableGroupLabel\\\"\\n                          assignments=\\\"$ctrl.assignmentsGroup.assessable\\\"></teacher-assignments-drafts-list>\\n<teacher-assignments-drafts-list label=\\\"teacherAssignmentWithoutAssessmentCriteriaGroupLabel\\\"\\n                          assignments=\\\"$ctrl.assignmentsGroup.not_assessable\\\"></teacher-assignments-drafts-list>\\n\";","export default \"<div class=\\\"sb-pl-16 sb-ptb-8\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"center center\\\">\\n  <p class=\\\"sb-list-parent-item\\\"\\n     flex>\\n    <span localize>__MSG_noAssignmentsInThisStatus__</span>\\n  </p>\\n</div>\\n\";","export default \"<teacher-assignments-list label=\\\"teacherAssignmentAssessableGroupLabel\\\"\\n                          assignments=\\\"$ctrl.assignmentsGroup.assessable\\\"></teacher-assignments-list>\\n<teacher-assignments-list label=\\\"teacherAssignmentWithoutAssessmentCriteriaGroupLabel\\\"\\n                          assignments=\\\"$ctrl.assignmentsGroup.not_assessable\\\"></teacher-assignments-list>\\n\";","export default \"<md-checkbox ng-model=\\\"$ctrl.ngModel.$viewValue.isEnable\\\"\\n             ng-change=\\\"$ctrl.update($ctrl.ngModel.$viewValue)\\\"\\n             ng-disabled=\\\"$ctrl.ngDisabled\\\">\\n  {{ ::'objectiveGradeTextVisibilitySettingsEnableGradeText' | localize}}\\n</md-checkbox>\\n<md-checkbox ng-model=\\\"$ctrl.ngModel.$viewValue.isEnableForStudents\\\"\\n             ng-change=\\\"$ctrl.update($ctrl.ngModel.$viewValue)\\\"\\n             ng-disabled=\\\"$ctrl.ngDisabled || !$ctrl.ngModel.$viewValue.isEnable\\\">\\n  {{ ::'objectiveGradeTextVisibilitySettingsEnableGradeTextForStudents' | localize}}\\n</md-checkbox>\\n\";","import React, { useState } from 'react';\n\nconst useFetch = (url, setNetworkTraffic, networkError) => {\n  const [error, setError] = useState(false);\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const fetchData = async () => {\n    const config = { url, method: 'GET', data: {} };\n    const requestConfig = { ...config, action: 'fetchData' };\n    // console.log('useFetch: ', config);\n    setNetworkTraffic(config.method);\n    setLoading(true);\n\n    if (process.env.REACT_APP_STANDALONE) {\n      const json = await (\n        await fetch(url, {\n          method: 'GET',\n          headers: {\n            Authorization: `StudybeeToken ${process.env.REACT_APP_TOKEN_FOR_DEBUG}`,\n          },\n        })\n      ).json();\n      setLoading(false);\n      console.log('useFetch response: ', url, json);\n      setData(json);\n      setNetworkTraffic(false);\n      return;\n    }\n    chrome.runtime.sendMessage(requestConfig, (response) => {\n      // console.log('useFetch response: ', url, response);\n      if (response.status < 400) {\n        setData(response.data);\n      } else {\n        setError(response.status);\n        networkError(response.status);\n      }\n      setLoading(false);\n      setNetworkTraffic(false);\n    });\n  };\n\n  return [loading, error, data, fetchData];\n};\n\nexport default useFetch;\n","export default __webpack_public_path__ + \"images/dc0b79aede60c97aefcd9b686aa158cb-icon_bk_assessment_done.png\";","export default __webpack_public_path__ + \"images/e14d89ba1a0baec22ec88153957c0157-icon_bk_assessing.png\";","export default __webpack_public_path__ + \"images/d087b18f8292d1460b42cb6a5b586d0b-icon_warning.png\";","export default __webpack_public_path__ + \"images/98970591ebb70a7c0d6a89ec82c23310-work_unit_icon.png\";","export default __webpack_public_path__ + \"images/28b85ce87bc5d435252a7e8377a87ae2-topic_icon.png\";","export default __webpack_public_path__ + \"images/29129199ebd95fbe990b4d11e0d3ddc7-topic-hidden.png\";","export default __webpack_public_path__ + \"images/1bd73e49a9020f903fd5730413748d0e-submitted.png\";","export default __webpack_public_path__ + \"images/1ba4f8dab994cb24886e47c3d1a606e6-submitted-late.png\";","export default __webpack_public_path__ + \"images/99f0582f3ebc19981ac80520f911b956-not-submitted-late.png\";","export const GroupedVisibilityDialogType = {\n  AssignmentView: 0,\n  AssignmentStudentView: 1,\n  StudentProgressView: 2,\n};\n","import React, {useContext, useState} from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport {colors, fonts} from '../theme';\nimport MoreMenu from './moreMenu';\nimport {getTranslation} from '../i18n';\nimport {ReactComponent as GridIcon} from '../images/grid.svg';\nimport AssignmentItem from './assignmentItem';\nimport {getAssignmentIcon, GlobalContext} from \"../utils\";\nimport Tooltip from \"./tooltip\";\n\nconst menuOptionsConnected = [\n  {\n    title: getTranslation('editAssessmentCriteriaBtn'),\n    name: 'ASSESSMENT_CRITERIA',\n  },\n  {\n    title: getTranslation('disconnectFromStudyBee'),\n    name: 'DISCONNECT',\n  },\n];\nconst menuOptionsNotConnected = [\n  {\n    title: getTranslation('connectToStudybee'),\n    name: 'CONNECT',\n  },\n];\n\nconst TopicItem = (props) => {\n  const {\n    assignment: topic,\n    onAssignmentClicked,\n    onGridClicked,\n    handleAssignmentMenuClick,\n    isStudent,\n  } = props;\n\n  const context = useContext(GlobalContext);\n  const {assignmentSortMethod} = context;\n  const [focused, setFocused] = useState(false);\n\n  const click = () => {\n    if(topic.connected){\n      onAssignmentClicked(topic);\n    }\n  };\n\n  return (\n    <div>\n      <div\n        onMouseEnter={() => setFocused(true)}\n        onMouseLeave={() => setFocused(false)}\n        style={{\n          height: '70px',\n          width: '100%',\n          display: 'flex',\n          borderBottom: `1px solid ${colors.borderColor}`,\n          backgroundColor: focused ? colors.borderColor : colors.white,\n        }}\n      >\n        <ButtonBase\n          onClick={click}\n          focusRipple\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            // flex: 1,\n            justifyContent: 'flex-start',\n            paddingLeft: '16px',\n          }}\n        >\n          {getAssignmentIcon(topic)}\n          <p\n            style={{\n              ...fonts.MEDIUM,\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n              whiteSpace: 'nowrap',\n              width: '190px',\n              textAlign: 'start',\n              fontWeight:'800',\n            }}\n          >\n            {topic.title}\n          </p>\n        </ButtonBase>\n        <div\n          style={{\n            display: 'flex',\n            border: '0px solid',\n            justifyContent: 'flex-end',\n            alignItems: 'center',\n            width: '100%',\n          }}\n        >\n          {!isStudent && (\n            <>\n              {topic.connected &&\n              <Tooltip title={getTranslation('gridOverviewTooltip')}>\n                <div>\n                  <GridIcon\n                    fill={colors.darkGrey}\n                    style={{\n                      width: '20px',\n                      height: '20px',\n                      border: '0px solid',\n                      cursor: 'pointer',\n                    }}\n                    onClick={() => onGridClicked(topic)}\n                  />\n                </div>\n              </Tooltip>\n              }\n              <MoreMenu\n                style={{}}\n                iconStyle={{color: colors.darkGrey, marginBottom: '4px'}}\n                options={topic.connected?menuOptionsConnected:menuOptionsNotConnected}\n                onClick={(option) => handleAssignmentMenuClick(topic, option)}\n              />\n            </>\n          )}\n        </div>\n      </div>\n      {topic?.assignments\n        .filter(a => a.connected)\n        .sort((a, b) => {\n          if (assignmentSortMethod === 'alpha') {\n            return a.title.localeCompare(b.title);\n          }\n          const ad = new Date(a.created);\n          const bd = new Date(b.created);\n          return bd - ad;\n        })\n        .map((assignment) => (\n          <div key={assignment.id}>\n            <AssignmentItem {...{...props, assignment, inTopic: true}} />\n          </div>\n        ))}\n    </div>\n  );\n};\n\nexport default TopicItem;\n","import React, {useState, memo} from 'react';\nimport {colors, fonts} from '../theme';\nimport MoreMenu from './moreMenu';\nimport {getTranslation} from '../i18n';\nimport {getAssignmentIcon} from '../utils';\n\nconst menuOptions = [\n  {\n    title: getTranslation('connectToStudybee'),\n    name: 'CONNECT',\n  },\n];\n\nconst fontStyle = {\n  ...fonts.MEDIUM,\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  whiteSpace: 'nowrap',\n  width: '190px',\n  textAlign: 'start',\n};\n\nconst NotConnectedItem = (props) => {\n  const {\n    assignment,\n    handleAssignmentMenuClick,\n    topic = false,\n  } = props;\n  const [focused, setFocused] = useState(false);\n\n  return (\n    <div\n      onMouseEnter={() => setFocused(true)}\n      onMouseLeave={() => setFocused(false)}\n      style={{\n        height: '70px',\n        borderBottom: `1px solid ${colors.borderColor}`,\n        alignItems: 'center',\n        display: 'flex',\n        paddingLeft: '16px',\n        backgroundColor: focused ? colors.borderColor : colors.white,\n      }}\n    >\n      <div\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          flex: 1,\n          justifyContent: 'flex-start',\n        }}\n      >\n        {getAssignmentIcon(assignment)}\n        <div style={{display: 'flex', flexDirection: 'column'}}>\n          {topic && <span style={{...fontStyle, ...fonts.TINY, fontWeight: '800'}}>{topic.title}</span>}\n          <span style={{...fontStyle, fontWeight: assignment.is_topic ? '800' : '400'}}>\n            {assignment.title}\n          </span>\n        </div>\n      </div>\n      <div\n        style={{\n          display: 'flex',\n          border: '0px solid',\n          width: '100%',\n          alignItems: 'center',\n          justifyContent: 'flex-end',\n        }}\n      >\n\n        <MoreMenu\n          iconStyle={{color: colors.darkGrey, marginBottom: '4px'}}\n          options={menuOptions}\n          onClick={(option) => handleAssignmentMenuClick(assignment, option)\n          }\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default memo(NotConnectedItem);\n","import {colors, fonts} from \"../theme\";\nimport React from \"react\";\nimport {getTranslation} from \"../i18n\";\nimport SecondaryButton from \"../components/secondaryButton\";\nimport PrimaryButton from \"../components/primaryButton\";\n\nconst imgSrc = process.env.REACT_APP_STANDALONE ? 'https://is2-ssl.mzstatic.com/image/thumb/Purple114/v4/be/59/64/be596489-6244-84bd-26c3-701bfcb3e3b3/source/256x256bb.jpg' : `chrome-extension://${chrome.runtime.id}/images/icon-128.png`;\n\nconst HideAssignmentsDialog = ({open, no, yes}) => {\n  if (!open) {\n    return null;\n  }\n  return (\n    <div style={{\n      position: 'absolute',\n      display: 'flex',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      justifyContent: 'center',\n      alignItems: 'center'\n    }}>\n      <div style={{\n        width: '310px',\n        backgroundColor: colors.primary,\n        borderRadius: '6px',\n        margin: '20px',\n        zIndex: '100000',\n        boxShadow: '0px 5px 10px rgba(0,0,0,0.3)',\n        padding:'10px 0px 10px 0px',\n\n      }}>\n        <div style={{padding:'10px', display:'flex'}}>\n          <img src={imgSrc} style={{\n            width: '25px', height: '25px', backgroundColor: colors.white, padding: '8px', borderRadius: '50px'\n          }}/>\n        <span style={{...fonts.MEDIUM, fontWeight: '500', marginLeft:'10px'}}>{getTranslation('hideAssignmentsDialogText')}</span>\n        </div>\n        <div style={{borderTop:'1px solid ' + colors.borderOnPrimary, width:'100%', margin:'10px 0px 10px 0px'}}/>\n        <div style={{display: 'flex', justifyContent: 'flex-end'}}>\n          <SecondaryButton onClick={no} title={getTranslation('noDisconnectAssignments')}/>\n          <PrimaryButton onClick={yes} title={getTranslation('yesDisconnectAssignments')} />\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default HideAssignmentsDialog;\n","import React, {useEffect, useState, useContext} from 'react';\nimport Toast from './toast';\nimport {GlobalContext} from '../utils';\nimport {getTranslation} from '../i18n';\nimport {LOG_LEVEL} from '../api';\n\nconst NetworkErrorToast = (props) => {\n  const {networkError} = props;\n  const context = useContext(GlobalContext);\n  const {setNetworkError, Api} = context;\n  const [open, setOpen] = useState(networkError);\n\n  if (networkError) {\n    console.log('network error: ', networkError);\n    // Api.cloudLog(LOG_LEVEL.ERROR, networkError.toString());\n  }\n\n  useEffect(() => {\n    if (networkError) {\n      setOpen(true);\n    }\n  }, [networkError]);\n\n  return (\n    <Toast\n      timeout={5000}\n      onClose={() => {\n        setOpen(false);\n        setNetworkError(null);\n      }}\n      open={open}\n      message={getTranslation('errorToast')}/>\n  );\n};\n\nexport default NetworkErrorToast;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { getTranslation } from \"../i18n\";\nimport {colors, fonts} from '../theme';\n\nconst savedText = getTranslation(\"savedStatusIndicator\");\n\nconst SaveToast = (props) => {\n  const { networkTraffic } = props;\n  const state = useRef(false);\n  const [open, setOpen] = useState(false);\n\n  useEffect(() => {\n    if (networkTraffic && networkTraffic !== \"GET\") {\n      state.current = \"saving\";\n    } else if (!networkTraffic && state.current === \"saving\") {\n      setOpen(true);\n      state.current = null;\n      setTimeout(() => {setOpen(false)}, 2000);\n    }\n  }, [networkTraffic]);\n\n  if (!open) {\n    return null;\n  }\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        bottom: \"20px\",\n        right: \"20px\",\n        backgroundColor: colors.darkGrey,\n        padding:'5px 10px 5px 10px',\n        borderRadius:'5px',\n        zIndex:'1000',\n      }}\n    >\n      <span style={{...fonts.MEDIUM, color:colors.white}}>{savedText}</span>\n    </div>\n  );\n};\n\nexport default SaveToast;\n","import React, { useContext, useEffect, useState } from 'react';\nimport { Close } from '@material-ui/icons';\nimport { CircularProgress } from '@material-ui/core';\nimport { GlobalContext } from '../utils';\nimport { colors } from '../theme';\nimport AssessmentSlider from './assessmentSlider';\nimport fonts from '../theme/fonts';\nimport {getTranslation} from '../i18n';\n\n\nconst fields = `\n  name\n    courses {\n      id\n      name\n      gradeSystem{\n        id\n        is_main\n        is_final\n        grades{\n          id\n          name\n          label\n          color\n        }\n      }\n      objectives {\n        id\n        name\n        knowledgeRequirements {\n          grade_id\n          description\n        }\n      }\n    }\n`;\nconst ObjectiveDescription = (props) => {\n  const { objectiveId, defaultIndex = 0 } = props;\n  const context = useContext(GlobalContext);\n\n  const { Api, showObjectiveDetails } = context;\n  const [currentGrade, setCurrentGrade] = useState(defaultIndex);\n  const [objective, setObjective] = useState();\n\n  const fetchObjective = async () => {\n    const response = await Api.getClassroom(fields);\n    const classroom = response?.data?.classroom;\n    const objective = classroom?.courses.map(c => {\n      return c.objectives.map(o => ({...o, courseId: c.id}));\n    }).flat().find(o => o.id === objectiveId);\n    objective.gradeSystem = classroom.courses.find(c => c.id === objective.courseId)?.gradeSystem.find(g => g.is_main);\n    setObjective(objective);\n  };\n\n  useEffect(() => {\n    fetchObjective();\n  }, [objectiveId]);\n\n  if (!objective || objective.length === 0) {\n    return (\n      <div style={{display:'flex', alignItems:'center', justifyContent:'center', height:'290px', border:'1px solid'}}>\n      <CircularProgress />\n    </div>);\n  }\n\n  const values = objective?.gradeSystem?.grades?.map((g, i) => ({\n    id: g.id,\n    label: g.label,\n    color: g.color,\n    value: i,\n    name: g.name,\n  }));\n\n  return (\n    <div\n      style={{\n        width: '320px',\n        backgroundColor: colors.grey,\n        borderRadius: '10px',\n        padding: '40px 20px 20px 20px',\n        borderTop: `1px solid ${colors.borderColorDark}`,\n        display: 'flex',\n        position: 'relative',\n      }}\n    >\n      <div style={{ border: '0px solid red', width: '100%' }}>\n        <span style={{\n          ...fonts.LARGE,\n          whiteSpace: 'nowrap',\n          width: '80%',\n          position: 'absolute',\n          top: '16px',\n          left: '20px',\n          overflow: 'hidden',\n          textOverflow: 'ellipsis',\n        }}>{getTranslation('assessmentCriteria')} {objective.name}</span>\n        <AssessmentSlider\n          defaultIndex={defaultIndex}\n          showPublish={false}\n          values={values}\n          onChange={(c) => {\n            setCurrentGrade(values[c].id);\n          }}\n        />\n        <div\n          style={{ marginTop: '20px', height: '185px', overflow: 'scroll' }}\n          dangerouslySetInnerHTML={{\n            __html: objective?.knowledgeRequirements?.find(k => k.grade_id === currentGrade)?.description,\n          }}\n        />\n      </div>\n      <Close\n        onClick={() => showObjectiveDetails(false)}\n        style={{\n          position: 'absolute',\n          right: '10px',\n          top: '10px',\n        }}\n      />\n    </div>\n  );\n};\n\nexport default ObjectiveDescription;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1.589 248.394C1.589 122.639 98.19 19.441 221.233 8.96v478.867C98.19 477.346 1.589 374.149 1.589 248.394z\",\n  fill: \"#fbcd03\"\n});\n\nfunction SvgHandlebg(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"1.589 8.96 219.644 478.867\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/5b32c541d614fc611cea3b2ec65f0775-handlebg.svg\";\nexport { SvgHandlebg as ReactComponent };","import React, {Component} from 'react';\nimport {LOG_LEVEL} from './api';\n\nexport default class ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.Api = props.Api;\n  }\n\n  componentDidCatch(error, errorInfo) {\n    try {\n      this.Api.cloudLog(LOG_LEVEL.ERROR, JSON.stringify({errorInfo, error}));\n    } catch (e) {\n      console.log('error: ', e);\n    }\n  }\n\n  render() {\n    return this.props.children;\n  }\n}\n","import React, {useContext, useEffect, useRef, useState} from \"react\";\nimport {ButtonBase, Checkbox, withStyles} from \"@material-ui/core\";\nimport {useWindowDimensions} from \"../hooks\";\nimport {colors, fonts} from \"../theme\";\nimport {getTranslation} from \"../i18n\";\nimport CheckboxWithText from \"../components/CheckboxWithText\";\nimport {\n  getVisibilitySettingForAssignment,\n  GlobalContext,\n  setVisibilitySettingForAssignment,\n} from \"../utils\";\nimport {ReactComponent as DoneIcon} from \"../images/icon_bk_assessment_done.svg\";\nimport PublishIcon from \"../components/publishIcon\";\nimport SecondaryButton from \"../components/secondaryButton\";\nimport PrimaryButton from \"../components/primaryButton\";\n\nconst GreenCheckbox = withStyles({\n  root: {\n    color: colors.borderColorDark,\n    paddingLeft: 0,\n    marginLeft: \"-6px\",\n    \"&$checked\": {\n      color: colors.green,\n    },\n    \"& .MuiSvgIcon-root\": {\n      fontSize: \"1.5rem\",\n    },\n  },\n\n  checked: {},\n})(Checkbox);\n\nconst VisibilityDialog = (props) => {\n  const {\n    assignmentId,\n    assessments,\n    callback,\n    hideSaveSetting = false,\n    isTopic = false,\n  } = props;\n  const context = useContext(GlobalContext);\n  const {setVisibilityDialogData, Api} = context;\n  const dimensions = useWindowDimensions();\n  const [show, setShow] = useState(false);\n\n  const selection = useRef([\n    \"result\",\n    \"feedback\",\n    \"assessment\",\n    \"objectiveAssessment\",\n    \"objectiveFeedback\",\n  ]);\n\n  const save = async () => {\n    const saveObj = assessments.map((a) => ({\n      ...a,\n      result_published: !!selection.current.find((s) => s === \"result\"),\n      feedback_published: !!selection.current.find((s) => s === \"feedback\"),\n      grade_published: !!selection.current.find((s) => s === \"assessment\"),\n      objectiveAssessments: a.objectiveAssessments.map((oa) => ({\n        ...oa,\n        grade_published: !!selection.current.find(\n          (s) => s === \"objectiveAssessment\"\n        ),\n        feedback_published: !!selection.current.find(\n          (s) => s === \"objectiveFeedback\"\n        ),\n      })),\n    }));\n\n    await Api.updateAssignmentAssessment(saveObj);\n    await Api.updateObjectiveAssessmentsGql(\n      saveObj.map((a) => a.objectiveAssessments).flat()\n    );\n    setVisibilityDialogData(null);\n    callback();\n  };\n\n  useEffect(() => {\n    (async () => {\n      const setting = await getVisibilitySettingForAssignment(assignmentId);\n      if (setting && setting !== \"\") {\n        selection.current = setting;\n        save();\n        setVisibilityDialogData(null);\n      } else {\n        setShow(true);\n      }\n    })();\n  }, []);\n\n  const onCheck = (checked, type) => {\n    if (checked) {\n      selection.current = [...selection.current, type];\n    } else {\n      selection.current = selection.current.filter((s) => s !== type);\n    }\n  };\n\n  const useEyes = false;\n  const attribute = (text, id, style = {}) => {\n    if (useEyes) {\n      return (\n        <div style={{display: \"flex\", alignItems: \"center\", ...style}}>\n          <PublishIcon\n            style={{margin: \"0px 10px 0px -4px\"}}\n            iconStyle={{width: \"23px\", height: \"23px\"}}\n            published={selection.current.find((s) => s === id)}\n            onClick={() => {\n              const checked = selection.current.find((s) => s === id);\n              onCheck(!checked, id);\n            }}\n          />\n          <span style={fonts.MEDIUM}>{getTranslation(text)}</span>\n        </div>\n      );\n    }\n    return (\n      <CheckboxWithText\n        id={id}\n        text={getTranslation(text)}\n        onCheck={(checked) => {\n          onCheck(checked, id);\n        }}\n        checked={selection.current.find((s) => s === id)}\n        style={{...style, marginLeft: \"4px\"}}\n      />\n    );\n  };\n\n  if (!show) {\n    return null;\n  }\n\n  const size = {width: 500, height: 450};\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        left: -dimensions.width + 360,\n        right: 0,\n        bottom: 0,\n        top: 0,\n        backgroundColor: colors.dimmed,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        border: \"0px solid red\",\n        zIndex: \"1001\",\n      }}\n    >\n      <div\n        style={{\n          backgroundColor: colors.white,\n          width: size.width,\n          // height: size.height,\n          border: \"0px solid\",\n          borderRadius: \"6px\",\n          // padding:'20px',\n        }}\n      >\n        <div\n          style={{\n            padding: \"20px\",\n            borderBottom: `1px solid ${colors.borderColor}`,\n            display: \"flex\",\n            flexDirection: \"column\",\n          }}\n        >\n          <div style={{marginBottom: \"10px\"}}>\n            <DoneIcon fill={colors.green} style={{}}/>\n            <span\n              style={{\n                ...fonts.XLARGE,\n                fontWeight: \"500\",\n                marginLeft: \"10px\",\n              }}\n            >\n              {getTranslation(\n                \"teacherAssignmentsAssessmentStudentVisibilityDialogTitle\"\n              )}\n            </span>\n          </div>\n          <span style={{...fonts.LARGE}}>\n            {getTranslation(\n              \"teacherAssignmentsAssessmentStudentVisibilityDialogHeader\"\n            )}\n          </span>\n        </div>\n        <div\n          style={{\n            padding: \"10px 20px 10px 20px\",\n          }}\n        >\n          <span style={{...fonts.MEDIUM}}>\n            {getTranslation(\n              \"teacherAssignmentsAssessmentStudentVisibilityDialogAttributes\"\n            )}\n          </span>\n          {attribute(\n            \"teacherAssignmentsAssessmentStudentVisibilityDialogOptionResult\",\n            \"result\",\n            {marginTop: \"10px\"}\n          )}\n          {attribute(\n            \"teacherAssignmentsAssessmentStudentVisibilityDialogOptionOverallFeedback\",\n            \"feedback\"\n          )}\n\n          {attribute(\n            isTopic?\"teacherAssignmentsAssessmentStudentVisibilityDialogOptionTopicAssessment\":\"teacherAssignmentsAssessmentStudentVisibilityDialogOptionAssignmentAssessment\",\n            \"assessment\"\n          )}\n\n          {attribute(\n            \"teacherAssignmentsAssessmentStudentVisibilityDialogOptionAssessment\",\n            \"objectiveAssessment\"\n          )}\n\n          {attribute(\n            \"teacherAssignmentsAssessmentStudentVisibilityDialogOptionFeedbackOnLearningObjectives\",\n            \"objectiveFeedback\"\n          )}\n\n          {!hideSaveSetting && (\n            <div\n              style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"space-between\",\n                marginTop: \"6px\",\n              }}\n            >\n              <span style={{...fonts.MEDIUM}}>\n                {getTranslation(\n                  \"teacherAssignmentsAssessmentStudentVisibilityDialogSave\"\n                )}\n              </span>\n              <GreenCheckbox\n                onChange={(e) => {\n                  setVisibilitySettingForAssignment(\n                    assignmentId,\n                    e.target.checked ? selection.current : \"\"\n                  );\n                }}\n              />\n            </div>\n          )}\n        </div>\n        <div\n          style={{\n            padding: \"20px\",\n            display: \"flex\",\n            justifyContent: \"flex-end\",\n            // width: size.width,\n          }}\n        >\n          <SecondaryButton\n            title={getTranslation(\"teacherAssignmentsAssessmentStudentVisibilityDialogActionCancel\")}\n            onClick={() => {\n              setVisibilityDialogData(null);\n              callback();\n            }}\n          />\n          <PrimaryButton\n            inverted\n            title={getTranslation(\"teacherAssignmentsAssessmentStudentVisibilityDialogActionGoAhead\")}\n            onClick={save}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VisibilityDialog;\n","import React, { useEffect, useState } from 'react';\nimport { colors, fonts } from '../theme';\n\nconst SyncToast = (props) => {\n  const { text, setText } = props;\n  const [open, setOpen] = useState(false);\n\n  useEffect(() => {\n    if (text) {\n      setOpen(true);\n      setTimeout(() => {\n        setOpen(false);\n        setText(null);\n      }, 2000);\n    }\n  }, [text]);\n\n  if (!open) {\n    return null;\n  }\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        bottom: '20px',\n        right: '20px',\n        backgroundColor: colors.darkGrey,\n        padding: '5px 10px 5px 10px',\n        borderRadius: '5px',\n        zIndex: '1000',\n      }}\n    >\n      <span style={{ ...fonts.MEDIUM, color: colors.white }}>{text}</span>\n    </div>\n  );\n};\n\nexport default SyncToast;\n","import React, {useEffect, useRef, useState} from 'react';\nimport {colors, fonts} from './theme';\nimport {getTranslation} from './i18n';\nimport SecondaryButton from \"./components/secondaryButton\";\nimport PrimaryButton from \"./components/primaryButton\";\nimport {checkIfMyTab} from \"./utils\";\n\nconst imgSrc = process.env.REACT_APP_STANDALONE ? 'https://is2-ssl.mzstatic.com/image/thumb/Purple114/v4/be/59/64/be596489-6244-84bd-26c3-701bfcb3e3b3/source/256x256bb.jpg' : `chrome-extension://${chrome.runtime.id}/images/icon-128.png`;\nconst NewAssignmentDialog = () => {\n  const [show, setShow] = useState();\n  const lastStorageChange = useRef();\n\n  const processStorage = async () => {\n    chrome.storage.sync.get(\n      ['newAssignment'],\n      async (change) => {\n        if (change?.newAssignment) {\n          const myTab = await checkIfMyTab();\n          if (!myTab) {\n            return;\n          }\n          const title = change.newAssignment;\n          setShow(title);\n          chrome.storage.sync.set({newAssignment: 0});\n        }\n      },\n    );\n  };\n\n  const storageListener = async (change) => {\n    const changes = Object.keys(change).map((key) => {\n      const obj = {};\n      obj[key] = change[key].newValue;\n      return obj;\n    });\n    const [firstChange] = changes;\n    if (firstChange !== lastStorageChange.current) {\n      lastStorageChange.current = firstChange;\n      await processStorage(firstChange);\n    }\n  };\n\n  useEffect(() => {\n    if (!process.env.REACT_APP_STANDALONE) {\n      chrome.storage.onChanged.addListener(storageListener);\n      return function cleanup() {\n        if (!process.env.REACT_APP_STANDALONE) {\n          chrome.storage.onChanged.removeListener(storageListener);\n        }\n      };\n    }\n  }, []);\n\n  if (!show) {\n    return null;\n  }\n  return (\n    <div style={{\n      position: 'fixed',\n      top: '0px',\n      right: '0px',\n      width: '310px',\n      backgroundColor: colors.primary,\n      borderRadius: '6px',\n      margin: '20px',\n      zIndex: '100000',\n      boxShadow: '0px 5px 10px rgba(0,0,0,0.3)',\n    }}>\n      <div style={{display: 'flex', padding: '14px', alignItems: 'center'}}>\n        <img src={imgSrc} style={{\n          width: '25px', height: '25px', backgroundColor: colors.white, padding: '8px', borderRadius: '50px',\n        }}/>\n        <div style={{display: 'flex', flexDirection: 'column', marginLeft: '10px'}}>\n          <span style={{...fonts.LARGE, fontWeight: '500'}}>\n            {getTranslation('assignObjectivesToAssignmentToast')}\n            <span style={{...fonts.LARGE, fontWeight: '800'}}>{show}</span>\n            {getTranslation('assignObjectivesToAssignmentToast2')}\n          </span>\n        </div>\n      </div>\n      <div style={{borderTop: '1px solid ' + colors.borderOnPrimary, width: '100%', margin: '10px 0px 10px 0px'}}/>\n      <div\n        style={{\n          marginBottom: '10px',\n          display: 'flex',\n          justifyContent: 'flex-end'\n        }}>\n        <SecondaryButton\n          title={getTranslation('assignObjectivesToastPostponeButtonLabel')}\n          onClick={() => {\n            chrome.storage.sync.set({'disconnectNewAssignment': show}, () => console.log('disconnect assignment: ', show));\n            setShow(false);\n          }\n          }/>\n        <PrimaryButton\n          title={getTranslation('addBtn')}\n          onClick={() => {\n            chrome.storage.sync.set({'connectNewAssignment': show}, () => console.log('connect assignment: ', show));\n            setShow(false);\n          }}/>\n      </div>\n    </div>\n  );\n};\n\nexport default NewAssignmentDialog;\n","import React, {useContext, useState} from 'react';\nimport {colors, fonts} from \"../theme\";\nimport {useWindowDimensions} from \"../hooks\";\nimport {getTranslation} from \"../i18n\";\nimport {GlobalContext} from \"../utils\";\nimport {Radio, withStyles} from \"@material-ui/core\";\nimport SecondaryButton from \"./secondaryButton\";\nimport PrimaryButton from \"./primaryButton\";\n\n\nconst BlueRadio = withStyles({\n  root: {\n    color: colors.blueText,\n    '&$checked': {\n      color: colors.blueText,\n    },\n  },\n  checked: {},\n})((props) => <Radio color=\"default\" {...props} />);\n\nconst SelectPrimarySchoolDialog = () => {\n  const context = useContext(GlobalContext);\n  const dimensions = useWindowDimensions();\n  const {Api, setShowSelectPrimarySchool, user} = context;\n\n  const [selected, setSelected] = useState(user?.schools?.find(s => s.primarySchool));\n\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        left: -dimensions.width + 360,\n        right: 0,\n        bottom: 0,\n        top: 0,\n        backgroundColor: 'transparent',\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        zIndex: \"1001\",\n      }}\n    >\n      <div style={{\n        width: 716,\n        backgroundColor: colors.white,\n        borderRadius: 6,\n        position: 'absolute',\n        boxShadow: '0px 5px 10px rgba(0,0,0,0.3)'\n      }}>\n        <div style={{\n          backgroundColor: colors.primary,\n          width: '100%',\n          display: 'flex',\n          height: 56,\n          alignItems: 'center',\n          borderRadius:'6px 6px 0px 0px',\n        }}>\n        <span style={{\n          ...fonts.LARGE,\n          fontWeight: 700,\n          fontSize: 16,\n          marginLeft: 16,\n        }}>{getTranslation('choosePrimarySchool')}</span>\n        </div>\n        <div style={{padding: 16}}>\n          {user?.schools?.map(school => (\n            <div\n              style={{\n                height: 47,\n                borderBottom: `1px solid ${colors.borderColor}`,\n                display: 'flex',\n                alignItems: 'center'\n              }}>\n              <BlueRadio checked={school.id === selected.id} onChange={() => setSelected(school)}/>\n              <span style={{...fonts.MEDIUM}}>{school.name} - {school.city}</span>\n            </div>\n          ))}\n          <div style={{\n            display: 'flex',\n            justifyContent: 'flex-end',\n            marginTop: 20,\n          }}>\n            <SecondaryButton title={getTranslation('cancelBtn')} onClick={() => setShowSelectPrimarySchool(false)}/>\n            <PrimaryButton\n              title={getTranslation('saveBtn')}\n              onClick={async () => {\n                await Api.setPrimarySchool(selected.id);\n                setShowSelectPrimarySchool(false);\n              }}/>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default SelectPrimarySchoolDialog;","import React, {useContext, useEffect, useRef} from \"react\";\nimport {debounce} from \"lodash\";\nimport {getClassroomId, GlobalContext} from \"./utils\";\nimport {\n  getAssignmentAlternateLinkId,\n  getStudentId,\n  isInstructionsPage,\n  isStudentWorkPage,\n  wasInstructionsPage,\n  wasStudentWorkPage\n} from \"./path\";\n\nconst ASSIGN_BTN_TEXT = ['Assigning…', 'Tilldelar ...', 'Toewijzen…'];\nconst SCHEDULE_BTN_TEXT = ['Scheduling…', 'Schemalägger …', 'Plannen…'];\nconst ADD_TOPIC_BTN_TEXT = ['Adding…', 'Lägger till ...', 'Toevoegen...'];\n\nconst ClassroomNavigation = ({reload, closeStudyBee}) => {\n  const context = useContext(GlobalContext);\n  const {isStudent} = context;\n  const classroomId = useRef();\n  const currentUrl = useRef();\n\n  const getTab = async () => {\n    return new Promise(resolve => {\n      chrome.runtime.sendMessage({action: 'getTab'}, (tab) => {\n        resolve(tab)\n      })\n    });\n  };\n\n  const studentSelected = async (studentName) => {\n    if (studentName.length > 0) {\n      const tab = await getTab();\n      chrome.storage.sync.set({\n        studentSelected: studentName,\n        tabId: tab.tabId\n      }, () => console.log('studentSelected', studentName));\n\n    }\n  };\n\n  // const handleUrlChange = debounce(async (url) => {\n  //   currentUrl.current = url;\n  //   const currentId = getClassroomId();\n  //   const assignmentAlternateLinkId = getAssignmentAlternateLinkId();\n  //   const studentId = getStudentId();\n  //\n  //   // Changed classroom\n  //   if (currentId !== classroomId.current) {\n  //     classroomId.current = currentId;\n  //     // TODO What if course does not exist?\n  //     reload();\n  //     closeStudyBee();\n  //   }\n  //\n  //   // Update sumissions, not used?\n  //   if ((isStudentWorkPage() || isInstructionsPage()) && !wasStudentWorkPage() && !wasInstructionsPage() && !isStudent) {\n  //     // const assignment = this.sendAPIRequest(\n  //     //     `/v2/classes/assignment-alternate-link/${assignmentAlternateLink}/`,\n  //     //     RequestType.GET,\n  //     //   ),\n  //     // if (assignment) {\n  //     // return this.sendAPIRequest(`/classes/assignment_submissions/${assignmentId}/`, RequestType.GET);\n  //     // }\n  //   }\n  //   const tab = await new Promise(resolve => {\n  //     chrome.runtime.sendMessage({action: 'getTab'}, (tab) => {\n  //       resolve(tab)\n  //     })\n  //   });\n  //\n  //   if (assignmentAlternateLinkId && !studentId) {\n  //     chrome.storage.sync.set({\n  //       assignmentSelected: assignmentAlternateLinkId,\n  //       tabId: tab.tabId\n  //     }, () => console.log('xxx assignmentSelected: ', assignmentAlternateLinkId));\n  //   }\n  //\n  //   const button = document.querySelector('[role=main] div[data-url^=https]');\n  //   let gdriveUrl = button.dataset.url;\n  //   let arr = gdriveUrl.split('/');\n  //   const fileId = arr[arr.findIndex(a => a === 'd') + 1];\n  //\n  //   if (fileId) {\n  //     chrome.storage.sync.set({assignmentDriveSelected: fileId}, () => console.log('assignmentDriveSelected: ', fileId));\n  //   }\n  // }, 500);\n\n  const newAssignementOrTopic = async (title) => {\n    if (title) {\n      const tab = await getTab();\n      chrome.storage.sync.set({\n        newAssignment: title,\n        tabId: tab.tabId\n      }, () => console.log('newAssignment', title));\n    }\n  };\n\n  const handleClick = async (event) => {\n    const {target} = event;\n    const studentDiv = target.closest('[data-student-id]');\n    const data = studentDiv?.dataset?.studentId;\n\n    // Clicked a student name in assignments\n    if (studentDiv && data) {\n      const studentName = studentDiv.querySelector(`[id$='${data}']`)?.innerText;\n      await studentSelected(studentName);\n    }\n\n    const assignAssignmentBtn = ASSIGN_BTN_TEXT.find(t => target?.innerText === t);\n    const scheduleAssignmentBtn = SCHEDULE_BTN_TEXT.find(t => target?.innerText === t);\n    // Clicked assign OR schedule in create new assignment dialog\n    if (assignAssignmentBtn || scheduleAssignmentBtn) {\n      const ta = document.querySelector('[role=\"dialog\"] textarea');\n      await newAssignementOrTopic(ta?.value);\n    }\n    // Clicked add in create new topic dialog\n    const addTopicBtn = ADD_TOPIC_BTN_TEXT.find(t => target?.innerText === t);\n    if (addTopicBtn) {\n      const ta = document.querySelector('[role=\"alertdialog\"] input');\n      await newAssignementOrTopic(ta?.value)\n    }\n  };\n\n  useEffect(() => {\n    if (!process.env.REACT_APP_STANDALONE) {\n      classroomId.current = getClassroomId();\n      document.addEventListener('click', async (event) => {\n        await handleClick(event);\n      });\n\n      // chrome.runtime.onMessage.addListener((request) => {\n      //   if (request.action === 'urlChanged') {\n      //     handleUrlChange(request.url);\n      //   }\n      // });\n    }\n  }, []);\n  return null;\n};\n\nexport default ClassroomNavigation;\n","import {Menu} from '@material-ui/icons';\nimport React from 'react';\nimport {ReactComponent as GridIcon} from '../images/grid.svg';\nimport {ReactComponent as PaneIcon} from '../images/pane.svg';\nimport {colors, fonts} from '../theme';\nimport {getTranslation} from '../i18n';\nimport LinearProgress from '../components/LinearProgress';\nimport Tooltip from \"../components/tooltip\";\n\nconst StudentListHeader = (props) => {\n  const {toggleMenu, toggleGrid, showGridIcon, showGrid} = props;\n  return (\n    <div\n      style={{\n        position: 'relative',\n        width: '100%',\n        height: '60px',\n        display: 'flex',\n        backgroundColor: colors.brandColorPink,\n        border: '0px solid blue',\n        alignItems: 'center',\n        padding: '0px 16px 0px 16px',\n      }}\n    >\n      <Menu\n        style={{\n          cursor: 'pointer',\n          color: colors.white,\n          height: '25px',\n          marginTop: '2px',\n          marginRight: '4px',\n        }}\n        onClick={() => toggleMenu()}\n      />\n      <p\n        style={{\n          ...fonts.LARGE,\n          color: colors.white,\n          marginLeft: '14px',\n          fontWeight: '500',\n        }}\n      >\n        {getTranslation('courseProgressionPage')}\n      </p>\n      {showGridIcon &&\n      <div onClick={toggleGrid}\n           style={{\n             position: 'absolute', top: '22px', right: '50px', cursor: 'pointer',\n           }}>\n        <Tooltip title={showGrid?getTranslation('collapseGridTooltip'):getTranslation('gridOverviewTooltip')}>\n          <div>\n            {!showGrid &&\n            <GridIcon fill={colors.white} />\n            }\n            {showGrid &&\n              <PaneIcon />\n            }\n          </div>\n        </Tooltip>\n      </div>\n      }\n      <div\n        style={{\n          position: 'absolute',\n          bottom: 0,\n          left: 0,\n          right: 0,\n        }}\n      >\n        <LinearProgress pink />\n      </div>\n    </div>\n  );\n};\nexport default StudentListHeader;\n","import React, { useState } from 'react';\nimport {ButtonBase, Tooltip} from '@material-ui/core';\nimport { colors, fonts } from '../theme';\n\nconst StudentItem = (props) => {\n  const {\n    student, onClickStudent, style, selected,\n  } = props;\n  const [highlight, setHighlight] = useState(false);\n\n  const highlightStudent = () => {\n    setHighlight(true);\n  };\n\n  const unHighlightStudent = () => {\n    setHighlight(false);\n  };\n\n  const baseColor = selected ? colors.borderColor : 'transparent';\n\n  return (\n  <div style={{ position: 'relative', height: '50px' }}>\n    <ButtonBase\n      focusRipple\n      onClick={onClickStudent}\n      key={student.id}\n      onMouseEnter={highlightStudent}\n      onMouseLeave={unHighlightStudent}\n      style={{\n        width: '100%',\n        height: '50px',\n        borderBottom: `1px solid ${colors.borderColor}`,\n        backgroundColor: highlight ? colors.grey : baseColor,\n        justifyContent: 'flex-start',\n        paddingLeft: '16px',\n        ...style,\n      }}\n    >\n      <div\n        style={{\n          width: '30px',\n          height: '30px',\n          borderRadius: '15px',\n          overflow: 'hidden',\n          marginRight: '16px',\n        }}\n      >\n        <img style={{ width: '30px' }} src={student.photo_url} />\n      </div>\n      <Tooltip title={student.email}>\n      <span\n        style={{\n          ...fonts.MEDIUM,\n          width: '210px',\n          overflow: 'hidden',\n          textOverflow: 'ellipsis',\n          whiteSpace: 'nowrap',\n          textAlign: 'start',\n        }}\n      >\n        {student.first_name} {student.last_name}\n      </span>\n      </Tooltip>\n    </ButtonBase>\n  </div>);\n};\nexport default StudentItem;\n","import React, { useState } from 'react';\nimport { colors, fonts } from '../theme';\nimport { getTranslation } from '../i18n';\n\nconst dimmedFont = {\n  ...fonts.MEDIUM,\n  color: colors.borderColorDark,\n};\n\nconst CourseItem = (props) => {\n  const {\n    teachers, classroomName, course, onClick,\n  } = props;\n\n  const [selected, setSelected] = useState(false);\n\n  return (\n    <div\n      onMouseEnter={() => setSelected(true)}\n      onMouseLeave={() => setSelected(false)}\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        border: `1px solid ${colors.borderColor}`,\n        padding: '16px',\n        margin: '4px',\n        cursor: 'pointer',\n        backgroundColor: selected ? colors.grey : colors.white,\n      }}\n      onClick={onClick}\n    >\n      <span style={{ ...fonts.MEDIUM, fontWeight: '800', marginBottom: '6px' }}>\n        {course.name}\n      </span>\n      <span style={dimmedFont}>Id: {course.code}</span>\n      <span style={dimmedFont}>\n        {getTranslation('classroom')}: {classroomName}\n      </span>\n      <div>\n        <span style={dimmedFont}>{getTranslation('teacher')}: </span>\n        {teachers?.map((t) => (\n          <span key={t.id} style={dimmedFont}>\n            {t.first_name} {t.last_name}{' '}\n          </span>\n        ))}\n      </div>\n    </div>\n  );\n};\nexport default CourseItem;\n","import React, { useContext, useEffect, useState } from 'react';\nimport { GlobalContext } from '../utils';\nimport { getTranslation } from '../i18n';\nimport { fonts } from '../theme';\nimport Card from '../components/card';\nimport CourseItem from './courseItem';\nimport FullscreenProgress from '../components/fullscreenProgress';\n\nconst fields = `\n  name\n  teachers {\n    id\n    first_name\n    last_name\n    email\n    photo_url\n  }\n  courses {\n    id\n    name\n    code\n    description\n  }\n`;\n\nconst CoursesCard = (props) => {\n  const { student, onCourseSelected } = props;\n  const [classroom, setClassroom] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const context = useContext(GlobalContext);\n  const { Api } = context;\n\n  const loadCourses = async () => {\n    setLoading(true);\n    const response = await Api.getClassroom(fields, student.id);\n    setClassroom(response?.data?.classroom);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    loadCourses();\n  }, []);\n\n  useEffect(() => {\n    loadCourses();\n  }, [student]);\n\n  if (loading) {\n    return null;\n  }\n\n  return (\n    <div style={{ padding: '16px 16px 16px 26px', display:'flex', width:'100%', flexDirection:'column' }}>\n      <span style={{ ...fonts.LARGE }}>{`${getTranslation('coursesIn')} ${\n        classroom.name\n      }`}</span>\n      <Card style={{ marginTop: '10px'}}>\n        {classroom?.courses?.map((c) => (\n          <CourseItem course={c} key={c.id} teachers={classroom?.teachers} classroomName={classroom.name} onClick={() => onCourseSelected(c)}/>\n        ))}\n      </Card>\n    </div>\n  );\n};\nexport default CoursesCard;\n","import React from 'react';\nimport { ArrowBack, Close as CloseIcon } from '@material-ui/icons';\nimport { useWindowDimensions } from '../hooks';\nimport { colors, fonts } from '../theme';\n\nconst StudentOverviewHeader = (props) => {\n  const {\n    studentName, courseName, onBack, onClose, classroomName, objectiveName,\n  } = props;\n  const dim = useWindowDimensions();\n\n  return (\n    <div\n      style={{\n        height: '60px',\n        width: dim.width - 360,\n        backgroundColor: colors.brandColorPink,\n        alignItems: 'center',\n        display: 'flex',\n        minHeight: '58px',\n        padding: '0px 0px 0px 16px',\n        position: 'fixed',\n      }}\n    >\n      {onBack && (\n        <ArrowBack\n          style={{\n            cursor: 'pointer',\n            color: colors.white,\n            height: '25px',\n            marginLeft: '10px',\n          }}\n          onClick={onBack}\n        />\n      )}\n      {!onBack\n        && <CloseIcon\n          style={{\n            cursor: 'pointer',\n            color: colors.white,\n            height: '25px',\n            marginLeft: '16px',\n          }}\n        onClick={onClose}/>\n      }\n      <div style={{\n        position: 'absolute', left: '54px', display: 'flex', alignItems: 'center',\n      }}>\n        <span style={{ ...fonts.MEDIUM, color: colors.white }}>{classroomName}</span>\n      {courseName\n      && <>\n        <ArrowBack style={{ color: colors.white, transform: 'rotate(180deg)', height: '15px' }}/>\n        <span style={{ ...fonts.MEDIUM, color: colors.white }}>{courseName}</span>\n        <ArrowBack style={{ color: colors.white, transform: 'rotate(180deg)', height: '15px' }}/>\n        <span style={{ ...fonts.MEDIUM, color: colors.white }}>{studentName}</span>\n        <ArrowBack style={{ color: objectiveName ? colors.white : 'transparent', transform: 'rotate(180deg)', height: '15px' }}/>\n        <span style={{ ...fonts.MEDIUM, color: colors.white }}>{objectiveName}</span>\n      </>}\n      </div>\n    </div>\n  );\n};\nexport default StudentOverviewHeader;\n","import React, {useContext, useEffect, useMemo, useReducer, useRef} from 'react';\nimport debounce from \"lodash.debounce\";\nimport Card from \"../components/card\";\nimport AssessmentSlider from \"../components/assessmentSlider\";\nimport {getGradeSystemValues, getLastModified, GlobalContext} from \"../utils\";\nimport {colors, fonts} from \"../theme\";\nimport {getTranslation} from \"../i18n\";\nimport FeedbackInput from \"../components/feedbackInput\";\n\nconst emptyAssessment = (assessment) => ({\n  ...assessment,\n  feedback: null,\n  feedback_last_edit: null,\n  feedback_published: false,\n  gradeColor: null,\n  gradeIsPassed: null,\n  gradeName: null,\n  grade_id: null,\n  grade_last_edit: null,\n  grade_published: false,\n  private_note: null,\n  private_note_last_edit: null,\n  target_grade_id: null,\n  target_grade_last_edit: null,\n  target_grade_published: false,\n});\n\n\nconst CourseAssessmentCard = (props) => {\n  const {assessment, onSave, studentId, multiEdit} = props;\n  const context = useContext(GlobalContext);\n  const {Api} = context;\n  const currentAssessment = useRef(assessment);\n  const [ignored, forceUpdate] = useReducer((x) => x + 1, 0);\n\n  useEffect(() => {\n    currentAssessment.current = multiEdit ? emptyAssessment(assessment) : assessment;\n    forceUpdate();\n  }, [assessment, studentId]);\n\n  useEffect(() => {\n    currentAssessment.current = multiEdit\n      ? emptyAssessment(assessment)\n      : assessment;\n    forceUpdate();\n  }, [multiEdit]);\n\n  const saveCourseAssessment = useMemo(() => debounce(async (Api, assessment, onSave) => {\n    await Api.updateCourseAssessments([assessment]);\n    if (onSave) {\n      onSave();\n    }\n  }, 1000), [assessment?.id]);\n\n  const gradesSystemValues = getGradeSystemValues(\n    currentAssessment.current?.gradeSystem?.find((g) => g.is_final)\n  );\n\n  const defaultIndex = gradesSystemValues.findIndex(\n    (g) => g.id === currentAssessment.current.grade_id\n  );\n\n  const defaultIndexTarget = gradesSystemValues.findIndex(\n    (g) => g.id === currentAssessment.current.target_grade_id\n  );\n\n  const save = () => {\n    if (!multiEdit) {\n      saveCourseAssessment(Api, currentAssessment.current, onSave);\n    } else {\n      onSave(currentAssessment.current);\n    }\n  };\n\n  return (\n    <div>\n      <span\n        style={{\n          ...fonts.LARGE,\n          color: colors.brandColorPink,\n          marginLeft: \"16px\",\n        }}\n      >\n        {getTranslation(\"overallResultHeaderTeacher\")}\n      </span>\n      <Card style={{marginTop: \"16px\"}}>\n        <span style={{...fonts.MEDIUM}}>\n          {getTranslation(\"courseGradeInput\")}\n        </span>\n        <AssessmentSlider\n          id={studentId}\n          values={gradesSystemValues}\n          defaultIndex={defaultIndex < 0 ? 0 : defaultIndex}\n          onChange={(index) => {\n            currentAssessment.current.grade_id = gradesSystemValues[index].id;\n          }}\n          published={currentAssessment?.current?.grade_published}\n          onPublish={(state) => {\n            currentAssessment.current.grade_published = state;\n            save();\n          }}\n          helpText={getLastModified(currentAssessment.current.grade_last_edit)}\n          onChangeCommit={() => {\n            save();\n          }}\n          multiEdit={multiEdit}\n        />\n        <span style={{...fonts.MEDIUM}}>\n          {getTranslation(\"courseProgressTargetGradeLabel\")}\n        </span>\n        <AssessmentSlider\n          id={studentId}\n          values={gradesSystemValues}\n          defaultIndex={defaultIndexTarget < 0 ? 0 : defaultIndexTarget}\n          onChange={(index) => {\n            currentAssessment.current.target_grade_id =\n              gradesSystemValues[index].id;\n          }}\n          published={currentAssessment.current.target_grade_published}\n          onPublish={(state) => {\n            currentAssessment.current.target_grade_published = state;\n            save();\n          }}\n          helpText={getLastModified(currentAssessment.current.grade_last_edit)}\n          onChangeCommit={() => {\n            save();\n          }}\n          color={colors.brandColorBlue}\n          multiEdit={multiEdit}\n        />\n\n        <FeedbackInput\n          text={currentAssessment.current.feedback}\n          placeholder={getTranslation(\"courseFeedbackInput\")}\n          onTextChange={(text) => {\n            currentAssessment.current.feedback = text;\n            save();\n          }}\n          published={currentAssessment.current.feedback_published}\n          onPublish={(id, value) => {\n            currentAssessment.current.feedback_published = value;\n            save();\n          }}\n          id={currentAssessment.current.id}\n          assessment={currentAssessment.current}\n          helperText={getLastModified(\n            currentAssessment.current.feedback_last_edit\n          )}\n          warningText={multiEdit ? getTranslation('warning_overwrite_text') : ''}\n          multiEdit={multiEdit}\n        />\n        <FeedbackInput\n          text={currentAssessment.current.private_note}\n          placeholder={getTranslation(\"coursePrivateNotesInput\")}\n          onTextChange={(text) => {\n            currentAssessment.current.private_note = text;\n            save();\n          }}\n          id={currentAssessment.current.id}\n          assessment={currentAssessment.current}\n          helperText={getLastModified(\n            currentAssessment.current.private_note_last_edit\n          )}\n          hideEye\n          warningText={multiEdit ? getTranslation('warning_overwrite_text') : ''}\n          multiEdit={multiEdit}\n        />\n      </Card>\n    </div>\n  );\n};\n\nexport default CourseAssessmentCard;\n","import React from 'react';\nimport {colors, fonts} from \"../theme\";\n\nconst EmptyText = ({text, style = {}}) => {\n  return (\n    <div\n      style={{\n        display: 'flex',\n        border: `1px dashed ${colors.borderColorDark}`,\n        borderRadius: 6,\n        padding: 10,\n        justifyContent: 'center',\n        ...style,\n      }}>\n      <span style={{\n        ...fonts.MEDIUM,\n        color: colors.borderColorDark,\n        fontFamily: \"Roboto\",\n        fontStyle: 'italic'\n      }}>{text}</span>\n    </div>\n  );\n};\n\nexport default EmptyText;","import {colors, fonts} from \"../../theme\";\nimport React, {memo, useContext, useEffect, useMemo, useState} from \"react\";\nimport {debounce} from \"lodash\";\nimport {GlobalContext} from \"../../utils\";\nimport {getTranslation} from \"../../i18n\";\nimport EmptyText from \"../../components/emptyText\";\nimport Dropdown from \"../../components/dropdown\";\nimport moment from \"moment\";\n\nconst styles = {\n  extraAdjustmentStyle: {\n    ...fonts.MEDIUM,\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    borderRadius: 4,\n    padding: '4px 6px 4px 6px',\n    backgroundColor: colors.darkYellow,\n    margin: 2,\n  },\n};\n\n\nconst ExtraAdjustments = (\n  {\n    isGrid = false,\n    multiEdit = false,\n    onChange = null,\n    studentId,\n    courseId,\n    style = {},\n    initialSelectedExtraAdjustments = [],\n    extraAdjustments = [],\n    studentExtraAdjustments = [],\n    refresh,\n  }) => {\n  const [selectedExtraAdjustments, setSelectedExtraAdjustments] = useState(initialSelectedExtraAdjustments?.map(e => e.id));\n  const context = useContext(GlobalContext);\n  const {Api} = context;\n\n  const options = extraAdjustments\n    .sort((a, b) => a.name.localeCompare(b.name))\n    .map((extraAdjustment) => ({\n      id: extraAdjustment.id,\n      name: extraAdjustment.name,\n      value: extraAdjustment.id,\n    }));\n\n  const saveChanges = useMemo(() => debounce(async (Api, adjustments, courseId, studentId) => {\n    await Api.updateStudentExtraAdjustments2(adjustments, courseId, studentId);\n    await refresh();\n  }, 1000), [refresh]);\n\n  useEffect(() => {\n    if (multiEdit) {\n      setSelectedExtraAdjustments([]);\n    }\n  }, [multiEdit]);\n\n  useEffect(() => {\n    if (!multiEdit) {\n      setSelectedExtraAdjustments(initialSelectedExtraAdjustments?.map(e => e.id));\n    }\n  }, [initialSelectedExtraAdjustments, multiEdit]);\n\n  let first = initialSelectedExtraAdjustments[initialSelectedExtraAdjustments.length - 1];\n  return (\n    <div style={style}>\n      <Dropdown\n        title={getTranslation('extraAdjustments')}\n        placeholder={getTranslation('extraAdjustments')}\n        multiple\n        options={options}\n        value={selectedExtraAdjustments}\n        modified={first?moment(first?.modified).format('DD/MM/YYYY'):null}\n        renderValue={(ids) => (\n          <div style={{display: 'flex', flexWrap: 'wrap'}}>\n            {ids.map(id => (<span style={{\n              ...styles.extraAdjustmentStyle,\n              maxWidth: isGrid ? 220 : '100%'\n            }}>{options.find(o => o.id === id).name}</span>))}\n          </div>\n        )}\n        changedBy={`${first?.user?.first_name} ${first?.user?.last_name}`}\n        onChange={async (e) => {\n          if (!multiEdit) {\n            await saveChanges(Api, e.target.value, courseId, studentId);\n          } else if (onChange) {\n            onChange(e.target.value);\n          }\n          return setSelectedExtraAdjustments(e.target.value);\n        }}\n      />\n\n      {!multiEdit && <div style={{marginTop: 20, marginBottom: 10}}><span\n        style={{...fonts.LARGE, fontWeight: 600}}>{getTranslation('studentExtraAdjustments')}</span>\n      </div>}\n      {(studentExtraAdjustments.length === 0 && !multiEdit) &&\n      <EmptyText style={{marginTop: 5}} text={getTranslation(('noExtraAdjustments'))}/>}\n      {(studentExtraAdjustments.length > 0 && !multiEdit) &&\n      <div style={{display: 'flex', alignItems: 'flex-start', flexWrap: 'wrap', marginTop: 5, marginBottom: 0}}>\n        {studentExtraAdjustments.map(e => (\n          <span\n            style={{...styles.extraAdjustmentStyle, color: colors.white, backgroundColor: colors.studentExtraAdjustments}}>{e.name}</span>\n        ))}\n      </div>}\n    </div>\n  )\n}\n\nexport default memo(ExtraAdjustments);","import React, {useContext, useRef, useState} from 'react';\nimport moment from \"moment\";\nimport {colors, fonts} from \"../../theme\";\nimport Card from \"../../components/card\";\n// import MoreMenu from \"../../components/moreMenu\";\nimport {TextField} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport PrimaryButton from \"../../components/primaryButton\";\nimport {GlobalContext} from \"../../utils\";\nimport {getTranslation} from \"../../i18n\";\nimport EmptyText from \"../../components/emptyText\";\n\nconst CssTextField = withStyles({\n  root: {\n    '& .MuiInputBase-multiline': {\n      padding: 0,\n    },\n    '& .MuiInput-underline:before': {\n      borderBottom: 0,\n    },\n    '& .MuiInputBase-input': {\n      ...fonts.MEDIUM,\n      backgroundColor: colors.greyDarker,\n      padding: '6px 8px 6px 8px',\n      borderRadius: 4,\n      margin: '0px',\n    },\n    '& .MuiFormLabel-root': {\n      ...fonts.SMALL,\n    },\n    '& label.Mui-focused': {},\n    '& .MuiInput-underline:hover:before': {\n      borderBottom: 0,\n    },\n    '& .MuiInput-underline:after': {\n      borderBottom: 0,\n    },\n  },\n})(TextField);\n\nconst CommentItem = ({comment, Api}) => {\n  const {user} = comment;\n  let imgUrl = user.photo_url;\n  if (imgUrl && !imgUrl.startsWith('https')) {\n    imgUrl = `https:${imgUrl}`;\n  }\n\n  // const deleteComment = async (id) => {\n  //   await Api.deleteComment(id);\n  // };\n\n  return (\n    <div style={{marginTop: 0}}>\n      <div style={{display: 'flex', alignItems: 'center'}}>\n        <img  alt={':)'} style={{width: 32, height: 32, borderRadius: 40, marginRight: 6}} src={imgUrl}/>\n        <span style={{...fonts.MEDIUM, marginRight: 6, fontWeight: 600}}>{user.first_name} {user.last_name}</span>\n        <span style={{\n          flex: 1,\n          ...fonts.SMALL,\n          marginRight: 6,\n          color: colors.textColorLight\n        }}>{moment(comment.modified).fromNow()}</span>\n        {/*<MoreMenu*/}\n        {/*  style={{height: 30}}*/}\n        {/*  iconStyle={{color: colors.black, transform: 'rotate(90deg)'}}*/}\n        {/*  options={[{title: 'Ta bort'}]}*/}\n        {/*  onClick={async () => {*/}\n        {/*    console.log('xxx ', {comment});*/}\n        {/*    await deleteComment(comment.id);*/}\n        {/*  }}/>*/}\n      </div>\n      <p style={{...fonts.MEDIUM, marginLeft: 40,marginTop:0, whiteSpace:'pre-line'}}>{comment.comment}</p>\n    </div>\n  );\n};\n\nconst InternalComments = ({comments, refresh, courseId, studentId}) => {\n  const [showSend, setShowSend] = useState(false);\n  const inputRef = useRef();\n  const context = useContext(GlobalContext);\n  const {Api} = context;\n\n  const sendComment = async () => {\n    await Api.addStudentCourseComment({\n      text: inputRef.current.value,\n      courseId: courseId,\n      studentId: studentId\n    });\n    inputRef.current.value = '';\n    setShowSend(false);\n    refresh();\n  };\n\n  let sortedComments = comments?.sort((a, b) => (new Date(b.modified) - new Date(a.modified)));\n  return (\n    <div style={{marginTop: 20}}>\n      <span style={{...fonts.LARGE, fontWeight: 600}}>{getTranslation('interalCommentsOnAdjustments')}</span>\n      <Card style={{marginTop: 10, padding: 0}}>\n        <div style={{maxHeight: 200, overflow: 'scroll'}}>\n          <div style={{padding: 10, marginTop: 0}}>\n            {sortedComments?.length === 0 && <EmptyText text={getTranslation('noInternalComments')}/>}\n            {sortedComments?.map(c => (\n              <CommentItem comment={c} Api={Api}/>\n            ))}\n          </div>\n          <div style={{\n            marginTop: 10,\n            position: 'sticky',\n            bottom: 0,\n            backgroundColor: colors.white,\n            padding: 10,\n            borderTop: `1px solid ${colors.borderColor}`\n          }}>\n            <CssTextField\n              inputRef={inputRef}\n              onFocus={() => setShowSend(true)}\n              onBlur={() => {\n                if (inputRef.current.value.length === 0) {\n                  setShowSend(false);\n                }\n              }}\n              multiline\n              placeholder={getTranslation('writeInternalComment')}\n              style={{display: 'flex'}}\n            />\n            {showSend &&\n            <div style={{display: 'flex'}}>\n              <PrimaryButton\n                style={{width: '100%', height: 30, margin: '10px 0 0 0'}}\n                textStyle={{color: colors.white}}\n                title={getTranslation('send')}\n                onClick={sendComment}/>\n            </div>}\n          </div>\n        </div>\n      </Card>\n    </div>\n  );\n};\n\nexport default InternalComments;","import {getTranslation} from \"../../i18n\";\nimport moment from \"moment\";\nimport Dropdown from \"../../components/dropdown\";\nimport React, {useContext, useEffect, useMemo, useState} from \"react\";\nimport {colors, fonts} from \"../../theme\";\nimport debounce from \"lodash.debounce\";\nimport {GlobalContext} from \"../../utils\";\nimport PublishIcon, {PUBLISH_STATES} from \"../../components/publishIcon\";\n\nconst getColor = (selected) => {\n  if (!selected) {\n    return colors.greyDarker;\n  }\n  switch (selected) {\n    case 2:\n      return colors.ewsGreen;\n    case 3:\n      return colors.primary;\n    case 4:\n      return colors.red;\n    default:\n      return colors.greyDarker;\n  }\n};\n\nconst getTextColor = (selected) => {\n  if (!selected) {\n    return colors.textColor;\n  }\n  switch (selected) {\n    case 2:\n      return colors.white;\n    case 3:\n      return colors.white;\n    case 4:\n      return colors.white;\n    default:\n      return colors.textColor;\n  }\n};\n\nconst convertPublished = (published) => {\n  if (published === true) {\n    return PUBLISH_STATES.published;\n  } else if (published === false) {\n    return PUBLISH_STATES.notPublished;\n  }\n  return published;\n};\n\nconst options = [\n  {id: 1, value: '0', name: getTranslation('noStatus')},\n  {id: 2, value: '10', name: getTranslation('green')},\n  {id: 3, value: '20', name: getTranslation('yellow')},\n  {id: 4, value: '30', name: getTranslation('red')},\n];\n\nconst StatusDropdown = (\n  {\n    status,\n    studentId,\n    courseId,\n    multiEdit,\n    onChange,\n    refresh,\n  }) => {\n\n  const context = useContext(GlobalContext);\n  const {Api} = context;\n  const [selected, setSelected] = useState(options.find(o => o.value === status?.status)?.id || 1);\n  const [published, setPublished] = useState(convertPublished(status?.published));\n\n  const save = useMemo(() => debounce(async (data, Api) => {\n      await Api.updateStudentEWSStatus(data);\n      await refresh();\n    }, 1000),\n    [refresh]\n  );\n\n  const saveStatus = async (status, newStatus) => {\n    const saveObj = {\n      status: newStatus,\n      student_id: studentId,\n      course_id: courseId,\n      published: status?.published,\n    };\n    if (!multiEdit) {\n      save(saveObj, Api);\n    }\n    if (onChange) {\n      onChange(saveObj);\n    }\n  };\n\n  const publish = async (status, published) => {\n    const saveObj = {\n      status: status?.status,\n      student_id: studentId,\n      course_id: courseId,\n      published: published,\n    };\n    if (!multiEdit) {\n      save(saveObj, Api);\n    }\n    if (onChange) {\n      onChange(saveObj);\n    }\n  };\n\n  useEffect(() => {\n    if (multiEdit) {\n      setSelected(null);\n      setPublished(PUBLISH_STATES.dontChange);\n    }\n  }, [multiEdit]);\n\n  useEffect(() => {\n    if (!multiEdit) {\n      setSelected(options.find(o => o.value === status?.status)?.id || 1);\n      setPublished(convertPublished(status?.published));\n    }\n  }, [status, multiEdit]);\n\n  const getPublishText = (publish) => {\n    switch (publish) {\n      case PUBLISH_STATES.published:\n        return getTranslation('visibleToStudent');\n      case PUBLISH_STATES.notPublished:\n        return getTranslation('notVisibleToStudent');\n      case PUBLISH_STATES.dontChange:\n        return getTranslation('dontChangeVisibility');\n      default:\n        return null;\n    }\n  };\n\n  const user = status?.user;\n  const modified = status?.modified ? moment(status?.modified).format('DD/MM/YYYY') : '';\n  return (\n    <div style={{position: 'relative'}}>\n      <Dropdown\n        title={getTranslation('warninglevel')}\n        placeholder={getTranslation('setWarningLevel')}\n        value={multiEdit ? selected : null}\n        options={options}\n        selectStyle={{backgroundColor: multiEdit ? getColor(selected) : colors.greyDarker}}\n        modified={multiEdit ? null : modified}\n        renderValue={(id) => {\n          return (\n            <div style={{display: 'flex', alignItem: 'center', marginTop: 6, marginLeft: 6}}>\n              <span\n                style={{...fonts.MEDIUM, color: getTextColor(selected)}}>{options.find(o => o.id === id)?.name}</span>\n            </div>\n          );\n        }}\n        changedBy={`${user?.first_name} ${user?.last_name}`}\n        onChange={(e => {\n          setSelected(e.target.value);\n          if (!multiEdit) {\n            const newStatus = options.find(o => o.id === e.target.value)?.value;\n            saveStatus(status, e.target.value === 1 ? '0' : newStatus);\n          }\n          if (onChange) {\n            status.status = options.find(o => o.id === e.target.value)?.value;\n            onChange(status);\n          }\n        })}\n      />\n      {!multiEdit && <div style={{marginTop: 5}}>\n        <div style={{display: 'flex', alignItems: 'center'}}>\n          <span style={{...fonts.MEDIUM}}>{getTranslation('currentWarningLevel')}</span>\n          <div style={{backgroundColor: getColor(selected), width: 46, height: 22, borderRadius: 4, marginLeft: 4}}/>\n        </div>\n      </div>}\n      {(!!status?.modified || multiEdit) &&\n      <div\n        style={{position: 'absolute', top: -6, right: 0, display: 'flex', alignItems: 'center', border: '0px solid'}}>\n        <span style={{...fonts.SMALL}}>{getPublishText(published)}</span>\n        <PublishIcon\n          size={20}\n          style={{marginTop: 0}}\n          published={status?.published}\n          multiEdit={multiEdit}\n          onClick={(pub) => {\n            setPublished(convertPublished(pub));\n\n            if (!multiEdit) {\n              publish(status, pub);\n            }\n            if (onChange) {\n              onChange({...status, published: pub, status: options.find(o => o.id === selected)?.value});\n            }\n          }}/>\n      </div>\n      }\n    </div>\n  );\n};\n\nexport default StatusDropdown;","import React, {useCallback, useContext, useEffect, useRef, useState} from \"react\";\nimport {colors, fonts} from \"../../theme\";\nimport Card from \"../../components/card\";\nimport {GlobalContext} from \"../../utils\";\nimport {getTranslation} from \"../../i18n\";\nimport ExtraAdjustments from \"./extraAdjustments\";\nimport InternalComments from \"./internalComments\";\nimport StatusDropdown from \"./statusDropdown\";\n\nconst fields = `\n    name\n    extraAdjustments {\n      id\n      name\n    }\n    students {\n      id\n      first_name\n      last_name\n      email\n      extraAdjustments {\n        id\n        modified\n        name\n      }\n      EWS {\n        courseId\n        courseName\n        status {\n          status\n          published\n          modified\n          user {\n            id\n            first_name\n            last_name\n          }\n        }\n        internalComments{\n          id\n          modified\n          comment\n          course_definition_id\n          student_id\n          user {\n            id\n            first_name\n            last_name\n            photo_url\n          }\n        }\n        extraAdjustments{\n          id\n          name\n          modified\n          user {\n            id\n            first_name\n            last_name\n          }\n        }\n      }\n    }\n`;\n\nconst EwsStudentCard = (props) => {\n  const {student, course, multiEdit, isGrid, onChange = false} = props;\n  const context = useContext(GlobalContext);\n  const {Api} = context;\n  const [classroom, setClassroom] = useState();\n  const multiEditSaveObject = useRef({});\n  const [selectedExtraAdjustments, setSelectedExtraAdjustments] = useState([]);\n\n  const getEWSData = useCallback(async () => {\n    const response = await Api.getClassroom(fields);\n    setClassroom(response?.data?.classroom);\n  }, [Api]);\n\n  useEffect(() => {\n    getEWSData();\n  }, [student.id, multiEdit, getEWSData]);\n\n  useEffect(() => {\n    getEWSData();\n  }, [getEWSData]);\n\n  const studentEws = classroom?.students.find(s => s.id === student.id);\n  const studentExtraAdjustments = studentEws?.extraAdjustments;\n  const studentCourseEws = studentEws?.EWS.find((e) => e.courseId === course.id);\n  const extraAdjustmentsAvailable = classroom?.extraAdjustments;\n  return (\n    <div>\n      <span\n        style={{\n          ...fonts.LARGE,\n          color: colors.brandColorPink,\n          marginLeft: \"16px\",\n        }}\n      >\n        {getTranslation(\"actions\")}\n      </span>\n      <Card style={{marginTop: \"16px\", marginBottom: \"16px\"}}>\n        <StatusDropdown\n          refresh={getEWSData}\n          status={studentCourseEws?.status || {}}\n          studentId={student.id}\n          courseId={course.id}\n          multiEdit={multiEdit}\n          onChange={(ewsStatus) => {\n            multiEditSaveObject.current.ewsStatus = ewsStatus;\n            if (onChange) {\n              onChange(multiEditSaveObject.current);\n            }\n          }}\n        />\n        <ExtraAdjustments\n          refresh={getEWSData}\n          isGrid={isGrid}\n          multiEdit={multiEdit}\n          studentId={student.id}\n          courseId={course.id}\n          studentExtraAdjustments={studentExtraAdjustments}\n          extraAdjustments={extraAdjustmentsAvailable}\n          initialSelectedExtraAdjustments={multiEdit ? [] : studentCourseEws?.extraAdjustments}\n          selectedExtraAdjustments={selectedExtraAdjustments}\n          setSelectedExtraAdjustments={setSelectedExtraAdjustments}\n          style={{marginTop: 20}}\n          onChange={(adjustments) => {\n            multiEditSaveObject.current.extraAdjustments = adjustments;\n            if (onChange) {\n              onChange(multiEditSaveObject.current);\n            }\n          }}\n        />\n        {!multiEdit && (\n          <InternalComments courseId={course.id} studentId={student.id} refresh={getEWSData}\n                            comments={studentCourseEws?.internalComments}/>\n        )}\n      </Card>\n    </div>\n  );\n};\n\nexport default EwsStudentCard;\n","import React from 'react';\nimport Card from '../components/card';\nimport { colors, fonts } from '../theme';\n\nconst CourseInfoCard = (props) => {\n  const { course } = props;\n  return (\n    <Card style={{ marginBottom: '16px' }}>\n      <div style={{ display: 'flex', alignItems: 'center' }}>\n        <div\n          style={{\n            backgroundColor: colors.brandColorPink,\n            width: '50px',\n            height: '50px',\n            borderRadius: '25px',\n          }}\n        />\n        <div\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            marginLeft: '16px',\n          }}\n        >\n          <span style={{ ...fonts.LARGE, fontWeight: '800' }}>\n            {course.name}\n          </span>\n          <span style={{ ...fonts.MEDIUM, color: colors.borderColorDark }}>\n            {course.code}\n          </span>\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default CourseInfoCard;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null));\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"sb-ico-feedback_svg__Warstwa_2\",\n  \"data-name\": \"Warstwa 2\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"sb-ico-feedback_svg__TTopFull2\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"current\",\n  d: \"M22 4a2 2 0 00-2-2H4a2 2 0 00-2 2v18l4-4h14a2 2 0 002-2zm-9 10h-2v-2h2zm0-4h-2V6h2z\"\n})));\n\nfunction SvgSbIcoFeedback(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default __webpack_public_path__ + \"images/0fe44ea9ef5034c0ef78ba029b98788d-sb-ico-feedback.svg\";\nexport { SvgSbIcoFeedback as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null));\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"sb-ico-note_svg__Warstwa_2\",\n  \"data-name\": \"Warstwa 2\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"sb-ico-note_svg__TTopFull2\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"current\",\n  d: \"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z\"\n})));\n\nfunction SvgSbIcoNote(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default __webpack_public_path__ + \"images/adc5205d1a3aa1b4215527506b00eeb8-sb-ico-note.svg\";\nexport { SvgSbIcoNote as ReactComponent };","import {getTranslation} from \"../i18n\";\nimport {colors, fonts} from \"../theme\";\nimport {Visibility, VisibilityOff} from \"@material-ui/icons\";\nimport {ReactComponent as FeedbackIcon} from \"../images/sb-ico-feedback.svg\";\nimport {ReactComponent as NoteIcon} from \"../images/sb-ico-note.svg\";\nimport React, {memo} from \"react\";\nimport Tooltip from \"../components/tooltip\";\nimport PublishedIcon from \"../components/publishedIcon\";\n\nconst styles = {\n  item: {\n    display: \"flex\",\n    width: \"30px\",\n    height: \"40px\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n    // border: '1px solid',\n  },\n};\n\nconst tt1 = getTranslation(\"courseProgressAssessmentLabel\");\nconst tt2 = getTranslation(\"overallFeedback\");\nconst tt3 = getTranslation(\"overallPrivateNotesMode\");\n\nconst CourseObjectiveSummaryItem = (props) => {\n  const {assessment, grade} = props;\n  return (\n    <div style={{\n      display: \"flex\",\n      alignItems: \"center\",\n      borderLeft: `1px solid ${colors.borderColor}`,\n      borderRight: `1px solid ${colors.borderColor}`,\n      paddingRight: '6px'\n    }}>\n      <Tooltip title={tt1}>\n        <div style={styles.item}>\n          <span\n            style={{\n              ...fonts.LARGE,\n              color: grade?.color || colors.iconColorLight,\n              fontWeight: \"800\",\n            }}\n          >\n            {grade?.name || \"-\"}\n          </span>\n          {grade?.name && (\n            <PublishedIcon published={assessment?.grade_published} active={true}/>\n          )}\n        </div>\n      </Tooltip>\n      <Tooltip title={tt2}>\n        <div style={styles.item}>\n          <FeedbackIcon\n            style={{height: \"20px\", width: \"20px\"}}\n            fill={\n              assessment?.feedback ? colors.iconColor : colors.iconColorLight\n            }\n          />\n          <PublishedIcon published={assessment?.feedback_published} active={assessment?.feedback}/>\n        </div>\n      </Tooltip>\n      <Tooltip title={tt3}>\n        <div style={{display: \"flex\", justifyContent: \"center\"}}>\n          <NoteIcon\n            style={{height: \"20px\", width: \"20px\", marginBottom: \"10px\"}}\n            fill={\n              assessment?.private_note ? colors.iconColor : colors.iconColorLight\n            }\n          />\n        </div>\n      </Tooltip>\n    </div>\n  );\n};\n\nexport default memo(CourseObjectiveSummaryItem);\n","import React, {memo, useContext, useEffect, useMemo, useReducer, useRef, useState} from 'react';\nimport {debounce} from 'lodash';\nimport AssessmentSlider from '../components/assessmentSlider';\nimport {getLastModified, GlobalContext} from '../utils';\nimport FeedbackInput from '../components/feedbackInput';\nimport {getTranslation} from '../i18n';\nimport fonts from '../theme/fonts';\n\nconst CourseObjectiveAssessment = (props) => {\n  const {\n    assessment: initialAssessment,\n    defaultIndex,\n    id,\n    gradeSystemValues,\n    knowledgeRequirements,\n    multiEdit = false,\n    onSave\n  } = props;\n  const context = useContext(GlobalContext);\n  const {Api} = context;\n  const [gradeId, setGradeId] = useState(initialAssessment?.grade_id);\n  const assessment = useRef(initialAssessment);\n  const [initialIndex, setInitialIndex] = useState(defaultIndex);\n  const [ignored, forceUpdate] = useReducer((x) => x + 1, 0);\n\n  useEffect(() => {\n    setInitialIndex(defaultIndex);\n  }, [defaultIndex, id]);\n\n  useEffect(() => {\n    assessment.current = initialAssessment;\n    forceUpdate();\n    setGradeId(initialAssessment?.grade_id);\n  }, [id]);\n\n  const saveAssessment = useMemo(() => debounce(async (Api, assessment) => {\n    await Api.updateCourseObjectiveAssessment([assessment]);\n  }, 1000), [initialAssessment?.id]);\n\n  const save = () => {\n    if (multiEdit) {\n      onSave(assessment.current);\n    } else {\n      saveAssessment(Api, assessment.current);\n    }\n  };\n\n  return (\n    <div\n      style={{display: 'flex', flexDirection: 'column', width: '100%'}}\n    >\n      <AssessmentSlider\n        id={id}\n        values={gradeSystemValues}\n        defaultIndex={initialIndex}\n        onChange={(index) => setGradeId(gradeSystemValues[index].id)}\n        published={assessment.current?.grade_published}\n        onPublish={(value) => {\n          assessment.current = {\n            ...assessment.current,\n            grade_published: value,\n          };\n          save();\n        }}\n        helpText={getLastModified(assessment.current?.grade_last_edit)}\n        showPublish={true}\n        onChangeCommit={() => {\n          assessment.current = {\n            ...assessment.current,\n            grade_id: gradeId,\n          };\n          save();\n        }}\n        disabled={false}\n        multiEdit={multiEdit}\n      />\n      <div\n        style={{\n          marginTop: \"20px\",\n          height: \"100px\",\n          overflow: \"scroll\",\n          ...fonts.MEDIUM,\n        }}\n        dangerouslySetInnerHTML={{\n          __html: knowledgeRequirements?.find((k) => k.grade_id === gradeId)\n            ?.description,\n        }}\n      />\n      <FeedbackInput\n        text={assessment.current?.feedback}\n        placeholder={getTranslation('overallFeedback')}\n        onTextChange={(text) => {\n          assessment.current = {...assessment.current, feedback: text};\n          save();\n        }}\n        published={assessment.current?.feedback_published}\n        onPublish={(id, state) => {\n          assessment.current = {...assessment.current, feedback_published: state};\n          save();\n        }}\n        id={assessment.current?.id}\n        assessment={assessment.current}\n        helperText={getLastModified(assessment.current?.feedback_last_edit)}\n        warningText={multiEdit ? getTranslation('warning_overwrite_text') : ''}\n        multiEdit={multiEdit}\n      />\n      <FeedbackInput\n        text={assessment.current?.private_note}\n        placeholder={getTranslation('overallPrivateNoteInput')}\n        onTextChange={(text) => {\n          assessment.current = {...assessment.current, private_note: text};\n          save();\n        }}\n        hideEye\n        id={assessment.current?.id}\n        assessment={assessment.current}\n        helperText={getLastModified(assessment.current?.private_note_last_edit)}\n        warningText={multiEdit ? getTranslation('warning_overwrite_text') : ''}\n      />\n    </div>\n  );\n};\n\nexport default memo(CourseObjectiveAssessment);\n","import React, { useLayoutEffect, useRef } from \"react\";\nimport { colors, fonts } from \"../theme\";\nimport Tooltip from \"../components/tooltip\";\n\nconst ProficiencyProfile = (props) => {\n  const { onWidth, profile } = props;\n  const ref = useRef();\n\n  useLayoutEffect(() => {\n    if (ref.current) {\n      if (onWidth) {\n        onWidth(ref.current.offsetWidth);\n      }\n    }\n  }, [profile]);\n\n  return (\n    <div ref={ref} style={{ display: \"flex\", maxWidth: \"180px\" }}>\n      {profile?.map((p) => (\n        <Tooltip title={p.grade.label}>\n          <div\n            style={{\n              width: \"30px\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              border: \"0px solid\",\n              display: \"flex\",\n            }}\n          >\n            <span\n              style={{\n                ...fonts.SMALL,\n                fontWeight: p.quantity ? 600 : 400,\n                color: p.quantity ? p.grade.color : colors.borderColorDark,\n              }}\n            >\n              {p.quantity}\n              {profile.length < 8 ? `/${profile.total}` : \"\"}\n            </span>\n          </div>\n        </Tooltip>\n      ))}\n    </div>\n  );\n};\nexport default ProficiencyProfile;\n","import React, {memo, useEffect, useReducer, useRef, useState} from \"react\";\nimport {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  ButtonBase,\n  Tooltip,\n} from \"@material-ui/core\";\nimport { colors, fonts } from \"../theme\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\n\nimport { getTranslation } from \"../i18n\";\nimport CourseObjectiveSummaryItem from \"./courseObjectiveSummaryItem\";\nimport CourseObjectiveAssessment from \"./courseObjectiveAssessment\";\nimport ProficiencyProfile from \"./proficiencyProfile\";\n\nconst widthThreshold = 500;\n\nconst CourseObjectiveAssessmentItem = (props) => {\n  const {\n    id,\n    gradeSystemValues,\n    defaultIndex,\n    assessment: initialAssessment,\n    knowledgeRequirements,\n    objective,\n    onObjectiveSelected,\n    proficiencyProfiles,\n    selectedGradeSystem,\n    multiEdit = false,\n    onSave,\n  } = props;\n\n  const ref = useRef();\n  const assessment = useRef(initialAssessment);\n  const [width, setWidth] = useState();\n  const [ignored, forceUpdate] = useReducer((x) => x + 1, 0);\n  const [profileWidth, setProfileWidth] = useState(0);\n\n  useEffect(() => {\n    setWidth(ref?.current?.clientWidth);\n  },[]);\n\n  useEffect(() => {\n    assessment.current = initialAssessment;\n    forceUpdate();\n  }, [id, initialAssessment]);\n\n  const grade = gradeSystemValues.find(\n    (g) => g.id === assessment.current?.grade_id\n  );\n\n  const name = objective?.name;\n  const wideItem = width > widthThreshold;\n\n  const empty = selectedGradeSystem?.grades.map(g => ({grade: {color:'transparent', label:''}, quantity: 1}))||{};\n  empty.total = 0;\n\n  return (\n    <Accordion ref={ref} TransitionProps={{ unmountOnExit: true }}>\n      <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            width: \"100%\",\n          }}\n        >\n          <Tooltip title={name.length > 15 ? name : \"\"}>\n            <span\n              style={{\n                ...fonts.MEDIUM,\n                overflow: \"hidden\",\n                textOverflow: \"ellipsis\",\n                whiteSpace: \"nowrap\",\n                width: wideItem ? `${300 - profileWidth}px` : \"150px\",\n              }}\n            >\n              {name}\n            </span>\n          </Tooltip>\n          <div style={{ display: \"flex\", alignItems: \"center\" }}>\n            {wideItem && proficiencyProfiles && (\n              <ProficiencyProfile\n                onWidth={setProfileWidth}\n                profile={\n                  proficiencyProfiles[objective?.id] ? proficiencyProfiles[objective?.id] : empty\n                }\n              />\n            )}\n            <CourseObjectiveSummaryItem\n              assessment={assessment.current}\n              grade={grade}\n            />\n            {wideItem && (\n              <ButtonBase\n                onClick={(e) => {\n                  e.stopPropagation();\n                  e.nativeEvent.stopImmediatePropagation();\n                  onObjectiveSelected(objective);\n                }}\n                focusRipple\n                style={{\n                  border: `1px solid ${colors.grey}`,\n                  padding: \"10px\",\n                  marginLeft: \"10px\",\n                  backgroundColor: colors.white,\n                }}\n              >\n                <span style={{ ...fonts.MEDIUM, whiteSpace: \"nowrap\" }}>\n                  {getTranslation(\"ShowDataButton\")}\n                </span>\n              </ButtonBase>\n            )}\n          </div>\n        </div>\n      </AccordionSummary>\n      <AccordionDetails>\n        <CourseObjectiveAssessment\n          assessment={initialAssessment}\n          defaultIndex={defaultIndex}\n          id={id}\n          gradeSystemValues={gradeSystemValues}\n          knowledgeRequirements={knowledgeRequirements}\n          multiEdit={multiEdit}\n          onSave={(assessment) => {\n            onSave({id: objective.id, ...assessment})\n          }}\n        />\n      </AccordionDetails>\n    </Accordion>\n  );\n};\nexport default memo(CourseObjectiveAssessmentItem);\n","import React, {useContext, useEffect, useRef, useState} from \"react\";\nimport {colors, fonts} from \"../theme\";\nimport {getGradeSystemValues, GlobalContext} from \"../utils\";\nimport CourseObjectiveAssessmentItem from \"./courseObjectiveAssessmentItem\";\nimport {getTranslation} from \"../i18n\";\nimport {InputBase, MenuItem, Select, withStyles} from \"@material-ui/core\";\n\nconst BootstrapInput = withStyles(() => ({\n  input: {\n    ...fonts.MEDIUM,\n    fontSize: \"16px\",\n    height: \"34px\",\n    width: \"0px\",\n    alignItems: \"flex-end\",\n    display: \"flex\",\n    borderBottom: `1px solid ${colors.borderColor}`,\n    padding: \"0px\",\n    margin: \"0px\",\n  },\n}))(InputBase);\n\nconst StyledSelect = withStyles(() => ({\n  root: {\n    width: \"0px\",\n    padding: \"0px\",\n    margin: \"0px\",\n    border: \"0px solid\",\n    borderLeft: `1px solid ${colors.borderColor}`,\n  },\n  input: {\n    color: \"transparent\",\n  },\n  select: {\n    paddingRight: \"9px !important\",\n    color: \"transparent\",\n  },\n}))(Select);\n\nconst fields = `\n   name\n    courses {\n      id\n      name\n      gradeSystem{\n        name\n        is_main\n        is_final\n        grades{\n          id\n          name\n          is_passed\n          color\n          label\n        }\n      }\n      objectives {\n        id\n        name\n        description\n        knowledgeRequirements {\n          description\n          grade_id\n        }\n      }\n    }\n     students {\n      id\n      first_name\n      last_name\n      assignments {\n        gradeSystem{\n          id\n          name\n          is_counter\n          grades{\n            id\n            label\n            order\n            color\n          }\n        }\n        objectiveAssessments {\n        student_id\n          objective_id\n          grade {\n            id\n            label\n            order\n            color\n          }\n        }\n        assignments {\n          gradeSystem{\n            id\n            name\n            is_counter\n            grades{\n              id\n              label\n              order\n              color\n            }\n          }\n          objectiveAssessments {\n            student_id\n            objective_id\n            grade {\n              id\n              label\n              order\n              color\n            }\n          }\n        }\n      }\n      courseAssessments {\n        courseId\n        courseName\n        courseObjectiveAssessments {\n          name\n          id\n          grade_published\n          grade_id\n          objective_id\n          active\n          grade_last_edit\n          feedback\n          feedback_published\n          feedback_last_edit\n          private_note\n          private_note_last_edit\n        }\n      }\n    }\n  `;\n\nconst SIZE_THRESHOLD = 500;\n\nconst CourseObjectiveAssessmentCard = (props) => {\n  const {studentId, courseId, onObjectiveSelected, multiEdit, onSave} = props;\n  const context = useContext(GlobalContext);\n  const {Api, networkTraffic} = context;\n  const [course, setCourse] = useState();\n  const [students, setStudents] = useState();\n  const [saving, setSaving] = useState(false);\n  const [proficiencyProfiles, setProficiencyProfiles] = useState(false);\n  const [selectedGradeSystem, setSelectedGradeSystem] = useState(0);\n  const gradeSystemsUsed = useRef([]);\n  const ref = useRef();\n  const [width, setWidth] = useState();\n  const changedObjectiveAssessments = useRef({});\n  const multieditRef = useRef(false);\n\n  let assessment = {};\n\n  const getObjectives = async () => {\n    const response = await Api.getClassroom(fields);\n    const classroom = response?.data?.classroom;\n    const allAssignments = classroom?.students.find(s => s.id === studentId)?.assignments\n      ?.map((a) => [a, ...(a.assignments || [])])\n      ?.flat();\n\n    gradeSystemsUsed.current = allAssignments?.reduce((acc, ass) => {\n      if (\n        ass?.gradeSystem?.id &&\n        !acc.find((a) => a?.id === ass?.gradeSystem?.id) &&\n        !ass.gradeSystem?.is_counter\n      ) {\n        acc.push(ass?.gradeSystem);\n      }\n      return acc;\n    }, []);\n\n    const prProfile = gradeSystemsUsed.current.map((grs) => {\n      const assignments = allAssignments.filter(\n        (a) => a?.gradeSystem?.id === grs.id\n      );\n      const prProfile = assignments?.reduce((acc, a) => {\n        a?.objectiveAssessments?.filter(o => o.student_id === studentId)?.forEach((oa) => {\n          if (!acc.hasOwnProperty(oa.objective_id)) {\n            acc[oa.objective_id] = grs.grades.map((g) => ({\n              quantity: 0,\n              grade: g,\n            }));\n            acc[oa.objective_id].total = 0;\n          }\n          if (oa.grade) {\n            acc[oa.objective_id].total += 1;\n            if (oa.grade.order === 0) {\n              const newQuantity = acc[oa.objective_id][0].quantity + 1;\n              acc[oa.objective_id][0] = {\n                ...acc[oa.objective_id][0],\n                quantity: newQuantity,\n              };\n            }\n            for (let x = oa.grade.order; x >= 1; x--) {\n              const newQuantity = acc[oa.objective_id][x].quantity + 1;\n              acc[oa.objective_id][x] = {\n                ...acc[oa.objective_id][x],\n                quantity: newQuantity,\n              };\n            }\n          }\n        });\n        return acc;\n      }, {});\n      return {\n        gradeSystemId: grs.id,\n        gradeSystemName: grs.name,\n        objectives: prProfile,\n      };\n    });\n    setProficiencyProfiles(prProfile);\n\n    setCourse(classroom?.courses.find((c) => c.id === courseId));\n    if (!multieditRef.current) {\n      setStudents(classroom?.students);\n    }\n  };\n\n  // A little bit hacky, reload classroom if something has been saved\n  useEffect(() => {\n    if (networkTraffic === \"POST\" || networkTraffic === \"PUT\") {\n      setSaving(true);\n    } else if (saving) {\n      getObjectives();\n      setSaving(false);\n    }\n  }, [networkTraffic]);\n\n  useEffect(() => {\n    getObjectives();\n    setWidth(ref?.current?.clientWidth);\n  }, []);\n\n  useEffect(() => {\n    getObjectives();\n  }, [studentId]);\n\n  useEffect(() => {\n    multieditRef.current = multiEdit;\n    if (!multiEdit) {\n      getObjectives();\n      changedObjectiveAssessments.current = {};\n    }\n  }, [multiEdit]);\n\n  const gradeSystemValues = getGradeSystemValues(\n    course?.gradeSystem.find((g) => g.is_main)\n  );\n\n  if (!multiEdit) {\n    assessment = students?.find(s => s.id === studentId).courseAssessments?.find((a) => a.courseId === courseId);\n  }\n\n  return (\n    <div style={{marginTop: \"30px\", position: \"relative\"}} ref={ref}>\n      <span\n        style={{\n          ...fonts.LARGE,\n          color: colors.brandColorPink,\n          marginLeft: \"16px\",\n        }}\n      >\n        {getTranslation(\"objectivesText\")}\n      </span>\n      {width > SIZE_THRESHOLD && gradeSystemsUsed.current.length > 0 && (\n        <div\n          style={{\n            border: `1px solid ${colors.borderColor}`,\n            backgroundColor: colors.white,\n            position: \"absolute\",\n            right: \"244px\",\n            top: \"0px\",\n            display: \"flex\",\n            height: \"30px\",\n            maxWidth: \"205px\",\n          }}\n        >\n          <>\n            {gradeSystemsUsed.current[selectedGradeSystem]?.grades?.map((g) => {\n              return (\n                <div\n                  style={{\n                    width: \"30px\",\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    border: \"0px solid\",\n                  }}\n                >\n                  <span style={{...fonts.SMALL, color: g.color}}>\n                    {g.label}\n                  </span>\n                </div>\n              );\n            })}\n            <StyledSelect\n              value={selectedGradeSystem}\n              onChange={({target}) => {\n                setSelectedGradeSystem(target.value);\n              }}\n              input={<BootstrapInput/>}\n            >\n              {gradeSystemsUsed.current.map((g, i) => {\n                return <MenuItem value={i}>{g.name}</MenuItem>;\n              })}\n            </StyledSelect>\n          </>\n        </div>\n      )}\n      <div style={{marginTop: \"16px\"}}>\n        {course?.objectives.sort((a, b) => (a.name.localeCompare(b.name, undefined, {\n          numeric: true,\n          sensitivty: 'base'\n        }))).map((o) => {\n          const objectiveAssessment = assessment?.courseObjectiveAssessments?.find(\n            (oa) => oa.objective_id === o.id\n          );\n          const defaultIndex = objectiveAssessment?.grade_id\n            ? gradeSystemValues.findIndex(\n              (g) => g.id === objectiveAssessment?.grade_id\n            )\n            : 0;\n          return (\n            <CourseObjectiveAssessmentItem\n              multiEdit={multiEdit}\n              onSave={(assessment) => {\n                changedObjectiveAssessments.current[assessment.id] = assessment;\n                onSave(changedObjectiveAssessments.current);\n              }}\n              key={o.id}\n              gradeSystemValues={gradeSystemValues}\n              defaultIndex={defaultIndex}\n              assessment={objectiveAssessment}\n              knowledgeRequirements={o.knowledgeRequirements}\n              objective={o}\n              id={objectiveAssessment?.id}\n              selectedGradeSystem={\n                gradeSystemsUsed.current[selectedGradeSystem]\n              }\n              onObjectiveSelected={onObjectiveSelected}\n              proficiencyProfiles={\n                proficiencyProfiles[selectedGradeSystem]?.objectives\n              }\n            />\n          );\n        })}\n      </div>\n    </div>\n  );\n};\nexport default CourseObjectiveAssessmentCard;\n","import React from \"react\";\nimport { colors, fonts } from \"../theme\";\nimport {getTranslation} from '../i18n';\n\nconst style = {\n  item: {\n    ...fonts.SMALL,\n    backgroundColor: colors.white,\n    width: \"44px\",\n    alignItems: \"center\",\n    display: \"flex\",\n    borderTop: `1px solid ${colors.borderColor}`,\n    borderRight: `1px solid ${colors.borderColor}`,\n  },\n};\n\nconst AssignmentAccordionItemHeader = (props) => {\n  const { objectivesWidth } = props;\n  return (\n    <div\n      style={{\n        top: \"-30px\",\n        left: \"236px\",\n        height: \"30px\",\n        display: \"flex\",\n        position: \"absolute\",\n      }}\n    >\n      <div\n        style={{\n          ...style.item,\n          borderLeft: `1px solid ${colors.borderColor}`,\n          borderTopLeftRadius: \"4px\",\n          justifyContent: \"center\",\n          width: '89px',\n        }}\n      >\n        <span>{getTranslation('status')}</span>\n      </div>\n      <div\n        style={{\n          ...style.item,\n          width: \"178px\",\n        }}\n      >\n        <span style={{ marginLeft: \"8px\" }}>{getTranslation('courseProgressAssessmentLabel')}</span>\n      </div>\n      <div\n        style={{\n          ...style.item,\n          borderTopRightRadius: \"4px\",\n          width: `${objectivesWidth}px`,\n        }}\n      >\n        <span\n          style={{\n            marginLeft: \"8px\",\n            width: objectivesWidth,\n            overflow: \"hidden\",\n            textOverflow: \"ellipsis\",\n            whiteSpace: \"nowrap\",\n          }}\n        >\n          {getTranslation('learnignObjectivesLabel')}\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport default AssignmentAccordionItemHeader;\n","import {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  Tooltip,\n} from \"@material-ui/core\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport React, {useEffect, useRef, useState} from \"react\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport {getAssessmentIcon, getAssignmentIcon, getStatusText, getSubmittedIcon, getSubmittedStatusText} from \"../utils\";\nimport {colors, fonts} from \"../theme\";\nimport GridSummaryItem from \"../components/gridSummaryItem\";\nimport AssignmentAssessment from \"../components/assignmentAssessment\";\nimport GridObjectivesSummaryItem from \"../components/GridObjectivesSummaryItem\";\nimport ObjectivesList from \"../components/objectivesList\";\nimport AssignmentAccordionItemHeader from \"./assignmentAccordionItemHeader\";\n\nconst widthThreshold = 500;\n\nconst StyledAccordionDetails = withStyles({\n  root: {\n    backgroundColor: colors.grey,\n  },\n})(AccordionDetails);\n\nconst StyledAccordion = withStyles({\n  root: {\n    '&$expanded': {\n      marginTop: '0px',\n    },\n  },\n  expanded: {},\n})(Accordion);\n\nconst StyledAccordionSummary = withStyles({\n  root: {\n    minHeight: \"50px\",\n    padding: \"0px\",\n    marginLeft: \"10px\",\n    \"&$expanded\": {\n      minHeight: \"0px\",\n      marginTop: '0px',\n    },\n  },\n  content: {\n    // padding: '0px',\n    margin: \"0px\",\n    \"&$expanded\": {\n      padding: \"0px\",\n      margin: \"0px\",\n      minHeight: \"0px\",\n    },\n  },\n  expandIcon: {\n    padding: '0px',\n    margin: \"0px 8px 0px 0px\",\n    \"&$expanded\": {},\n  },\n  expanded: {},\n})(AccordionSummary);\n\nconst gridStyle = {\n  borderLeft: `1px solid ${colors.borderColor}`,\n  borderRight: `1px solid ${colors.borderColor}`,\n  width:'178px',\n};\n\nconst AssignmentAccordionItem = (props) => {\n  const {\n    assessment,\n    assignment,\n    courseDefinitions,\n    style = {},\n    objectiveAssessments = [],\n    objectives = [],\n    showObjectives = false,\n    selectedObjective,\n    indented = false,\n    contentWidth = null,\n    firstItem = false,\n    onSave,\n  } = props;\n\n  const ref = useRef();\n  const [width, setWidth] = useState();\n\n  useEffect(() => {\n    setWidth(ref?.current?.clientWidth);\n  });\n\n  if (!assessment) {\n    return null;\n  }\n\n  const wideItem = width > widthThreshold;\n  let itemWidth = wideItem ? 270 : 170;\n  if (indented) {\n    itemWidth -= 20;\n  }\n  if (showObjectives) {\n    itemWidth -= 100;\n  }\n\n  return (\n    <div style={{position: \"relative\"}}>\n      {firstItem && wideItem && (\n        <AssignmentAccordionItemHeader\n          objectivesWidth={objectives?.length * 40}\n        />\n      )}\n      <StyledAccordion\n        square\n        ref={ref}\n        style={{...style, border: \"0px solid green\"}}\n        TransitionProps={{unmountOnExit: true}}\n      >\n        <StyledAccordionSummary expandIcon={<ExpandMoreIcon/>}>\n          <div\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"space-between\",\n              padding: \"0px 10px 0px 10px\",\n              // border:'1px solid',\n            }}\n          >\n            <div\n              style={{\n                // border: '1px solid',\n                display: \"flex\",\n                alignItems: \"center\",\n                marginLeft: indented ? \"20px\" : 0,\n              }}\n            >\n              {getAssignmentIcon(assignment)}\n              <span\n                style={{\n                  ...fonts.MEDIUM,\n                  textOverflow: \"ellipsis\",\n                  overflow: \"hidden\",\n                  whiteSpace: \"nowrap\",\n                  // border: '1px solid',\n                  width: `${itemWidth}px`,\n                }}\n              >\n                {assignment.title}\n              </span>\n            </div>\n            <div\n              style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                borderLeft: `1px solid ${colors.borderColor}`,\n              }}\n            >\n              <Tooltip title={getStatusText(assessment.status_new)}>\n                <div style={{width: '44px', display: 'flex', alignItems: 'center', justifyContent: 'center'}}>\n                  {getAssessmentIcon({\n                    status: assessment.status_new,\n                    style: {\n                      maxHeight: \"24px\",\n                      padding: \"0px 10px 0px 10px\",\n                    },\n                  })}\n                </div>\n              </Tooltip>\n              {wideItem &&\n              <Tooltip\n                title={assignment.use_submitted_status ? getSubmittedStatusText(assessment.submitted_status) : ''}>\n                <div style={{\n                  borderLeft: `1px solid ${colors.borderColor}`,\n                  width: '44px',\n                  display: 'flex',\n                  justifyContent: 'center',\n                  alignItems: 'center',\n                  height: '50px'\n                }}>\n                  {assignment.use_submitted_status && getSubmittedIcon({status: assessment.submitted_status})}\n                </div>\n              </Tooltip>\n              }\n              {wideItem && (\n                <div style={{display: \"flex\", border: \"0px solid\"}}>\n                  <GridSummaryItem assessment={assessment} style={gridStyle} />\n                  {showObjectives && (\n                    <GridObjectivesSummaryItem\n                      objectives={objectives}\n                      assessments={objectiveAssessments}\n                      selectedObjective={selectedObjective}\n                      gradeOnly={true}\n                    />\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        </StyledAccordionSummary>\n        <StyledAccordionDetails>\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              width: contentWidth ? `${contentWidth}px` : \"100%\",\n            }}\n          >\n            <AssignmentAssessment\n              assignment={assignment}\n              assessment={assessment}\n              onSave={onSave}\n            />\n            <ObjectivesList\n              onSave={onSave}\n              assignmentAssessmentId={assessment.id}\n              courseDefinitions={courseDefinitions}\n              objectiveAssessments={objectiveAssessments}\n              gradeSystem={assignment?.gradeSystem}\n              isTopic={assignment?.is_topic}\n            />\n          </div>\n        </StyledAccordionDetails>\n      </StyledAccordion>\n    </div>\n  );\n};\nexport default AssignmentAccordionItem;\n","import React, {useContext, useEffect, useRef, useState} from 'react';\nimport {colors, fonts} from \"../theme\";\nimport {\n  filterAssignmentsOnCourseId,\n  filterAssignmentsOnObjective,\n  GlobalContext,\n} from \"../utils\";\nimport AssignmentAccordionItem from \"./assignmentAccordionItem\";\nimport {getTranslation} from \"../i18n\";\n\nconst fields = `\n    name\n    courseDefinitions{\n      id\n      name\n      objectives{\n        id\n        name\n      }\n    }\n    students {\n      first_name\n      last_name\n    }\n    assignments {\n      id\n      title\n      is_topic\n      connected\n      state\n      worktype\n      use_submitted_status\n      courseDefinitions {\n        id\n      }\n      gradeSystem {\n        name\n        is_counter\n        grades {\n          id\n          name\n          color\n        }\n      }\n      objectiveAssessments {\n        id\n        objective_id\n        objectiveName\n        objectiveDescription\n        feedback\n        feedback_published\n        private_note\n        grade_published\n        assessment_id\n        grade_id\n        feedback_last_edit\n        private_note_last_edit\n        grade_last_edit\n        self_assessment\n        self_assessment_last_edit\n        last_edit_for_student\n        student_id\n        counter_grade_0\n        counter_grade_1\n        counter_grade_2\n        counter_grade_3\n        counter_grade_4\n        counter_grade_5\n        counter_grade_6\n        counter_grade_7\n        counter_grade_8\n        counter_grade_9\n        max_counter_grade_0\n        max_counter_grade_1\n        max_counter_grade_2\n        max_counter_grade_3\n        max_counter_grade_4\n        max_counter_grade_5\n        max_counter_grade_6\n        max_counter_grade_7\n        max_counter_grade_8\n        max_counter_grade_9\n        grade {\n          id\n          name\n          is_passed\n          color\n        }\n      }\n      assessments {\n        id\n        status\n        grade_id\n        grade_name\n        grade_color\n        grade_published\n        grade_last_edit\n        feedback\n        feedback_published\n        feedback_last_edit\n        result\n        result_last_edit\n        result_published\n        private_note\n        private_note_last_edit\n        self_assessment\n        self_assessment_last_edit\n        student_id\n        status_new\n        submitted_status\n      }\n      assignments {\n        id\n        title\n        connected\n        state\n        worktype\n        use_submitted_status\n        courseDefinitions {\n          id\n        }\n        gradeSystem {\n          name\n          is_counter\n          grades {\n            id\n            name\n            color\n          }\n        }\n        objectiveAssessments {\n          id\n          objective_id\n          objectiveName\n          objectiveDescription\n          feedback\n          feedback_published\n          private_note\n          grade_published\n          assessment_id\n          grade_id\n          feedback_last_edit\n          private_note_last_edit\n          grade_last_edit\n          self_assessment\n          self_assessment_last_edit\n          last_edit_for_student\n          student_id\n          counter_grade_0\n          counter_grade_1\n          counter_grade_2\n          counter_grade_3\n          counter_grade_4\n          counter_grade_5\n          counter_grade_6\n          counter_grade_7\n          counter_grade_8\n          counter_grade_9\n          max_counter_grade_0\n          max_counter_grade_1\n          max_counter_grade_2\n          max_counter_grade_3\n          max_counter_grade_4\n          max_counter_grade_5\n          max_counter_grade_6\n          max_counter_grade_7\n          max_counter_grade_8\n          max_counter_grade_9\n          grade {\n            id\n            name\n            is_passed\n            color\n          }\n        }\n        assessments {\n          id\n          status\n          grade_id\n          grade_name\n          grade_color\n          grade_published\n          grade_last_edit\n          feedback\n          feedback_published\n          feedback_last_edit\n          result\n          result_last_edit\n          result_published\n          private_note\n          private_note_last_edit\n          self_assessment\n          self_assessment_last_edit\n          student_id\n          status_new\n          submitted_status\n        }\n      }\n    }\n`;\n\nconst AssignmentsCard = (props) => {\n  const {\n    studentId,\n    courseId,\n    showObjectives = false,\n    selectedObjective = null,\n    noTitle = false,\n    contentWidth = null,\n    style = {},\n  } = props;\n  const context = useContext(GlobalContext);\n  const {Api, networkTraffic} = context;\n  const [classroom, setClassroom] = useState();\n  const [assignments, setAssignments] = useState([]);\n  const saving = useRef(false);\n  const meSaving = useRef(false);\n\n  const getClassroom = async () => {\n    const response = await Api.getClassroom(fields);\n    setClassroom(response?.data?.classroom);\n    let {assignments: ass} = response?.data?.classroom;\n    ass = filterAssignmentsOnCourseId(ass, courseId);\n    if (selectedObjective) {\n      ass = filterAssignmentsOnObjective(ass, selectedObjective?.id);\n    }\n    setAssignments(ass);\n\n  };\n\n  // A little bit hacky, reload classroom if something has been saved\n  useEffect(() => {\n    if (networkTraffic === \"POST\" || networkTraffic === \"PUT\") {\n      saving.current = true;\n    } else if (saving.current) {\n      if (!meSaving.current) {\n        getClassroom();\n      }\n      meSaving.current = false;\n      saving.current = false;\n    }\n  }, [networkTraffic]);\n\n  useEffect(() => {\n    getClassroom();\n  }, [selectedObjective?.id, studentId]);\n\n  let firstItem = false;\n  return (\n    <div style={{marginTop: \"36px\"}}>\n      {!noTitle && assignments?.length > 0 && (\n        <span\n          style={{\n            ...fonts.LARGE,\n            color: colors.brandColorPink,\n            marginLeft: \"16px\",\n          }}\n        >\n          {getTranslation(\"topicsAndAssignments\")}\n        </span>\n      )}\n      <div style={{display: \"flex\"}}>\n        <div\n          style={{\n            marginTop: noTitle ? \"-12px\" : \"16px\",\n            boxShadow: \"0px 5px 10px rgba(0,0,0,0.1)\",\n          }}\n        >\n          {assignments\n            ?.sort((a, b) => a.title.localeCompare(b.title))\n            .map((assignment) => {\n              const isConnected = assignment.connected || assignment?.assignments?.filter(a => a.connected).length > 0;\n              if(!isConnected){\n                return null;\n              }\n              const assessment = assignment.assessments.find(\n                (a) => a.student_id === studentId\n              );\n\n              if (!firstItem && assessment) {\n                firstItem = assessment.id;\n              }\n              return (\n                <div style={{...style}} key={assignment.id}>\n                  <AssignmentAccordionItem\n                    onSave={() => {\n                      meSaving.current = true;\n                    }}\n                    firstItem={assessment?.id === firstItem}\n                    contentWidth={contentWidth}\n                    selectedObjective={selectedObjective}\n                    assessment={assessment}\n                    assignment={assignment}\n                    showObjectives={showObjectives}\n                    objectiveAssessments={assignment?.objectiveAssessments.filter(\n                      (oa) => oa.student_id === studentId\n                    )}\n                    objectives={\n                      classroom?.courseDefinitions.find(\n                        (c) => c.id === courseId\n                      )?.objectives\n                    }\n                    courseDefinitions={classroom?.courseDefinitions.filter(\n                      (cd) => cd.id === courseId\n                    )}\n                  />\n                  {assignment.assignments?.filter(a => a.connected)?.map((as) => {\n                    const ass = as.assessments.find(\n                      (a) => a.student_id === studentId\n                    );\n                    return (\n                      <AssignmentAccordionItem\n                        onSave={() => {\n                          meSaving.current = true;\n                        }}\n                        contentWidth={contentWidth}\n                        selectedObjective={selectedObjective}\n                        indented\n                        key={as.id}\n                        assessment={ass}\n                        assignment={as}\n                        showObjectives={showObjectives}\n                        objectiveAssessments={as?.objectiveAssessments.filter(\n                          (oa) => oa.student_id === studentId\n                        )}\n                        objectives={\n                          classroom?.courseDefinitions.find(\n                            (c) => c.id === courseId\n                          )?.objectives\n                        }\n                        courseDefinitions={classroom?.courseDefinitions.filter(\n                          (cd) => cd.id === courseId\n                        )}\n                      />\n                    );\n                  })}\n                </div>\n              );\n            })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AssignmentsCard;\n","import React, {memo, useContext, useEffect, useRef, useState} from \"react\";\nimport {GlobalContext} from \"../utils\";\nimport CourseAssessmentCard from \"./courseAssessmentCard\";\nimport EwsStudentCard from \"./ewsStudentCard/\";\nimport CourseInfoCard from \"./courseInfoCard\";\nimport CourseObjectiveAssessmentCard from \"./courseObjectiveAssessmentCard\";\nimport AssignmentsCard from \"./assignmentsCard\";\nimport {colors, fonts} from \"../theme\";\nimport {getTranslation} from \"../i18n\";\nimport {ButtonBase, CircularProgress} from '@material-ui/core';\nimport MultiEditDescription from '../components/multiEditDescription';\n\nconst fields = `\n  students{\n    id\n    first_name\n    last_name\n    email\n    courseAssessments {\n      id\n      courseName\n      courseId\n      courseCode\n      feedback\n      feedback_published\n      feedback_last_edit\n      private_note\n      private_note_last_edit\n      grade_id\n      gradeName\n      gradeColor\n      gradeIsPassed\n      grade_published\n      grade_last_edit\n      target_grade_id\n      target_grade_published\n      target_grade_last_edit\n      gradeSystem{\n        name\n        is_counter\n        is_main\n        is_final\n        grades {\n          id\n          name\n          label\n          is_passed\n          color\n          order\n        }\n      }\n    }\n  }\n`;\n\nconst StudentCourseOverview = (props) => {\n  const {\n    student,\n    course,\n    style,\n    hideCourseCard = false,\n    onObjectiveSelected,\n    isGrid = false,\n    multiEdit = false,\n    onSave,\n    extraAdjustmentData = false,\n    selectedStudents = false,\n    loading,\n  } = props;\n\n  const context = useContext(GlobalContext);\n  const {Api} = context;\n\n  const [classroom, setClassroom] = useState();\n  const multiEditChanges = useRef({});\n\n  const refresh = async () => {\n    const response = await Api.getClassroom(fields);\n    setClassroom(response?.data?.classroom);\n  };\n\n  const getClassroom = async () => {\n    loading(true);\n    await refresh();\n    loading(false);\n  };\n\n  useEffect(() => {\n    getClassroom();\n  }, []);\n\n  useEffect(() => {\n    if (!multiEdit) {\n      getClassroom();\n    }\n  }, [student.id, multiEdit]);\n\n  if (!classroom) {\n    return null;\n  }\n\n  const assessment = classroom?.students.find(s => s.id === student.id)?.courseAssessments?.find((a) => a.courseId === course.id);\n  const cardStyle = isGrid ? {width: \"315px\"} : {minWidth: \"501px\"};\n\n  const multiEditSave = () => {\n    if (onSave) {\n      onSave(multiEditChanges.current);\n      multiEditChanges.current = {};\n    }\n  };\n\n  return (\n    <div\n      style={{\n        backgroundColor: colors.grey,\n        display: \"flex\",\n        flexDirection: \"column\",\n        overflow: \"hidden\",\n        position: \"absolute\",\n        top: isGrid ? \"30px\" : \"60px\",\n        left: 0,\n        right: 0,\n        bottom: 0,\n      }}\n    >\n      <div\n        style={{\n          maxHeight: \"50px\",\n          backgroundColor: colors.greyDarker,\n          display: \"flex\",\n          alignItems: \"center\",\n          padding: \"16px 16px 16px 26px\",\n          borderBottom: `1px solid ${colors.borderColor}`,\n        }}\n      >\n        <span\n          style={{...fonts.XXLARGE, fontWeight: \"400\"}}\n        >{`${getTranslation(\"coursePlan\")} - ${course?.name}`}</span>\n      </div>\n      {multiEdit && (\n        <div style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          padding: '10px',\n          borderBottom: '1px solid ' + colors.borderColor\n        }}>\n          <span style={{...fonts.LARGE}}>{selectedStudents.length} {getTranslation('studentsSelected')}</span>\n          <ButtonBase\n            style={{\n              border: `1px solid ${colors.borderColorDark}`,\n              padding: \"8px 12px 8px 12px\",\n              borderRadius: \"4px\",\n              backgroundColor: colors.white,\n            }}\n            onClick={multiEditSave}\n          >\n              <span style={fonts.MEDIUM}>\n                {getTranslation(\"saveAll\")}\n              </span>\n          </ButtonBase>\n        </div>\n      )}\n\n      <div style={{position: \"relative\", overflow: \"scroll\"}}>\n        <div style={{width: \"600px\", padding: \"16px 16px 16px 26px\", ...style}}>\n          {!hideCourseCard && <CourseInfoCard course={course}/>}\n          {multiEdit && <MultiEditDescription/>}\n          <EwsStudentCard\n            student={student}\n            course={course}\n            multiEdit={multiEdit}\n            isGrid={isGrid}\n            onChange={(ews) => {\n              multiEditChanges.current.ews = ews;\n            }}\n            extraAdjustmentData={extraAdjustmentData}\n          />\n          <CourseAssessmentCard\n            studentId={student.id}\n            assessment={assessment}\n            onSave={(assessment) => {\n              multiEditChanges.current.courseAssessment = assessment;\n            }}\n            multiEdit={multiEdit}\n          />\n          <CourseObjectiveAssessmentCard\n            courseId={course.id}\n            studentId={student.id}\n            onObjectiveSelected={onObjectiveSelected}\n            multiEdit={multiEdit}\n            onSave={(changes) => {\n              multiEditChanges.current.objectiveAssessments = changes;\n            }}\n          />\n          {!multiEdit &&(\n            <AssignmentsCard\n              style={cardStyle}\n              studentId={student.id}\n              courseId={course.id}\n              showObjectives={!isGrid}\n              contentWidth={584}\n            />\n          )}\n          {multiEdit && <div style={{height: \"40px\"}}/>}\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default memo(StudentCourseOverview);\n","import React, { useContext, useEffect, useState } from \"react\";\nimport AssignmentsCard from \"./assignmentsCard\";\nimport CourseObjectiveAssessment from \"./courseObjectiveAssessment\";\nimport { getGradeSystemValues, GlobalContext } from \"../utils\";\nimport Card from \"../components/card\";\nimport { colors, fonts } from \"../theme\";\nimport { getTranslation } from \"../i18n\";\nimport OptionsDropdown from \"../components/optionsDropdown\";\nimport { useWindowDimensions } from \"../hooks\";\n\nconst fields = `\n    name\n    courses {\n      id\n      name\n      objectives{\n        id\n        name\n        description\n        knowledgeRequirements{\n          description\n          grade_id\n        }\n      }\n      gradeSystem {\n        name\n        is_main\n        is_final\n        grades {\n          id\n          name\n          is_passed\n          color\n          label\n        }\n      }\n    }\n    students{\n      id\n      first_name\n      last_name\n      courseAssessments{\n        id\n        courseId\n        courseName\n        courseObjectiveAssessments{\n          name\n          id\n          feedback\n          feedback_published\n          private_note\n          grade_published\n          grade_id\n          objective_id\n        }\n      }\n    }`;\n\nconst CourseObjectiveOverview = (props) => {\n  const { objective, student, course, onObjectiveSelected } = props;\n  const context = useContext(GlobalContext);\n  const { Api } = context;\n  const [classroom, setClassroom] = useState();\n  const { width } = useWindowDimensions();\n\n  const getData = async () => {\n    const response = await Api.getClassroom(fields, student.id);\n    setClassroom(response?.data?.classroom);\n  };\n\n  useEffect(() => {\n    getData();\n  }, [student.id, objective.id]);\n\n  const s = classroom?.students?.find((s) => s.id === student.id);\n  const courseAssessments = s?.courseAssessments?.find(\n    (a) => a.courseId === course.id\n  );\n  const assessment = courseAssessments?.courseObjectiveAssessments?.find(\n    (co) => co.objective_id === objective.id\n  );\n\n  const cor = classroom?.courses?.find((c) => c.id === course.id);\n  const gradeSystemValues = getGradeSystemValues(\n    cor?.gradeSystem?.find((g) => g.is_main)\n  );\n  const defaultIndex = assessment?.grade_id\n    ? gradeSystemValues.findIndex((g) => g.id === assessment?.grade_id)\n    : 0;\n\n  const options =\n    cor?.objectives?.map((o) => ({\n      id: o.id,\n      name: o.name,\n    })) || [];\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        position: \"absolute\",\n        marginTop: \"60px\",\n        overflow: \"hidden\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n      }}\n    >\n      <div\n        style={{\n          height: \"50px\",\n          backgroundColor: colors.greyDarker,\n          display: \"flex\",\n          alignItems: \"center\",\n          padding: \"16px 16px 16px 26px\",\n          borderBottom: `1px solid ${colors.borderColor}`,\n        }}\n      >\n        <span\n          style={{\n            ...fonts.XXLARGE,\n            fontWeight: \"400\",\n            overflow: \"hidden\",\n            textOverflow: \"ellipsis\",\n            whiteSpace: \"nowrap\",\n            width: `${width - 630}px`,\n            lineHeight: \"30px\",\n          }}\n        >{`${getTranslation(\"dataForObjectiveAssessmentTitle\")} ${\n          objective?.name\n        }`}</span>\n        <div\n          style={{\n            width: \"200px\",\n            position: \"absolute\",\n            right: \"16px\",\n            padding: \"2px 12px 2px 12px\",\n            borderRadius: \"4px\",\n            backgroundColor: colors.white,\n            boxShadow: \"0px 5px 10px rgba(0,0,0,0.1)\",\n          }}\n        >\n          <OptionsDropdown\n            options={options}\n            helpText={getTranslation(\n              \"courseProgressLearningObjectivesListLabel\"\n            )}\n            value={objective.id}\n            handleChange={(e) => {\n              onObjectiveSelected(\n                cor?.objectives?.find((o) => o.id === e.target.value)\n              );\n            }}\n            style={{ marginBottom: \"10px\", backgroundColor: colors.white }}\n          />\n        </div>\n      </div>\n      <div style={{ padding: \"16px 16px 16px 26px\", overflow: \"scroll\", height: \"100%\" }}>\n        <div style={{ width: \"600px\", marginBottom: \"40px\" }}>\n          <span\n            style={{\n              ...fonts.LARGE,\n              color: colors.brandColorPink,\n              marginLeft: \"16px\",\n            }}\n          >\n            {getTranslation(\"courseGradeMode\")}\n          </span>\n          <Card style={{ marginTop: \"16px\" }}>\n            <CourseObjectiveAssessment\n              assessment={assessment}\n              defaultIndex={defaultIndex}\n              id={assessment?.id}\n              gradeSystemValues={gradeSystemValues}\n              knowledgeRequirements={objective?.knowledgeRequirements}\n            />\n          </Card>\n        </div>\n        <AssignmentsCard\n          style={{ minWidth: \"501px\" }}\n          studentId={student.id}\n          courseId={course.id}\n          showObjectives\n          selectedObjective={objective}\n          contentWidth={584}\n        />\n      </div>\n    </div>\n  );\n};\nexport default CourseObjectiveOverview;\n","import React, { useEffect, useState } from 'react';\nimport { useWindowDimensions } from '../hooks';\nimport { colors } from '../theme';\nimport CoursesCard from './coursesCard';\nimport StudentOverviewHeader from './studentOverviewHeader';\nimport StudentCourseOverview from './studentCourseOverview';\nimport CourseObjectiveOverview from './courseObjectiveOverview';\n\nconst StudentOverview = (props) => {\n  const {\n    student,\n    onClose,\n    onCourseSelected,\n    selectedCourse: initialSelectedCourse,\n    toggleGrid,\n    classroomName,\n    onObjectiveSelected,\n    selectedObjective,\n  } = props;\n  const window = useWindowDimensions();\n  const [selectedCourse, setSelectedCourse] = useState(initialSelectedCourse);\n\n  const studentName = `${student.first_name} ${student.last_name}`;\n\n  useEffect(() => {\n    onCourseSelected(selectedCourse);\n  }, [selectedCourse]);\n\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        width: `${window.width - 360}px`,\n        left: `${-window.width + 360}px`,\n        height: `${window.height}px`,\n        display: 'flex',\n        backgroundColor: colors.grey,\n        flexDirection: 'column',\n        border: '0px solid blue',\n      }}\n    >\n      <StudentOverviewHeader\n        classroomName={classroomName}\n        toggleGrid={toggleGrid}\n        onClose={onClose}\n        studentName={studentName}\n        courseName={selectedCourse?.name}\n        objectiveName={selectedObjective?.name}\n        onBack={\n          selectedObjective || selectedCourse\n            ? () => {\n              if (selectedObjective) {\n                onObjectiveSelected(null);\n              } else if (selectedCourse) {\n                setSelectedCourse(null);\n              }\n            }\n            : null\n        }\n      />\n      {selectedObjective && (\n        <CourseObjectiveOverview\n          student={student}\n          objective={selectedObjective}\n          course={selectedCourse}\n          onObjectiveSelected={onObjectiveSelected}\n        />\n      )}\n      {selectedCourse && !selectedObjective && (\n        <StudentCourseOverview\n          hideCourseCard\n          student={student}\n          course={selectedCourse}\n          onObjectiveSelected={onObjectiveSelected}\n          selectedObjective={selectedObjective}\n          loading={() => {}}\n        />\n      )}\n\n      <div style={{ marginTop: '60px', overflow: 'scroll', display: 'flex' }}>\n        {!selectedCourse && (\n          <CoursesCard student={student} onCourseSelected={setSelectedCourse} />\n        )}\n      </div>\n      <div\n        style={{\n          width: '30px',\n          height: '100%',\n          position: 'absolute',\n          right: -30,\n          top: 0,\n          backgroundColor: 'transparent',\n          boxShadow: '-5px 0px 6px rgba(0,0,0,0.1)',\n        }}\n      />\n    </div>\n  );\n};\nexport default StudentOverview;\n","export default __webpack_public_path__ + \"images/d3b07b0fbc478169598556c722606b72-happy-face.png\";","export default __webpack_public_path__ + \"images/4b290d40fccc2e7c4405c297ec801b2d-medium-face.png\";","export default __webpack_public_path__ + \"images/12b3d954a4a47f12e81067aba32ccc4e-sad-face.png\";","export default __webpack_public_path__ + \"images/6cfb65f6bb1b0e3a8c64de5677a39375-extra-help.png\";","export default __webpack_public_path__ + \"images/b44e113d2815fa13b15a2787804951ec-student_extra_help.png\";","import React from \"react\";\nimport Icon from \"./icon\";\nimport extraImage from \"../images/png/extra-help.png\";\nimport studentExtraImage from \"../images/png/student_extra_help.png\";\nimport {colors, fonts} from \"../theme\";\nimport Tooltip from \"./tooltip\";\n\nconst ExtraAdjustmentIconWithNumber = ({number, tooltip, style={}, student=false}) => {\n\n  return (\n    <Tooltip title={tooltip}>\n      <div style={{position: \"relative\", marginBottom: '0', width:16, ...style}}>\n        <Icon file={student?studentExtraImage:extraImage} style={{width: '16px'}} overrideOpacity={1}/>\n        <div\n          style={{\n            position: \"absolute\",\n            bottom: 1,\n            right: -2,\n            backgroundColor: colors.black,\n            width: \"11px\",\n            height: \"11px\",\n            borderRadius: \"30px\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n          }}\n        >\n            <span\n              style={{\n                ...fonts.TINY,\n                color: colors.white,\n                marginTop: 0,\n                fontSize: 9,\n                fontWeight: 500,\n              }}\n            >\n              {number}\n            </span>\n        </div>\n      </div>\n    </Tooltip>\n  );\n};\n\nexport default ExtraAdjustmentIconWithNumber;","import React, {memo} from \"react\";\nimport {colors, fonts} from \"../../theme\";\n\nimport happyImage from '../../images/png/happy-face.png';\nimport mediumImage from '../../images/png/medium-face.png';\nimport sadImage from '../../images/png/sad-face.png';\nimport extraImage from '../../images/png/extra-help.png';\nimport {getTranslation} from \"../../i18n\";\nimport VisibilityIcon from '../../components/visabilityIcon';\nimport {PUBLISH_STATES} from \"../../components/publishIcon\";\nimport Tooltip from \"../../components/tooltip\";\nimport Icon from \"../../components/icon\";\nimport ExtraAdjustmentIconWithNumber from \"../../components/extraAdjustmentIconWithNumber\";\n\nconst getStatusIcon = (status, selected) => {\n  const bgStyle = {\n    width: \"16px\",\n    height: \"16px\",\n    borderRadius: \"20px\",\n    backgroundColor: colors.ewsGreen,\n    margin: \"0px 4px 0px 4px\",\n  };\n  if (!status || status === '0') {\n    return (\n      <div\n        style={{\n          width: \"14x\",\n          height: \"14px\",\n          border: `1px solid ${selected ? colors.borderColorDark : colors.borderColor}`,\n          borderRadius: \"20px\",\n          maxWidth: \"14px\",\n          minWidth: \"14px\",\n          margin: \"0px 4px 4px 4px\",\n        }}\n      />\n    );\n  }\n  switch (status) {\n    case \"10\":\n      return (\n        <div style={bgStyle}>\n          <Icon file={happyImage} style={{width: '16px'}}/>\n        </div>\n      );\n    case \"20\":\n      return (\n        <div style={{...bgStyle, backgroundColor: colors.primary}}>\n          <Icon file={mediumImage} style={{width: '16px'}}/>\n        </div>\n      );\n    case \"30\":\n      return (\n        <div style={{...bgStyle, backgroundColor: colors.red}}>\n          <Icon file={sadImage} style={{width: '16px'}}/>\n        </div>\n      );\n\n    default:\n      return (\n        <div\n          style={{\n            width: \"14x\",\n            height: \"14px\",\n            border: `1px solid ${colors.borderColor}`,\n            borderRadius: \"20px\",\n            maxWidth: \"14px\",\n            minWidth: \"14px\",\n            margin: \"0px 4px 18px 4px\",\n          }}\n        />\n      );\n  }\n};\n\nconst tt1 = getTranslation(\"currentWarningLevel\");\nconst tt2 = getTranslation(\"extraAdjustments\");\n\nconst EwsItem = (props) => {\n  const {ews, selected} = props;\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        minWidth: \"60px\",\n        alignItems: \"center\",\n        justifyContent: \"space-around\",\n      }}\n    >\n      <Tooltip title={tt1}>\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            marginBottom: '-6px',\n          }}\n        >\n          {getStatusIcon(ews?.status?.status, selected)}\n          {ews?.status?.status && (\n            <VisibilityIcon\n              visible={ews?.status?.published ? PUBLISH_STATES.published : PUBLISH_STATES.notPublished}\n              style={{\n                color: ews?.status?.published ? colors.green : colors.darkGrey\n              }}/>\n          )}\n        </div>\n      </Tooltip>\n      <ExtraAdjustmentIconWithNumber tooltip={tt2} number={ews?.extraAdjustments?.length} />\n    </div>\n  );\n};\nexport default memo(EwsItem);\n","import React, {memo} from 'react';\nimport feedbackImage from '../../images/png/sb-ico-feedback.png';\nimport noteImage from '../../images/png/sb-ico-note.png';\nimport {colors, fonts} from '../../theme';\nimport {getTranslation} from '../../i18n';\nimport Tooltip from \"../../components/tooltip\";\nimport Icon from \"../../components/icon\";\nimport PublishedIcon from \"../../components/publishedIcon\";\n\nconst styles = {\n  container: {\n    display: 'flex',\n    minWidth: '100px',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n  },\n  item: {\n    alignItems: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  feedbackIcon: {height: '18px', width: '18px'},\n  privateNoteIcon: {height: '20px', width: '20px', marginBottom: '10px'},\n};\n\nconst tt1 = getTranslation('courseGradeInput');\nconst tt2 = getTranslation('courseProgressTargetGoalAvailableTooltip');\nconst tt3 = getTranslation('courseFeedbackInput');\nconst tt4 = getTranslation('coursePrivateNotesInput');\n\nconst CourseOverviewComponent = (props) => {\n  const {courseAssessment} = props;\n  const gradeSystem = courseAssessment?.gradeSystem.find((g) => g.is_final);\n  const targetGrade = gradeSystem?.grades.find(\n    (gr) => gr.id === courseAssessment?.target_grade_id,\n  );\n\n  return (\n    <div style={styles.container}>\n      <Tooltip title={tt1}>\n        <div style={styles.item}>\n          <span\n            style={{\n              ...fonts.LARGE,\n              color: courseAssessment?.gradeColor || colors.iconColorLight,\n              fontWeight: '800',\n            }}\n          >\n            {courseAssessment?.gradeName || '-'}\n          </span>\n          <PublishedIcon published={courseAssessment.grade_published} active={!!courseAssessment?.gradeName}/>\n        </div>\n      </Tooltip>\n      <Tooltip title={tt2}>\n        <div style={styles.item}>\n          <span\n            style={{\n              ...fonts.LARGE,\n              fontWeight: '800',\n              color: targetGrade?.label\n                ? colors.brandColorBlue\n                : colors.iconColorLight,\n            }}\n          >\n            {targetGrade?.label || '-'}\n          </span>\n          <PublishedIcon published={courseAssessment?.target_grade_published} active={!!targetGrade?.label}/>\n        </div>\n      </Tooltip>\n      <Tooltip title={tt3}>\n        <div style={styles.item}>\n          <Icon file={feedbackImage} active={courseAssessment?.feedback} style={styles.feedbackIcon}/>\n          <PublishedIcon published={courseAssessment?.feedback_published} active={!!courseAssessment?.feedback}/>\n        </div>\n      </Tooltip>\n      <Tooltip title={tt4}>\n        <div>\n          <Icon file={noteImage} active={!!courseAssessment?.private_note} style={styles.privateNoteIcon}/>\n        </div>\n      </Tooltip>\n    </div>\n  );\n};\nexport default memo(CourseOverviewComponent);\n","import React, {memo, useEffect, useMemo, useState} from \"react\";\nimport {colors, fonts} from \"../../theme\";\nimport Tooltip from \"../../components/tooltip\";\nimport PublishedIcon from \"../../components/publishedIcon\";\n\nconst styles = {\n  item: {\n    display: \"flex\",\n    width: \"40px\",\n    height: \"40px\",\n    border: \"0px solid red\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n  },\n};\n\nconst CourseObjectiveAssessmentsComponent = (props) => {\n  const {objectiveAssessments, gradeSystem, bgColor} = props;\n  const [sortedAssessments, setSortedAssessments] = useState([]);\n  const [gradeHash, setGradeHash] = useState({});\n\n  useEffect(() => {\n    setSortedAssessments(objectiveAssessments?.sort((a, b) => (a.name.localeCompare(b.name, undefined, {\n      numeric: true,\n      sensitivty: 'base'\n    }))));\n  }, [objectiveAssessments]);\n\n  useEffect(() => {\n    setGradeHash(gradeSystem?.grades?.reduce((acc, g) => {\n      acc[g.id] = g;\n      return acc;\n    }, {}));\n  }, [gradeSystem]);\n\n  return (\n    <div style={{display: \"flex\", width: \"100%\", justifyContent: \"space-around\"}}>\n      {sortedAssessments?.map((assessment) => {\n        const grade = assessment?.grade_id ? gradeHash[assessment.grade_id] : null;\n        return (\n          <div\n            key={assessment.id}\n            style={{\n              display: \"flex\",\n              flexDirection: \"row\",\n              borderRight: `0px solid ${\n                bgColor !== colors.white\n                  ? colors.borderColorDark\n                  : colors.borderColor\n              }`,\n            }}\n          >\n            <Tooltip key={assessment.id} title={assessment.name}>\n              <div style={styles.item}>\n        <span\n          style={{\n            ...fonts.MEDIUM,\n            fontWeight: \"800\",\n            color: grade?.color || colors.iconColorLight,\n          }}\n        >\n      {\" \"}\n          {grade?.label || \"-\"}\n        </span>\n                <PublishedIcon published={assessment?.grade_published} active={!!grade?.label} />\n              </div>\n            </Tooltip>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\nexport default memo(CourseObjectiveAssessmentsComponent);\n","import React, {memo} from 'react';\nimport { ArrowBack } from '@material-ui/icons';\nimport { colors, fonts } from '../../theme';\nimport { useWindowDimensions } from '../../hooks';\n\n\nconst GridOverviewHeader = (props) => {\n  const {\n    courseName, classroomName, onCollapse, studentName,\n  } = props;\n  const dim = useWindowDimensions();\n\n  return (\n    <div\n      style={{\n        height: '60px',\n        width: dim.width - 370,\n        backgroundColor: colors.brandColorPink,\n        alignItems: 'center',\n        display: 'flex',\n        minHeight: '60px',\n        padding: '0px 0px 0px 20px',\n        position: 'fixed',\n      }}\n    >\n      <div\n        style={{ marginLeft: '26px', alignItems: 'center', display: 'flex' }}\n      >\n        {classroomName && (\n          <>\n            <span style={{ ...fonts.MEDIUM, color: colors.white }}>\n              {classroomName}\n            </span>\n            <ArrowBack\n              style={{\n                color: colors.white,\n                transform: 'rotate(180deg)',\n                height: '15px',\n              }}\n            />\n            <span style={{ ...fonts.MEDIUM, color: colors.white }}>\n              {courseName}\n            </span>\n            <ArrowBack\n              style={{\n                color: colors.white,\n                transform: 'rotate(180deg)',\n                height: '15px',\n              }}\n            />\n            <span style={{ ...fonts.MEDIUM, color: colors.white }}>\n              {studentName}\n            </span>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\nexport default memo(GridOverviewHeader);\n","import React, {memo, useContext, useEffect, useState} from \"react\";\nimport {colors, fonts} from \"../../theme\";\nimport {ReactComponent as ExpandIcon} from \"../../images/collapse.svg\";\nimport GridSummaryItem from \"../../components/gridSummaryItem\";\nimport {getAssessmentIcon, getStatusText, GlobalContext} from \"../../utils\";\nimport {getTranslation} from \"../../i18n\";\nimport Tooltip from \"../../components/tooltip\";\n\nconst AssignmentTable = (props) => {\n  const {\n    students,\n    assignment,\n    student,\n    highlight,\n    setHighlight,\n    styles,\n    onStudentSelect,\n  } = props;\n\n  const [expanded, setExpanded] = useState(false);\n  const [sortedStudents, setSortedStudents] = useState([]);\n  const context = useContext(GlobalContext);\n  const {sortingMethod} = context;\n\n  const hasAssignments = assignment?.assignments?.length > 0;\n\n  let bgColor = assignment.is_topic ? colors.topic : colors.green;\n  if(!assignment.connected){\n    bgColor = colors.darkGrey;\n  }\n\n  useEffect(() => {\n    setSortedStudents(students\n      .sort((a, b) => {\n        if (sortingMethod === 'firstName') {\n          return a.first_name?.localeCompare(b.first_name);\n        } else {\n          return a.last_name?.localeCompare(b.last_name);\n        }\n\n      }));\n\n  }, [sortingMethod, students])\n\n  const [assessmentMap, setAssessmentMap] = useState({});\n\n  useEffect(() => {\n    setAssessmentMap(assignment.assessments.reduce((acc, a) => {\n      acc[a.student_id] = a;\n      return acc;\n    }, {}));\n  }, [assignment]);\n\n  return (\n    <div\n      style={{\n        position: \"relative\",\n        display: \"flex\",\n        backgroundColor: expanded ? colors.topic : \"transparent\",\n        margin: expanded ? \"0px 4px 0px 4px\" : 0,\n      }}\n    >\n      <table style={{...styles.table}}>\n        <tr style={{}}>\n          <td\n            colSpan={2}\n            style={{\n              backgroundColor: assignment?.state === \"DRAFT\" ? colors.draft : bgColor,\n              height: \"30px\",\n            }}\n          >\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n              }}\n            >\n              <span\n                style={{\n                  ...fonts.MEDIUM,\n                  whiteSpace: \"nowrap\",\n                  textOverflow: \"ellipsis\",\n                  overflow: \"hidden\",\n                  maxWidth: \"200px\",\n                  color: colors.white,\n                  margin: \"0px 6px 0px 6px\",\n                  minWidth: 100,\n                }}\n              >\n                {assignment.title}\n              </span>\n              {assignment.is_topic && hasAssignments && !expanded && (\n                <Tooltip title={getTranslation(\"expandTopicTooltip\")}>\n                  <div>\n                    <ExpandIcon\n                      fill={colors.white}\n                      style={{cursor: \"pointer\", marginRight: \"6px\"}}\n                      onClick={() => setExpanded(!expanded)}\n                    />\n                  </div>\n                </Tooltip>\n              )}\n            </div>\n          </td>\n        </tr>\n        {sortedStudents.map((stud) => {\n          const assessment = assessmentMap[stud.id];\n          const bgColor = stud.id === highlight ? colors.grey : colors.white;\n          const backgroundColor = stud.id === student.id ? colors.borderColor : bgColor;\n          if (!assessment || !assignment.connected) {\n            return (\n              <tr\n                onClick={() => onStudentSelect(stud.id)}\n                onMouseEnter={() => setHighlight(stud.id)}\n                onMouseLeave={() => setHighlight(null)}\n                key={stud.id}\n              >\n                <td style={{\n                  backgroundColor,\n                  height: \"50px\",\n                  cursor: \"pointer\",\n                }}/>\n              </tr>\n            );\n          }\n\n          return (\n            <tr\n              onClick={() => onStudentSelect(assessment.student_id)}\n              onMouseEnter={() => setHighlight(assessment.student_id)}\n              onMouseLeave={() => setHighlight(null)}\n              key={assessment.id}\n              style={{\n                backgroundColor,\n                height: \"50px\",\n                cursor: \"pointer\",\n              }}\n            >\n              <td>\n                <Tooltip title={getStatusText(assessment?.status_new)}>\n                  <div style={{width:'28px', display:'flex', alignItems:'center', justifyContent:'center'}}>\n                    {getAssessmentIcon({status: assessment?.status_new, style:{maxHeight: '18px'}})}\n                  </div>\n                </Tooltip>\n              </td>\n              <td style={styles.td}>\n                <GridSummaryItem assessment={assessment}/>\n              </td>\n            </tr>\n          );\n        })}\n      </table>\n      {expanded && (\n        <div\n          style={{\n            display: \"flex\",\n            backgroundColor: colors.topic,\n            paddingRight: \"16px\",\n          }}\n        >\n          {assignment.assignments\n            .filter(a => a.connected)\n            .sort((a, b) => a.title.localeCompare(b.title))\n            .map((a) => (\n              <AssignmentTable key={a.id} {...{...props, assignment: a}} />\n            ))}\n        </div>\n      )}\n      {expanded && (\n        <ExpandIcon\n          fill={colors.white}\n          style={{\n            cursor: \"pointer\",\n            position: \"absolute\",\n            right: \"16px\",\n            top: \"16px\",\n            transform: \"rotate(180deg)\",\n          }}\n          onClick={() => setExpanded(!expanded)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default memo(AssignmentTable);\n","import React, {\n  memo, useCallback,\n  useContext, useEffect, useMemo, useReducer, useRef, useState,\n} from 'react';\nimport Promise from 'bluebird';\nimport {Checkbox, CircularProgress, withStyles} from '@material-ui/core';\nimport debounce from 'lodash.debounce';\nimport {colors, fonts} from '../../theme';\nimport {useWindowDimensions} from '../../hooks';\nimport {filterAssignmentsOnCourseId, getPublishedStatus, GlobalContext} from '../../utils';\nimport EwsItem from './ewsItem';\nimport CourseOverviewComponent from './courseOverviewComponent';\nimport CourseObjectiveAssessmentsComponent from './CourseObjectiveAssessmentsComponent';\nimport GridOverviewHeader from './gridOverviewHeader';\nimport StudentCourseOverview from '../studentCourseOverview';\nimport AssignmentTable from './assignmentTable';\nimport {getTranslation} from '../../i18n';\nimport SortStudentComponent from '../../components/sortStudentComponent';\nimport CheckboxWithText from '../../components/CheckboxWithText';\nimport ExtraAdjustmentIconWithNumber from \"../../components/extraAdjustmentIconWithNumber\";\n\nconst fields = `\n  name\n  assignments{\n    title\n    id\n    is_topic\n    connected\n    state\n    use_submitted_status\n    courseDefinitions {\n      id\n    }\n    assessments {\n      first_name\n      last_name\n      student_id\n      id\n      feedback\n      feedback_published\n      private_note\n      grade_published\n      result\n      result_published\n      status\n      grade_id\n      grade_name\n      grade_color\n      grade_published\n      grade_last_edit\n      feedback_last_edit\n      grade_last_edit\n      private_note_last_edit\n      status_new\n      submitted_status\n    }\n    assignments {\n      id\n      title\n      connected\n      state\n      use_submitted_status\n      courseDefinitions {\n        id\n      }\n      assessments{\n        first_name\n        last_name\n        student_id\n        id\n        feedback\n        feedback_published\n        private_note\n        grade_published\n        result\n        result_published\n        status\n        grade_id\n        grade_name\n        grade_color\n        grade_published\n        grade_last_edit\n        feedback_last_edit\n        grade_last_edit\n        private_note_last_edit\n        status_new\n        submitted_status\n      }\n    }\n  }\n  courses{\n    id\n    gradeSystem{\n      is_main\n      is_final\n      grades{\n        id\n        label\n        color\n      }\n    }\n  }\n  students {\n    id\n    first_name\n    last_name\n    extraAdjustments {\n      id\n    }\n    EWS {\n    courseId\n      status {\n        status\n        published\n      }\n      extraAdjustments {\n        name\n      }\n    }\n    courseAssessments {\n      id\n      courseId\n      gradeName\n      gradeColor\n      grade_id\n      grade_published\n      target_grade_id\n      target_grade_published\n      feedback\n      feedback_published\n      private_note\n      gradeSystem {\n        is_main\n        is_final\n        grades {\n          id\n          label\n          color\n        }\n      }\n      courseObjectiveAssessments {\n        id\n        name\n        objective_id\n        feedback\n        feedback_published\n        private_note\n        grade_id\n        grade_published\n      }\n    }\n  }\n`;\n\nconst styles = {\n  thText: {\n    ...fonts.MEDIUM,\n    fontWeight: '400',\n    padding: '0px 8px 4px 8px',\n    whiteSpace: 'nowrap',\n    textAlign: 'center',\n    height: '26px',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n  },\n  tdText: {\n    ...fonts.MEDIUM,\n    display: 'inline-block',\n    margin: '0px 16px 0px 16px',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    width: '150px',\n    border: '0px solid',\n    textAlign: 'start',\n  },\n  table: {\n    boxShadow: '0px 5px 10px rgba(0,0,0,0.1)',\n    margin: '50px 0px 16px 16px',\n    backgroundColor: colors.grey,\n    height: '0%',\n  },\n  td: {},\n  rightPanel: {\n    backgroundColor: colors.white,\n    position: 'fixed',\n    width: '330px',\n    right: 0,\n    top: 0,\n    overflow: 'scroll',\n    padding: '0px 30px 0px 0px',\n    marginTop: '80px',\n  },\n};\n\nconst GreenCheckbox = withStyles({\n  root: {\n    color: colors.borderColorDark,\n    paddingLeft: 0,\n    marginLeft: '6px',\n    '&$checked': {\n      color: colors.green,\n    },\n    '& .MuiSvgIcon-root': {\n      fontSize: '1.5rem',\n    },\n  },\n\n  checked: {},\n})(Checkbox);\n\nconst studentCourseOverviewStyle = {width: '315px'};\n\nconst GridOverview = (props) => {\n  const {course, student: initialStudent, onClose} = props;\n  const context = useContext(GlobalContext);\n  const {Api, networkTraffic, sortingMethod} = context;\n  const [classroom, setClassroom] = useState();\n  const [student, setStudent] = useState(initialStudent);\n  const [highlight, setHighlight] = useState();\n  const dim = useWindowDimensions();\n  const [saving, setSaving] = useState(false);\n  const [multiEdit, setMultiEdit] = useState(false);\n  const [selectedStudents, setSelectedStudents] = useState(false);\n  const selectedStudentsBeforeSelectAll = useRef();\n  const students = useRef([]);\n  const [sortedStudents, setSortedStudents] = useState([]);\n  const [extraAdjustmentData, setExtraAdjustmentData] = useState([]);\n  const [sortedAssignments, setSortedAssignments] = useState([]);\n  const [courseEwsMap, setCourseEwsMap] = useState({});\n  const [courseAssessmentsMap, setCourseAssessmentsMap] = useState({});\n  const [ignored, forceUpdate] = useReducer((x) => x + 1, 0);\n  const [renderAssignments, setRenderAssignments] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n\n  const setStudentCB = useMemo(() => debounce((id) => {\n    setStudent(id);\n  }, 500, {trailing: false, leading: true}), [course.id]);\n\n  const onLoading = useCallback((loading) => {\n    setLoading(loading)\n  }, [course.id]);\n\n  const loadClassroom = debounce(async () => {\n      const response = await Api.getClassroom(fields);\n      const {classroom} = response?.data;\n      classroom.assignments = filterAssignmentsOnCourseId(\n        classroom?.assignments,\n        course.id,\n      );\n      setClassroom(classroom);\n      // Delay rendering of the tables 1s because this view is heavy to render\n      setTimeout(() => setRenderAssignments(true), 1000);\n    },\n    1000);\n\n  const multiSave = useCallback(async (changes) => {\n    if (changes.ews?.ewsStatus) {\n      const {ewsStatus} = changes.ews;\n      await Promise.map(selectedStudents, async (id) => {\n        const student = classroom?.students?.find((s) => s.id === id);\n        const ews = student?.EWS.find((e) => e.courseId === course.id);\n        const saveObj = {\n          status: ewsStatus?.status,\n          student_id: id,\n          course_id: course.id,\n          published: getPublishedStatus(ewsStatus.published, ews?.status?.published || false),\n          modified: Date.now(),\n        };\n        await Api.updateStudentEWSStatus(saveObj);\n      });\n    }\n    if (changes?.ews?.extraAdjustments) {\n      const {extraAdjustments} = changes.ews;\n      // const {currentAdjustments, courseId} = extraAdjustments;\n      await Promise.map(selectedStudents, async (studentId) => {\n        // const student = students.current.find((s) => s.id === id);\n        // const extra = student.EWS.find((e) => e.courseId === course.id)\n        //   .extraAdjustments;\n        // const data = currentAdjustments.filter((c) => {\n        //   if (c.status === 'partial') {\n        //     if (!extra.find((e) => e.extra_adjustment_id === c.id)) {\n        //       return false;\n        //     }\n        //   }\n        //   return true;\n        // });\n        await Api.updateStudentExtraAdjustments2(\n          extraAdjustments,\n          course.id,\n          studentId,\n        );\n      });\n    }\n    if (changes?.courseAssessment) {\n      const saveObjs = selectedStudents.map((studentId) => {\n        const {courseAssessment} = changes;\n        const assessment = classroom?.students?.find((s) => s.id === studentId)\n          ?.courseAssessments?.find((a) => a.courseId === course.id);\n        return {\n          ...assessment,\n          feedback: courseAssessment?.feedback || assessment.feedback,\n          feedback_published: getPublishedStatus(courseAssessment?.feedback_published, assessment.feedback_published),\n          grade_id: courseAssessment?.grade_id || assessment.grade_id,\n          grade_published: getPublishedStatus(courseAssessment?.grade_published, assessment.grade_published),\n          target_grade_id: courseAssessment?.target_grade_id || assessment.target_grade_id,\n          target_grade_published: getPublishedStatus(courseAssessment?.target_grade_published, assessment.target_grade_published),\n          private_note: courseAssessment?.private_note || assessment.private_note,\n        };\n      });\n      await Api.updateCourseAssessments(saveObjs);\n    }\n    if (changes?.objectiveAssessments) {\n      const saveObjs = selectedStudents\n        .map((studentId) => Object.keys(changes.objectiveAssessments).map((objectiveId) => {\n          const change = changes.objectiveAssessments[objectiveId];\n          const assessment = classroom?.students?.find((s) => s.id === studentId)?.courseAssessments?.find((a) => a.courseId === course.id);\n          const currentObjectiveAssessment = assessment.courseObjectiveAssessments.find((co) => co.objective_id === parseInt(objectiveId, 10));\n          return {\n            ...currentObjectiveAssessment,\n            ...change,\n            grade_published: getPublishedStatus(change?.grade_published, currentObjectiveAssessment?.grade_published),\n            feedback_published: getPublishedStatus(change?.feedback_published, currentObjectiveAssessment?.feedback_published),\n            id: currentObjectiveAssessment.id,\n          };\n        }))\n        .flat();\n      Api.updateCourseObjectiveAssessment(saveObjs);\n    }\n\n    setMultiEdit(false);\n  }, [course.id, selectedStudents]);\n\n  // A little bit hacky, reload classroom if something has been saved\n  useEffect(() => {\n    if (networkTraffic === 'POST' || networkTraffic === 'PUT') {\n      setSaving(true);\n    } else if (saving) {\n      loadClassroom();\n      setSaving(false);\n    }\n  }, [networkTraffic]);\n\n  useEffect(() => {\n    loadClassroom();\n  }, []);\n\n  useEffect(() => {\n    if (selectedStudents.length === 0) {\n      setMultiEdit(false);\n    }\n  }, [selectedStudents]);\n\n  useEffect(() => {\n    if (!multiEdit) {\n      setExtraAdjustmentData([]);\n    }\n  }, [multiEdit]);\n\n  useEffect(() => {\n    setSortedStudents(classroom?.students\n      ?.sort((a, b) => {\n        if (sortingMethod === 'firstName') {\n          return a.first_name.localeCompare(b.first_name);\n        }\n        return a.last_name.localeCompare(b.last_name);\n      }));\n    setSortedAssignments(classroom?.assignments\n      .filter(a => {\n        if (a.connected) {\n          return true;\n        } else if (a.is_topic) {\n          const connectedAssignments = a.assignments?.filter(a => a.connected);\n          return connectedAssignments?.length > 0;\n        }\n      })\n      .sort((a, b) => a.title.localeCompare(b.title)));\n    forceUpdate();\n  }, [classroom?.students, sortingMethod]);\n\n  useEffect(() => {\n    const coursesEws = classroom?.students?.map(s => ({\n      studentId: s.id,\n      EWS: s.EWS.find(e => e.courseId === course.id)\n    }));\n    const courseEwsMap = coursesEws?.reduce((acc, ce) => {\n      acc[ce.studentId] = ce.EWS;\n      return acc;\n    }, {});\n    setCourseEwsMap(courseEwsMap);\n\n    const courseAssessments = classroom?.students?.map(s => ({\n      studentId: s.id,\n      assessments: s?.courseAssessments.find(ss => ss.courseId === course.id)\n    }));\n    const courseAssessmentsMap = courseAssessments?.reduce((acc, ca) => {\n      acc[ca.studentId] = ca.assessments;\n      return acc;\n    }, {});\n    setCourseAssessmentsMap(courseAssessmentsMap);\n  }, [classroom?.students]);\n\n\n  const objectiveGradeSystem = classroom?.courses\n    .find((c) => c.id === course.id)\n    .gradeSystem.find((g) => g.is_main);\n\n  const getStudentExtraAdjustments = async (studentIds) => {\n    const response = await Api.getClassroom(`\n    name\n    students {\n      id\n      EWS {\n        courseId\n        extraAdjustments {\n          course_definition_id\n          extra_adjustment_id\n          student_id\n        }\n      }\n    }\n    `);\n    students.current = response.data.classroom.students;\n    calculateExtraAdjustments(studentIds);\n  };\n\n  const calculateExtraAdjustments = async (selectedStudentsNow) => {\n    const allAdjustments = selectedStudentsNow\n      .map((id) => students.current.find((s) => s.id === id)?.EWS.find((e) => e.courseId === course.id)\n        .extraAdjustments.map((e) => e.extra_adjustment_id)).flat();\n    const uniqueAdjustments = [...new Set(allAdjustments)];\n    setExtraAdjustmentData(\n      uniqueAdjustments.map((id) => ({\n        id,\n        status:\n          allAdjustments.filter((a) => a === id).length\n          === selectedStudentsNow.length\n            ? 'check'\n            : 'partial',\n      })),\n    );\n  };\n\n  const width = dim.width - 350;\n\n  return (\n    <div>\n      <div\n        style={{\n          position: 'absolute',\n          top: '0px',\n          left: `${-width}px`,\n          bottom: 0,\n          right: 0,\n          backgroundColor: 'black',\n        }}\n      >\n        <GridOverviewHeader\n          classroomName={classroom?.name}\n          courseName={course.name}\n          studentName={`${student.first_name} ${student.last_name}`}\n          onCollapse={onClose}\n        />\n        <div\n          style={{\n            marginRight: '360px',\n            backgroundColor: colors.grey,\n            marginTop: '60px',\n            padding: '0px 0px 0px 20px',\n          }}\n        >\n          <div\n            style={{\n              display: 'flex',\n              width: '100%',\n              overflow: 'scroll',\n              height: `${dim.height - 60}px`,\n              backgroundColor: colors.grey,\n              flexDirection: 'column',\n            }}\n          >\n            <CheckboxWithText\n              subText={''}\n              id={'multiselect'}\n              text={getTranslation('selectMany')}\n              onCheck={(c) => {\n                setMultiEdit(c);\n                if (!c) {\n                  setSelectedStudents([]);\n                  setExtraAdjustmentData([]);\n                } else {\n                  setSelectedStudents([student.id]);\n                  getStudentExtraAdjustments([student.id]);\n                }\n              }}\n              checked={multiEdit}\n              style={{\n                marginLeft: '30px',\n                marginBottom: '-30px',\n              }}\n            />\n            <div style={{display: 'flex'}}>\n              <div>\n                <table style={styles.table}>\n                  <tr style={{backgroundColor: colors.grey}}>\n                    {multiEdit && (\n                      <td>\n                        <GreenCheckbox\n                          onChange={(e) => {\n                            if (e.target.checked) {\n                              selectedStudentsBeforeSelectAll.current = selectedStudents;\n                              const allStudents = classroom?.students.map(\n                                (s) => s.id,\n                              );\n                              setSelectedStudents(allStudents);\n                              calculateExtraAdjustments(allStudents);\n                            } else {\n                              setSelectedStudents(\n                                selectedStudentsBeforeSelectAll.current,\n                              );\n                            }\n                          }}\n                        />\n                      </td>\n                    )}\n                    <td style={styles.thText}>\n                      <div style={{display: 'flex', alignItems: 'center'}}>\n                        <SortStudentComponent style={{marginRight: '6px'}}/>\n                        {getTranslation('student')}\n                      </div>\n                    </td>\n                    <td style={styles.thText}>{getTranslation('EWS')}</td>\n                    <td style={styles.thText}>\n                      {getTranslation('overallResultHeaderTeacher')}\n                    </td>\n                    <td style={styles.thText}>\n                      {getTranslation('objectivesText')}\n                    </td>\n                  </tr>\n                  {sortedStudents?.map((s, i) => {\n                    console.log('xxx ', {s});\n                    const ews = courseEwsMap[s.id];\n                    const courseAssessment = courseAssessmentsMap[s.id];\n                    let bgColor = s.id === highlight ? colors.grey : colors.white;\n                    bgColor = s.id === student.id ? colors.borderColor : bgColor;\n                    let selected = false;\n                    if (multiEdit) {\n                      selected = selectedStudents?.findIndex((id) => id === s.id) >= 0;\n                    }\n                    if (selected) {\n                      bgColor = colors.borderColor;\n                    } else if (!selected && multiEdit) {\n                      bgColor = colors.white;\n                    }\n\n                    return (\n                      <tr\n                        onClick={() => {\n                          if (!multiEdit) {\n                            setStudentCB(s)\n                          } else {\n                            let selectedStudentsNow;\n                            if (\n                              selectedStudents.findIndex((id) => id === s.id)\n                              >= 0\n                            ) {\n                              selectedStudentsNow = selectedStudents.filter(\n                                (id) => id !== s.id,\n                              );\n                              setSelectedStudents(selectedStudentsNow);\n                            } else {\n                              selectedStudentsNow = [...selectedStudents, s.id];\n                              setSelectedStudents(selectedStudentsNow);\n                            }\n                            calculateExtraAdjustments(selectedStudentsNow);\n                          }\n                        }}\n                        onMouseEnter={() => setHighlight(s.id)}\n                        onMouseLeave={() => setHighlight(null)}\n                        key={s.id}\n                        style={{\n                          cursor: 'pointer',\n                          height: '52px',\n                          backgroundColor: bgColor,\n                        }}\n                      >\n                        {multiEdit && (\n                          <td>\n                            <GreenCheckbox\n                              inputProps={{'aria-label': 'controlled'}}\n                              checked={selected || false}\n                              onChange={(e) => {\n                                if (e.target.checked) {\n                                  setSelectedStudents([\n                                    ...selectedStudents,\n                                    s.id,\n                                  ]);\n                                } else {\n                                  setSelectedStudents(\n                                    selectedStudents.filter((id) => id !== s.id),\n                                  );\n                                }\n                              }}\n                            />\n                          </td>\n                        )}\n                        <td style={{\n                          ...styles.td,\n                          flexDirection: 'row',\n                          display: 'flex',\n                          alignItems: 'center',\n                          height: '100%'\n                        }}>\n                          <span style={styles.tdText}>\n                            {s.first_name} {s.last_name}\n                          </span>\n                          {s?.extraAdjustments?.length > 0 &&\n                          <ExtraAdjustmentIconWithNumber number={s?.extraAdjustments?.length}\n                                                         tooltip={getTranslation(\"studentExtraAdjustments\")}\n                                                         style={{marginRight: 10}}\n                                                         student/>\n                          }\n                        </td>\n                        <td style={styles.td}>\n                          <EwsItem ews={ews} selected={s.id === student.id}/>\n                        </td>\n                        <td style={styles.td}>\n                          <CourseOverviewComponent\n                            courseAssessment={courseAssessment}\n                          />\n                        </td>\n                        <td style={styles.td}>\n                          <CourseObjectiveAssessmentsComponent\n                            gradeSystem={objectiveGradeSystem}\n                            objectiveAssessments={courseAssessment?.courseObjectiveAssessments}\n                            bgColor={bgColor}\n                          />\n                        </td>\n                      </tr>\n                    );\n                  })}\n                </table>\n                <div style={{height: '30px', width: '50px', backgroundColor: 'transparent'}}/>\n              </div>\n              {!multiEdit && renderAssignments && (\n                <div style={{display: 'flex', paddingRight: '16spx'}}>\n                  {sortedAssignments?.map((assignment) => (\n                    <AssignmentTable\n                      key={assignment.id}\n                      students={classroom?.students}\n                      onStudentSelect={(id) => {\n                        const stud = classroom?.students?.find(\n                          (s) => s.id === id,\n                        );\n                        setStudentCB(stud);\n                      }}\n                      assignment={assignment}\n                      highlight={highlight}\n                      student={student}\n                      setHighlight={setHighlight}\n                      styles={styles}\n                    />\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n        <div\n          style={{\n            ...styles.rightPanel,\n            height: `${dim.height - (multiEdit ? 30 : 80)}px`,\n            boxShadow: '0px 5px 10px rgba(0,0,0,0.1)',\n            marginTop: multiEdit ? '30px' : '80px',\n          }}\n        >\n          <StudentCourseOverview\n            style={studentCourseOverviewStyle}\n            hideCourseCard\n            student={student}\n            course={course}\n            isGrid\n            multiEdit={multiEdit}\n            onSave={multiSave}\n            extraAdjustmentData={extraAdjustmentData}\n            selectedStudents={selectedStudents}\n            loading={() => {\n            }}\n          />\n          {!multiEdit && (\n            <div\n              style={{\n                position: 'fixed',\n                top: 60,\n                right: 0,\n                height: '50px',\n                backgroundColor: colors.borderColor,\n                width: '330px',\n                alignItems: 'center',\n                padding: '0px 16px 0px 16px',\n                display: 'flex',\n              }}\n            >\n              <span style={{...fonts.LARGE, fontWeight: '800'}}>\n                {student.first_name} {student.last_name}\n              </span>\n            </div>\n          )}\n        </div>\n      </div>\n      {loading && false &&\n      <div style={{\n        display: 'flex',\n        position: 'fixed',\n        top: 0,\n        left: -dim.width,\n        right: 0,\n        bottom: 0,\n        backgroundColor: colors.dimmed,\n        justifyContent: 'center',\n        alignItems: 'center',\n        zIndex: 1000,\n      }}>\n        <CircularProgress size={60}/>\n      </div>\n      }\n    </div>\n  );\n};\nexport default memo(GridOverview);\n","import React, { useContext, useEffect, useState } from 'react';\nimport { GlobalContext } from '../utils';\nimport StudentListHeader from './studentListHeader';\nimport StudentItem from './studentItem';\nimport StudentOverview from './studentOverview';\nimport GridOverview from './gridview/gridOverview';\nimport SortStudentComponent from '../components/sortStudentComponent';\nimport { colors } from '../theme';\n\nconst classroomFields = `\n  name\n  courses {\n    id\n    name\n    code\n  }\n  students {\n      id\n      last_name\n      first_name\n      photo_url\n      email\n    }`;\nconst CourseOverview = (props) => {\n  const [loading, setLoading] = useState();\n  const [selectedStudent, setSelectedStudent] = useState();\n  const [selectedCourse, setSelectedCourse] = useState();\n  const [selectedObjective, setSelectedObjective] = useState();\n\n  const [showGrid, setShowGrid] = useState(false);\n  const context = useContext(GlobalContext);\n  const {\n    Api, height, sortingMethod, openDrawer,\n  } = context;\n  const [classroom, setClassroom] = useState();\n\n  const loadClassroom = async () => {\n    setLoading(true);\n    const response = await Api.getClassroom(classroomFields);\n    setClassroom(response?.data?.classroom);\n    setLoading(false);\n  };\n  useEffect(() => {\n    loadClassroom();\n  }, []);\n\n  if (showGrid) {\n    return (\n      <div>\n        <GridOverview\n          course={selectedCourse}\n          student={selectedStudent || classroom?.students[0]}\n          onClose={() => setShowGrid(false)}\n        />\n        <StudentListHeader\n          toggleMenu={openDrawer}\n          toggleGrid={() => {\n            if (classroom?.courses.length === 1) {\n              setSelectedCourse(classroom?.courses[0]);\n            }\n            setShowGrid(!showGrid);\n          }}\n          showGridIcon={!!selectedCourse || classroom?.courses.length === 1}\n          showGrid={showGrid}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ border: '0px solid green', height: '100%' }}>\n      {selectedStudent && (\n        <StudentOverview\n          toggleGrid={() => setShowGrid(!showGrid)}\n          selectedCourse={selectedCourse}\n          student={selectedStudent}\n          onClose={() => setSelectedStudent(null)}\n          onCourseSelected={setSelectedCourse}\n          classroomName={classroom?.name}\n          onObjectiveSelected={setSelectedObjective}\n          selectedObjective={selectedObjective}\n        />\n      )}\n      <StudentListHeader\n        toggleMenu={openDrawer}\n        toggleGrid={() => {\n          if (classroom?.courses.length === 1) {\n            setSelectedCourse(classroom?.courses[0]);\n          }\n          setShowGrid(!showGrid);\n        }}\n        showGridIcon={!!selectedCourse || classroom?.courses.length === 1}\n      />\n      <div\n        style={{\n          overflow: 'scroll',\n          height: height - 60,\n          display: 'flex',\n          flexDirection: 'column',\n        }}\n      >\n        <div\n          style={{\n            borderBottom: `1px solid ${colors.borderColor}`,\n            display: 'flex',\n            justifyContent: 'flex-end',\n            padding: '6px',\n          }}\n        >\n          <SortStudentComponent style={{}} />\n        </div>\n        {classroom?.students\n          .sort((a, b) => {\n            if (sortingMethod === 'firstName') {\n              return a.first_name.localeCompare(b.first_name);\n            }\n            return a.last_name.localeCompare(b.last_name);\n          })\n          .map((student) => (\n            <div key={student.id}>\n              <StudentItem\n                selected={selectedStudent?.id === student.id}\n                student={student}\n                onClickStudent={() => {\n                  setSelectedStudent(student);\n                  if (classroom?.courses.length === 1) {\n                    setSelectedCourse(classroom?.courses[0]);\n                  }\n                }}\n              />\n            </div>\n          ))}\n      </div>\n    </div>\n  );\n};\n\nexport default CourseOverview;\n","import React, {useEffect, useState} from 'react';\nimport {ButtonBase} from '@material-ui/core';\nimport {MoreVert} from '@material-ui/icons';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport {withStyles} from '@material-ui/core/styles';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AssessmentButton from './assessmentButton';\nimport {getAssessmentIcon, getStatusText, getSubmittedIcon, getSubmittedStatusText} from '../utils';\nimport {colors, fonts} from '../theme';\nimport AssignmentAssessment from './assignmentAssessment';\nimport ObjectivesList from './objectivesList';\nimport Tooltip from \"./tooltip\";\n\nconst StudentButton = (props) => {\n  const {\n    onClickStudent,\n    style,\n    student,\n    assessment,\n    use_submitted_status = false,\n    onStatusChange,\n    showAssessmentButton = true,\n  } = props;\n  const [highlight, setHighlight] = useState(false);\n\n  if (!student.student_name) {\n    student.student_name = `${student.first_name} ${student.last_name}`;\n  }\n  const {\n    student_id: id,\n    student_name: fullName,\n    fail_warning: warning,\n  } = student;\n\n  const {status_new: status} = assessment;\n  const highlightStudent = () => {\n    setHighlight(true);\n  };\n\n  const unHighlightStudent = () => {\n    setHighlight(false);\n  };\n\n  return (\n    <div style={{position: 'relative', height: '50px'}}>\n      <ButtonBase\n        focusRipple\n        onClick={onClickStudent}\n        key={id}\n        onMouseEnter={highlightStudent}\n        onMouseLeave={unHighlightStudent}\n        style={{\n          width: '100%',\n          height: '50px',\n          paddingTop: '5px',\n          paddingRight: '20px',\n          paddingBottom: '5px',\n          paddingLeft: '20px',\n          borderBottom: `1px solid ${colors.borderColor}`,\n          backgroundColor: highlight ? colors.grey : 'transparent',\n          ...style,\n        }}\n      >\n        <div\n          style={{\n            width: '100%',\n            display: 'flex',\n            alignItems: 'center',\n          }}\n        >\n          <div style={{display: 'flex', justifyContent: 'space-between', width: '45px'}}>\n            <Tooltip title={getStatusText(assessment.status_new)}>\n              <div>\n                {getAssessmentIcon({status: assessment.status_new, style: {maxHeight: '18px'}})}\n              </div>\n            </Tooltip>\n            {use_submitted_status &&\n            <div style={{marginLeft: '8px'}}>\n              <Tooltip title={getSubmittedStatusText(assessment.submitted_status)}>\n                <div>\n                  {getSubmittedIcon({status: assessment.submitted_status})}\n                </div>\n              </Tooltip>\n            </div>}\n          </div>\n          <Tooltip title={student?.email}>\n            <p\n              style={{\n                ...fonts.MEDIUM,\n                marginLeft: '16px',\n                width: use_submitted_status ? '180px' : '210px',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n                whiteSpace: 'nowrap',\n                textAlign: 'start',\n              }}\n            >\n              {fullName}\n            </p>\n          </Tooltip>\n        </div>\n      </ButtonBase>\n      {showAssessmentButton && (\n        <AssessmentButton\n          style={{\n            cursor: 'pointer',\n            position: 'absolute',\n            right: '10px',\n            top: '14px',\n            color: colors.darkGrey,\n          }}\n          onStatusChange={(newStatus) => onStatusChange({status: newStatus, student})\n          }\n          submittedStatus={use_submitted_status}\n          button={<MoreVert/>}\n        />\n      )}\n    </div>\n  );\n};\n\nconst StyledAccordion = withStyles({\n  root: {\n    '&$expanded': {\n      marginTop: '0px',\n    },\n  },\n  expanded: {},\n})(Accordion);\n\nconst StyledAccordionSummary = withStyles({\n  root: {\n    padding: '0px',\n    margin: '0px',\n    '&$expanded': {\n      minHeight: '0px',\n    },\n  },\n  content: {\n    padding: '0px',\n    margin: '0px',\n    '&$expanded': {\n      padding: '0px',\n      margin: '0px',\n      minHeight: '0px',\n    },\n  },\n  expandIcon: {\n    position: 'absolute',\n    right: '46px',\n    '&$expanded': {},\n  },\n  expanded: {},\n})(AccordionSummary);\n\nconst StyledAccordionDetails = withStyles({\n  root: {\n    padding: '0px',\n  },\n})(AccordionDetails);\n\nexport const StudentItem = (props) => {\n  const {\n    onClick,\n    student,\n    onStatusChange,\n    assignment,\n    expandable = false,\n    filter,\n    gradeSystem,\n    courseDefinitions,\n    expanded: initialExpanded,\n    assessment,\n    paddingLeft = '0px',\n  } = props;\n\n  const [expanded, setExpanded] = useState(initialExpanded);\n  const [focused, setFocused] = useState(false);\n\n  useEffect(() => {\n    setExpanded(initialExpanded);\n  }, [initialExpanded]);\n\n  const onClickStudent = () => {\n    onClick({student, objectiveAssessments: assessment?.objectiveAssessments, assessment});\n  };\n\n  const expandItem = (e, expand) => {\n    setExpanded(expand);\n  };\n\n  if (!expandable) {\n    return <StudentButton {...{...props, onClickStudent, style: {paddingLeft}}} />;\n  }\n\n  return (\n    <div style={{position: 'relative'}}>\n      <StyledAccordion\n        TransitionProps={{unmountOnExit: true, enter: false, exit: false}}\n        expanded={expanded}\n        onChange={expandItem}\n      >\n        <StyledAccordionSummary\n          onMouseEnter={() => setFocused(true)}\n          onMouseLeave={() => setFocused(false)}\n          style={{\n            backgroundColor: focused ? colors.grey : colors.white,\n            padding: '0px 0px 0px 16px',\n            margin: '0px',\n            borderBottom: `1px solid ${colors.borderColor}`,\n          }}\n          expandIcon={<ExpandMoreIcon/>}\n        >\n          <StudentButton\n            {...{\n              ...props,\n              onClickStudent,\n              showAssessmentButton: false,\n              use_submitted_status: assignment.use_submitted_status,\n              style: {border: '0px', paddingLeft},\n            }}\n          />\n        </StyledAccordionSummary>\n        <StyledAccordionDetails\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            padding: '0px 10px 0px 10px',\n          }}\n        >\n          <AssignmentAssessment\n            filter={filter}\n            assignment={assignment}\n            assessment={assessment}\n          />\n          <ObjectivesList\n            assignmentAssessmentId={assessment?.id}\n            courseDefinitions={courseDefinitions}\n            objectiveAssessments={assessment?.objectiveAssessments}\n            gradeSystem={gradeSystem}\n            filter={filter}\n          />\n        </StyledAccordionDetails>\n      </StyledAccordion>\n      <AssessmentButton\n        style={{\n          cursor: 'pointer',\n          position: 'absolute',\n          right: '10px',\n          top: '16px',\n          color: colors.darkGrey,\n        }}\n        onStatusChange={(newStatus) => onStatusChange({status: newStatus, student})\n        }\n        submittedStatus={assignment.use_submitted_status}\n        button={<MoreVert/>}\n      />\n    </div>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.666 2l-.49 2.523a7.951 7.951 0 00-2.244 1.291L4.508 4.98 2.172 9.02l1.941 1.688A8.006 8.006 0 004 12c0 .409.04.833.113 1.291v.002L2.172 14.98l2.336 4.041 2.422-.834a7.952 7.952 0 002.246 1.29L9.666 22h4.668l.49-2.523a7.941 7.941 0 002.244-1.291l2.424.835 2.334-4.04-1.94-1.69c.075-.458.114-.883.114-1.291 0-.408-.039-.832-.113-1.29v-.001l1.941-1.69-2.336-4.04-2.422.833a7.952 7.952 0 00-2.246-1.289L14.334 2H9.666zm1.648 2h1.372l.388 2 1.043.395a5.941 5.941 0 011.684.964l.863.707 1.922-.66.685 1.186-1.535 1.336.176 1.1v.001c.061.375.088.69.088.971s-.027.596-.088.97l-.178 1.1 1.536 1.336-.686 1.188-1.92-.662-.865.709a5.93 5.93 0 01-1.682.964h-.002L13.072 18l-.388 2h-1.37l-.388-2-1.043-.395a5.941 5.941 0 01-1.684-.964l-.863-.707-1.922.66-.685-1.186 1.537-1.338-.178-1.095v-.002A6.158 6.158 0 016 12c0-.281.027-.596.088-.97l.178-1.1-1.537-1.336.685-1.188 1.922.662.863-.709a5.941 5.941 0 011.684-.964L10.926 6l.388-2zM12 8c-2.197 0-4 1.803-4 4s1.803 4 4 4 4-1.803 4-4-1.803-4-4-4zm0 2c1.111 0 2 .889 2 2s-.889 2-2 2-2-.889-2-2 .889-2 2-2z\"\n});\n\nfunction SvgSettings(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/504c19b0dc5123cb074b63bf1fe24738-settings.svg\";\nexport { SvgSettings as ReactComponent };","import React from 'react';\nimport { ArrowBack } from '@material-ui/icons';\nimport { colors, fonts } from '../theme';\nimport { getTranslation } from '../i18n';\nimport LinearProgress from '../components/LinearProgress';\nimport { ReactComponent as GridIcon } from '../images/grid.svg';\nimport { ReactComponent as SettingsIcon } from '../images/settings.svg';\nimport Tooltip from \"../components/tooltip\";\n\nconst AssignmentStudentListHeader = (props) => {\n  const {\n    back,\n    title,\n    isTopic = false,\n    openGrid,\n    gotToEdit,\n  } = props;\n\n  return (\n    <div\n      style={{\n        width: '100%',\n        height: '60px',\n        display: 'flex',\n        backgroundColor: isTopic ? colors.topic : colors.green,\n        border: '0px solid blue',\n        zIndex: 1000,\n        position: 'relative',\n      }}\n    >\n      <div\n        style={{\n          padding: '14px',\n          border: '0px solid red',\n        }}\n      >\n        <div style={{ display: 'flex', alignItems: 'center', border: '0px solid blue' }}>\n          <ArrowBack\n            style={{\n              cursor: 'pointer',\n              color: colors.white,\n              height: '25px',\n              marginTop: '2px',\n              marginRight: '4px',\n            }}\n            onClick={back}\n          />\n          <span\n            style={{\n              ...fonts.LARGE,\n              color: colors.white,\n              marginLeft: '14px',\n              marginTop: '4px',\n              fontWeight: '500',\n              width: '220px',\n              textOverflow: 'ellipsis',\n              overflow: 'hidden',\n              whiteSpace: 'nowrap',\n            }}\n          >\n          {title}\n        </span>\n        </div>\n        <div style={{\n          cursor: 'pointer', alignItems: 'center', display: 'flex', position: 'absolute', right: '60px', top: '20px',\n        }} onClick={openGrid}>\n          <Tooltip title={getTranslation('gridOverviewTooltip')}>\n            <div>\n          <GridIcon fill={colors.white} />\n            </div>\n          </Tooltip>\n        </div>\n        <Tooltip title={getTranslation('editScalesAndObjectivesOption')}>\n          <div style={{\n            position: 'absolute', top: '16px', right: '14px', cursor: 'pointer',\n          }}>\n        <SettingsIcon fill={colors.white} onClick={gotToEdit}/>\n          </div>\n        </Tooltip>\n      </div>\n      <div style={{\n        position: 'absolute', bottom: 0, left: 0, right: 0,\n      }}>\n        <LinearProgress />\n      </div>\n    </div>\n  );\n};\n\nexport default AssignmentStudentListHeader;\n","import {\n  Checkbox,\n  Divider,\n  FormControl,\n  InputBase,\n  InputLabel,\n  ListItemText,\n  MenuItem,\n  Select,\n  withStyles,\n} from '@material-ui/core';\nimport React from 'react';\nimport {colors, fonts} from '../theme';\nimport {getTranslation} from '../i18n';\n\nconst GreenCheckbox = withStyles({\n  root: {\n    color: colors.grey,\n    '&$checked': {\n      color: colors.green,\n    },\n  },\n  checked: {},\n})(Checkbox);\n\nexport const StudyBeeInputBase = withStyles(() => ({\n  input: {\n    ...fonts.MEDIUM,\n    fontSize: '16px',\n    height: '34px',\n    alignItems: 'flex-end',\n    display: 'flex',\n    borderBottom: `1px solid ${colors.borderColor}`,\n    padding: '6px',\n    '&:focus': {\n      // backgroundColor: colors.white,\n    },\n  },\n}))(InputBase);\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nexport const MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250,\n    },\n  },\n  getContentAnchorEl: null,\n  autoFocus: false,\n};\n\nconst allString = getTranslation('teacherAssignmentsAssessmentManyStudentIdOptionAll');\nconst StudybeeSelector = (\n  {\n    items,\n    title,\n    inputName,\n    onSelect,\n    enabled = true,\n    selectedItems,\n  }) => {\n\n  const handleChange = (event) => {\n    const {value} = event.target;\n    let selected = [];\n    if (value[value.length - 1] === 'all') {\n      if (selectedItems.length !== items.length) {\n        selected = items.map((s) => s.id);\n      }\n    } else {\n      selected = value;\n    }\n    onSelect(selected);\n  };\n\n  return (\n    <FormControl>\n      <InputLabel>{title}</InputLabel>\n      <Select\n        disabled={!enabled}\n        multiple\n        value={selectedItems}\n        onChange={handleChange}\n        renderValue={() => (selectedItems.length === items.length ? `${allString} ${title.toLowerCase()}` : `${selectedItems.length} ${inputName} ${getTranslation('teacherAssignmentsAssessmentManyStudentTriggerMultiplyStudents')}`)}\n        MenuProps={MenuProps}\n        input={<StudyBeeInputBase/>}\n      >\n        <MenuItem key={'all'} value={'all'}>\n          <GreenCheckbox checked={selectedItems.length === items.length}/>\n          <ListItemText primary={allString}/>\n        </MenuItem>\n        <Divider/>\n        {items.map((item) => (\n          <MenuItem key={item.id} value={item.id}>\n            <GreenCheckbox\n              checked={selectedItems.find((id) => id === item.id) > -1}\n            />\n            <ListItemText primary={item.label}/>\n          </MenuItem>\n        ))}\n      </Select>\n    </FormControl>\n  );\n};\nexport default StudybeeSelector;\n","import React, { useContext, useState } from 'react';\nimport {\n  Button,\n  CircularProgress,\n  Dialog,\n} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport StudybeeSelector from './studybeeSelector';\nimport Header from './header';\nimport Card from './card';\nimport FeedbackInput from './feedbackInput';\nimport { getGradeSystemValues, GlobalContext } from '../utils';\nimport { getTranslation } from '../i18n';\nimport { colors, fonts } from '../theme';\nimport AssessmentSlider from './assessmentSlider';\n\nconst overAllText = getTranslation('overallResultHeaderTeacher');\nconst resultText = getTranslation('resultsInput');\nconst overallFeedbackText = getTranslation('overallFeedback');\nconst overallPrivateNoteText = getTranslation('overallPrivateNoteInput');\nconst objectiveFeedbackInputText = getTranslation('objectiveFeedbackInput');\nconst objectivePrivateNoteText = getTranslation('objectivePrivateNoteInput');\n\nconst BatchAssessmentDialog = (props) => {\n  const context = useContext(GlobalContext);\n  const { Api } = context;\n\n  const {\n    open, onClose, students, courses, gradeSystem, assignment,\n  } = props;\n  const [selectedStudents, setSelectedStudents] = useState([]);\n  const [selectedObjectives, setSelectedObjectives] = useState([]);\n  const [result, setResult] = useState();\n  const [feedback, setFeedback] = useState();\n  const [note, setNote] = useState();\n  const [grade, setGrade] = useState();\n  const [objectiveFeedback, setObjectiveFeedback] = useState();\n  const [objectiveNote, setObjectiveNote] = useState();\n  const [saving, setSaving] = useState(false);\n\n  const overallAssessmentAvailable = selectedStudents.length > 0;\n  const objectiveAssessmentAvailable = selectedObjectives.length > 0;\n\n  if (!students || !gradeSystem) {\n    return null;\n  }\n  const handleClose = () => {\n    onClose();\n  };\n\n  const handleSave = async () => {\n    setSaving(true);\n    const objectives = (\n      await Promise.all(\n        selectedStudents.map((studentId) => Api.getObjectiveAssessments(assignment.id, studentId)),\n      )\n    )\n      .map((s) => s\n        .filter((o) => selectedObjectives.find((id) => id === o.objective))\n        .map((o) => ({\n          ...o,\n          feedback: objectiveFeedback || o.feedback,\n          private_note: objectiveNote || o.private_note,\n          grade_id: grade?.id || o.grade_id,\n          grade_name: grade?.name || o.grade_name,\n        })))\n      .flat();\n\n    const assessments = (\n      await Promise.all(\n        selectedStudents.map((studentId) => Api.getAssignmentAssessment(assignment.id, studentId)),\n      )\n    ).map((assessment) => ({\n      ...assessment,\n      feedback: feedback || assessment.feedback,\n      result: result || assessment.result,\n      private_note: note || assessment.private_note,\n    }));\n\n    await Api.updateAssignmentAssessment(assignment.id, assessments);\n\n    await Api.updateObjectiveAssessmentsGql(objectives);\n    setSaving(false);\n    handleClose();\n  };\n\n  const gradeSystemValues = getGradeSystemValues(gradeSystem);\n\n  const objectives = courses.map((c) => c.objectives).flat();\n  return (\n    <Dialog onClose={handleClose} open={open}>\n      <div\n        style={{\n          width: '550px',\n          padding: '20px',\n          display: 'flex',\n          flexDirection: 'column',\n        }}\n      >\n        <span\n          style={{\n            ...fonts.XLARGE,\n            width: '100%',\n            padding: '0px 0px 0px 0px',\n            marginBottom: '20px',\n          }}\n        >\n          {getTranslation('batchAssessmentDialogTitle')}\n        </span>\n        <StudybeeSelector\n          selectedItems={selectedStudents}\n          onSelect={(select) => {\n            setSelectedStudents(select);\n            if (select.length === 0) {\n              setSelectedObjectives([]);\n            }\n          }}\n          items={students.map((s) => ({\n            id: s.student_id,\n            label: s.student_name,\n          }))}\n          title={getTranslation('students')}\n          inputName={getTranslation('students').toLowerCase()}\n        />\n        <div\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n          }}\n        >\n          <Header\n            title={overAllText}\n            style={{\n              backgroundColor: overallAssessmentAvailable\n                ? colors.green\n                : colors.darkGrey,\n            }}\n          />\n          <Card style={{ margin: '1px 2px 20px 2px' }}>\n            <FeedbackInput\n              readonly={!overallAssessmentAvailable}\n              placeholder={resultText}\n              onTextChange={(text) => setResult(text)}\n              hideEye\n            />\n            <FeedbackInput\n              readonly={!overallAssessmentAvailable}\n              placeholder={overallFeedbackText}\n              onTextChange={(text) => setFeedback(text)}\n              hideEye\n            />\n            <FeedbackInput\n              readonly={!overallAssessmentAvailable}\n              placeholder={overallPrivateNoteText}\n              hideEye\n              onTextChange={(text) => setNote(text)}\n            />\n          </Card>\n\n          <StudybeeSelector\n            selectedItems={selectedObjectives}\n            enabled={overallAssessmentAvailable}\n            onSelect={(selected) => setSelectedObjectives(selected)}\n            items={objectives.map((o) => ({ id: o.id, label: o.name }))}\n            title={getTranslation('objectivesText')}\n            inputName={getTranslation('objectivesText').toLowerCase()}\n          />\n\n          <Header\n            title={getTranslation('objectivesText')}\n            style={{\n              backgroundColor: objectiveAssessmentAvailable\n                ? colors.green\n                : colors.darkGrey,\n            }}\n          />\n          <Card style={{ margin: '1px 2px 1px 2px' }}>\n            {/*<span*/}\n            {/*  onClick={() => showObjectiveDetails(objective.id)}*/}\n            {/*  style={{ ...fonts.MEDIUM, cursor: 'pointer' }}*/}\n            {/*>*/}\n            {/*  {objective.name}*/}\n            {/*</span>*/}\n            <AssessmentSlider\n              showPublish={false}\n              disabled={!objectiveAssessmentAvailable}\n              values={gradeSystemValues}\n              defaultIndex={0}\n              onChangeCommit={(index) => {\n                const selectedGrade = gradeSystem.grades.find((g) => g.name === gradeSystemValues[index].name);\n                setGrade(selectedGrade);\n              }}\n            />\n            <FeedbackInput\n              readonly={!objectiveAssessmentAvailable}\n              placeholder={objectiveFeedbackInputText}\n              onTextChange={(text) => setObjectiveFeedback(text)}\n              hideEye\n            />\n            <FeedbackInput\n              placeholder={objectivePrivateNoteText}\n              readonly={!objectiveAssessmentAvailable}\n              onTextChange={(text) => setObjectiveNote(text)}\n              hideEye\n            />\n          </Card>\n        </div>\n        <Button style={{ marginTop: '10px' }} onClick={handleSave}>\n          <span style={fonts.LARGE}>{getTranslation('saveBtn').toUpperCase()}</span>\n        </Button>\n        <CloseIcon\n          onClick={handleClose}\n          style={{\n            position: 'absolute',\n            top: '20px',\n            right: '20px',\n            cursor: 'pointer',\n          }}\n        />\n      </div>\n      {saving && (\n        <div\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: '#00000050',\n            alignItems: 'center',\n            justifyContent: 'center',\n            display: 'flex',\n            flexDirection: 'column',\n          }}\n        >\n          <CircularProgress size={100} />\n        </div>\n      )}\n    </Dialog>\n  );\n};\nexport default BatchAssessmentDialog;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"current\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.1 15.8H7.9c-.6 0-1.1-.5-1.1-1.1v-4.3L2.6 6.2c-.2-.2-.3-.5-.4-.8v-2c0-.6.5-1.1 1.1-1.1h11.3c.6 0 1.1.5 1.1 1.1v2c0 .3-.1.6-.3.8l-4.2 4.2v4.3c0 .5-.5 1.1-1.1 1.1zM3.4 3.4v2l4.5 4.5v4.7h2.2V9.9l4.5-4.5v-2H3.4z\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.1 15.8H7.9c-.6 0-1.1-.5-1.1-1.1v-4.3L2.6 6.2c-.2-.2-.3-.5-.4-.8v-2c0-.6.5-1.1 1.1-1.1h11.3c.6 0 1.1.5 1.1 1.1v2c0 .3-.1.6-.3.8l-4.2 4.2v4.3c0 .5-.5 1.1-1.1 1.1zM3.4 3.4v2l4.5 4.5v4.7h2.2V9.9l4.5-4.5v-2H3.4z\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\"\n}));\n\nfunction SvgFilter(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 18 18\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/3852299757286d4b6beaceef01de55e8-filter.svg\";\nexport { SvgFilter as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.2 14.6h3.4v1.1h-3.4v-1.1zm0-4.5h4.5v1.1h-4.5v-1.1zm0-4.5h5.6v1.1h-5.6V5.6zM8.4 2.3h1.1v13.5H8.4V2.3zM6 2.2L4 4.1 2 2.2l-.9.8 2.8 2.6L6.8 3 6 2.2z\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.2 14.6h3.4v1.1h-3.4v-1.1zm0-4.5h4.5v1.1h-4.5v-1.1zm0-4.5h5.6v1.1h-5.6V5.6zM8.4 2.3h1.1v13.5H8.4V2.3zM6 2.2L4 4.1 2 2.2l-.9.8 2.8 2.6L6.8 3 6 2.2z\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#656565\"\n});\n\nfunction SvgExpand(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 18 18\"\n  }, props), _ref, _ref2);\n}\n\nexport default __webpack_public_path__ + \"images/83451a9ac47d525d73bc427e155bacfd-expand.svg\";\nexport { SvgExpand as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.7 14.1h7.9v1.1H7.7v-1.1zm-3.8.5l-1.5 1.5.8.8 2.2-2.2-2.2-2.2-.8.8 1.5 1.3zm3.8-6.2h7.9v1.1H7.7V8.4zM3.9 9l-1.5 1.5.8.8L5.5 9 3.3 6.8l-.8.8L3.9 9zm3.8-6.2h7.9v1.1H7.7V2.8zm-3.8.6L2.4 4.9l.8.8 2.2-2.2-2.2-2.2-.8.8 1.5 1.3z\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.7 14.1h7.9v1.1H7.7v-1.1zm-3.8.5l-1.5 1.5.8.8 2.2-2.2-2.2-2.2-.8.8 1.5 1.3zm3.8-6.2h7.9v1.1H7.7V8.4zM3.9 9l-1.5 1.5.8.8L5.5 9 3.3 6.8l-.8.8L3.9 9zm3.8-6.2h7.9v1.1H7.7V2.8zm-3.8.6L2.4 4.9l.8.8 2.2-2.2-2.2-2.2-.8.8 1.5 1.3z\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#656565\"\n});\n\nfunction SvgCollapseAll(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 18 18\"\n  }, props), _ref, _ref2);\n}\n\nexport default __webpack_public_path__ + \"images/c3a01f3f60a1060d95547fb8e4dd7b42-collapse_all.svg\";\nexport { SvgCollapseAll as ReactComponent };","import React, {useContext, useEffect, useRef, useState} from \"react\";\nimport {colors, fonts} from \"../theme\";\nimport {StudentItem} from \"../components/studentItem\";\nimport AssignmentObjectivesList from \"./assignmentObjectivesList\";\nimport AssignmentStudentListHeader from \"./assignmentStudentListHeader\";\nimport {useWindowDimensions} from \"../hooks\";\nimport {\n  getStudentListFilterOptions,\n  GlobalContext, NOT_SUBMITTED, NOT_SUBMITTED_LATE, setStudentListFilterOptions,\n  sortAssessmentsByStudentName, SUBMITTED, SUBMITTED_LATE,\n} from \"../utils\";\nimport {getTranslation} from \"../i18n\";\nimport BatchAssessmentDialog from \"../components/batchAssessmentDialog\";\nimport FullscreenProgress from \"../components/fullscreenProgress\";\nimport EditAssessmentCriteria from \"./editAssignment/editAssessmentCriteria\";\nimport {classroomFields} from \"./assignmentsList\";\nimport {ReactComponent as FilterIcon} from \"../images/filter.svg\";\nimport {ReactComponent as ExpandIcon} from \"../images/expand.svg\";\nimport {ReactComponent as CollapseIcon} from \"../images/collapse_all.svg\";\nimport MoreMenu from \"../components/moreMenu\";\nimport SortStudentComponent from \"../components/sortStudentComponent\";\nimport Tooltip from \"../components/tooltip\";\n\nconst fields = `\n    title\n    connected\n    state\n    use_submitted_status\n    course_id\n    assessments{\n      id\n      student_id\n      feedback\n      feedback_published\n      private_note\n      grade_published\n      grade_id\n      grade_name\n      grade_color\n      result\n      result_published\n      status_new\n      status_new_last_edit\n      feedback_last_edit\n      grade_last_edit\n      last_edit_for_student\n      self_assessment\n      self_assessment_last_edit\n      submitted_status\n    }\n    objectiveAssessments{\n      id\n      student_id\n      objectiveName\n      objective_id\n      feedback\n      feedback_published\n      feedback_last_edit\n      private_note\n      private_note_last_edit\n      grade_last_edit\n      grade_id\n      grade_published\n      counter_grade_0\n      counter_grade_1\n      counter_grade_2\n      counter_grade_3\n      counter_grade_4\n      counter_grade_5\n      counter_grade_6\n      counter_grade_7\n      counter_grade_8\n      counter_grade_9\n      max_counter_grade_0\n      max_counter_grade_1\n      max_counter_grade_2\n      max_counter_grade_3\n      max_counter_grade_4\n      max_counter_grade_5\n      max_counter_grade_6\n      max_counter_grade_7\n      max_counter_grade_8\n      max_counter_grade_9\n    }\n    gradeSystem {\n      id\n      name\n      is_counter\n      is_main\n      is_final\n      grades{\n        id\n        name\n        is_passed\n        color\n        label\n      }\n    }`;\n\nconst filterOptions = [\n  {title: getTranslation(\"selectContentInList\"), type: \"title\"},\n  {\n    title: getTranslation(\n      \"teacherAssignmentsAssessmentStudentVisibilityDialogOptionOverallFeedback\"\n    ),\n    name: \"overallFeedback\",\n    selected: false,\n    selectable: true,\n  },\n  {\n    title: getTranslation(\"teacherSelfAssessmentLabel\"),\n    name: \"selfAssessment\",\n    selected: false,\n    selectable: true,\n  },\n  {\n    title: getTranslation(\"overallResult\"),\n    name: \"result\",\n    selected: false,\n    selectable: true,\n  },\n  {\n    title: getTranslation(\"overallAssessment\"),\n    name: \"overallGrade\",\n    selected: false,\n    selectable: true,\n  },\n  {\n    title: getTranslation(\"overallPrivateNoteInput\"),\n    name: \"overallNote\",\n    selected: false,\n    selectable: true,\n  },\n  {type: \"separator\"},\n  {\n    title: getTranslation(\"assessmentMode\"),\n    name: \"grade\",\n    selected: false,\n    selectable: true,\n  },\n  {\n    title: getTranslation(\"objectivesFeedbackMode\"),\n    name: \"feedback\",\n    selected: false,\n    selectable: true,\n  },\n  {\n    title: getTranslation(\"objectivesPrivateNotesMode\"),\n    name: \"note\",\n    selected: false,\n    selectable: true,\n  },\n];\n\nconst AssignmentStudentList = (props) => {\n  const context = useContext(GlobalContext);\n  const {\n    Api,\n    sortingMethod,\n    setVisibilityDialogData,\n  } = context;\n  const {assignment: initialAssignment, back} = props;\n  const [selectedStudent, setSelectedStudent] = useState(null);\n  const [\n    editAssessmentCriteriaSelected,\n    setEditAssessmentCriteriaSelected,\n  ] = useState();\n  const [showBatchDialog, setShowBatchDialog] = useState(false);\n  const [assignment, setAssignment] = useState(initialAssignment);\n  const [assessments, setAssessments] = useState([]);\n  const [filter, setFilter] = useState([\n    \"overallFeedback\",\n    \"overallNote\",\n    \"selfAssessment\",\n    \"overallGrade\",\n  ]);\n  const [expandAll, setExpandAll] = useState(false);\n  const [showExpandAllInfo, setShowExpandAllInfo] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [showTooltip, setShowTooltip] = useState(false);\n\n  const gradeSystem = useRef([]);\n  const courseDefinitions = useRef([]);\n\n  const dimensions = useWindowDimensions();\n\n  const getStudentAssessments = async () => {\n    let response = await Api.getClassroom(`\n    courseDefinitions {\n      id\n      name\n      course_id\n      objectives{\n        id\n        name\n        description\n      }\n    }`);\n    const {courseDefinitions: cd} = response?.data?.classroom;\n    response = await Api.getAssignmentWithAssessment(assignment.id, fields);\n    const {\n      gradeSystem: gs,\n      assessments,\n      objectiveAssessments,\n    } = response?.data?.assignment[0];\n    courseDefinitions.current = cd;\n    gradeSystem.current = gs;\n    const all = assessments.map((a) => {\n      return {\n        ...a,\n        objectiveAssessments: objectiveAssessments.filter(\n          (oa) => oa.student_id === a.student_id\n        ),\n      };\n    });\n    setAssessments(all);\n  };\n\n  useEffect(() => {\n    setLoading(true);\n\n    (async () => {\n      await getStudentAssessments();\n      const f = await getStudentListFilterOptions();\n      if (f) {\n        setFilter(f);\n      }\n\n      setLoading(false);\n    })();\n  }, []);\n\n  useEffect(() => {\n    setAssignment(initialAssignment);\n  }, [initialAssignment]);\n\n  const refresh = async () => {\n    setLoading(true);\n    const response = await Api.getClassroom(classroomFields);\n    const assignments = response?.data?.classroom?.assignments\n      .map((a) => [a, ...(a.assignments || [])])\n      .flat();\n    setAssignment(assignments.find((a) => a.id === assignment.id));\n    getStudentAssessments();\n    setLoading(false);\n  };\n\n  const onStatusChange = async ({student, status}) => {\n    const assessment = assessments.find(\n      (a) => a.student_id === student.student_id\n    );\n    if([SUBMITTED, SUBMITTED_LATE, NOT_SUBMITTED_LATE, NOT_SUBMITTED].find(s => s === status)){\n      assessment.submitted_status = status;\n    } else {\n      assessment.status_new = status;\n    }\n\n    if (status === \"ASSESSMENT_DONE\") {\n      setVisibilityDialogData({\n        isTopic: assignment?.is_topic,\n        assignmentId: assignment.id,\n        assessments: [assessment],\n        callback: () => {\n          refresh();\n        },\n      });\n    }\n    await Api.updateAssignmentAssessment([assessment]);\n  };\n\n  const studentClicked = (data) => {\n    const {\n      student,\n      objectiveAssessments,\n      assessment,\n      openGrid = false,\n    } = data;\n    const params = {\n      openGrid,\n      studentId: student.student_id,\n      assignment,\n      courseDefinitions: courseDefinitions.current,\n      gradeSystem: gradeSystem.current,\n      objectiveAssessments,\n      assignmentAssessment: assessment,\n      historyBack: async () => {\n        setSelectedStudent(null);\n        await refresh();\n      },\n      students: assignment.assessments,\n    };\n    setSelectedStudent(params);\n  };\n\n  const handleFilterMenu = (name) => {\n    let newFilter;\n    if (filter.find((f) => f === name)) {\n      newFilter = filter.filter((n) => n !== name);\n      setFilter(newFilter);\n      setStudentListFilterOptions(newFilter);\n    } else {\n      newFilter = [...filter, name];\n      setFilter(newFilter);\n      setStudentListFilterOptions(newFilter);\n    }\n    const showObjectives = !!newFilter.find((f) =>\n      [\"grade\", \"feedback\", \"note\", \"studentAssessment\"].find((a) => a === f)\n    );\n    if (showObjectives) {\n      setExpandAll(false);\n    }\n  };\n\n  if (selectedStudent) {\n    return <AssignmentObjectivesList {...selectedStudent} />;\n  }\n  if (editAssessmentCriteriaSelected) {\n    return (\n      <EditAssessmentCriteria\n        onClose={() => {\n          setEditAssessmentCriteriaSelected(false);\n          refresh();\n        }}\n        assignment={assignment}\n      />\n    );\n  }\n\n  const disableExpandAll = !!filter.find((f) =>\n    [\"grade\", \"feedback\", \"note\", \"studentAssessment\"].find((a) => a === f)\n  );\n  const toggleExpandAll = () => {\n    if (!disableExpandAll) {\n      setExpandAll(!expandAll);\n    } else {\n      setShowExpandAllInfo(true);\n      setTimeout(() => setShowExpandAllInfo(false), 3000);\n    }\n  };\n  const empty = assessments ? assessments.length === 0 : true;\n  const {assessments: students} = assignment;\n  const sortedStudents = students\n    ? sortAssessmentsByStudentName(students, sortingMethod)\n    : [];\n\n  return (\n    <div style={{}}>\n      <AssignmentStudentListHeader\n        title={assignment.title}\n        back={back}\n        isTopic={assignment?.is_topic}\n        gotToEdit={() => {\n          setEditAssessmentCriteriaSelected(true);\n        }}\n        openGrid={() =>\n          studentClicked({\n            student: sortedStudents[0],\n            objectiveAssessments: assessments?.objectiveAssessments,\n            assessments,\n            openGrid: true,\n          })\n        }\n      />\n      {loading && <FullscreenProgress/>}\n      {empty && !loading && (\n        <div style={{margin: \"20px\"}}>\n          <span style={{...fonts.LARGE}}>\n            {getTranslation(\"noStudentsYet\")}\n          </span>\n        </div>\n      )}\n      {!loading && !empty && (\n        <>\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"flex-end\",\n              padding: \"10px 10px 5px 10px\",\n              borderBottom: `1px solid ${colors.borderColor}`,\n              height: \"30px\",\n              alignItems: \"center\",\n            }}\n          >\n            <SortStudentComponent/>\n            <Tooltip\n              open={showTooltip}\n              title={getTranslation(\"assignmentsActionMenuFilterTooltip\")}\n            >\n              <div\n                onMouseUp={() => setShowTooltip(false)}\n                onMouseEnter={() => setShowTooltip(true)}\n                onMouseLeave={() => setShowTooltip(false)}\n              >\n                <MoreMenu\n                  icon={\n                    <FilterIcon\n                      style={{height: \"25px\", border: \"0px solid red\"}}\n                      fill={colors.darkGrey}\n                    />\n                  }\n                  options={filterOptions.map((f) => ({\n                    ...f,\n                    selected: filter.find((name) => name === f.name),\n                  }))}\n                  onClick={(item) => handleFilterMenu(item.name)}\n                  closeOnClick={false}\n                />\n              </div>\n            </Tooltip>\n            <Tooltip\n              title={getTranslation(\"expandAllDisabledDescription\")}\n              open={showExpandAllInfo}\n            >\n              <Tooltip\n                title={\n                  expandAll\n                    ? getTranslation(\"collapseAllButton\")\n                    : getTranslation(\"expandAllButton\")\n                }\n              >\n                <div\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    cursor: \"pointer\",\n                    height: \"25px\",\n                    width: \"25px\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    border: \"0px solid\",\n                  }}\n                  onClick={toggleExpandAll}\n                >\n                  {!expandAll && <ExpandIcon fill={colors.darkGrey}/>}\n                  {expandAll && <CollapseIcon fill={colors.darkGrey}/>}\n                </div>\n              </Tooltip>\n            </Tooltip>\n          </div>\n          <div style={{height: dimensions.height - 110, overflow: \"scroll\"}}>\n            {sortedStudents.map((student) => (\n              <StudentItem\n                expanded={expandAll}\n                filter={filter}\n                expandable\n                assignment={assignment}\n                onStatusChange={onStatusChange}\n                key={student.student_id}\n                onClick={studentClicked}\n                student={student}\n                courseDefinitions={courseDefinitions.current}\n                gradeSystem={gradeSystem.current}\n                assessment={assessments.find(\n                  (a) => a.student_id === student.student_id\n                )}\n              />\n            ))}\n          </div>\n          <BatchAssessmentDialog\n            assignment={assignment}\n            students={assignment?.assessments}\n            open={showBatchDialog}\n            onClose={() => {\n              refresh();\n              setShowBatchDialog(false);\n            }}\n            courses={courseDefinitions.current.filter(\n              (c) => c.objectives?.length > 0\n            )}\n            gradeSystem={gradeSystem.current}\n          />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default AssignmentStudentList;\n","import React, {useState} from 'react';\nimport {ButtonBase} from '@material-ui/core';\nimport {colors, fonts} from '../theme';\n\n\nconst DrawerItem = (props) => {\n  const {\n    onClick, icon, iconObject, text, selected = false,\n  } = props;\n\n  const [highlight, setHighlight] = useState(false);\n  const bgColor = highlight ? colors.grey : colors.white;\n\n  return (\n    <ButtonBase\n      onMouseOver={() => setHighlight(true)}\n      onMouseLeave={() => setHighlight(false)}\n      focusRipple\n      onClick={onClick}\n      style={{\n        width: '100%',\n        height: '56px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        cursor: 'pointer',\n        backgroundColor: selected ? colors.greyDarker : bgColor,\n        borderTop:`1px solid ${colors.borderColor}`,\n      }}>\n      {icon\n      && <img style={{height: '25px', margin: '0px 20px 0px 10px'}} src={icon}/>\n      }\n      {iconObject && <div style={{margin: '0px 20px 0px 10px'}}>{iconObject}</div>}\n      <span style={{...fonts.MEDIUM}}>{text}</span>\n    </ButtonBase>\n  );\n};\n\nexport default DrawerItem;\n","import React, {useContext, useEffect, useState} from 'react';\nimport {animated, useSpring} from 'react-spring';\n\nimport {\n  Assignment, School, Book, Refresh,\n} from '@material-ui/icons';\nimport {colors, fonts} from '../theme';\nimport {useWindowDimensions} from '../hooks';\nimport DrawerItem from './drawerItem';\nimport {getTranslation} from '../i18n';\nimport {GlobalContext} from '../utils';\nimport MoreMenu from \"./moreMenu\";\nimport Dropdown from \"./dropdown\";\n\nconst app = require('../../package.json');\n\nconst width = 300;\n\nconst Drawer = (props) => {\n  const {\n    close, selected, onNavigate, onRefresh, student,\n  } = props;\n  const context = useContext(GlobalContext);\n  const {user, Api, setShowAddSchool, classroom, setShowSelectPrimarySchool, isStudent} = context;\n  const [selectedSchool, setSelectedSchool] = useState(classroom?.school_id);\n\n  useEffect(() => {\n    setSelectedSchool(classroom?.school_id);\n  }, [classroom]);\n\n  const setSchoolId = async (id) => {\n    await Api.setClassroomSchoolId(classroom?.id, id);\n  };\n\n  const [opacityAnim, setOpacity] = useSpring(() => ({to: {opacity: 1}, from: {opacity: 0}}));\n  const [animProp, setMargin] = useSpring(() => ({\n    marginLeft: 0,\n    from: {marginLeft: -width},\n    config: {mass: 1, velocity: 0, friction: 26},\n    onRest: (props) => {\n      if (props.value.marginLeft === -width) close();\n    },\n  }));\n\n  const animateClose = () => {\n    setMargin({marginLeft: -width});\n    setOpacity({opacity: 0});\n  };\n\n  const navigate = (view) => {\n    onNavigate(view);\n    animateClose();\n  };\n\n  const dimensions = useWindowDimensions();\n  if (!user) {\n    return null;\n  }\n\n  const schools = user?.schools || [{id: 0, name: '', city: ''}];\n  const refresh = () => {\n    onRefresh();\n    animateClose();\n  };\n\n  let options = [{id: 1, title: getTranslation('addRemoveSchoolmenuItem')}];\n  if (user?.schools?.length > 1) {\n    options.push({id: 2, title: getTranslation('choosePrimarySchool')});\n  }\n\n  const moreThanOneSchool = schools.length > 1;\n  return (\n    <div>\n      <animated.div\n        onClick={animateClose}\n        style={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: colors.greyedOut,\n          ...opacityAnim,\n        }}/>\n      <animated.div style={{\n        position: 'absolute',\n        width,\n        height: dimensions.height,\n        top: 0,\n        backgroundColor: colors.white,\n        ...animProp,\n      }}>\n        <div style={{\n          display: 'flex',\n          backgroundColor: colors.primary,\n          flexDirection: 'column',\n          paddingBottom: 10,\n          minHeight: 90\n        }}>\n          <div style={{display: 'flex', alignItems: 'center'}}>\n            <img src={`https://${user.photo_url}`} style={{\n              display: 'flex',\n              width: '37px',\n              height: '37px',\n              backgroundColor: colors.white,\n              borderRadius: '50px',\n              margin: '14px 10px 14px 14px',\n              filter: 'drop-shadow(0px 5px 5px rgba(0, 0, 0, 0.2))',\n            }}/>\n            <span style={{\n              ...fonts.LARGE,\n              fontWeight: '800',\n              overflow: \"hidden\",\n              textOverflow: \"ellipsis\",\n              whiteSpace: \"nowrap\",\n              width: 190,\n            }}>{user.first_name} {user.last_name}</span>\n            {!isStudent &&\n            <MoreMenu\n              onClick={({id}) => {\n                switch (id) {\n                  case 1:\n                    setShowAddSchool(true);\n                    break;\n                  case 2:\n                    setShowSelectPrimarySchool(true);\n                    break;\n                }\n\n              }}\n              options={options}\n              iconStyle={{color: colors.black, transform: 'rotate(90deg)'}}\n            />\n            }\n          </div>\n          {!moreThanOneSchool && !isStudent &&\n          <span\n            style={{\n              ...fonts.SMALL,\n              width: '260px',\n              fontWeight: 400,\n              fontSize: 12,\n              lineHeight: '1.2rem',\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n              whiteSpace: 'nowrap',\n              marginLeft: 15,\n            }}>{schools[0].name} - {schools[0].city}</span>}\n          {moreThanOneSchool && schools?.map(school => (\n            <div style={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              margin: '0px 10px 0px 18px'\n            }}>\n            <span style={{\n              ...fonts.SMALL,\n              width: '260px',\n              fontWeight: 400,\n              fontSize: 12,\n              lineHeight: '1.2rem',\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n              whiteSpace: 'nowrap',\n            }}>&#x2022; &nbsp;{school?.name}{school?.city ? ` - ${school.city}` : ''}</span>\n              {school.primarySchool && schools?.length > 1 &&\n              <span style={{...fonts.TINY, fontWeight: '800'}}>{getTranslation('primary')}</span>}\n            </div>\n          ))}\n        </div>\n        {!moreThanOneSchool &&\n        <div style={{height: 50, display: 'flex', alignItems: 'center'}}>\n          <span style={{...fonts.LARGE, fontWeight: 600, padding: 15}}>{classroom?.name}</span>\n        </div>\n        }\n        {moreThanOneSchool && <div style={{padding: 20}}>\n          <Dropdown\n            title={classroom?.name}\n            options={schools.map(s => ({...s, name: `${s.name} - ${s.city}`}))}\n            value={selectedSchool || 0}\n            renderValue={(id) => {\n              let school = schools.find(s => s.id === id);\n              return (\n                <div style={{\n                  margin: 8, width: 220, overflow: 'hidden', textOverflow: 'ellipsis',\n                  whiteSpace: 'nowrap'\n                }}>\n                  <span style={fonts.MEDIUM}>{school?.name} - {school?.city}</span>\n                </div>\n              );\n            }}\n            onChange={(e) => {\n              setSchoolId(e.target.value);\n              setSelectedSchool(e.target.value);\n            }}/>\n        </div>}\n\n        <DrawerItem onClick={() => navigate('assignments')} selected={selected === 'assignments'}\n                    iconObject={<Assignment style={{color: colors.brandColorGreen}}/>}\n                    text={getTranslation('assignmentsPage')}/>\n        <DrawerItem onClick={() => navigate('courseOverview')} selected={selected === 'courseOverview'}\n                    iconObject={<School style={{color: colors.brandColorPink}}/>}\n                    text={getTranslation('courseProgressionPage')}/>\n        <DrawerItem onClick={() => navigate('courseRequirements')}\n                    iconObject={<Book style={{color: colors.brandColorBlue}}/>}\n                    text={getTranslation('courseRequirementsPage')}/>\n        {!student\n        && <>\n          <DrawerItem onClick={refresh} iconObject={<Refresh style={{color: colors.textColor}}/>}\n                      text={getTranslation('synchronizeMainMenu')}/>\n          <div style={{borderBottom: `1px solid ${colors.borderColor}`}}/>\n        </>\n        }\n        <span style={{\n          ...fonts.TINY,\n          fontSize: '10px',\n          position: 'absolute',\n          bottom: '6px',\n          right: '6px',\n          color: '#0000007f',\n        }}>Version: {app?.version}</span>\n      </animated.div>\n    </div>\n\n  );\n};\n\nexport default Drawer;\n","export default __webpack_public_path__ + \"images/b33e080d755e9653cd8115602ca3dc22-close_white.png\";","import React, {useContext, useEffect, useRef, useState} from 'react';\nimport {colors, fonts} from \"../theme\";\nimport {useWindowDimensions} from \"../hooks\";\nimport {GlobalContext} from \"../utils\";\nimport {Snackbar, TextField} from \"@material-ui/core\";\nimport {Alert, Autocomplete} from \"@material-ui/lab\";\nimport PrimaryButton from \"./primaryButton\";\nimport SecondaryButton from \"./secondaryButton\";\nimport {getTranslation} from \"../i18n\";\nimport closeIcon from '../images/png/close_white.png';\nimport Icon from \"./icon\";\n\nconst AddSchoolDialog = ({}) => {\n  const context = useContext(GlobalContext);\n  const dimensions = useWindowDimensions();\n  const {Api, setShowAddSchool, user} = context;\n  const [schools, setSchools] = useState();\n  const [selectedSchools, setSelectedSchools] = useState();\n  const [open, setOpen] = useState(false);\n  const initialSelected = useRef();\n\n  const getSchools = async () => {\n    const response = await Api.getSchools(1);\n    let schoolsList = response?.data?.schoolsList;\n    setSchools(schoolsList);\n    console.log('xxx: ', {user});\n    let initial = user?.schools?.map(s => schoolsList.find(sc => sc.id === s.id));\n    setSelectedSchools(initial);\n    initialSelected.current = initial;\n  };\n\n  useEffect(async () => {\n    getSchools();\n  }, []);\n\n\n  if (!selectedSchools) {\n    return null;\n  }\n\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        left: -dimensions.width + 360,\n        right: 0,\n        bottom: 0,\n        top: 0,\n        backgroundColor: 'transparent',\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        zIndex: \"1001\",\n      }}\n    >\n      <div style={{\n        width: 716,\n        height: 530,\n        backgroundColor: colors.white,\n        borderRadius: 6,\n        position: 'absolute',\n        boxShadow: '0px 5px 10px rgba(0,0,0,0.3)'\n      }}>\n        <div style={{\n          backgroundColor: colors.primary,\n          width: '100%',\n          display: 'flex',\n          height: 56,\n          alignItems: 'center',\n          borderRadius: '6px 6px 0px 0px',\n        }}>\n        <span style={{\n          ...fonts.LARGE,\n          fontWeight: 700,\n          fontSize: 16,\n          marginLeft: 16,\n        }}>{getTranslation('addRemoveSchoolmenuItem')}</span>\n        </div>\n        <div style={{\n          padding: '0px 20px 00px 20px',\n          display: 'flex',\n          height: 407,\n        }}>\n          <Autocomplete\n            multiple\n            disableClearable\n            filterSelectedOptions\n            value={selectedSchools}\n            options={schools}\n            getOptionLabel={(option) => option.name}\n            style={{width: '100%', margin: '10px 0px 10px 0px'}}\n            onChange={(_, value) => {\n              setSelectedSchools(value);\n            }}\n            renderTags={(schools) => {\n              return schools.map(school => (\n                <div style={{\n                  borderRadius: 4,\n                  backgroundColor: colors.black,\n                  padding: '4px 4px 4px 10px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  margin: '2px 10px 2px 0px',\n                }}>\n                  <span style={{...fonts.SMALL, color: colors.white}}>{school.name} - {school.city}</span>\n                  <div\n                    onClick={() => {\n                      if (selectedSchools?.length > 1) {\n                        setSelectedSchools(selectedSchools?.filter(s => s.id !== school.id));\n                      } else {\n                        setOpen(true);\n                      }\n                    }}>\n                    <Icon\n                      file={closeIcon}\n                      style={{height: 12, width: 12, marginLeft: 8, marginRight: 4, cursor: 'pointer'}}\n                      overrideOpacity={1}\n                    />\n                  </div>\n                </div>\n              ));\n\n            }}\n            renderInput={(params) => {\n              return (\n                <TextField\n                  {...params}\n                  style={{backgroundColor: colors.white}}\n                  size={'small'}\n                  variant=\"outlined\"/>);\n            }}\n          />\n\n        </div>\n        <div style={{\n          display: 'flex',\n          justifyContent: 'flex-end',\n          borderTop: `1px solid ${colors.borderOnPrimary}`,\n          padding: 10,\n        }}>\n          <SecondaryButton title={getTranslation('cancelBtn')} onClick={() => setShowAddSchool(false)}/>\n          <PrimaryButton\n            disabled={!selectedSchools}\n            title={getTranslation('saveBtn')}\n            onClick={async () => {\n              const added = selectedSchools?.filter(v => !initialSelected.current?.find(s => s.id === v.id));\n              const removed = initialSelected.current?.filter(s => !selectedSchools?.find(v => v.id === s.id));\n\n              for (const s of added) {\n                await Api.addSchool(s.id);\n              }\n              for (const s of removed) {\n                await Api.removeSchool(s.id);\n              }\n\n              setShowAddSchool(false);\n            }}/>\n        </div>\n      </div>\n      <div >\n        <Snackbar\n          style={{\n            position: \"absolute\",\n            top: 0,\n            alignItems:'center',\n            justifyContent:'center',\n          }}\n          open={open}\n          autoHideDuration={2000}\n          onClose={() => setOpen(false)}\n        >\n          <Alert severity={'warning'}>{getTranslation('cannotRemoveAllSchools')}</Alert>\n        </Snackbar>\n      </div>\n    </div>\n  );\n};\n\nexport default AddSchoolDialog;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\nimport angular from 'angular';\nimport uiRouter from '@uirouter/angularjs';\nimport ngCookies from 'angular-cookies';\nimport ngAnimate from 'angular-animate';\nimport ngMessages from 'angular-messages';\nimport ngMaterial from 'angular-material';\nimport { react2angular } from 'react2angular';\n\nimport { CommonModule } from './app/common/common.module';\nimport UtilsModule from './app/utils/utils.module.ts';\nimport { CourseProgressModule } from './app/components/course-progress/course-progress.module';\nimport UserSetupModule from './app/userSetup/userSetup.module.ts';\nimport { AppConfig } from './app/app.config';\nimport { AppRun } from './app/app.run';\nimport { AppRouting } from './app/app.routing.ts';\nimport { UserInactiveModule } from './app/components/user-inactive/user-inactive.module';\nimport SharedModule from './app/shared/shared.module.ts';\nimport CourseManagementModule from './app/components/courseManagement/courseManagement.module.ts';\nimport AssignmentsModule from './app/assignments/assignments.module.ts';\nimport App from '../../react_src/app';\n// import {Provider} from 'react-redux';\n// console.log('xxx Provider: ', Provider);\n\n// this one doesn't support the export statement\nrequire('./vendors/ngquill.js');\n\n// include templates - webpack hack\nfunction requireAll(requireContext) {\n  requireContext.keys().map(requireContext);\n}\n// TODO (dydek) remove app.html from ng-cache\nrequireAll(require.context('./app/', true, /\\.html$/));\n\nif (!DEVELOPMENT_ENV) {\n  Raven.config(RAVEN_URL, {\n    release: RELEASE,\n  })\n    .addPlugin(require('raven-js/plugins/angular'), angular)\n    .install();\n}\n\nconst VENDOR_MODULES = [\n  uiRouter,\n  'ui.router.upgrade',\n  ngCookies,\n  ngMaterial,\n  ngAnimate,\n  ngMessages,\n  'ngQuill',\n];\n\nconst APP_MODULES = [\n  CommonModule,\n  UtilsModule,\n  CourseManagementModule,\n  CourseProgressModule,\n  AssignmentsModule,\n  UserSetupModule,\n  UserInactiveModule,\n  SharedModule,\n];\n\nif (!DEVELOPMENT_ENV) {\n  APP_MODULES.unshift('ngRaven');\n}\n// import { Provider } from 'react-redux';\n// import store from '../../react_src/redux/store';\nangular\n  .module('app', [...VENDOR_MODULES, ...APP_MODULES])\n  .component(\n    'rapp',\n    react2angular(App, ['data', 'ctrl', 'view', 'student']),\n  )\n  .config(AppConfig)\n  .config(AppRouting)\n  .run(AppRun);\n\n//BOOTSTRAP MOVED TO: ./src/main.ts => ./src/app/app.module.ts\n","import angular, { IRootElementService, IScope } from 'angular';\nimport { UnbindableCtrlBase } from '../../base-classes';\nimport { Accordion } from './accordion.service';\n\nexport class AccordionComponent extends UnbindableCtrlBase {\n  static bindings = {\n    open: '=?',\n    onOpen: '&?',\n    onClose: '&?',\n    disabled: '<?ngDisabled',\n  };\n  static controller = AccordionComponent;\n  static templateUrl = 'common/components/accordion/accordion.html';\n  static transclude = {\n    header: '?accordionHeader',\n    footer: '?accordionFooter',\n  };\n\n  public open?: boolean;\n  public disabled?: boolean;\n  public onOpen?: (event?: { accordion: AccordionComponent }) => void;\n  public onClose?: (event?: { accordion: AccordionComponent }) => void;\n  public visible: boolean;\n\n  constructor(private $scope: IScope, private $element: IRootElementService, private Accordion: Accordion) {\n    'ngInject';\n\n    super();\n    this.open = false;\n    this.disabled = false;\n    this.onOpen = angular.noop;\n    this.onClose = angular.noop;\n    this.visible = false;\n  }\n\n  $onInit(): void {\n    this.open = this.open && !this.disabled;\n\n    this.boundEvents.push(\n      this.$scope.$watch(\n        () => this.open,\n        () => {\n          this.toggleState();\n          this.triggerEvent();\n        },\n      ),\n    );\n\n    this.boundEvents.push(\n      this.$scope.$watch(\n        () => this.disabled,\n        (disabled) => {\n          this.disabled = disabled;\n          this.open = this.open && this.disabled;\n        },\n      ),\n    );\n\n    this.toggleState();\n  }\n\n  toggle(): void {\n    if (!this.disabled) {\n      this.open = !this.open;\n    }\n  }\n\n  toggleState(): void {\n    if (!this.disabled) {\n      if (this.open) {\n        this.visible = true;\n        this.Accordion.open(this.$element);\n      } else {\n        this.Accordion.close(this.$element).finally(() => {\n          this.visible = false;\n        });\n      }\n    }\n  }\n\n  triggerEvent(): void {\n    if (!this.disabled) {\n      if (this.open) {\n        this.onOpen({ accordion: this });\n      } else {\n        this.onClose({ accordion: this });\n      }\n    }\n  }\n}\n","import angular, {IPromise, IRootElementService, ITimeoutService} from 'angular';\n\nimport {SlideToggleAnimation} from '../../../utils/animations/slideToggle.animation';\n\nexport class Accordion {\n  static ACCORDION_CONTAINER_QUERY = '.accordion-container';\n  static ACCORDION_CONTENT_QUERY = '.accordion-content';\n  static ANIMATION_CLASSNAME = SlideToggleAnimation.className;\n  static OPEN_CLASSNAME = 'open';\n  static SCROLL_LOCK_CLASS_NAME = 'scroll-lock';\n\n  constructor(private $animate: angular.animate.IAnimateService, private $timeout: ITimeoutService) {\n    'ngInject';\n  }\n\n  open(accordionElement: IRootElementService): void {\n    this.$timeout(\n      () => {\n        this.disabelContentScrollbars(accordionElement);\n        this.addOpenClass(accordionElement);\n        const accordionContainer: JQuery = accordionElement.find(Accordion.ACCORDION_CONTAINER_QUERY);\n        this.stopAnimation(accordionElement);\n\n        if (!accordionContainer.hasClass(Accordion.ANIMATION_CLASSNAME)) {\n          accordionContainer.css('display', '');\n        }\n\n        const animationPromise = this.$animate\n          .addClass(accordionContainer, Accordion.ANIMATION_CLASSNAME)\n          .then(() => this.enableContentScrollbars(accordionElement));\n\n        accordionContainer.data('$animate', animationPromise);\n      },\n      0,\n    );\n  }\n\n  close(accordionElement: IRootElementService): IPromise<void> {\n    this.disabelContentScrollbars(accordionElement);\n    this.removeOpenClass(accordionElement);\n    const accordionContainer: JQuery = accordionElement.find(Accordion.ACCORDION_CONTAINER_QUERY);\n    this.stopAnimation(accordionContainer);\n\n    if (!accordionContainer.hasClass(Accordion.ANIMATION_CLASSNAME)) {\n      accordionContainer.css('display', 'none');\n    }\n\n    const animationPromise = this.$animate\n      .removeClass(accordionContainer, Accordion.ANIMATION_CLASSNAME)\n      .then(() => this.enableContentScrollbars(accordionElement));\n\n    accordionContainer.data('$animate', animationPromise);\n\n    return animationPromise;\n  }\n\n  addOpenClass(accordionElement: IRootElementService) {\n    return this.$animate.addClass(accordionElement, Accordion.OPEN_CLASSNAME);\n  }\n\n  removeOpenClass(accordionElement: IRootElementService) {\n    return this.$animate.removeClass(accordionElement, Accordion.OPEN_CLASSNAME);\n  }\n\n  stopAnimation(element: JQuery): void {\n    if (element && element.data('$animate')) {\n      this.$animate.cancel(element.data('$animate'));\n      element.removeData('$animate');\n    }\n  }\n\n  disabelContentScrollbars(accordionElement: IRootElementService): void {\n    accordionElement\n      .find(Accordion.ACCORDION_CONTENT_QUERY)\n      .addClass(Accordion.SCROLL_LOCK_CLASS_NAME);\n  }\n\n  enableContentScrollbars(accordionElement: IRootElementService): void {\n    accordionElement\n      .find(Accordion.ACCORDION_CONTENT_QUERY)\n      .removeClass(Accordion.SCROLL_LOCK_CLASS_NAME);\n  }\n}\n","import { AccordionComponent } from '../accordion.component';\n\nexport class AccordionFooterComponent {\n  static controller = AccordionFooterComponent;\n  static require = { accordion: '^^' };\n  static templateUrl =\n    'common/components/accordion/accordionFooter/accordionFooter.html';\n  static transclude = true;\n\n  public accordion: AccordionComponent;\n\n  constructor() {\n    'ngInject';\n  }\n}\n","import { AccordionComponent } from '../accordion.component';\n\nexport class AccordionHeaderComponent {\n  static controller = AccordionHeaderComponent;\n  static require = {\n    accordion: '^^',\n  };\n  static templateUrl = 'common/components/accordion/accordionHeader/accordionHeader.html';\n  static transclude = {\n    menu: '?accordionHeaderMenu',\n  };\n\n  public accordion: AccordionComponent;\n\n  constructor() {\n    'ngInject';\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const ExtendedViewContainer = {\n  transclude: {\n    toolbar: '?toolbar',\n  },\n  bindings: {\n    hideToolbar: '<',\n  },\n  template: `\n    <div layout=\"column\" layout-fill>\n    <md-toolbar\n        flex=\"nogrow\"\n        class=\"sb-toolbar\"\n        ng-if=\"!$ctrl.hideToolbar\">\n        <div\n            layout=\"row\"\n            class=\"md-toolbar-tools\"\n            ng-transclude='toolbar'>\n        </div>\n    </md-toolbar>\n    <md-content\n        class=\"sb-bg--gray\"\n        sticky-subheader\n        flex>\n        <ng-transclude></ng-transclude>\n    </md-content>\n    </div>\n  `,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const ExtendedViewTopWhiteframe = {\n  transclude: true,\n  template: `\n<md-whiteframe\n  class=\"sb-panel-shadow\n         sb-main-card\"\n  flex=\"95\"\n  layout=\"column\"\n  layout-padding\n  layout-margin\n  ng-transclude>\n</md-whiteframe>\n  `,\n};\n","export const LoaderComponent = {\n  bindings: {\n    type: '@',\n  },\n  template: `\n    <md-progress-linear\n        flex=\"nogrow\"\n        class=\"sb-progress-linear\"\n        ng-class=\"$ctrl.loaderClass\"\n        ng-show=\"$root.showLoading()\"\n        md-mode=\"indeterminate\">\n    </md-progress-linear>\n  `,\n  controller: class {\n    $onInit() {\n      this.loaderClass = `sb-progress-linear-${this.type || 'single'}-toolbar`;\n    }\n  },\n};\n","/*\n  Copyright (C) 2016 StudyBee AB\n  All rights, including trade secret rights, reserved.\n */\n\n/**\n * @module Common/Components\n *\n * @description\n * This component is responsible fot showing tooltip on text wraped in span element when\n * it is too long and is truncated\n *\n * @example\n *\n *<long-text-tooltip text=\"$ctrl.course.name\">\n *    <span class=\"truncate-text\">{{ $ctrl.course.name }}</span>\n *</long-text-tooltip>\n *\n */\n\nimport { UnbindableCtrlBase } from '../../base-classes';\nimport { Events } from '../../global-events';\n\nexport class LongTextTooltipComponent extends UnbindableCtrlBase {\n  static bindings = {\n    text: '<',\n    direction: '@?',\n    query: '@?',\n    disabled: '<ngDisabled',\n    visible: '<?',\n    watchText: '<',\n  };\n  static controller = LongTextTooltipComponent;\n  static templateUrl = 'common/components/longTextTooltip/longTextTooltip.html';\n  static transclude = true;\n\n  constructor($rootScope, $element, $timeout, LongTextTooltip) {\n    'ngInject';\n\n    super();\n    this.$rootScope = $rootScope;\n    this.$element = $element;\n    this.$timeout = $timeout;\n    this.LongTextTooltip = LongTextTooltip;\n    this.showTooltip = false;\n    this.direction = 'top';\n    this.query = null;\n    this.disabled = false;\n    this.visible = null;\n    this.watchText = false;\n  }\n\n  $onInit() {\n    this.boundEvents.push(\n      this.$rootScope.$on(Events.COURSE_UPDATED, () => this.checkIfShowTooltip()),\n      this.LongTextTooltip.addOnResizeHandler(() => this.checkIfShowTooltip()),\n    );\n\n    if (this.watchText) {\n      this.boundEvents.push(\n        this.$rootScope.$watch(() => this.text, () => this.checkIfShowTooltip()),\n      );\n    }\n\n    this.$element.on('mouseover.longTextTooltip', () => {\n      this.LongTextTooltip.preventOutdatedScope();\n      this.$element.off('mouseover.longTextTooltip');\n    });\n  }\n\n  $postLink() {\n    this.checkIfShowTooltip();\n  }\n\n  $onDestroy() {\n    super.$onDestroy();\n    this.$element.off('mouseover.longTextTooltip');\n  }\n\n  checkIfShowTooltip() {\n    this.$timeout(() => {\n      this.showTooltip =\n        !this.disabled &&\n        !!this.text &&\n        this.LongTextTooltip.isNeeded(this.$element, this.query);\n    }, 0, false);\n  }\n}\n","import { IdService } from '../../../shared/services/helpers/id.service';\n\nexport class LongTextTooltip {\n  static defaultStyles = {\n    position: 'absoulte',\n    top: '-100px',\n    whiteSpace: 'nowrap',\n  };\n\n  constructor($window, $timeout) {\n    'ngInject';\n\n    this.$timeout = $timeout;\n    this.onResizeHandlers = [];\n    this.timeoutPromise = null;\n    this.debounce = 50;\n    this.refreshScopeState = null;\n    angular.element($window).on('resize', () => this.onResize());\n  }\n\n  onResize() {\n    if (this.timeoutPromise) {\n      this.$timeout.cancel(this.timeoutPromise);\n    }\n\n    this.timeoutPromise = this.$timeout(\n      () => this.onResizeHandlers.forEach(handler => handler()),\n      this.debounce,\n    );\n  }\n\n  addOnResizeHandler(handler) {\n    handler.id = IdService.getId();\n    this.onResizeHandlers.push(handler);\n\n    return this.createUnregisterFunction(handler.id);\n  }\n\n  createUnregisterFunction(handlerId) {\n    return () => {\n      this.onResizeHandlers = this.onResizeHandlers.filter(handler => handler.id !== handlerId);\n    };\n  }\n\n  isNeeded($element, query = null) {\n    let showTooltip = false;\n    const contentElement = query ?\n      $element.find(query).first() :\n      $element.find('ng-transclude').children().first();\n\n    if (contentElement.length) {\n      showTooltip =\n        Math.ceil(contentElement[0].scrollWidth) > Math.ceil(contentElement.innerWidth());\n    }\n\n    return showTooltip;\n  }\n\n  preventOutdatedScope() {\n    if (!this.refreshScopeState) {\n      this.refreshScopeState = this.$timeout(() => {\n        this.refreshScopeState = null;\n      }, 250);\n    }\n  }\n}\n","export const MenuToggleComponent = {\n  template: `\n    <md-button\n        class=\"md-icon-button\"\n        aria-label=\"__MSG_toggleBtn__\"\n        ng-click=\"$root.toggleMenu()\"\n        localize>\n        <md-icon>menu</md-icon>\n    </md-button>\n  `\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const ObjectDetailsToggle = {\n  bindings: {\n    object: '<',\n    onDetailsToggle: '&',\n  },\n  template: `\n  <span class=\"sb-course-assessment__meta-down\n               sb-course-assessment__meta-item\n               sb-course-assessment__meta-item--sm\">\n    <md-icon\n        class=\"md-secondary sb-icon-open\"\n        ng-click=\"$ctrl.onDetailsToggle({object: $ctrl.object})\"\n        ng-class=\"{open: $ctrl.object.open}\"\n        aria-label=\"__MSG_toggleBtn__\">\n        keyboard_arrow_down\n    </md-icon>\n  </span>\n  `,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n\nexport const RightViewContainer = {\n  transclude: {\n    toolbar: '?toolbar',\n  },\n  template: `\n    <div layout=\"column\" layout-fill>\n    <md-toolbar flex=\"nogrow\" class=\"sb-toolbar\">\n        <div\n            layout=\"row\"\n            layout-align=\"start center\"\n            class=\"md-toolbar-tools\"\n            ng-transclude=\"toolbar\">\n        </div>\n    </md-toolbar>\n    <loader></loader>\n    \n    <md-content\n        sticky-subheader\n        save-scroll\n        flex>\n        <ng-transclude></ng-transclude>\n    </md-content>\n    </div>\n  `,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Events } from '../global-events';\nimport { UnbindableCtrlBase } from '../base-classes';\n\n/**\n *\n * @type {{bindings: {visible: string}, template: string}}\n */\nexport const SavingIndicator = {\n  controller: class extends UnbindableCtrlBase {\n    constructor($rootScope, $timeout) {\n      'ngInject';\n\n      super();\n      this.$rootScope = $rootScope;\n      this.$timeout = $timeout;\n    }\n\n    $onInit() {\n      this.savingInProgress = 0;\n      this.visible = false;\n      this.savingError = false;\n\n      this.boundEvents.push(this.$rootScope.$on(\n        Events.STARTED_NEW_REQUEST, () => {\n          if (this.savingInProgress === 0) {\n            this.visible = true;\n          }\n          this.savingInProgress += 1;\n          this.savingError = false;\n        },\n      ));\n\n      this.boundEvents.push(this.$rootScope.$on(\n        Events.REQUEST_FINISHED_SUCCESSFULLY, () => {\n          this.savingInProgress -= 1;\n          this.savingError = false;\n          if (this.savingInProgress === 0) {\n            this.postponeHidingIndicator();\n          }\n        },\n      ));\n\n      this.boundEvents.push(this.$rootScope.$on(\n        Events.REQUEST_FINISHED_FAILURE, () => {\n          this.savingInProgress -= 1;\n          this.savingError = true;\n          if (this.savingInProgress === 0) {\n            this.postponeHidingIndicator();\n          }\n        },\n      ));\n    }\n\n    postponeHidingIndicator() {\n      this.$timeout(() => {\n        // hide only when current there are no saving in progress requests\n        if (!this.savingInProgress) {\n          this.visible = false;\n          this.savingError = false;\n        }\n      }, 1000);\n    }\n  },\n  //language=HTML\n  template: `\n    <div class=\"sb-saving-indicator\"\n         ng-if=\"$ctrl.visible\">\n      <span ng-show=\"$ctrl.savingInProgress > 0\"\n            localize>__MSG_savingStatusIndicator__</span>\n      <span ng-show=\"$ctrl.savingInProgress === 0 && !$ctrl.savingError\"\n            localize>__MSG_savedStatusIndicator__</span>\n      <span class=\"error\"\n            ng-show=\"$ctrl.savingInProgress === 0 && $ctrl.savingError\"\n            localize>__MSG_errorStatusIndicator__</span>\n    </div>\n  `,\n};\n","export const StudentStatusIconComponent = {\n  bindings: {\n    studentStatus: '@'\n  },\n  template: `\n            <md-icon\n                class=\"sb-list-icon sb-status sb-status-not-done\"\n                ng-show=\"$ctrl.studentStatus == 'NS'\">\n            </md-icon>\n\n            <md-icon\n                class=\"sb-list-icon sb-status sb-status-not-done-late\"\n                ng-show=\"$ctrl.studentStatus == 'NL'\">\n                assignment_late\n            </md-icon>\n\n            <md-icon\n                class=\"sb-list-icon sb-status sb-status-done-not-fully-assessed\"\n                ng-show=\"$ctrl.studentStatus == 'NC'\">\n                assessment\n            </md-icon>\n\n            <md-icon\n                class=\"sb-list-icon sb-status sb-status-done-not-fully-assessed sb-status-dot\"\n                ng-show=\"$ctrl.studentStatus == 'NF'\">\n                assessment\n            </md-icon>\n\n            <md-icon\n                class=\"sb-list-icon sb-status sb-status-done-fully-assessed\"\n                ng-show=\"$ctrl.studentStatus == 'CA'\">\n                check\n            </md-icon>\n\n            <md-icon\n                class=\"sb-list-icon sb-status sb-status-warning\"\n                ng-show=\"$ctrl.studentStatus == 'CW'\">\n                warning\n            </md-icon>\n\n            <md-icon\n                class=\"sb-list-icon sb-status sb-status-warning sb-status-dot\"\n                ng-show=\"$ctrl.studentStatus == 'CF'\">\n                warning\n            </md-icon>\n  `\n};\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport CommonComponentsModule from '../../../components.module';\nimport template from './accordionHeaderMenu.tpl.html';\nimport style from './accordionHeaderMenu.scss';\n\n@Component({\n  module: CommonComponentsModule,\n  selector: 'accordion-header-menu',\n  template: template,\n  style: style,\n  transclude: true,\n})\nexport class AccordionHeaderMenuComponent implements IComponentController {\n  constructor() {\n    'ngInject';\n  }\n}\n","import angular, { IRootElementService } from 'angular';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport CommonComponentsModule from '../components.module';\nimport { IBreadcrumb } from '../../../shared/models/breadcrumb.model';\nimport { UnbindableCtrlBase } from '../../base-classes';\nimport { IBreadcrumbsService } from './breadcrumbs.service';\nimport template from './breadcrumbs.tpl.html';\n\n@Component({\n  module: CommonComponentsModule,\n  template: template,\n  selector: 'breadcrumbs',\n})\nexport class BreadcrumbsComponent extends UnbindableCtrlBase {\n  @Input({ alias: 'steps' })\n  public breadcrumbs: IBreadcrumb[];\n\n  public hasEnoughBreadcrumbs: boolean;\n  public resizeHandler: Function;\n\n  constructor(private $element: IRootElementService, private BreadcrumbsService: IBreadcrumbsService) {\n    'ngInject';\n\n    super();\n    this.breadcrumbs = [];\n    this.hasEnoughBreadcrumbs = false;\n    this.resizeHandler = angular.noop;\n  }\n\n  private $onInit(): void {\n    this.breadcrumbs = this.BreadcrumbsService.removeBreadcrumbsWithoutLabel(this.breadcrumbs);\n    this.hasEnoughBreadcrumbs = this.BreadcrumbsService.hasEnoughBreadcrumbs(this.breadcrumbs);\n\n    if (this.hasEnoughBreadcrumbs) {\n      this.resizeHandler = this.BreadcrumbsService.createHandler(this.$element);\n      this.boundEvents.push(this.BreadcrumbsService.addOnResizeHandler(() => this.resizeHandler()));\n    }\n  }\n\n  private $postLink(): void {\n    this.resizeHandler();\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport {HostPageNewAssignmentObserver} from \"./host-page-new-assignment-observer\";\nimport {HostPageQualifiers} from \"./host-page-qualifiers\";\n\nexport const CommonServicesModule = angular\n  .module('commonServicesModule', [])\n  .service('HostPageNewAssignmentObserver', HostPageNewAssignmentObserver)\n  .service('HostPageQualifiers', HostPageQualifiers)\n  .name;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport get from 'lodash.get';\nimport {Events} from '../global-events.ts';\nimport {HostPage} from '../host-page-selectors.ts';\n\nconst ACTIONS = {\n  CANCEL: 1,\n  DELETE: 2,\n  SAVE_DRAFT: 3,\n  ASSIGN: 4,\n  SCHEDULE: 5,\n  ALERT_OK: 6,\n  ALERT_CANCEL: 7,\n  OPEN_CREATOR: 8,\n};\n\nconst eventNamespace = 'hostPageObserver';\n\n\nexport class HostPageNewAssignmentObserver {\n  constructor(\n    $rootScope, $state, $timeout, Path, UserInfo, Updates, HostPageQualifiers,\n    NavigationHistory, Mixpanel, StudybeeHandle,\n  ) {\n    'ngInject';\n\n    this.$rootScope = $rootScope;\n    this.$state = $state;\n    this.$timeout = $timeout;\n    this.Path = Path;\n    this.UserInfo = UserInfo;\n    this.Updates = Updates;\n    this.HostPageQualifiers = HostPageQualifiers;\n    this.NavigationHistory = NavigationHistory;\n    this.Mixpanel = Mixpanel;\n    this.StudybeeHandle = StudybeeHandle;\n  }\n\n  init() {\n    this.EVENTS = [\n      // modal\n      ...HostPage.ASSIGNMENT_MODAL_ASSIGN_SEL.map((selector) => [selector, ACTIONS.ASSIGN]),\n      ...HostPage.ASSIGNMENT_MODAL_ADD_TOPIC.map((selector) => [selector, ACTIONS.ASSIGN]),\n      ...HostPage.ASSIGNMENT_MODAL_SAVE_SEL.map((selector) => [selector, ACTIONS.ASSIGN]),\n      ...HostPage.ASSIGNMENT_MODAL_ASK_SEL.map((selector) => [selector, ACTIONS.ASSIGN]),\n      ...HostPage.ASSIGNMENT_MODAL_DELETE_SEL.map((selector) => [selector, ACTIONS.DELETE]),\n      // [HostPage.ASSIGNMENT_MODAL_CANCEL_SEL, ACTIONS.CANCEL],\n      // // menu\n      ...HostPage.ASSIGNMENT_MENU_ITEM_ASSIGN_SEL.map((selector) => [selector, ACTIONS.ASSIGN]),\n      ...HostPage.ASSIGNMENT_MENU_ITEM_SCHEDULE_SEL.map((selector) => [selector, ACTIONS.SCHEDULE]),\n      ...HostPage.ASSIGNMENT_MENU_ITEM_SAVE_DRAFT_SEL.map((selector) => [selector, ACTIONS.SAVE_DRAFT]),\n      // alerts\n      ...HostPage.ASSIGNMENT_ALERT_OK_SEL.map((selector) => [selector, ACTIONS.ALERT_OK]),\n      //classwork\n      ...HostPage.CLASSWORK_CREATE_NEW_ASSIGNMENT.map((selector) => [selector, ACTIONS.OPEN_CREATOR]),\n      ...HostPage.CLASSWORK_CREATE_NEW_QUESTION.map((selector) => [selector, ACTIONS.OPEN_CREATOR]),\n      ...HostPage.CLASSWORK_CREATE_NEW_REUSE_POST.map((selector) => [selector, ACTIONS.OPEN_CREATOR]),\n      ...HostPage.CLASSWORK_CREATE_NEW_TOPIC.map((selector) => [selector, ACTIONS.OPEN_CREATOR]),\n    ];\n\n    this.$rootScope.$on(Events.STATE_CHECKED, () => {\n      if (this.UserInfo.userRole === 'teacher' && this.Path.isStreamPage()) {\n        this.register();\n      } else {\n        this.unregister();\n      }\n    });\n\n    this.registered = false;\n    this.registerPseudoSelector();\n  }\n\n  registerPseudoSelector() {\n    //Addition pseudo-selector for jQuery, this comparator ignore case\n    //Used to check text (and interact) on button and other elements on Google classroom page\n    if (!$.expr[':'].textEquals) {\n      $.expr[':'].textEquals = $.expr\n        .createPseudo((text) => (element) => get(element, 'innerText', false) && !!element.innerText.match(new RegExp(`^${text}$`, 'i')));\n    }\n  }\n\n  register() {\n    if (!this.registered) {\n      this.unregister();\n      const eventName = `mousedown.${eventNamespace}`;\n\n      this.EVENTS.forEach((event) => {\n        const [selector, action] = event;\n        $(document).on(eventName, selector, {action}, this.handler.bind(this));\n      });\n\n      this.registered = true;\n    }\n  }\n\n  unregister() {\n    $(document).off(`.${eventNamespace}`);\n    this.registered = false;\n  }\n\n  /**\n   * According to the restored logic, this should behave like this:\n   * Should open modal for new assignments:\n   *  - When new schedule is set up\n   *  - when\n   * @param event\n   */\n  handler(event) {\n    event.stopPropagation();\n    // this is the part of the old logic\n    const [shouldRefreshAssignments, shouldShowModal] = this.shouldRefreshOrShowModal(event.data.action);\n    const shouldHideStudybee = this.shouldHideStudybee(event.data.action);\n    if (shouldShowModal) {\n      try {\n        //language=JQuery-CSS\n        let title;\n        const textArea = $('[role=\"dialog\"] textarea');\n        const input = $('[role=\"alertdialog\"] input');\n        if (textArea.length) {\n          title = textArea[0].value.trim();\n        } else if (input.length) {\n          title = input[0].value.trim();\n        }\n        // probably we need to postpone that event a little\n        // also , show only the title exists\n        this.$timeout(async () => {\n          if (title) {\n            // this.$rootScope.$emit(Events.OPEN_ASSIGNMENT_POPUP, {\n            //   title,\n            // });\n            const tab = await new Promise(resolve => {\n              chrome.runtime.sendMessage({action: 'getTab'}, (tab) => {\n                resolve(tab)\n              })\n            });\n            // chrome.storage.sync.set({\n            //   newAssignment: title,\n            //   tabId: tab.tabId\n            // }, () => console.log('newAssignment', title));\n            // trigger mixpanel action\n            // this.Mixpanel.track('new_assignment_popup');\n          }\n        }, 2000);\n      } catch (err) {\n        // in the future we should handle it better\n        console.log(err);\n      }\n    }\n\n    if (shouldRefreshAssignments) {\n      this.Updates.updateAssignments(this.Path.getClassroomId(), true)\n        .then(() => {\n          this.$rootScope.$emit(Events.UPDATED_ASSIGNMENTS);\n        });\n    }\n\n    if (shouldHideStudybee) {\n      this.$timeout(() => this.StudybeeHandle.studybeeClose());\n    }\n  }\n\n  shouldRefreshOrShowModal(action) {\n    let refresh = false;\n    let showModal = false;\n\n    if (this.HostPageQualifiers.hasScheduleAlertDialog) {\n      if (action === ACTIONS.ALERT_OK) {\n        // 1. Post has been scheduled through 'Schedule' button\n        // -> update list of assignments and open message.\n        refresh = true;\n        showModal = true;\n      }\n    } else if (this.HostPageQualifiers.hasCreatingModal) {\n      // actions for all events\n      if ([ACTIONS.CANCEL, ACTIONS.ASSIGN, ACTIONS.SAVE_DRAFT].includes(action)) {\n        refresh = true;\n        showModal = true;\n      }\n    } else if (this.HostPageQualifiers.hasAlertDialog) {\n      if ([ACTIONS.ALERT_OK, ACTIONS.DELETE].includes(action)) {\n        // 1. For all other alert dialogs the safest option\n        // is to refresh list of assignments.\n        refresh = true;\n      }\n    } else if (this.HostPageQualifiers.hasEditingPublishedModal) {\n      if (action === ACTIONS.ASSIGN) {\n        // 1. Post has been published through the 'Save' button\n        refresh = true;\n      }\n    }\n    return [refresh, showModal];\n  }\n\n  shouldHideStudybee(action) {\n    return action === ACTIONS.OPEN_CREATOR;\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\nimport { selectorWords } from '../host-page-selectors';\n\nconst isItTopic = () => {\n  //language=JQuery-CSS\n  let isTopic = $(`[role=\"alertdialog\"] input[aria-label=\"${selectorWords.en.topic}\"]`).length;\n   isTopic = isTopic || $(`[role=\"alertdialog\"] input[aria-label=\"${selectorWords.sv.topic}\"]`).length;\n   isTopic = isTopic || $(`[role=\"alertdialog\"] input[aria-label=\"${selectorWords.nl.topic}\"]`).length;\n  return isTopic;\n};\nexport class HostPageQualifiers {\n  /**\n   *\n   */\n  get hasScheduleAlertDialog() {\n    //language=JQuery-CSS\n    return $('[role=\"alertdialog\"]').length && $('[data-initial-millis]').length;\n  }\n\n  get hasAlertDialog() {\n    //language=JQuery-CSS\n    return $('[role=\"alertdialog\"]').length && !isItTopic();\n  }\n\n  get hasCreatingModal() {\n    if (isItTopic()) {\n      return true;\n    }\n\n    const isCreate = $('[role=\"dialog\"] [guidedhelpid=\"streamItemScheduleDropDownButtonGH\"]').length > 0;\n    return isCreate\n      && $('[role=\"dialog\"] [guidedhelpid=\"streamItemShareWithOtherCourses\"]')\n      && $('[role=\"dialog\"] [guidedhelpid=\"streamItem_edit_personalizationMenu\"]');\n  }\n\n  get hasEditingPublishedModal() {\n    //language=JQuery-CSS\n    return $('[role=\"dialog\"] [guidedhelpid=\"addOrCreateMaterial\"]')\n      && !$('[role=\"dialog\"] [guidedhelpid=\"streamItem_edit_personalizationMenu\"]');\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n\nimport {LastUpdate} from \"./last-update.filter\";\nexport const CommonFiltersModule = angular\n  .module('CommonFiltersModule', [])\n  .filter('lastUpdate', LastUpdate)\n  .name;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\nimport moment from 'moment';\n\nexport function LastUpdate() {\n  return (lastEditDateTime) => {\n    if (!lastEditDateTime) return '';\n    return moment(lastEditDateTime).format('D MMM');\n  };\n}\n","var map = {\n\t\"./af\": 515,\n\t\"./af.js\": 515,\n\t\"./ar\": 516,\n\t\"./ar-dz\": 517,\n\t\"./ar-dz.js\": 517,\n\t\"./ar-kw\": 518,\n\t\"./ar-kw.js\": 518,\n\t\"./ar-ly\": 519,\n\t\"./ar-ly.js\": 519,\n\t\"./ar-ma\": 520,\n\t\"./ar-ma.js\": 520,\n\t\"./ar-sa\": 521,\n\t\"./ar-sa.js\": 521,\n\t\"./ar-tn\": 522,\n\t\"./ar-tn.js\": 522,\n\t\"./ar.js\": 516,\n\t\"./az\": 523,\n\t\"./az.js\": 523,\n\t\"./be\": 524,\n\t\"./be.js\": 524,\n\t\"./bg\": 525,\n\t\"./bg.js\": 525,\n\t\"./bm\": 526,\n\t\"./bm.js\": 526,\n\t\"./bn\": 527,\n\t\"./bn.js\": 527,\n\t\"./bo\": 528,\n\t\"./bo.js\": 528,\n\t\"./br\": 529,\n\t\"./br.js\": 529,\n\t\"./bs\": 530,\n\t\"./bs.js\": 530,\n\t\"./ca\": 531,\n\t\"./ca.js\": 531,\n\t\"./cs\": 532,\n\t\"./cs.js\": 532,\n\t\"./cv\": 533,\n\t\"./cv.js\": 533,\n\t\"./cy\": 534,\n\t\"./cy.js\": 534,\n\t\"./da\": 535,\n\t\"./da.js\": 535,\n\t\"./de\": 536,\n\t\"./de-at\": 537,\n\t\"./de-at.js\": 537,\n\t\"./de-ch\": 538,\n\t\"./de-ch.js\": 538,\n\t\"./de.js\": 536,\n\t\"./dv\": 539,\n\t\"./dv.js\": 539,\n\t\"./el\": 540,\n\t\"./el.js\": 540,\n\t\"./en-SG\": 541,\n\t\"./en-SG.js\": 541,\n\t\"./en-au\": 542,\n\t\"./en-au.js\": 542,\n\t\"./en-ca\": 543,\n\t\"./en-ca.js\": 543,\n\t\"./en-gb\": 544,\n\t\"./en-gb.js\": 544,\n\t\"./en-ie\": 545,\n\t\"./en-ie.js\": 545,\n\t\"./en-il\": 546,\n\t\"./en-il.js\": 546,\n\t\"./en-nz\": 547,\n\t\"./en-nz.js\": 547,\n\t\"./eo\": 548,\n\t\"./eo.js\": 548,\n\t\"./es\": 549,\n\t\"./es-do\": 550,\n\t\"./es-do.js\": 550,\n\t\"./es-us\": 551,\n\t\"./es-us.js\": 551,\n\t\"./es.js\": 549,\n\t\"./et\": 552,\n\t\"./et.js\": 552,\n\t\"./eu\": 553,\n\t\"./eu.js\": 553,\n\t\"./fa\": 554,\n\t\"./fa.js\": 554,\n\t\"./fi\": 555,\n\t\"./fi.js\": 555,\n\t\"./fo\": 556,\n\t\"./fo.js\": 556,\n\t\"./fr\": 557,\n\t\"./fr-ca\": 558,\n\t\"./fr-ca.js\": 558,\n\t\"./fr-ch\": 559,\n\t\"./fr-ch.js\": 559,\n\t\"./fr.js\": 557,\n\t\"./fy\": 560,\n\t\"./fy.js\": 560,\n\t\"./ga\": 561,\n\t\"./ga.js\": 561,\n\t\"./gd\": 562,\n\t\"./gd.js\": 562,\n\t\"./gl\": 563,\n\t\"./gl.js\": 563,\n\t\"./gom-latn\": 564,\n\t\"./gom-latn.js\": 564,\n\t\"./gu\": 565,\n\t\"./gu.js\": 565,\n\t\"./he\": 566,\n\t\"./he.js\": 566,\n\t\"./hi\": 567,\n\t\"./hi.js\": 567,\n\t\"./hr\": 568,\n\t\"./hr.js\": 568,\n\t\"./hu\": 569,\n\t\"./hu.js\": 569,\n\t\"./hy-am\": 570,\n\t\"./hy-am.js\": 570,\n\t\"./id\": 571,\n\t\"./id.js\": 571,\n\t\"./is\": 572,\n\t\"./is.js\": 572,\n\t\"./it\": 573,\n\t\"./it-ch\": 574,\n\t\"./it-ch.js\": 574,\n\t\"./it.js\": 573,\n\t\"./ja\": 575,\n\t\"./ja.js\": 575,\n\t\"./jv\": 576,\n\t\"./jv.js\": 576,\n\t\"./ka\": 577,\n\t\"./ka.js\": 577,\n\t\"./kk\": 578,\n\t\"./kk.js\": 578,\n\t\"./km\": 579,\n\t\"./km.js\": 579,\n\t\"./kn\": 580,\n\t\"./kn.js\": 580,\n\t\"./ko\": 581,\n\t\"./ko.js\": 581,\n\t\"./ku\": 582,\n\t\"./ku.js\": 582,\n\t\"./ky\": 583,\n\t\"./ky.js\": 583,\n\t\"./lb\": 584,\n\t\"./lb.js\": 584,\n\t\"./lo\": 585,\n\t\"./lo.js\": 585,\n\t\"./lt\": 586,\n\t\"./lt.js\": 586,\n\t\"./lv\": 587,\n\t\"./lv.js\": 587,\n\t\"./me\": 588,\n\t\"./me.js\": 588,\n\t\"./mi\": 589,\n\t\"./mi.js\": 589,\n\t\"./mk\": 590,\n\t\"./mk.js\": 590,\n\t\"./ml\": 591,\n\t\"./ml.js\": 591,\n\t\"./mn\": 592,\n\t\"./mn.js\": 592,\n\t\"./mr\": 593,\n\t\"./mr.js\": 593,\n\t\"./ms\": 594,\n\t\"./ms-my\": 595,\n\t\"./ms-my.js\": 595,\n\t\"./ms.js\": 594,\n\t\"./mt\": 596,\n\t\"./mt.js\": 596,\n\t\"./my\": 597,\n\t\"./my.js\": 597,\n\t\"./nb\": 598,\n\t\"./nb.js\": 598,\n\t\"./ne\": 599,\n\t\"./ne.js\": 599,\n\t\"./nl\": 600,\n\t\"./nl-be\": 601,\n\t\"./nl-be.js\": 601,\n\t\"./nl.js\": 600,\n\t\"./nn\": 602,\n\t\"./nn.js\": 602,\n\t\"./pa-in\": 603,\n\t\"./pa-in.js\": 603,\n\t\"./pl\": 604,\n\t\"./pl.js\": 604,\n\t\"./pt\": 605,\n\t\"./pt-br\": 606,\n\t\"./pt-br.js\": 606,\n\t\"./pt.js\": 605,\n\t\"./ro\": 607,\n\t\"./ro.js\": 607,\n\t\"./ru\": 608,\n\t\"./ru.js\": 608,\n\t\"./sd\": 609,\n\t\"./sd.js\": 609,\n\t\"./se\": 610,\n\t\"./se.js\": 610,\n\t\"./si\": 611,\n\t\"./si.js\": 611,\n\t\"./sk\": 612,\n\t\"./sk.js\": 612,\n\t\"./sl\": 613,\n\t\"./sl.js\": 613,\n\t\"./sq\": 614,\n\t\"./sq.js\": 614,\n\t\"./sr\": 615,\n\t\"./sr-cyrl\": 616,\n\t\"./sr-cyrl.js\": 616,\n\t\"./sr.js\": 615,\n\t\"./ss\": 617,\n\t\"./ss.js\": 617,\n\t\"./sv\": 329,\n\t\"./sv.js\": 329,\n\t\"./sw\": 618,\n\t\"./sw.js\": 618,\n\t\"./ta\": 619,\n\t\"./ta.js\": 619,\n\t\"./te\": 620,\n\t\"./te.js\": 620,\n\t\"./tet\": 621,\n\t\"./tet.js\": 621,\n\t\"./tg\": 622,\n\t\"./tg.js\": 622,\n\t\"./th\": 623,\n\t\"./th.js\": 623,\n\t\"./tl-ph\": 624,\n\t\"./tl-ph.js\": 624,\n\t\"./tlh\": 625,\n\t\"./tlh.js\": 625,\n\t\"./tr\": 626,\n\t\"./tr.js\": 626,\n\t\"./tzl\": 627,\n\t\"./tzl.js\": 627,\n\t\"./tzm\": 628,\n\t\"./tzm-latn\": 629,\n\t\"./tzm-latn.js\": 629,\n\t\"./tzm.js\": 628,\n\t\"./ug-cn\": 630,\n\t\"./ug-cn.js\": 630,\n\t\"./uk\": 631,\n\t\"./uk.js\": 631,\n\t\"./ur\": 632,\n\t\"./ur.js\": 632,\n\t\"./uz\": 633,\n\t\"./uz-latn\": 634,\n\t\"./uz-latn.js\": 634,\n\t\"./uz.js\": 633,\n\t\"./vi\": 635,\n\t\"./vi.js\": 635,\n\t\"./x-pseudo\": 636,\n\t\"./x-pseudo.js\": 636,\n\t\"./yo\": 637,\n\t\"./yo.js\": 637,\n\t\"./zh-cn\": 638,\n\t\"./zh-cn.js\": 638,\n\t\"./zh-hk\": 639,\n\t\"./zh-hk.js\": 639,\n\t\"./zh-tw\": 640,\n\t\"./zh-tw.js\": 640\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 942;","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { MixpanelTextEvent } from './mixpanel-text-event.directive';\nimport { NgVisibleDirective } from './ngVisible.directive';\n\nexport const CommonDirectivesModule = angular\n  .module('commonDirectivesModule', [])\n  .directive('mixpanelTextEvent', MixpanelTextEvent)\n  .directive('ngVisible', NgVisibleDirective.create)\n  .name;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const MixpanelTextEvent = (Mixpanel) => {\n  'ngInject';\n\n  return {\n    restrict: 'A',\n    require: 'ngModel',\n    link($scope, $element, $attrs, ngModel) {\n      let feedbackUpdated = false;\n\n      // let's watch the model for changes\n      $scope.$watch(() => ngModel.$modelValue, (oldVal, newVal) => {\n        feedbackUpdated = oldVal !== newVal;\n      });\n\n      const update = () => {\n        if (feedbackUpdated) {\n          feedbackUpdated = false;\n          Mixpanel.track($attrs.mixpanelTextEvent);\n        }\n      };\n\n      // remove focus event\n      if ($element.is('input, textarea')) {\n        $element.on('blur.mixpanelTextEvent', update);\n      } else {\n        $element.find('input, textarea').on('blur.mixpanelTextEvent', update);\n      }\n    },\n  };\n};\n","export class NgVisibleDirective {\n  static className = 'ng-hidden';\n  static create() {\n    'ngInject';\n\n    return new NgVisibleDirective();\n  }\n\n  constructor() {\n    'ngInject';\n    this.multiElement = true;\n    this.restrict = 'A';\n  }\n\n  link($scope, element, attrs) {\n    const unsubscribe$watch = $scope.$watch(attrs.ngVisible, value =>\n      element[value ? 'removeClass' : 'addClass'](NgVisibleDirective.className)\n    );\n\n    $scope.$on('$destroy', () => {\n      unsubscribe$watch();\n    });\n  }\n}\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module BackendInfo/Service\n * @description\n *   Handle Backend Info.\n */\n\nexport function BackendInfo($mdDialog, $cookies, UserInfo, FetchData) {\n  'ngInject';\n\n  return {\n    modalExist: null,\n\n    show() {\n      const lang = chrome.i18n.getUILanguage();\n\n      FetchData.getBackendInfo(lang).then((res) => {\n        const modal = res;\n        const cookieName = `USER${UserInfo.userId}TIMESTAMP${modal.timestamp}`;\n\n        if (typeof $cookies.get(cookieName) !== 'undefined' || !modal.is_visible || this.modalExist) {\n          return;\n        }\n\n        $mdDialog.show({\n          parent: angular.element(document.querySelectorAll('[md-component-id=\"studybee\"]')),\n          templateUrl: 'utils/views/backend_info.html',\n          disableParentScroll: false,\n          controller() {\n            const bi = this;\n\n            bi.content = modal.message;\n\n            bi.confirm = function () {\n              const currentDate = new Date();\n              const nextDate = new Date();\n              nextDate.setYear(currentDate.getFullYear() + 1);\n\n              $cookies.put(cookieName, 'hide', {\n                path: '/',\n                expires: nextDate,\n              });\n\n              $mdDialog.hide();\n            };\n          },\n          controllerAs: 'bi',\n          bindToController: true,\n        });\n\n        this.modalExist = true;\n      });\n    },\n\n    hide() {\n      if (!this.modalExist) {\n        return;\n      }\n\n      $mdDialog.hide();\n      this.modalExist = false;\n    },\n  };\n}\n","\nexport const DynamicTheme = () => ({\n  restrict: 'A',\n  controller: ($scope, $transitions) => {\n    'ngInject';\n\n    $transitions.onSuccess({ to: '**' }, ($transition$) => {\n      const toState = $transition$.$to();\n      $scope.dynamicThemeClass = toState.themeClass;\n    });\n  },\n});\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Events } from '../../common/global-events.ts';\nimport { getTranslation } from '../../../../../react_src/i18n';\n\nexport function MainMenu() {\n  function controller(\n    $scope, $mdSidenav, Path, UserInfo, NavigationHistory,\n    Updates, MainMenu, Mixpanel,\n  ) {\n    'ngInject';\n\n    const vm = this;\n\n    /**\n     * Set default option - set default if selectedMenuStateName is null\n     */\n    vm.setDefaultOption = function () {\n      if (MainMenu.selectedMenuStateName) {\n        return;\n      }\n\n      if (vm.userRole === 'teacher') {\n        MainMenu.setSelectedMenuStateName('teacherAssignments');\n      } else if (vm.userRole === 'student') {\n        MainMenu.setSelectedMenuStateName('studentAssignments');\n      }\n    };\n\n    /**\n     * Toggle menu\n     */\n    vm.toggleMenu = function () {\n      $mdSidenav('studybee-menu').toggle();\n\n      vm.showBackdrop = !!$mdSidenav('studybee-menu').isOpen();\n    };\n\n    /**\n     * Update assignment option\n     */\n    vm.updateAssignmentOption = () => {\n      vm.streamStudentName = MainMenu.selectedStudent.name;\n      if (MainMenu.selectedAssignment) {\n        vm.streamAssignmentName = MainMenu.selectedAssignment.title;\n        vm.streamAssignmentId = MainMenu.selectedAssignment.id;\n      } else {\n        vm.streamAssignmentName = undefined;\n        vm.streamAssignmentId = undefined;\n      }\n    };\n\n    vm.checkCurrentActive = (stateSectionName) => vm.selectedOption.startsWith(stateSectionName);\n\n    /**\n     * Update selected option\n     */\n    vm.updateSelectedOption = () => {\n      vm.selectedOption = MainMenu.selectedMenuStateName;\n    };\n\n    /**\n     * Update synchronize option\n     */\n    vm.updateSynchronizeDate = () => {\n      vm.synchronizeDate = Updates.assignmentsAndStudentsDate;\n    };\n\n    /**\n     * Go to specific website\n     * @param {String} translationURLKey\n     */\n    vm.goToLink = (translationURLKey) => {\n      const url = getTranslation(translationURLKey);\n      window.open(url, '_blank');\n\n      vm.showBackdrop = false;\n      $mdSidenav('studybee-menu').close();\n    };\n\n    /**\n     * Go to specific view\n     * @param {String} stateName\n     */\n    vm.goToState = (stateName, stateParams) => {\n      stateParams = stateParams || {};\n\n      MainMenu.setSelectedMenuStateName(stateName);\n\n      if (stateName.startsWith('teacherAssignments') || stateName.startsWith('studentAssignments')) {\n        if (vm.streamStudentName && vm.userRole === 'teacher') {\n          stateName = 'teacher_assess_assignment_student';\n          stateParams.studentName = vm.streamStudentName;\n          NavigationHistory.addToHistory('teacher_assess_assignment');\n        } else if (vm.streamAssignmentName && vm.userRole === 'teacher') {\n          stateName = 'teacher_assess_assignment';\n          stateParams.assignment = MainMenu.selectedAssignment;\n        } else if (vm.streamAssignmentName && vm.userRole === 'student') {\n          stateName = 'studentAssessed.details';\n        }\n      }\n\n      vm.showBackdrop = false;\n      $mdSidenav('studybee-menu')\n        .close()\n        .then(() => {\n          NavigationHistory.go(stateName, stateParams);\n        });\n    };\n\n    /**\n     * Synchronize Data\n     */\n    vm.synchronizeData = () => {\n      Updates.updateAssignmentsAndStudents(Path.getClassroomId(), true, true);\n\n      vm.showBackdrop = false;\n      $mdSidenav('studybee-menu').close();\n    };\n\n    /**\n     * Send info to Mixpanel\n     * @param {String} eventCode Mixpanel event code\n     */\n    vm.mixpanelTrack = (eventCode) => {\n      Mixpanel.track(eventCode);\n    };\n\n    /**\n     * Set callback which is trigger on menu icon click\n     */\n    MainMenu.setToggleCallback(vm.toggleMenu);\n\n    /**\n     * Set callback which is trigger on set assignment\n     */\n    MainMenu.setAssignmentCallback(vm.updateAssignmentOption);\n\n    /**\n     * Set callback which is trigger on set selected menu state name\n     */\n    MainMenu.setSelectedMenuStateNameCallback(vm.updateSelectedOption);\n\n    /**\n     * Set callback which is trigger on synchronize data\n     */\n    Updates.setSynchronizeDataCallback(vm.updateSynchronizeDate);\n\n    /**\n     * Get user role after it's set by Custom Routing\n     */\n    $scope.$on(Events.STATE_CHECKED, () => {\n      vm.userRole = UserInfo.userRole;\n      vm.setDefaultOption();\n    });\n  }\n\n  return {\n    restrict: 'E',\n    templateUrl: 'utils/views/main_menu.html',\n    controller,\n    controllerAs: 'vm',\n  };\n}\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module MainMenu/Service\n * @description\n *   Handle Main Menu.\n * @param {Object} Helpers Helpers service instance\n */\n\n/*@ngInject*/\nimport { MainMenuID } from '../../../../../src/app/shared/states/main-menu/main-menu.interface';\n\nexport function MainMenu(UiService, MainMenuService, UserQuery) {\n  'ngInject';\n\n  const toggleCallbacks = [];\n  const assignmentCallbacks = [];\n  const selectedMenuStateNameCallbacks = [];\n\n  return {\n    // Keep selected menu state name\n    selectedMenuStateName: null,\n\n    selectedAssignment: null,\n\n    selectedStudent: {\n      name: null,\n    },\n\n    /**\n     * Set callback which is trigger on toggle main menu\n     * @memberof module:MainMenu/Service\n     * @param {Object} callback Callback function\n     */\n    setToggleCallback(callback) {\n      toggleCallbacks.push(callback);\n    },\n\n    /**\n     * Set callback which is trigger on set assignment\n     * @memberof module:MainMenu/Service\n     * @param {Object} callback Callback function\n     */\n    setAssignmentCallback(callback) {\n      assignmentCallbacks.push(callback);\n    },\n\n    /**\n     * Set callback which is trigger on set selected menu state name\n     * @memberof module:MainMenu/Service\n     * @param {Object} callback Callback function\n     */\n    setSelectedMenuStateNameCallback(callback) {\n      selectedMenuStateNameCallbacks.push(callback);\n    },\n\n    /**\n     * Trigger toggle main menu\n     * @memberof module:MainMenu/Service\n     */\n    toggleMenu() {\n      toggleCallbacks.forEach((elem) => elem());\n      UiService.updateToggleMainMenuVisible();\n    },\n\n    /**\n     * Save assignment details\n     * @memberof module:MainMenu/Service\n     * @param assignment Assignment object\n     */\n    saveAssignmentDetails(assignment) {\n      this.selectedAssignment = assignment;\n      this.updateMainMenu();\n      assignmentCallbacks.forEach((elem) => elem());\n    },\n\n    /**\n     * Save student details\n     * @memberof module:MainMenu/Service\n     * @param {String} studentName Selected student name\n     */\n    saveStudentDetails(studentName) {\n      this.selectedStudent.name = studentName;\n      this.updateMainMenu();\n      assignmentCallbacks.forEach((elem) => elem());\n    },\n\n    /**\n     * Save selected menu state name\n     * @param {String} stateName\n     */\n    setSelectedMenuStateName(stateName) {\n      if (!stateName) {\n        this.selectedMenuStateName = UserQuery.getValue().is_teacher ? 'teacherAssignments' : 'studentAssignments';\n      } else {\n        this.selectedMenuStateName = stateName;\n      }\n\n      selectedMenuStateNameCallbacks.forEach((elem) => elem());\n    },\n\n    /**\n     * Is stateName selected\n     * @memberof module:MainMenu/Service\n     * @param {String} stateName Selected state name\n     * @return {Boolean}\n     */\n    isStateNameSelected(stateName) {\n      if (!this.selectedMenuStateName) {\n        return this.selectedMenuStateName === stateName;\n      }\n\n      // This is some type of workaround for not consistent\n      // states names and sill state checking\n      const stateNameRoot = this.selectedMenuStateName.split('.')[0];\n\n      return stateNameRoot === stateName || this.selectedMenuStateName === stateName;\n    },\n\n    updateMainMenu() {\n      const isTeacher = UserQuery.getValue().is_teacher;\n\n      if (isTeacher) {\n        if (this.selectedStudent && this.selectedStudent.name) {\n          // MainMenuService.update(MainMenuID.ASSIGNMENT, {\n          //   state: 'teacher_assess_assignment_student',\n          //   params: {\n          //     studentName: this.selectedStudent.name\n          //   }\n          // });\n        } else if (this.selectedAssignment) {\n          MainMenuService.update(MainMenuID.ASSIGNMENT, {\n            state: 'teacher_assess_assignment',\n            params: {\n              assignment: this.selectedAssignment,\n            },\n          });\n        } else {\n          MainMenuService.update(MainMenuID.ASSIGNMENT, {\n            state: 'teacherAssignments',\n            params: null,\n          });\n        }\n      } else if (this.selectedAssignment) {\n        MainMenuService.update(MainMenuID.ASSIGNMENT, {\n          state: 'studentAssessed',\n          params: null,\n        });\n      } else {\n        MainMenuService.update(MainMenuID.ASSIGNMENT, {\n          state: 'studentAssignments',\n          params: null,\n        });\n      }\n    },\n  };\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n/**\n * @module Courses/Service\n * @description\n *   Keep list of courses and allow to check if course exist\n */\n\nexport class Courses {\n  constructor(FetchData) {\n    'ngInject';\n\n    this.FetchData = FetchData;\n    this.list = [];\n  }\n\n  getCourseUsingDriveId(fileId, alternateLinkId) {\n    return this.FetchData.getDriveCourse(fileId, alternateLinkId)\n      .then((course) => {\n        this.list.push(course);\n        return course;\n      });\n  }\n\n  /**\n   *\n   * @param courseId\n   */\n  getCourse(courseId) {\n    return this.FetchData.getClassroomCourse(courseId)\n      .then((course) => {\n        this.list.push(course);\n        return course;\n      });\n  }\n\n  /**\n   * Check if course exist on the courses list\n   * @param {Number} courseId Selected course ID\n   * @memberof module:Courses/Service\n   */\n  isCourseExist(courseId) {\n    return !!this.list.find(course => !!course && course.id === courseId);\n  }\n\n  /**\n   * Check if course has at least one course definition\n   * @param {Number} courseId Selected course ID\n   * @memberof module:Courses/Service\n   */\n  hasCourseDefinition(courseId) {\n    let valid = false;\n\n    this.list.forEach((courseElem) => {\n      if (courseElem.id !== courseId) {\n        return;\n      }\n\n      valid = courseElem.has_course_definitions;\n    });\n\n    return valid;\n  }\n\n  updateCourseDefinition(courseId, newValue) {\n    this.list.forEach((courseElem) => {\n      if (courseElem.id !== courseId) {\n        return;\n      }\n\n      courseElem.has_course_definitions = newValue;\n    });\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport angular from 'angular';\nimport { from, combineLatest } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { Events } from '../../common/global-events.ts';\n\nexport function CustomRouting(\n  $rootScope, $timeout, $q, $interval, $state, $stateParams, $mdBottomSheet, $mdDialog, Path,\n  FetchData, Courses, UserInfo, States, Observer, NavigationHistory, MainMenu,\n  Updates, GradeSystems, BackendInfo, Mixpanel, StudybeeHandle, Helpers, Assignments,\n  HashObserverService, UserService, AssignmentsStore, EnvironmentService, InitService,\n) {\n  'ngInject';\n\n  const initConfig = {\n    keepOpen: false,\n    unsubscribe: angular.noop,\n  };\n\n  // Init Observer\n  Observer.init(checkState);\n\n  /**\n   * Here we are checking all pre-init conditions\n   * - User data and user permissions\n   * - Whether a user has the user's preferences configured or not\n   *\n   * So the aim here is to be sure that before the main init process of our app\n   * a user has all data configured and ready to use\n   *\n   * TODO This still needs to be changed and optimized\n   */\n  function preInit() {\n    $state.go('loading', {}).then(() => {\n      if (!InitService.hasAppSetup()) {\n        $state.go('userSetup').then(() => {\n          StudybeeHandle.studybeeActivate();\n        });\n      } else {\n        combineLatest([UserService.fetchUser(), from(FetchData.getUsersAgreementSeen())])\n          .pipe(take(1))\n          .subscribe(([, agreementSeen]) => {\n            UserInfo.agreementSeen = agreementSeen;\n\n            if (agreementSeen) {\n              return initGeneral();\n            }\n            $state.go('userSetup').then(() => {\n              StudybeeHandle.studybeeActivate();\n            });\n          });\n      }\n    });\n  }\n\n  /**\n   * Init - run on application init\n   * Check if users logged in Chrome and Classroom/Google Drive page are the same,\n   * get Courses list and run init functiion for Classroom or Google Drive page\n   */\n  function initGeneral() {\n    UserInfo.checkUser();\n\n    if (!UserInfo.loggedToBrowser) {\n      // If user is not logged in the Chrome,\n      // don't run extension and show information for the user\n      $state.go('not_logged_user');\n      StudybeeHandle.studybeeActivate();\n      return;\n    } if (!UserInfo.userMatched) {\n      // If user use two different accounts in the Chrome and in the Classroom,\n      // don't run extension and show information for the user\n      $state.go('wrong_user');\n      StudybeeHandle.studybeeActivate();\n      return;\n    }\n\n    if (Path.isClassroomInstance()) {\n      initClassroom();\n    } else if (Path.isDriveInstance()) {\n      initGoogleDrive();\n    }\n  }\n\n  /**\n   * Init for Classroom - run checkState function and add eventListeners\n   */\n  function initClassroom() {\n    checkState();\n    initClassroomUrlObservers();\n\n    // Listen clicks on links\n    $(document.body).on('click', 'a', async function () {\n      // If click on student name in assignment,\n      // then set student in History to this student name and don't trigger checkState()\n      const link = $(this);\n      const href = link.attr('href') || '';\n      const parent = link.closest('[data-student-id]').data('student-id');\n      let studentName;\n\n      if (parent) {\n        studentName = link.find('div > div:not([data-submission-id]) > div').text();\n      } else {\n        studentName = link.closest('[data-include-submission-materials]').prev().text();\n      }\n\n      // don't try to go to `teacher_assess_assignment` when current stage is based on these stages\n      const states = [\n        'teacherCourseManagement',\n        'teacher-course-progress',\n        'userSetup',\n      ];\n      const tab = await new Promise(resolve => {\n        chrome.runtime.sendMessage({action: 'getTab'}, (tab) => {\n          resolve(tab)\n        })\n      });\n\n      // Listen clicks on student name in Classroom\n      if (href.indexOf('/submissions') >= 0 && href.indexOf('/student') >= 0 && studentName.length) {\n        MainMenu.saveStudentDetails(studentName);\n        // $rootScope.$broadcast('clickedStudentInClassroom', studentName);\n        const indexOf = studentName.indexOf('\"');\n        studentName = studentName.substring(0, indexOf === -1 ? studentName.length : indexOf);\n        // chrome.storage.sync.set({ studentSelected: studentName, tabId: tab.tabId }, () => console.log('studentSelected', studentName));\n      } else if (\n        href.indexOf('/submissions') >= 0\n        && href.indexOf('/all') >= 0\n        && !states.reduce((result, value) => result || $state.includes(value), false)) {\n        const linkId = Path.getAssignmentAlternateLinkId();\n        // chrome.storage.sync.set({ assignmentSelected: linkId, tabId: tab.tabId }, () => console.log('assignmentSelected: ', linkId));\n      }\n    });\n  }\n\n  /**\n   * this is temporary and all this code should be rewritten\n   */\n  function initClassroomUrlObservers() {\n    // get max one change per 500 ms\n    let timeout;\n    chrome.runtime.onMessage.addListener((request) => {\n      if (request.action === 'urlChanged') {\n        if (timeout) {\n          $timeout.cancel(timeout);\n        }\n        timeout = $timeout(() => {\n          checkState();\n        }, 500);\n      }\n    });\n  }\n\n  function attachClickEventOnFiles() {\n    const query = '[role=menu] content[role=menuitem][data-item-id]';\n    const eventName = 'click.fileChange';\n\n    $(query).parent().off(eventName).on(eventName, () => {\n      $timeout(() => {\n        initGoogleDrive();\n      }, 100);\n    });\n  }\n\n  async function attachStudentChangeEvent() {\n    const urlRegex = /\\/g\\/tg\\/?/g;\n\n    if (urlRegex.test(window.location.pathname)) {\n      const tabId = await new Promise(resolve => {\n        chrome.runtime.sendMessage({action: 'getTab'}, (tab) => {\n          resolve(tab.tabId);\n        })\n      });\n\n      initConfig.unsubscribe();\n      initConfig.unsubscribe = HashObserverService.onNext(() => {\n        $state.go('loading')\n          .then(() => {\n            initGoogleDrive()\n              .then(() => {\n                // $state.go('teacher_google_drive');\n                States.openDefaultState();\n                chrome.storage.sync.set({ assignmentDriveSelected: Math.random(), tabId }, () => console.log('assignmentDriveSelected'));\n              })\n              .catch(() => {\n                $state.go('wrongGoogleDriveFile');\n              });\n          });\n      });\n    }\n  }\n\n  /**\n   * Init for Google Drive\n   * we don't need to checkState in this case because\n   * inside the google drive we only want to show one state,\n   * and using that kind redirection\n   */\n  function initGoogleDrive() {\n    const alternateLinkId = Path.getAssignmentAlternateLinkId(true);\n    return Path.getFileId(5)\n      .then((fileId) => Courses.getCourseUsingDriveId(fileId, alternateLinkId))\n      .then((course) => {\n        // these are 3 thing we need to do to correct open\n        // google drive view\n        UserInfo.setUserRole(course.role);\n        States.openDefaultState();\n        // States.openDriveState();\n        chrome.storage.sync.set({ assignmentDriveSelected: Math.random() }, () => console.log('assignmentDriveSelected'));\n      })\n      .catch(() => {\n        $state.go('wrongGoogleDriveFile');\n      })\n      .finally(() => {\n        StudybeeHandle.studybeeActivate();\n\n        attachClickEventOnFiles();\n        attachStudentChangeEvent();\n      });\n  }\n\n  /**\n   * Check state - not perfect but better than before\n   * This one is used only inside google classroom\n   */\n  function checkState() {\n    $timeout(() => {\n      //   // $location object is not updated, using window.location\n      const path = window.location.pathname;\n      const courseId = Path.getClassroomId();\n      const assignmentAlternateLinkId = Path.getAssignmentAlternateLinkId();\n\n      // eslint-disable-next-line consistent-return\n      let checkStatePromise = $q.when().then(() => {\n        // this is some type of workaround, when a user is switching between classes,\n        // the loading state should be shown\n        // ** IMPORTANT **\n        // I don't have any idea why it's not possible to implements it as a chain\n        // eg.\n        // checkStatePromise.then(() => {\n        //      return 46;\n        //   });\n        // simply doesn't work then ( but it should )\n        if (Path.oldCourseId && Path.oldCourseId !== courseId) {\n          $rootScope.$emit(Events.CLASS_CHANGED);\n          // have to clear grade system list to be updated for switched class\n          GradeSystems.clearGradeSystems();\n          AssignmentsStore.setHasCache(false);\n          return $state.go('loading');\n        }\n      });\n\n      // Fallback if course doesn't exist on courses list,\n      // try to update courses list and retry checkState\n      if (courseId && !Courses.isCourseExist(courseId)) {\n        checkStatePromise = Courses.getCourse(courseId)\n          .then(() => {\n            Mixpanel.engage('add_role');\n          });\n      }\n\n      // close the extension if needed before fetching the data\n      if (Path.oldCourseId !== courseId && !initConfig.keepOpen) {\n        StudybeeHandle.studybeeClose();\n        $mdBottomSheet.hide();\n        $mdDialog.hide();\n      }\n\n      checkStatePromise\n        .then(() => {\n          // Connect or disconnect observer to watch click event on div[name=\"ok\"]\n          Observer.check();\n\n          // Set user role in UserInfo service\n          UserInfo.checkRole(courseId);\n\n          // Set user configured in UserInfo service (used only on Classroom)\n          UserInfo.checkConfig(courseId);\n\n          if (Path.isClassroomInstance()) {\n            if (\n              !Path.isClassesListPage()\n              && !Path.isSettingsPage()\n              && !Path.isWorkPage()\n              && !Path.isCalendarPage()\n            ) {\n              BackendInfo.show();\n            } else {\n              BackendInfo.hide();\n            }\n          }\n        })\n        .then(() => {\n          if (\n            !Path.isClassesListPage()\n            && !Path.isSettingsPage()\n            && !Path.isWorkPage()\n            && !Path.isCalendarPage()\n            && Path.isClassroomInstance()\n            && UserInfo.userRole === 'teacher'\n          ) {\n            if (Path.oldCourseId !== courseId) {\n              // Update Assignments and Students list when teacher enter on\n              // new course or course has been changed\n              //return Updates.updateAssignmentsAndStudents(courseId, true);\n              return null;\n            } if (Path.isStreamPage()) {\n              // Update Assignments list when teacher enter on Stream page\n              return Updates.updateAssignments(courseId, true);\n            }\n          }\n        })\n        .then(() => {\n          if (\n            (Path.isStudentWorkPage() || Path.isInstructionsPage())\n            && !Path.wasStudentWorkPage()\n            && !Path.wasInstructionsPage()\n            && UserInfo.userRole === 'teacher'\n          ) {\n            const assignment = Assignments.getAssignmentByAlternateLink(\n              assignmentAlternateLinkId,\n            );\n            if (assignment) {\n              Updates.updateFiles(assignment.id, true);\n            }\n          }\n\n          // If it's Student Work, Instructions or Assignment Details\n          // and previous page was not Student Work page or Instructions page\n          // then save assignment details for Main Menu.\n          // Otherway clear assignment details and student details\n          if (\n            (Path.isStudentWorkPage() || Path.isInstructionsPage())\n            && !Path.wasStudentWorkPage()\n            && !Path.wasInstructionsPage()\n          ) {\n            const assignment = Assignments.getAssignmentByAlternateLink(\n              assignmentAlternateLinkId,\n            );\n            if (assignment) {\n              FetchData.getAssignmentsObjectives(assignment.id, courseId).then((assignment) => {\n                MainMenu.saveAssignmentDetails(assignment);\n              });\n            }\n          } else if (\n            Path.oldCourseId !== courseId\n            || ((Path.wasStudentWorkPage() || Path.wasInstructionsPage())\n              && !Path.isStudentWorkPage() && !Path.isInstructionsPage())\n          ) {\n            MainMenu.saveAssignmentDetails(null);\n            MainMenu.saveStudentDetails(null);\n          }\n\n          // If it's Class List page, Settings page, Work page or course has been changed\n          // then unchecked selected menu state\n          if (\n            Path.isClassesListPage()\n            || Path.isSettingsPage()\n            || Path.isWorkPage()\n            || Path.isCalendarPage()\n            || Path.oldCourseId !== courseId\n          ) {\n            MainMenu.setSelectedMenuStateName(null);\n          }\n\n          // Decide what state should be loaded and close extension when\n          // it is open for the first time or course has\n          // been changed (closed is default state for the extension)\n          serveState(courseId);\n\n          // reset keep open - this is some kind of workaround, with the current structure\n          // It's hard to implement it correctly\n          if (initConfig.keepOpen) {\n            initConfig.keepOpen = false;\n          }\n\n          // Overwrite oldCourseId and oldPath\n          Path.setOldPath(path);\n          Path.setOldCourseId(courseId);\n\n          // Set handler icon state\n          StudybeeHandle.setIconStatus();\n\n          // Broadcast stateChecked event\n          $rootScope.$broadcast(Events.STATE_CHECKED);\n        });\n    }, 250);\n  }\n\n  /**\n   * Serve proper state\n   * @param {Number} courseId\n   */\n  function serveState(courseId) {\n    if (Path.isClassroomInstance()) {\n      // It's Google Classroom\n      if (\n        Path.isClassesListPage()\n        || Path.isSettingsPage()\n        || Path.isWorkPage()\n        || Path.isCalendarPage()\n      ) {\n        // It's Classes List page, Settings page or Work page\n        // clear selected menu state and run loading state and close extension\n        States.openLoadingState();\n      } else if (\n        !Path.isClassesListPage()\n        && !Path.isSettingsPage()\n        && !Path.isWorkPage()\n        && !Path.isCalendarPage()\n      ) {\n        // It's not Classes List page, Settings page and Work page\n        if (Path.oldCourseId !== courseId && !Courses.hasCourseDefinition(courseId)) {\n          // Course has been changed (when user enter page for the first time or change class)\n          // and there are no courses definitions assigned\n          States.openNotConfiguredState();\n        } else if (\n          (Path.isStudentWorkPage() || Path.isInstructionsPage())\n          && !Path.wasStudentWorkPage()\n          && !Path.wasInstructionsPage()\n          && (MainMenu.isStateNameSelected('teacherAssignments')\n            || MainMenu.isStateNameSelected('studentAssignments')\n            || MainMenu.isStateNameSelected(null))) {\n          // It's Student Work page, Instructions page or Assignment Details page\n          // and previous page was not Student Work page or Instructions page\n          // and selected menu state is equal to list of assignments or it's null (for the first enter)\n          // States.openAssignmentState();\n          if (Path.oldCourseId !== courseId) {\n            States.openDefaultState();\n          }\n          const linkId = Path.getAssignmentAlternateLinkId();\n          chrome.storage.sync.set({ assignmentSelected: linkId }, () => console.log('assignmentSelected: ', linkId));\n        } else if (\n          Path.oldCourseId !== courseId\n          || (Path.isStreamPage() && (Path.wasStudentWorkPage() || Path.wasInstructionsPage())\n            && (MainMenu.isStateNameSelected('teacherAssignments')\n              || MainMenu.isStateNameSelected('student_assignments')))\n        ) {\n          // Course has been changed (when user enter page for the first time or change class)\n          // or it's Stream page\n          // and previous page was Student Work page or Instructions page\n          // and selected menu state is equal to list of assignments\n          States.openDefaultState();\n        }\n      }\n    }\n  }\n\n  const link = (scope) => {\n    chrome.runtime.sendMessage({\n      action: 'getUserInfo',\n    }, (res) => {\n      let interval;\n\n      UserInfo.userEmail = res.email;\n\n      UserService.updateUser({ email: res.email });\n\n      if (res.id.length || res.email.length) {\n        UserInfo.loggedToBrowser = true;\n      }\n\n      interval = $interval(() => {\n        const isGoogleDocs = $(document.body).find('header[role=banner]');\n        const classroomNav = $(document.body).find('nav[role=\"navigation\"]');\n        const driveViewerProfileImg = $(document.body).find('.drive-viewer-profile-icon');\n        const docsHeader = $(document.body).find('#docs-header');\n\n        if (\n          classroomNav.length\n          || driveViewerProfileImg.length\n          || docsHeader.length\n          || isGoogleDocs\n        ) {\n          $interval.cancel(interval);\n\n          if (classroomNav.length) {\n            Path.classroomNode = classroomNav;\n          } else if (driveViewerProfileImg.length) {\n            Path.driveNode = driveViewerProfileImg;\n          } else if (docsHeader.length) {\n            Path.driveNode = docsHeader;\n          } else if (isGoogleDocs.length) {\n            Path.driveNode = isGoogleDocs;\n          }\n\n          preInit();\n        }\n      }, 250);\n    });\n\n    scope.$on(Events.USER_SETUP_COMPLETED, () => {\n      if (!Path.isClassesListPage()) {\n        initConfig.keepOpen = true;\n      }\n      initGeneral();\n    });\n\n    chrome.runtime.onMessage.addListener((request) => {\n      if (request.action === 'refreshStudybee' && [\n        'teacher_assess_assignment_student', 'teacher_assess_assignment', 'teacher_google_drive',\n      ].includes(Helpers.getCurrentStateName())\n      ) {\n        NavigationHistory.reloadCurrent();\n      }\n    });\n  };\n\n  return {\n    restrict: 'A',\n    link,\n  };\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n/**\n * @module GradeSystems/Service\n * @description\n *   Keeps a list of grade systems\n */\n\nexport class GradeSystems {\n  constructor($q, FetchData, Path) {\n    'ngInject';\n\n    this.$q = $q;\n    this.FetchData = FetchData;\n    this.Path = Path;\n    this.gradeSystems = {};\n  }\n\n\n  /**\n   * Update grade systems list.\n   * @param {Array} updatedGradeSystems Updates grade systems array.\n   * @memberof module:GradeSystems/Service\n   */\n  updateGradeSystems(updatedGradeSystems) {\n    this.gradeSystems = updatedGradeSystems.reduce((gradeSystems, currentGradeSystem) => {\n      Object.assign(gradeSystems, {\n        [currentGradeSystem.id]: currentGradeSystem,\n      });\n      return gradeSystems;\n    }, {});\n  }\n\n  /**\n   * Clear grade systems list.\n   * @param {Array} updatedGradeSystems Updates grade systems array.\n   * @memberof module:GradeSystems/Service\n   */\n  clearGradeSystems() {\n    this.gradeSystems = {};\n  }\n\n  /**\n   * Fetch grade systems list or return already existing grade systems.\n   * @memberof module:GradeSystems/Service\n   */\n  fetchGradeSystemsList() {\n    const deferred = this.$q.defer();\n    if (angular.equals(this.gradeSystems, {})) {\n      this.FetchData.v2.getGradeSystems(this.Path.getClassroomId())\n        .then((res) => {\n          this.updateGradeSystems(res);\n          deferred.resolve(this.gradeSystems);\n        });\n    } else {\n      deferred.resolve(this.gradeSystems);\n    }\n    return deferred.promise;\n  }\n\n  getGradeSystemById(id) {\n    return this.gradeSystems[id];\n  }\n}\n","import { SlideToggleAnimation } from '../animations/slideToggle.animation';\n\n/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module SlideToggle/Directive\n * @description\n *   Handle slide toggle mechanism.\n *   Attrs:\n *   <ul>\n *     <li>slide-toggle {Boolean} - Slide toggle state. If true then content is visible, if false it is invisible.</li>\n *   </ul>\n * @example\n *  <p ng-click=\"objective.open = !objective.open\">Toggle</p>\n *  <div slide-toggle=\"objective.open\">\n *    <p>Hide content</p>\n *  </div>\n */\n\nexport class SlideToggleDirective {\n  static create($animate) {\n    'ngInject';\n\n    return new SlideToggleDirective($animate);\n  }\n\n  constructor($animate) {\n    'ngInject';\n    this.$animate = $animate;\n    this.restrict = 'A';\n    this.multiElement = true;\n    this.animationRunner = null;\n  }\n\n  link($scope, element, attrs) {\n    const unsubscribeAnimationRunner = () => {\n      if (this.animationRunner) {\n        this.$animate.cancel(this.animationRunner);\n      }\n    };\n\n    const unsubscribe$watch = $scope.$watch(\n      attrs.slideToggle,\n      (value) => {\n        this.animationRunner = this.$animate[value ? 'addClass' : 'removeClass'](\n          element,\n          SlideToggleAnimation.className,\n        );\n      },\n    );\n\n    $scope.$on('$destroy', () => {\n      unsubscribe$watch();\n      unsubscribeAnimationRunner();\n    });\n  }\n}\n","import { getTranslation } from '../../../../../react_src/i18n';\n\nexport const LocalizeFilter = ($sce) => {\n  'ngInject';\n\n  const translate = (input) => getTranslation(input) || input;\n\n  const findTranslationKey = (input) => input.replace(\n    /__MSG_(\\w+)__/g,\n    (match, v1) => (v1 ? translate(v1) : ''),\n  );\n\n  return (input = '', trustAs = 'trustAsHtml') => {\n    const translation = input.startsWith('__MSG_')\n      ? findTranslationKey(input)\n      : translate(input);\n\n    return trustAs && $sce[trustAs] ? $sce[trustAs](translation || input) : translation || input;\n  };\n};\n","class Queue {\n  constructor($q) {\n    'ngInject';\n    this.queue = $q.resolve();\n  }\n\n  push(promise) {\n    this.queue = this.queue.then(promise, promise);\n\n    return this;\n  }\n}\n\nexport class PromiseQueue {\n  constructor($q) {\n    'ngInject';\n\n    this.$q = $q;\n  }\n\n  getInstance() {\n    return new Queue(this.$q);\n  }\n}\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module LastModifed/Filter\n * @description\n *   Convert data to proper format.\n */\n\nexport const LastModified = () => {\n  'ngInject';\n\n  return (lastModifedDate) => {\n    let outputDate;\n\n    if (!lastModifedDate) {\n      // Empty string if date is equal to null or undefined\n      outputDate = '';\n    } else if (moment().isSame(lastModifedDate, 'day')) {\n      // Date equals today's date\n      outputDate = moment(lastModifedDate).format('k:mm');\n    } else if (moment().isSame(lastModifedDate, 'year')) {\n      // Date equals the same year\n      outputDate = moment(lastModifedDate).format('D MMM');\n    } else {\n      // Previous year\n      outputDate = moment(lastModifedDate).format('D MMM YYYY');\n    }\n\n    return outputDate.toLocaleUpperCase();\n  };\n};\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\nimport { getTranslation } from '../../../../../react_src/i18n';\n/**\n * @module Localize/Directive\n * @description\n *   Handle localize mechanism.\n * @example\n *   <p localize>__MSG_saveBtn__</p>\n */\n\n/*@ngInject*/\nmodule.exports = function () {\n  'ngInject';\n\n  function compile($templateElement, $templateAttributes) {\n    /**\n     * Find translation using Chrome getMessage method\n     * @memberof module:Localize/Directive\n     * @param {String} localizeKey Text before localize\n     * @return {String}\n     */\n    function findTranslation(localizeKey) {\n      return localizeKey\n        .replace(/__MSG_(\\w+)__/g, (match, v1) => (v1 ? getTranslation(v1) : ''));\n    }\n\n    if ($templateAttributes) {\n      Object.keys($templateAttributes).forEach((attribute) => {\n        if (\n          typeof $templateAttributes[attribute] === 'string'\n          && $templateAttributes[attribute].startsWith('__MSG_')) {\n          const translation = findTranslation($templateAttributes[attribute]);\n          if (translation) {\n            // eslint-disable-next-line no-param-reassign\n            $templateAttributes[attribute] = translation;\n          }\n        }\n      });\n    }\n\n    if ($templateElement.length !== 0) {\n      const content = $templateElement[0].innerHTML.toString();\n      // eslint-disable-next-line no-param-reassign\n      $templateElement[0].innerHTML = findTranslation(content);\n    }\n  }\n\n  return {\n    priority: 201,\n    restrict: 'A',\n    compile,\n  };\n};\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\nvar noUiSlider = require('../../../vendors/nouislider.js');\n\n/*@ngInject*/\nmodule.exports = function ($timeout) {\n\n  function link(scope, element, attr) {\n    var disabledSlider;\n    var squareSlider;\n    var batchEditingSlider;\n    var knowledgeRequirementsSlider;\n\n    var sliderStartValue;\n    var sliderRangeMin;\n    var sliderRangeMax;\n    var sliderValues = [];\n\n    var containerNode;\n    var handleNode;\n    var valueLabelNode;\n\n    var config;\n    var labels;\n\n    var ignoreWatch = false;\n    var initRun = true;\n    var initialized = false;\n\n    var startValue;\n\n    // Check slider type\n    scope.checkSliderType = function () {\n      if (attr.disabled === 'true') {\n        disabledSlider = true;\n      }\n\n      if (attr.square === 'true') {\n        squareSlider = true;\n      }\n\n      if (attr.batchediting === 'true') {\n        batchEditingSlider = true;\n      }\n\n      if (attr.knowledgerequirements === 'true') {\n        knowledgeRequirementsSlider = true;\n      }\n    };\n\n    // Create slider wrapper\n    scope.createWrapper = function () {\n      element.append('<div class=\"container\"></div>');\n      containerNode = element.find('.container');\n    };\n\n    // Get slider start value\n    scope.getSliderStartValue = function () {\n      if (scope.ngModel === '') {\n        // If grade isn't set yet, set sliderStartValue as -1 and leave function\n        sliderStartValue = -1;\n        startValue = sliderStartValue;\n        return;\n      } else if (scope.ngModel === 'not_changed') {\n        // If grade isn't changed, set sliderStartValue as -2 and leave function\n        sliderStartValue = -2;\n        startValue = sliderStartValue;\n        return;\n      }\n\n      // If grade is set, find matching value in config and set it as sliderStartValue\n      config.forEach(function (configElem) {\n        if (scope.ngModel !== configElem.name) {\n          return;\n        }\n\n        sliderStartValue = configElem.order;\n        startValue = sliderStartValue;\n      });\n    };\n\n    // Get slider min and max range\n    scope.getSliderRange = function () {\n      if (batchEditingSlider) {\n        // For batch editing slider set sliderRangeMin as -2\n        sliderRangeMin = -2;\n      } else {\n        // For normal slider set sliderRangeMin as -1\n        sliderRangeMin = -1;\n      }\n\n      sliderRangeMax = config.length - 1;\n    };\n\n    // Get slider array of values\n    scope.getSliderValues = function () {\n      // For batch editing slider push -2 value to the sliderValues\n      if (batchEditingSlider) {\n        sliderValues.push(parseInt(-2));\n      }\n\n      sliderValues.push(parseInt(-1));\n\n      config.forEach(function (configElem) {\n        sliderValues.push(parseInt(configElem.order));\n      });\n\n      sliderValues.sort();\n    };\n\n    // Create slider\n    scope.initSlider = function () {\n      noUiSlider.create(containerNode[0], {\n        start: sliderStartValue,\n        connect: 'lower',\n        range: {\n          'min': sliderRangeMin,\n          'max': sliderRangeMax\n        },\n        pips: {\n          mode: 'values',\n          values: sliderValues\n        }\n      });\n    };\n\n    // Create value label\n    scope.createValueLabel = function () {\n      var html = [\n        '<div class=\"value-label\">',\n        '<span></span>',\n        '</div>',\n        '<div class=\"arrow-indicator\">',\n        '<span></span>',\n        '</div>',\n      ].join('');\n\n      handleNode = element.find('.noUi-handle');\n      handleNode.append(html);\n      valueLabelNode = element.find('.value-label');\n    };\n\n    // Replace slider labels\n    scope.replaceSliderLabels = function () {\n      labels = element.find('.noUi-value-large').toArray();\n      labels.forEach(function (labelElem) {\n        var labelValue = parseInt($(labelElem).text());\n\n        // Set '' as label for not changed value\n        if (labelValue === -2) {\n          labelElem.innerText = '';\n        }\n\n        // Set '-' as label for not already set value\n        if (labelValue === -1) {\n          labelElem.innerText = '-';\n        }\n        config.forEach(function (configElem) {\n          if (labelValue !== configElem.order) {\n            return;\n          }\n\n          labelElem.innerText = configElem.label;\n        });\n      });\n    };\n\n    // Function that allows to make slider disable\n    scope.disableSlider = function () {\n      if (!disabledSlider) {\n        return;\n      }\n\n      containerNode[0].setAttribute('disabled', true);\n    };\n\n    // Add keyboard support for arrow left and arrow right.\n    // Only if slider is not disable\n    scope.addKeyboardSupport = function () {\n      if (disabledSlider) {\n        return;\n      }\n\n      element[0].setAttribute('tabindex', 0);\n\n      element[0].addEventListener('keydown', function (e) {\n        var value = Number(containerNode[0].noUiSlider.get());\n\n        switch (e.which) {\n          case 37: // Arrow left key\n            containerNode[0].noUiSlider.set(value - 1);\n            $timeout(scope.ngChange, 0);\n            break;\n          case 39: // Arrow right key\n            containerNode[0].noUiSlider.set(value + 1);\n            $timeout(scope.ngChange, 0);\n            break;\n        }\n      });\n    };\n\n    scope.setGradeStyles = function (label, background, border, color) {\n      var valueTextNode = valueLabelNode[0].querySelectorAll('span');\n\n      valueLabelNode[0].style.borderColor = border;\n      valueTextNode[0].innerText = label;\n      containerNode[0].style.backgroundColor = border;\n\n      if (squareSlider) {\n        valueLabelNode[0].style.backgroundColor = '#fff';\n        valueTextNode[0].style.color = border;\n      } else {\n        valueLabelNode[0].style.backgroundColor = background;\n        valueTextNode[0].style.color = color;\n      }\n    };\n\n    scope.setSliderWidth = function () {\n      // Do nothing if knowledge requirements slider - witdh is always 100% and it is set in CSS\n      if (knowledgeRequirementsSlider || scope.autoWidth) {\n        return;\n      }\n\n      var defaultDistanceBetweenGrades = 30;\n      var realDistanceBetweenGrades = 30;\n\n      var sliderLength = sliderValues.length - 1;\n      var sliderWidth = sliderLength * defaultDistanceBetweenGrades;\n\n      // Check if slider width isn't bigger than maximum slider width\n      // For knowledge requirements slider width is always equal to 100%\n      // Maximum for slider in batch editing is equal to 230px\n      // Maximum for slider on the list is equal to 200px\n      if ((batchEditingSlider && sliderWidth <= 230) || (!batchEditingSlider && sliderWidth <= 200)) {\n        element[0].style.width = sliderWidth + 'px';\n      } else {\n        var width = (!batchEditingSlider) ? 200 : 230;\n        element[0].style.width = width + 'px';\n        realDistanceBetweenGrades = 200 / sliderLength;\n      }\n\n      // Indent slider in batch editing mode\n      if (batchEditingSlider) {\n        element[0].style.marginLeft = '-' + realDistanceBetweenGrades + 'px';\n      }\n    };\n\n    // Watch ngModel\n    scope.$watch('ngModel', function () {\n      var value;\n\n      if (initRun || ignoreWatch) {\n        initRun = false;\n        return;\n      }\n\n      if (scope.ngModel === 'not_changed') {\n        value = -2;\n      } else if (scope.ngModel === '') {\n        value = -1;\n      }\n\n      config.forEach(function (configElem) {\n        if (scope.ngModel !== configElem.name) {\n          return;\n        }\n\n        value = configElem.order;\n      });\n\n      containerNode[0].noUiSlider.set(value);\n    });\n\n    // Watch gradeSystem\n    scope.$watch('gradeSystem', function (newVal, oldVal) {\n      if (!initialized && newVal && newVal.grades) {\n\n        //Config\n        config = newVal.grades;\n\n        scope.checkSliderType();\n        scope.getSliderStartValue();\n        scope.getSliderRange();\n        scope.getSliderValues();\n        scope.createWrapper();\n        scope.initSlider();\n        scope.setSliderWidth();\n        scope.createValueLabel();\n        scope.replaceSliderLabels();\n        scope.addKeyboardSupport();\n        scope.disableSlider();\n\n        // Look on slide event\n        // On slide focus slider (user click on scale or slide slider manualy)\n        containerNode[0].noUiSlider.on('slide', function (value) {\n          if (element[0] !== document.activeElement) {\n            element[0].focus();\n          }\n        });\n\n        // Look on change event\n        // On change find closest integer number and set it as slider value\n        // and focus slider (user click on handle)\n        containerNode[0].noUiSlider.on('change', function (value) {\n          var roundValue = parseInt(Math.round(value));\n\n          containerNode[0].noUiSlider.set(roundValue);\n\n          if (element[0] !== document.activeElement) {\n            element[0].focus();\n          }\n\n          if (startValue !== roundValue) {\n            startValue = roundValue;\n          } else {\n            return;\n          }\n\n          $timeout(scope.ngChange, 0);\n        });\n\n        // Look on update event\n        // On update change text in label circle and colors for slider\n        containerNode[0].noUiSlider.on('update', function (value) {\n          var roundValue = parseInt(Math.round(value));\n\n          if (roundValue === -2) {\n            scope.setGradeStyles('', '#ffffff', '#f44336', '#999999');\n          } else if (roundValue === -1) {\n            scope.setGradeStyles('-', '#ffffff', '#999999', '#999999');\n          }\n\n          const currentConfig = config.find(configElem => roundValue === configElem.order);\n\n          (scope.ngUpdate || (() => {}))({ event: currentConfig || null });\n\n          if (currentConfig) {\n            scope.setGradeStyles(currentConfig.circle_label, currentConfig.color, currentConfig.color, '#ffffff');\n          }\n        });\n\n        // Look on set event\n        // On set update scope\n        containerNode[0].noUiSlider.on('set', function (value) {\n          ignoreWatch = true;\n\n          var roundValue = parseInt(Math.round(value));\n\n          scope.$evalAsync(function () {\n            if (roundValue === -2) {\n              scope.ngModel = 'not_changed';\n              if (typeof scope.gradeId !== 'undefined') {\n                scope.gradeId = null;\n              }\n            } else if (roundValue === -1) {\n              scope.ngModel = '';\n              if (typeof scope.gradeId !== 'undefined') {\n                scope.gradeId = null;\n              }\n            }\n\n            config.forEach(function (configElem) {\n              if (roundValue !== configElem.order) {\n                return;\n              }\n\n              scope.ngModel = configElem.name;\n\n              if (scope.gradeId !== undefined) {\n                scope.gradeId = configElem.id;\n              }\n            });\n          });\n\n          ignoreWatch = false;\n        });\n\n        initialized = true;\n      }\n    });\n  }\n\n  return {\n    restrict: 'E',\n    scope: {\n      ngModel: '=',\n      gradeId: '=',\n      ngChange: '&',\n      ngUpdate: '&?',\n      gradeSystem: '=',\n      autoWidth: '=',\n    },\n    link,\n  };\n};\n","/*! nouislider - 8.3.0 - 2016-02-14 17:37:19 */\n\n(function (factory) {\n\n    if ( typeof define === 'function' && define.amd ) {\n\n        // AMD. Register as an anonymous module.\n        define([], factory);\n\n    } else if ( typeof exports === 'object' ) {\n\n        // Node/CommonJS\n        module.exports = factory();\n\n    } else {\n\n        // Browser globals\n        window.noUiSlider = factory();\n    }\n\n}(function( ){\n\n\t'use strict';\n\n\n\t// Removes duplicates from an array.\n\tfunction unique(array) {\n\t\treturn array.filter(function(a){\n\t\t\treturn !this[a] ? this[a] = true : false;\n\t\t}, {});\n\t}\n\n\t// Round a value to the closest 'to'.\n\tfunction closest ( value, to ) {\n\t\treturn Math.round(value / to) * to;\n\t}\n\n\t// Current position of an element relative to the document.\n\tfunction offset ( elem ) {\n\n\tvar rect = elem.getBoundingClientRect(),\n\t\tdoc = elem.ownerDocument,\n\t\tdocElem = doc.documentElement,\n\t\tpageOffset = getPageOffset();\n\n\t\t// getBoundingClientRect contains left scroll in Chrome on Android.\n\t\t// I haven't found a feature detection that proves this. Worst case\n\t\t// scenario on mis-match: the 'tap' feature on horizontal sliders breaks.\n\t\tif ( /webkit.*Chrome.*Mobile/i.test(navigator.userAgent) ) {\n\t\t\tpageOffset.x = 0;\n\t\t}\n\n\t\treturn {\n\t\t\ttop: rect.top + pageOffset.y - docElem.clientTop,\n\t\t\tleft: rect.left + pageOffset.x - docElem.clientLeft\n\t\t};\n\t}\n\n\t// Checks whether a value is numerical.\n\tfunction isNumeric ( a ) {\n\t\treturn typeof a === 'number' && !isNaN( a ) && isFinite( a );\n\t}\n\n\t// Rounds a number to 7 supported decimals.\n\tfunction accurateNumber( number ) {\n\t\tvar p = Math.pow(10, 7);\n\t\treturn Number((Math.round(number*p)/p).toFixed(7));\n\t}\n\n\t// Sets a class and removes it after [duration] ms.\n\tfunction addClassFor ( element, className, duration ) {\n\t\taddClass(element, className);\n\t\tsetTimeout(function(){\n\t\t\tremoveClass(element, className);\n\t\t}, duration);\n\t}\n\n\t// Limits a value to 0 - 100\n\tfunction limit ( a ) {\n\t\treturn Math.max(Math.min(a, 100), 0);\n\t}\n\n\t// Wraps a variable as an array, if it isn't one yet.\n\tfunction asArray ( a ) {\n\t\treturn Array.isArray(a) ? a : [a];\n\t}\n\n\t// Counts decimals\n\tfunction countDecimals ( numStr ) {\n\t\tvar pieces = numStr.split(\".\");\n\t\treturn pieces.length > 1 ? pieces[1].length : 0;\n\t}\n\n\t// http://youmightnotneedjquery.com/#add_class\n\tfunction addClass ( el, className ) {\n\t\tif ( el.classList ) {\n\t\t\tel.classList.add(className);\n\t\t} else {\n\t\t\tel.className += ' ' + className;\n\t\t}\n\t}\n\n\t// http://youmightnotneedjquery.com/#remove_class\n\tfunction removeClass ( el, className ) {\n\t\tif ( el.classList ) {\n\t\t\tel.classList.remove(className);\n\t\t} else {\n\t\t\tel.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n\t\t}\n\t}\n\n\t// https://plainjs.com/javascript/attributes/adding-removing-and-testing-for-classes-9/\n\tfunction hasClass ( el, className ) {\n\t\treturn el.classList ? el.classList.contains(className) : new RegExp('\\\\b' + className + '\\\\b').test(el.className);\n\t}\n\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Window/scrollY#Notes\n\tfunction getPageOffset ( ) {\n\n\t\tvar supportPageOffset = window.pageXOffset !== undefined,\n\t\t\tisCSS1Compat = ((document.compatMode || \"\") === \"CSS1Compat\"),\n\t\t\tx = supportPageOffset ? window.pageXOffset : isCSS1Compat ? document.documentElement.scrollLeft : document.body.scrollLeft,\n\t\t\ty = supportPageOffset ? window.pageYOffset : isCSS1Compat ? document.documentElement.scrollTop : document.body.scrollTop;\n\n\t\treturn {\n\t\t\tx: x,\n\t\t\ty: y\n\t\t};\n\t}\n\n\t// Shorthand for stopPropagation so we don't have to create a dynamic method\n\tfunction stopPropagation ( e ) {\n\t\te.stopPropagation();\n\t}\n\n\t// todo\n\tfunction addCssPrefix(cssPrefix) {\n\t\treturn function(className) {\n\t\t\treturn cssPrefix + className;\n\t\t};\n\t}\n\n\n\tvar\n\t// Determine the events to bind. IE11 implements pointerEvents without\n\t// a prefix, which breaks compatibility with the IE10 implementation.\n\t/** @const */\n\tactions = window.navigator.pointerEnabled ? {\n\t\tstart: 'pointerdown',\n\t\tmove: 'pointermove',\n\t\tend: 'pointerup'\n\t} : window.navigator.msPointerEnabled ? {\n\t\tstart: 'MSPointerDown',\n\t\tmove: 'MSPointerMove',\n\t\tend: 'MSPointerUp'\n\t} : {\n\t\tstart: 'mousedown touchstart',\n\t\tmove: 'mousemove touchmove',\n\t\tend: 'mouseup touchend'\n\t},\n\tdefaultCssPrefix = 'noUi-';\n\n\n// Value calculation\n\n\t// Determine the size of a sub-range in relation to a full range.\n\tfunction subRangeRatio ( pa, pb ) {\n\t\treturn (100 / (pb - pa));\n\t}\n\n\t// (percentage) How many percent is this value of this range?\n\tfunction fromPercentage ( range, value ) {\n\t\treturn (value * 100) / ( range[1] - range[0] );\n\t}\n\n\t// (percentage) Where is this value on this range?\n\tfunction toPercentage ( range, value ) {\n\t\treturn fromPercentage( range, range[0] < 0 ?\n\t\t\tvalue + Math.abs(range[0]) :\n\t\t\t\tvalue - range[0] );\n\t}\n\n\t// (value) How much is this percentage on this range?\n\tfunction isPercentage ( range, value ) {\n\t\treturn ((value * ( range[1] - range[0] )) / 100) + range[0];\n\t}\n\n\n// Range conversion\n\n\tfunction getJ ( value, arr ) {\n\n\t\tvar j = 1;\n\n\t\twhile ( value >= arr[j] ){\n\t\t\tj += 1;\n\t\t}\n\n\t\treturn j;\n\t}\n\n\t// (percentage) Input a value, find where, on a scale of 0-100, it applies.\n\tfunction toStepping ( xVal, xPct, value ) {\n\n\t\tif ( value >= xVal.slice(-1)[0] ){\n\t\t\treturn 100;\n\t\t}\n\n\t\tvar j = getJ( value, xVal ), va, vb, pa, pb;\n\n\t\tva = xVal[j-1];\n\t\tvb = xVal[j];\n\t\tpa = xPct[j-1];\n\t\tpb = xPct[j];\n\n\t\treturn pa + (toPercentage([va, vb], value) / subRangeRatio (pa, pb));\n\t}\n\n\t// (value) Input a percentage, find where it is on the specified range.\n\tfunction fromStepping ( xVal, xPct, value ) {\n\n\t\t// There is no range group that fits 100\n\t\tif ( value >= 100 ){\n\t\t\treturn xVal.slice(-1)[0];\n\t\t}\n\n\t\tvar j = getJ( value, xPct ), va, vb, pa, pb;\n\n\t\tva = xVal[j-1];\n\t\tvb = xVal[j];\n\t\tpa = xPct[j-1];\n\t\tpb = xPct[j];\n\n\t\treturn isPercentage([va, vb], (value - pa) * subRangeRatio (pa, pb));\n\t}\n\n\t// (percentage) Get the step that applies at a certain value.\n\tfunction getStep ( xPct, xSteps, snap, value ) {\n\n\t\tif ( value === 100 ) {\n\t\t\treturn value;\n\t\t}\n\n\t\tvar j = getJ( value, xPct ), a, b;\n\n\t\t// If 'snap' is set, steps are used as fixed points on the slider.\n\t\tif ( snap ) {\n\n\t\t\ta = xPct[j-1];\n\t\t\tb = xPct[j];\n\n\t\t\t// Find the closest position, a or b.\n\t\t\tif ((value - a) > ((b-a)/2)){\n\t\t\t\treturn b;\n\t\t\t}\n\n\t\t\treturn a;\n\t\t}\n\n\t\tif ( !xSteps[j-1] ){\n\t\t\treturn value;\n\t\t}\n\n\t\treturn xPct[j-1] + closest(\n\t\t\tvalue - xPct[j-1],\n\t\t\txSteps[j-1]\n\t\t);\n\t}\n\n\n// Entry parsing\n\n\tfunction handleEntryPoint ( index, value, that ) {\n\n\t\tvar percentage;\n\n\t\t// Wrap numerical input in an array.\n\t\tif ( typeof value === \"number\" ) {\n\t\t\tvalue = [value];\n\t\t}\n\n\t\t// Reject any invalid input, by testing whether value is an array.\n\t\tif ( Object.prototype.toString.call( value ) !== '[object Array]' ){\n\t\t\tthrow new Error(\"noUiSlider: 'range' contains invalid value.\");\n\t\t}\n\n\t\t// Covert min/max syntax to 0 and 100.\n\t\tif ( index === 'min' ) {\n\t\t\tpercentage = 0;\n\t\t} else if ( index === 'max' ) {\n\t\t\tpercentage = 100;\n\t\t} else {\n\t\t\tpercentage = parseFloat( index );\n\t\t}\n\n\t\t// Check for correct input.\n\t\tif ( !isNumeric( percentage ) || !isNumeric( value[0] ) ) {\n\t\t\tthrow new Error(\"noUiSlider: 'range' value isn't numeric.\");\n\t\t}\n\n\t\t// Store values.\n\t\tthat.xPct.push( percentage );\n\t\tthat.xVal.push( value[0] );\n\n\t\t// NaN will evaluate to false too, but to keep\n\t\t// logging clear, set step explicitly. Make sure\n\t\t// not to override the 'step' setting with false.\n\t\tif ( !percentage ) {\n\t\t\tif ( !isNaN( value[1] ) ) {\n\t\t\t\tthat.xSteps[0] = value[1];\n\t\t\t}\n\t\t} else {\n\t\t\tthat.xSteps.push( isNaN(value[1]) ? false : value[1] );\n\t\t}\n\t}\n\n\tfunction handleStepPoint ( i, n, that ) {\n\n\t\t// Ignore 'false' stepping.\n\t\tif ( !n ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Factor to range ratio\n\t\tthat.xSteps[i] = fromPercentage([\n\t\t\t that.xVal[i]\n\t\t\t,that.xVal[i+1]\n\t\t], n) / subRangeRatio (\n\t\t\tthat.xPct[i],\n\t\t\tthat.xPct[i+1] );\n\t}\n\n\n// Interface\n\n\t// The interface to Spectrum handles all direction-based\n\t// conversions, so the above values are unaware.\n\n\tfunction Spectrum ( entry, snap, direction, singleStep ) {\n\n\t\tthis.xPct = [];\n\t\tthis.xVal = [];\n\t\tthis.xSteps = [ singleStep || false ];\n\t\tthis.xNumSteps = [ false ];\n\n\t\tthis.snap = snap;\n\t\tthis.direction = direction;\n\n\t\tvar index, ordered = [ /* [0, 'min'], [1, '50%'], [2, 'max'] */ ];\n\n\t\t// Map the object keys to an array.\n\t\tfor ( index in entry ) {\n\t\t\tif ( entry.hasOwnProperty(index) ) {\n\t\t\t\tordered.push([entry[index], index]);\n\t\t\t}\n\t\t}\n\n\t\t// Sort all entries by value (numeric sort).\n\t\tif ( ordered.length && typeof ordered[0][0] === \"object\" ) {\n\t\t\tordered.sort(function(a, b) { return a[0][0] - b[0][0]; });\n\t\t} else {\n\t\t\tordered.sort(function(a, b) { return a[0] - b[0]; });\n\t\t}\n\n\n\t\t// Convert all entries to subranges.\n\t\tfor ( index = 0; index < ordered.length; index++ ) {\n\t\t\thandleEntryPoint(ordered[index][1], ordered[index][0], this);\n\t\t}\n\n\t\t// Store the actual step values.\n\t\t// xSteps is sorted in the same order as xPct and xVal.\n\t\tthis.xNumSteps = this.xSteps.slice(0);\n\n\t\t// Convert all numeric steps to the percentage of the subrange they represent.\n\t\tfor ( index = 0; index < this.xNumSteps.length; index++ ) {\n\t\t\thandleStepPoint(index, this.xNumSteps[index], this);\n\t\t}\n\t}\n\n\tSpectrum.prototype.getMargin = function ( value ) {\n\t\treturn this.xPct.length === 2 ? fromPercentage(this.xVal, value) : false;\n\t};\n\n\tSpectrum.prototype.toStepping = function ( value ) {\n\n\t\tvalue = toStepping( this.xVal, this.xPct, value );\n\n\t\t// Invert the value if this is a right-to-left slider.\n\t\tif ( this.direction ) {\n\t\t\tvalue = 100 - value;\n\t\t}\n\n\t\treturn value;\n\t};\n\n\tSpectrum.prototype.fromStepping = function ( value ) {\n\n\t\t// Invert the value if this is a right-to-left slider.\n\t\tif ( this.direction ) {\n\t\t\tvalue = 100 - value;\n\t\t}\n\n\t\treturn accurateNumber(fromStepping( this.xVal, this.xPct, value ));\n\t};\n\n\tSpectrum.prototype.getStep = function ( value ) {\n\n\t\t// Find the proper step for rtl sliders by search in inverse direction.\n\t\t// Fixes issue #262.\n\t\tif ( this.direction ) {\n\t\t\tvalue = 100 - value;\n\t\t}\n\n\t\tvalue = getStep(this.xPct, this.xSteps, this.snap, value );\n\n\t\tif ( this.direction ) {\n\t\t\tvalue = 100 - value;\n\t\t}\n\n\t\treturn value;\n\t};\n\n\tSpectrum.prototype.getApplicableStep = function ( value ) {\n\n\t\t// If the value is 100%, return the negative step twice.\n\t\tvar j = getJ(value, this.xPct), offset = value === 100 ? 2 : 1;\n\t\treturn [this.xNumSteps[j-2], this.xVal[j-offset], this.xNumSteps[j-offset]];\n\t};\n\n\t// Outside testing\n\tSpectrum.prototype.convert = function ( value ) {\n\t\treturn this.getStep(this.toStepping(value));\n\t};\n\n/*\tEvery input option is tested and parsed. This'll prevent\n\tendless validation in internal methods. These tests are\n\tstructured with an item for every option available. An\n\toption can be marked as required by setting the 'r' flag.\n\tThe testing function is provided with three arguments:\n\t\t- The provided value for the option;\n\t\t- A reference to the options object;\n\t\t- The name for the option;\n\n\tThe testing function returns false when an error is detected,\n\tor true when everything is OK. It can also modify the option\n\tobject, to make sure all values can be correctly looped elsewhere. */\n\n\tvar defaultFormatter = { 'to': function( value ){\n\t\treturn value !== undefined && value.toFixed(2);\n\t}, 'from': Number };\n\n\tfunction testStep ( parsed, entry ) {\n\n\t\tif ( !isNumeric( entry ) ) {\n\t\t\tthrow new Error(\"noUiSlider: 'step' is not numeric.\");\n\t\t}\n\n\t\t// The step option can still be used to set stepping\n\t\t// for linear sliders. Overwritten if set in 'range'.\n\t\tparsed.singleStep = entry;\n\t}\n\n\tfunction testRange ( parsed, entry ) {\n\n\t\t// Filter incorrect input.\n\t\tif ( typeof entry !== 'object' || Array.isArray(entry) ) {\n\t\t\tthrow new Error(\"noUiSlider: 'range' is not an object.\");\n\t\t}\n\n\t\t// Catch missing start or end.\n\t\tif ( entry.min === undefined || entry.max === undefined ) {\n\t\t\tthrow new Error(\"noUiSlider: Missing 'min' or 'max' in 'range'.\");\n\t\t}\n\n\t\t// Catch equal start or end.\n\t\tif ( entry.min === entry.max ) {\n\t\t\tthrow new Error(\"noUiSlider: 'range' 'min' and 'max' cannot be equal.\");\n\t\t}\n\n\t\tparsed.spectrum = new Spectrum(entry, parsed.snap, parsed.dir, parsed.singleStep);\n\t}\n\n\tfunction testStart ( parsed, entry ) {\n\n\t\tentry = asArray(entry);\n\n\t\t// Validate input. Values aren't tested, as the public .val method\n\t\t// will always provide a valid location.\n\t\tif ( !Array.isArray( entry ) || !entry.length || entry.length > 2 ) {\n\t\t\tthrow new Error(\"noUiSlider: 'start' option is incorrect.\");\n\t\t}\n\n\t\t// Store the number of handles.\n\t\tparsed.handles = entry.length;\n\n\t\t// When the slider is initialized, the .val method will\n\t\t// be called with the start options.\n\t\tparsed.start = entry;\n\t}\n\n\tfunction testSnap ( parsed, entry ) {\n\n\t\t// Enforce 100% stepping within subranges.\n\t\tparsed.snap = entry;\n\n\t\tif ( typeof entry !== 'boolean' ){\n\t\t\tthrow new Error(\"noUiSlider: 'snap' option must be a boolean.\");\n\t\t}\n\t}\n\n\tfunction testAnimate ( parsed, entry ) {\n\n\t\t// Enforce 100% stepping within subranges.\n\t\tparsed.animate = entry;\n\n\t\tif ( typeof entry !== 'boolean' ){\n\t\t\tthrow new Error(\"noUiSlider: 'animate' option must be a boolean.\");\n\t\t}\n\t}\n\n\tfunction testConnect ( parsed, entry ) {\n\n\t\tif ( entry === 'lower' && parsed.handles === 1 ) {\n\t\t\tparsed.connect = 1;\n\t\t} else if ( entry === 'upper' && parsed.handles === 1 ) {\n\t\t\tparsed.connect = 2;\n\t\t} else if ( entry === true && parsed.handles === 2 ) {\n\t\t\tparsed.connect = 3;\n\t\t} else if ( entry === false ) {\n\t\t\tparsed.connect = 0;\n\t\t} else {\n\t\t\tthrow new Error(\"noUiSlider: 'connect' option doesn't match handle count.\");\n\t\t}\n\t}\n\n\tfunction testOrientation ( parsed, entry ) {\n\n\t\t// Set orientation to an a numerical value for easy\n\t\t// array selection.\n\t\tswitch ( entry ){\n\t\t  case 'horizontal':\n\t\t\tparsed.ort = 0;\n\t\t\tbreak;\n\t\t  case 'vertical':\n\t\t\tparsed.ort = 1;\n\t\t\tbreak;\n\t\t  default:\n\t\t\tthrow new Error(\"noUiSlider: 'orientation' option is invalid.\");\n\t\t}\n\t}\n\n\tfunction testMargin ( parsed, entry ) {\n\n\t\tif ( !isNumeric(entry) ){\n\t\t\tthrow new Error(\"noUiSlider: 'margin' option must be numeric.\");\n\t\t}\n\n\t\t// Issue #582\n\t\tif ( entry === 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tparsed.margin = parsed.spectrum.getMargin(entry);\n\n\t\tif ( !parsed.margin ) {\n\t\t\tthrow new Error(\"noUiSlider: 'margin' option is only supported on linear sliders.\");\n\t\t}\n\t}\n\n\tfunction testLimit ( parsed, entry ) {\n\n\t\tif ( !isNumeric(entry) ){\n\t\t\tthrow new Error(\"noUiSlider: 'limit' option must be numeric.\");\n\t\t}\n\n\t\tparsed.limit = parsed.spectrum.getMargin(entry);\n\n\t\tif ( !parsed.limit ) {\n\t\t\tthrow new Error(\"noUiSlider: 'limit' option is only supported on linear sliders.\");\n\t\t}\n\t}\n\n\tfunction testDirection ( parsed, entry ) {\n\n\t\t// Set direction as a numerical value for easy parsing.\n\t\t// Invert connection for RTL sliders, so that the proper\n\t\t// handles get the connect/background classes.\n\t\tswitch ( entry ) {\n\t\t  case 'ltr':\n\t\t\tparsed.dir = 0;\n\t\t\tbreak;\n\t\t  case 'rtl':\n\t\t\tparsed.dir = 1;\n\t\t\tparsed.connect = [0,2,1,3][parsed.connect];\n\t\t\tbreak;\n\t\t  default:\n\t\t\tthrow new Error(\"noUiSlider: 'direction' option was not recognized.\");\n\t\t}\n\t}\n\n\tfunction testBehaviour ( parsed, entry ) {\n\n\t\t// Make sure the input is a string.\n\t\tif ( typeof entry !== 'string' ) {\n\t\t\tthrow new Error(\"noUiSlider: 'behaviour' must be a string containing options.\");\n\t\t}\n\n\t\t// Check if the string contains any keywords.\n\t\t// None are required.\n\t\tvar tap = entry.indexOf('tap') >= 0,\n\t\t\tdrag = entry.indexOf('drag') >= 0,\n\t\t\tfixed = entry.indexOf('fixed') >= 0,\n\t\t\tsnap = entry.indexOf('snap') >= 0,\n\t\t\thover = entry.indexOf('hover') >= 0;\n\n\t\t// Fix #472\n\t\tif ( drag && !parsed.connect ) {\n\t\t\tthrow new Error(\"noUiSlider: 'drag' behaviour must be used with 'connect': true.\");\n\t\t}\n\n\t\tparsed.events = {\n\t\t\ttap: tap || snap,\n\t\t\tdrag: drag,\n\t\t\tfixed: fixed,\n\t\t\tsnap: snap,\n\t\t\thover: hover\n\t\t};\n\t}\n\n\tfunction testTooltips ( parsed, entry ) {\n\n\t\tvar i;\n\n\t\tif ( entry === false ) {\n\t\t\treturn;\n\t\t} else if ( entry === true ) {\n\n\t\t\tparsed.tooltips = [];\n\n\t\t\tfor ( i = 0; i < parsed.handles; i++ ) {\n\t\t\t\tparsed.tooltips.push(true);\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tparsed.tooltips = asArray(entry);\n\n\t\t\tif ( parsed.tooltips.length !== parsed.handles ) {\n\t\t\t\tthrow new Error(\"noUiSlider: must pass a formatter for all handles.\");\n\t\t\t}\n\n\t\t\tparsed.tooltips.forEach(function(formatter){\n\t\t\t\tif ( typeof formatter !== 'boolean' && (typeof formatter !== 'object' || typeof formatter.to !== 'function') ) {\n\t\t\t\t\tthrow new Error(\"noUiSlider: 'tooltips' must be passed a formatter or 'false'.\");\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction testFormat ( parsed, entry ) {\n\n\t\tparsed.format = entry;\n\n\t\t// Any object with a to and from method is supported.\n\t\tif ( typeof entry.to === 'function' && typeof entry.from === 'function' ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tthrow new Error( \"noUiSlider: 'format' requires 'to' and 'from' methods.\");\n\t}\n\n\tfunction testCssPrefix ( parsed, entry ) {\n\n\t\tif ( entry !== undefined && typeof entry !== 'string' ) {\n\t\t\tthrow new Error( \"noUiSlider: 'cssPrefix' must be a string.\");\n\t\t}\n\n\t\tparsed.cssPrefix = entry;\n\t}\n\n\t// Test all developer settings and parse to assumption-safe values.\n\tfunction testOptions ( options ) {\n\n\t\t// To prove a fix for #537, freeze options here.\n\t\t// If the object is modified, an error will be thrown.\n\t\t// Object.freeze(options);\n\n\t\tvar parsed = {\n\t\t\tmargin: 0,\n\t\t\tlimit: 0,\n\t\t\tanimate: true,\n\t\t\tformat: defaultFormatter\n\t\t}, tests;\n\n\t\t// Tests are executed in the order they are presented here.\n\t\ttests = {\n\t\t\t'step': { r: false, t: testStep },\n\t\t\t'start': { r: true, t: testStart },\n\t\t\t'connect': { r: true, t: testConnect },\n\t\t\t'direction': { r: true, t: testDirection },\n\t\t\t'snap': { r: false, t: testSnap },\n\t\t\t'animate': { r: false, t: testAnimate },\n\t\t\t'range': { r: true, t: testRange },\n\t\t\t'orientation': { r: false, t: testOrientation },\n\t\t\t'margin': { r: false, t: testMargin },\n\t\t\t'limit': { r: false, t: testLimit },\n\t\t\t'behaviour': { r: true, t: testBehaviour },\n\t\t\t'format': { r: false, t: testFormat },\n\t\t\t'tooltips': { r: false, t: testTooltips },\n\t\t\t'cssPrefix': { r: false, t: testCssPrefix }\n\t\t};\n\n\t\tvar defaults = {\n\t\t\t'connect': false,\n\t\t\t'direction': 'ltr',\n\t\t\t'behaviour': 'tap',\n\t\t\t'orientation': 'horizontal'\n\t\t};\n\n\t\t// Run all options through a testing mechanism to ensure correct\n\t\t// input. It should be noted that options might get modified to\n\t\t// be handled properly. E.g. wrapping integers in arrays.\n\t\tObject.keys(tests).forEach(function( name ){\n\n\t\t\t// If the option isn't set, but it is required, throw an error.\n\t\t\tif ( options[name] === undefined && defaults[name] === undefined ) {\n\n\t\t\t\tif ( tests[name].r ) {\n\t\t\t\t\tthrow new Error(\"noUiSlider: '\" + name + \"' is required.\");\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\ttests[name].t( parsed, options[name] === undefined ? defaults[name] : options[name] );\n\t\t});\n\n\t\t// Forward pips options\n\t\tparsed.pips = options.pips;\n\n\t\t// Pre-define the styles.\n\t\tparsed.style = parsed.ort ? 'top' : 'left';\n\n\t\treturn parsed;\n\t}\n\n\nfunction closure ( target, options ){\n\n\t// All variables local to 'closure' are prefixed with 'scope_'\n\tvar scope_Target = target,\n\t\tscope_Locations = [-1, -1],\n\t\tscope_Base,\n\t\tscope_Handles,\n\t\tscope_Spectrum = options.spectrum,\n\t\tscope_Values = [],\n\t\tscope_Events = {},\n\t\tscope_Self;\n\n  var cssClasses = [\n    /*  0 */  'target'\n    /*  1 */ ,'base'\n    /*  2 */ ,'origin'\n    /*  3 */ ,'handle'\n    /*  4 */ ,'horizontal'\n    /*  5 */ ,'vertical'\n    /*  6 */ ,'background'\n    /*  7 */ ,'connect'\n    /*  8 */ ,'ltr'\n    /*  9 */ ,'rtl'\n    /* 10 */ ,'draggable'\n    /* 11 */ ,''\n    /* 12 */ ,'state-drag'\n    /* 13 */ ,''\n    /* 14 */ ,'state-tap'\n    /* 15 */ ,'active'\n    /* 16 */ ,''\n    /* 17 */ ,'stacking'\n    /* 18 */ ,'tooltip'\n    /* 19 */ ,''\n    /* 20 */ ,'pips'\n    /* 21 */ ,'marker'\n    /* 22 */ ,'value'\n  ].map(addCssPrefix(options.cssPrefix || defaultCssPrefix));\n\n\n\t// Delimit proposed values for handle positions.\n\tfunction getPositions ( a, b, delimit ) {\n\n\t\t// Add movement to current position.\n\t\tvar c = a + b[0], d = a + b[1];\n\n\t\t// Only alter the other position on drag,\n\t\t// not on standard sliding.\n\t\tif ( delimit ) {\n\t\t\tif ( c < 0 ) {\n\t\t\t\td += Math.abs(c);\n\t\t\t}\n\t\t\tif ( d > 100 ) {\n\t\t\t\tc -= ( d - 100 );\n\t\t\t}\n\n\t\t\t// Limit values to 0 and 100.\n\t\t\treturn [limit(c), limit(d)];\n\t\t}\n\n\t\treturn [c,d];\n\t}\n\n\t// Provide a clean event with standardized offset values.\n\tfunction fixEvent ( e, pageOffset ) {\n\n\t\t// Prevent scrolling and panning on touch events, while\n\t\t// attempting to slide. The tap event also depends on this.\n\t\te.preventDefault();\n\n\t\t// Filter the event to register the type, which can be\n\t\t// touch, mouse or pointer. Offset changes need to be\n\t\t// made on an event specific basis.\n\t\tvar touch = e.type.indexOf('touch') === 0,\n\t\t\tmouse = e.type.indexOf('mouse') === 0,\n\t\t\tpointer = e.type.indexOf('pointer') === 0,\n\t\t\tx,y, event = e;\n\n\t\t// IE10 implemented pointer events with a prefix;\n\t\tif ( e.type.indexOf('MSPointer') === 0 ) {\n\t\t\tpointer = true;\n\t\t}\n\n\t\tif ( touch ) {\n\t\t\t// noUiSlider supports one movement at a time,\n\t\t\t// so we can select the first 'changedTouch'.\n\t\t\tx = e.changedTouches[0].pageX;\n\t\t\ty = e.changedTouches[0].pageY;\n\t\t}\n\n\t\tpageOffset = pageOffset || getPageOffset();\n\n\t\tif ( mouse || pointer ) {\n\t\t\tx = e.clientX + pageOffset.x;\n\t\t\ty = e.clientY + pageOffset.y;\n\t\t}\n\n\t\tevent.pageOffset = pageOffset;\n\t\tevent.points = [x, y];\n\t\tevent.cursor = mouse || pointer; // Fix #435\n\n\t\treturn event;\n\t}\n\n\t// Append a handle to the base.\n\tfunction addHandle ( direction, index ) {\n\n\t\tvar origin = document.createElement('div'),\n\t\t\thandle = document.createElement('div'),\n\t\t\tadditions = [ '-lower', '-upper' ];\n\n\t\tif ( direction ) {\n\t\t\tadditions.reverse();\n\t\t}\n\n\t\taddClass(handle, cssClasses[3]);\n\t\taddClass(handle, cssClasses[3] + additions[index]);\n\n\t\taddClass(origin, cssClasses[2]);\n\t\torigin.appendChild(handle);\n\n\t\treturn origin;\n\t}\n\n\t// Add the proper connection classes.\n\tfunction addConnection ( connect, target, handles ) {\n\n\t\t// Apply the required connection classes to the elements\n\t\t// that need them. Some classes are made up for several\n\t\t// segments listed in the class list, to allow easy\n\t\t// renaming and provide a minor compression benefit.\n\t\tswitch ( connect ) {\n\t\t\tcase 1:\taddClass(target, cssClasses[7]);\n\t\t\t\t\taddClass(handles[0], cssClasses[6]);\n\t\t\t\t\tbreak;\n\t\t\tcase 3: addClass(handles[1], cssClasses[6]);\n\t\t\t\t\t/* falls through */\n\t\t\tcase 2: addClass(handles[0], cssClasses[7]);\n\t\t\t\t\t/* falls through */\n\t\t\tcase 0: addClass(target, cssClasses[6]);\n\t\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Add handles to the slider base.\n\tfunction addHandles ( nrHandles, direction, base ) {\n\n\t\tvar index, handles = [];\n\n\t\t// Append handles.\n\t\tfor ( index = 0; index < nrHandles; index += 1 ) {\n\n\t\t\t// Keep a list of all added handles.\n\t\t\thandles.push( base.appendChild(addHandle( direction, index )) );\n\t\t}\n\n\t\treturn handles;\n\t}\n\n\t// Initialize a single slider.\n\tfunction addSlider ( direction, orientation, target ) {\n\n\t\t// Apply classes and data to the target.\n\t\taddClass(target, cssClasses[0]);\n\t\taddClass(target, cssClasses[8 + direction]);\n\t\taddClass(target, cssClasses[4 + orientation]);\n\n\t\tvar div = document.createElement('div');\n\t\taddClass(div, cssClasses[1]);\n\t\ttarget.appendChild(div);\n\t\treturn div;\n\t}\n\n\n\tfunction addTooltip ( handle, index ) {\n\n\t\tif ( !options.tooltips[index] ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar element = document.createElement('div');\n\t\telement.className = cssClasses[18];\n\t\treturn handle.firstChild.appendChild(element);\n\t}\n\n\t// The tooltips option is a shorthand for using the 'update' event.\n\tfunction tooltips ( ) {\n\n\t\tif ( options.dir ) {\n\t\t\toptions.tooltips.reverse();\n\t\t}\n\n\t\t// Tooltips are added with options.tooltips in original order.\n\t\tvar tips = scope_Handles.map(addTooltip);\n\n\t\tif ( options.dir ) {\n\t\t\ttips.reverse();\n\t\t\toptions.tooltips.reverse();\n\t\t}\n\n\t\tbindEvent('update', function(f, o, r) {\n\t\t\tif ( tips[o] ) {\n\t\t\t\ttips[o].innerHTML = options.tooltips[o] === true ? f[o] : options.tooltips[o].to(r[o]);\n\t\t\t}\n\t\t});\n\t}\n\n\n\tfunction getGroup ( mode, values, stepped ) {\n\n\t\t// Use the range.\n\t\tif ( mode === 'range' || mode === 'steps' ) {\n\t\t\treturn scope_Spectrum.xVal;\n\t\t}\n\n\t\tif ( mode === 'count' ) {\n\n\t\t\t// Divide 0 - 100 in 'count' parts.\n\t\t\tvar spread = ( 100 / (values-1) ), v, i = 0;\n\t\t\tvalues = [];\n\n\t\t\t// List these parts and have them handled as 'positions'.\n\t\t\twhile ((v=i++*spread) <= 100 ) {\n\t\t\t\tvalues.push(v);\n\t\t\t}\n\n\t\t\tmode = 'positions';\n\t\t}\n\n\t\tif ( mode === 'positions' ) {\n\n\t\t\t// Map all percentages to on-range values.\n\t\t\treturn values.map(function( value ){\n\t\t\t\treturn scope_Spectrum.fromStepping( stepped ? scope_Spectrum.getStep( value ) : value );\n\t\t\t});\n\t\t}\n\n\t\tif ( mode === 'values' ) {\n\n\t\t\t// If the value must be stepped, it needs to be converted to a percentage first.\n\t\t\tif ( stepped ) {\n\n\t\t\t\treturn values.map(function( value ){\n\n\t\t\t\t\t// Convert to percentage, apply step, return to value.\n\t\t\t\t\treturn scope_Spectrum.fromStepping( scope_Spectrum.getStep( scope_Spectrum.toStepping( value ) ) );\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\t// Otherwise, we can simply use the values.\n\t\t\treturn values;\n\t\t}\n\t}\n\n\tfunction generateSpread ( density, mode, group ) {\n\n\t\tfunction safeIncrement(value, increment) {\n\t\t\t// Avoid floating point variance by dropping the smallest decimal places.\n\t\t\treturn (value + increment).toFixed(7) / 1;\n\t\t}\n\n\t\tvar originalSpectrumDirection = scope_Spectrum.direction,\n\t\t\tindexes = {},\n\t\t\tfirstInRange = scope_Spectrum.xVal[0],\n\t\t\tlastInRange = scope_Spectrum.xVal[scope_Spectrum.xVal.length-1],\n\t\t\tignoreFirst = false,\n\t\t\tignoreLast = false,\n\t\t\tprevPct = 0;\n\n\t\t// This function loops the spectrum in an ltr linear fashion,\n\t\t// while the toStepping method is direction aware. Trick it into\n\t\t// believing it is ltr.\n\t\tscope_Spectrum.direction = 0;\n\n\t\t// Create a copy of the group, sort it and filter away all duplicates.\n\t\tgroup = unique(group.slice().sort(function(a, b){ return a - b; }));\n\n\t\t// Make sure the range starts with the first element.\n\t\tif ( group[0] !== firstInRange ) {\n\t\t\tgroup.unshift(firstInRange);\n\t\t\tignoreFirst = true;\n\t\t}\n\n\t\t// Likewise for the last one.\n\t\tif ( group[group.length - 1] !== lastInRange ) {\n\t\t\tgroup.push(lastInRange);\n\t\t\tignoreLast = true;\n\t\t}\n\n\t\tgroup.forEach(function ( current, index ) {\n\n\t\t\t// Get the current step and the lower + upper positions.\n\t\t\tvar step, i, q,\n\t\t\t\tlow = current,\n\t\t\t\thigh = group[index+1],\n\t\t\t\tnewPct, pctDifference, pctPos, type,\n\t\t\t\tsteps, realSteps, stepsize;\n\n\t\t\t// When using 'steps' mode, use the provided steps.\n\t\t\t// Otherwise, we'll step on to the next subrange.\n\t\t\tif ( mode === 'steps' ) {\n\t\t\t\tstep = scope_Spectrum.xNumSteps[ index ];\n\t\t\t}\n\n\t\t\t// Default to a 'full' step.\n\t\t\tif ( !step ) {\n\t\t\t\tstep = high-low;\n\t\t\t}\n\n\t\t\t// Low can be 0, so test for false. If high is undefined,\n\t\t\t// we are at the last subrange. Index 0 is already handled.\n\t\t\tif ( low === false || high === undefined ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Find all steps in the subrange.\n\t\t\tfor ( i = low; i <= high; i = safeIncrement(i, step) ) {\n\n\t\t\t\t// Get the percentage value for the current step,\n\t\t\t\t// calculate the size for the subrange.\n\t\t\t\tnewPct = scope_Spectrum.toStepping( i );\n\t\t\t\tpctDifference = newPct - prevPct;\n\n\t\t\t\tsteps = pctDifference / density;\n\t\t\t\trealSteps = Math.round(steps);\n\n\t\t\t\t// This ratio represents the ammount of percentage-space a point indicates.\n\t\t\t\t// For a density 1 the points/percentage = 1. For density 2, that percentage needs to be re-devided.\n\t\t\t\t// Round the percentage offset to an even number, then divide by two\n\t\t\t\t// to spread the offset on both sides of the range.\n\t\t\t\tstepsize = pctDifference/realSteps;\n\n\t\t\t\t// Divide all points evenly, adding the correct number to this subrange.\n\t\t\t\t// Run up to <= so that 100% gets a point, event if ignoreLast is set.\n\t\t\t\tfor ( q = 1; q <= realSteps; q += 1 ) {\n\n\t\t\t\t\t// The ratio between the rounded value and the actual size might be ~1% off.\n\t\t\t\t\t// Correct the percentage offset by the number of points\n\t\t\t\t\t// per subrange. density = 1 will result in 100 points on the\n\t\t\t\t\t// full range, 2 for 50, 4 for 25, etc.\n\t\t\t\t\tpctPos = prevPct + ( q * stepsize );\n\t\t\t\t\tindexes[pctPos.toFixed(5)] = ['x', 0];\n\t\t\t\t}\n\n\t\t\t\t// Determine the point type.\n\t\t\t\ttype = (group.indexOf(i) > -1) ? 1 : ( mode === 'steps' ? 2 : 0 );\n\n\t\t\t\t// Enforce the 'ignoreFirst' option by overwriting the type for 0.\n\t\t\t\tif ( !index && ignoreFirst ) {\n\t\t\t\t\ttype = 0;\n\t\t\t\t}\n\n\t\t\t\tif ( !(i === high && ignoreLast)) {\n\t\t\t\t\t// Mark the 'type' of this point. 0 = plain, 1 = real value, 2 = step value.\n\t\t\t\t\tindexes[newPct.toFixed(5)] = [i, type];\n\t\t\t\t}\n\n\t\t\t\t// Update the percentage count.\n\t\t\t\tprevPct = newPct;\n\t\t\t}\n\t\t});\n\n\t\t// Reset the spectrum.\n\t\tscope_Spectrum.direction = originalSpectrumDirection;\n\n\t\treturn indexes;\n\t}\n\n\tfunction addMarking ( spread, filterFunc, formatter ) {\n\n\t\tvar style = ['horizontal', 'vertical'][options.ort],\n\t\t\telement = document.createElement('div'),\n\t\t\tout = '';\n\n\t\taddClass(element, cssClasses[20]);\n\t\taddClass(element, cssClasses[20] + '-' + style);\n\n\t\tfunction getSize( type ){\n\t\t\treturn [ '-normal', '-large', '-sub' ][type];\n\t\t}\n\n\t\tfunction getTags( offset, source, values ) {\n\t\t\treturn 'class=\"' + source + ' ' +\n\t\t\t\tsource + '-' + style + ' ' +\n\t\t\t\tsource + getSize(values[1]) +\n\t\t\t\t'\" style=\"' + options.style + ': ' + offset + '%\"';\n\t\t}\n\n\t\tfunction addSpread ( offset, values ){\n\n\t\t\tif ( scope_Spectrum.direction ) {\n\t\t\t\toffset = 100 - offset;\n\t\t\t}\n\n\t\t\t// Apply the filter function, if it is set.\n\t\t\tvalues[1] = (values[1] && filterFunc) ? filterFunc(values[0], values[1]) : values[1];\n\n\t\t\t// Add a marker for every point\n\t\t\tout += '<div ' + getTags(offset, cssClasses[21], values) + '></div>';\n\n\t\t\t// Values are only appended for points marked '1' or '2'.\n\t\t\tif ( values[1] ) {\n\t\t\t\tout += '<div '+getTags(offset, cssClasses[22], values)+'>' + formatter.to(values[0]) + '</div>';\n\t\t\t}\n\t\t}\n\n\t\t// Append all points.\n\t\tObject.keys(spread).forEach(function(a){\n\t\t\taddSpread(a, spread[a]);\n\t\t});\n\t\telement.innerHTML = out;\n\n\t\treturn element;\n\t}\n\n\tfunction pips ( grid ) {\n\n\tvar mode = grid.mode,\n\t\tdensity = grid.density || 1,\n\t\tfilter = grid.filter || false,\n\t\tvalues = grid.values || false,\n\t\tstepped = grid.stepped || false,\n\t\tgroup = getGroup( mode, values, stepped ),\n\t\tspread = generateSpread( density, mode, group ),\n\t\tformat = grid.format || {\n\t\t\tto: Math.round\n\t\t};\n\n\t\treturn scope_Target.appendChild(addMarking(\n\t\t\tspread,\n\t\t\tfilter,\n\t\t\tformat\n\t\t));\n\t}\n\n\n\t// Shorthand for base dimensions.\n\tfunction baseSize ( ) {\n\t\tvar rect = scope_Base.getBoundingClientRect(), alt = 'offset' + ['Width', 'Height'][options.ort];\n\t\treturn options.ort === 0 ? (rect.width||scope_Base[alt]) : (rect.height||scope_Base[alt]);\n\t}\n\n\t// External event handling\n\tfunction fireEvent ( event, handleNumber, tap ) {\n\n\t\tif ( handleNumber !== undefined && options.handles !== 1 ) {\n\t\t\thandleNumber = Math.abs(handleNumber - options.dir);\n\t\t}\n\n\t\tObject.keys(scope_Events).forEach(function( targetEvent ) {\n\n\t\t\tvar eventType = targetEvent.split('.')[0];\n\n\t\t\tif ( event === eventType ) {\n\t\t\t\tscope_Events[targetEvent].forEach(function( callback ) {\n\n\t\t\t\t\tcallback.call(\n\t\t\t\t\t\t// Use the slider public API as the scope ('this')\n\t\t\t\t\t\tscope_Self,\n\t\t\t\t\t\t// Return values as array, so arg_1[arg_2] is always valid.\n\t\t\t\t\t\tasArray(valueGet()),\n\t\t\t\t\t\t// Handle index, 0 or 1\n\t\t\t\t\t\thandleNumber,\n\t\t\t\t\t\t// Unformatted slider values\n\t\t\t\t\t\tasArray(inSliderOrder(Array.prototype.slice.call(scope_Values))),\n\t\t\t\t\t\t// Event is fired by tap, true or false\n\t\t\t\t\t\ttap || false,\n\t\t\t\t\t\t// Left offset of the handle, in relation to the slider\n\t\t\t\t\t\tscope_Locations\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\t// Returns the input array, respecting the slider direction configuration.\n\tfunction inSliderOrder ( values ) {\n\n\t\t// If only one handle is used, return a single value.\n\t\tif ( values.length === 1 ){\n\t\t\treturn values[0];\n\t\t}\n\n\t\tif ( options.dir ) {\n\t\t\treturn values.reverse();\n\t\t}\n\n\t\treturn values;\n\t}\n\n\n\t// Handler for attaching events trough a proxy.\n\tfunction attach ( events, element, callback, data ) {\n\n\t\t// This function can be used to 'filter' events to the slider.\n\t\t// element is a node, not a nodeList\n\n\t\tvar method = function ( e ){\n\n\t\t\tif ( scope_Target.hasAttribute('disabled') ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Stop if an active 'tap' transition is taking place.\n\t\t\tif ( hasClass(scope_Target, cssClasses[14]) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\te = fixEvent(e, data.pageOffset);\n\n\t\t\t// Ignore right or middle clicks on start #454\n\t\t\tif ( events === actions.start && e.buttons !== undefined && e.buttons > 1 ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Ignore right or middle clicks on start #454\n\t\t\tif ( data.hover && e.buttons ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\te.calcPoint = e.points[ options.ort ];\n\n\t\t\t// Call the event handler with the event [ and additional data ].\n\t\t\tcallback ( e, data );\n\n\t\t}, methods = [];\n\n\t\t// Bind a closure on the target for every event type.\n\t\tevents.split(' ').forEach(function( eventName ){\n\t\t\telement.addEventListener(eventName, method, false);\n\t\t\tmethods.push([eventName, method]);\n\t\t});\n\n\t\treturn methods;\n\t}\n\n\t// Handle movement on document for handle and range drag.\n\tfunction move ( event, data ) {\n\n\t\t// Fix #498\n\t\t// Check value of .buttons in 'start' to work around a bug in IE10 mobile (data.buttonsProperty).\n\t\t// https://connect.microsoft.com/IE/feedback/details/927005/mobile-ie10-windows-phone-buttons-property-of-pointermove-event-always-zero\n\t\t// IE9 has .buttons and .which zero on mousemove.\n\t\t// Firefox breaks the spec MDN defines.\n\t\tif ( navigator.appVersion.indexOf(\"MSIE 9\") === -1 && event.buttons === 0 && data.buttonsProperty !== 0 ) {\n\t\t\treturn end(event, data);\n\t\t}\n\n\t\tvar handles = data.handles || scope_Handles, positions, state = false,\n\t\t\tproposal = ((event.calcPoint - data.start) * 100) / data.baseSize,\n\t\t\thandleNumber = handles[0] === scope_Handles[0] ? 0 : 1, i;\n\n\t\t// Calculate relative positions for the handles.\n\t\tpositions = getPositions( proposal, data.positions, handles.length > 1);\n\n\t\tstate = setHandle ( handles[0], positions[handleNumber], handles.length === 1 );\n\n\t\tif ( handles.length > 1 ) {\n\n\t\t\tstate = setHandle ( handles[1], positions[handleNumber?0:1], false ) || state;\n\n\t\t\tif ( state ) {\n\t\t\t\t// fire for both handles\n\t\t\t\tfor ( i = 0; i < data.handles.length; i++ ) {\n\t\t\t\t\tfireEvent('slide', i);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if ( state ) {\n\t\t\t// Fire for a single handle\n\t\t\tfireEvent('slide', handleNumber);\n\t\t}\n\t}\n\n\t// Unbind move events on document, call callbacks.\n\tfunction end ( event, data ) {\n\n\t\t// The handle is no longer active, so remove the class.\n\t\tvar active = scope_Base.querySelector( '.' + cssClasses[15] ),\n\t\t\thandleNumber = data.handles[0] === scope_Handles[0] ? 0 : 1;\n\n\t\tif ( active !== null ) {\n\t\t\tremoveClass(active, cssClasses[15]);\n\t\t}\n\n\t\t// Remove cursor styles and text-selection events bound to the body.\n\t\tif ( event.cursor ) {\n\t\t\tdocument.body.style.cursor = '';\n\t\t\tdocument.body.removeEventListener('selectstart', document.body.noUiListener);\n\t\t}\n\n\t\tvar d = document.documentElement;\n\n\t\t// Unbind the move and end events, which are added on 'start'.\n\t\td.noUiListeners.forEach(function( c ) {\n\t\t\td.removeEventListener(c[0], c[1]);\n\t\t});\n\n\t\t// Remove dragging class.\n\t\tremoveClass(scope_Target, cssClasses[12]);\n\n\t\t// Fire the change and set events.\n\t\tfireEvent('set', handleNumber);\n\t\tfireEvent('change', handleNumber);\n\n\t\t// If this is a standard handle movement, fire the end event.\n\t\tif ( data.handleNumber !== undefined ) {\n\t\t\tfireEvent('end', data.handleNumber);\n\t\t}\n\t}\n\n\t// Fire 'end' when a mouse or pen leaves the document.\n\tfunction documentLeave ( event, data ) {\n\t\tif ( event.type === \"mouseout\" && event.target.nodeName === \"HTML\" && event.relatedTarget === null ){\n\t\t\tend ( event, data );\n\t\t}\n\t}\n\n\t// Bind move events on document.\n\tfunction start ( event, data ) {\n\n\t\tvar d = document.documentElement;\n\n\t\t// Mark the handle as 'active' so it can be styled.\n\t\tif ( data.handles.length === 1 ) {\n\t\t\taddClass(data.handles[0].children[0], cssClasses[15]);\n\n\t\t\t// Support 'disabled' handles\n\t\t\tif ( data.handles[0].hasAttribute('disabled') ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t// Fix #551, where a handle gets selected instead of dragged.\n\t\tevent.preventDefault();\n\n\t\t// A drag should never propagate up to the 'tap' event.\n\t\tevent.stopPropagation();\n\n\t\t// Attach the move and end events.\n\t\tvar moveEvent = attach(actions.move, d, move, {\n\t\t\tstart: event.calcPoint,\n\t\t\tbaseSize: baseSize(),\n\t\t\tpageOffset: event.pageOffset,\n\t\t\thandles: data.handles,\n\t\t\thandleNumber: data.handleNumber,\n\t\t\tbuttonsProperty: event.buttons,\n\t\t\tpositions: [\n\t\t\t\tscope_Locations[0],\n\t\t\t\tscope_Locations[scope_Handles.length - 1]\n\t\t\t]\n\t\t}), endEvent = attach(actions.end, d, end, {\n\t\t\thandles: data.handles,\n\t\t\thandleNumber: data.handleNumber\n\t\t});\n\n\t\tvar outEvent = attach(\"mouseout\", d, documentLeave, {\n\t\t\thandles: data.handles,\n\t\t\thandleNumber: data.handleNumber\n\t\t});\n\n\t\td.noUiListeners = moveEvent.concat(endEvent, outEvent);\n\n\t\t// Text selection isn't an issue on touch devices,\n\t\t// so adding cursor styles can be skipped.\n\t\tif ( event.cursor ) {\n\n\t\t\t// Prevent the 'I' cursor and extend the range-drag cursor.\n\t\t\tdocument.body.style.cursor = getComputedStyle(event.target).cursor;\n\n\t\t\t// Mark the target with a dragging state.\n\t\t\tif ( scope_Handles.length > 1 ) {\n\t\t\t\taddClass(scope_Target, cssClasses[12]);\n\t\t\t}\n\n\t\t\tvar f = function(){\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tdocument.body.noUiListener = f;\n\n\t\t\t// Prevent text selection when dragging the handles.\n\t\t\tdocument.body.addEventListener('selectstart', f, false);\n\t\t}\n\n\t\tif ( data.handleNumber !== undefined ) {\n\t\t\tfireEvent('start', data.handleNumber);\n\t\t}\n\t}\n\n\t// Move closest handle to tapped location.\n\tfunction tap ( event ) {\n\n\t\tvar location = event.calcPoint, total = 0, handleNumber, to;\n\n\t\t// The tap event shouldn't propagate up and cause 'edge' to run.\n\t\tevent.stopPropagation();\n\n\t\t// Add up the handle offsets.\n\t\tscope_Handles.forEach(function(a){\n\t\t\ttotal += offset(a)[ options.style ];\n\t\t});\n\n\t\t// Find the handle closest to the tapped position.\n\t\thandleNumber = ( location < total/2 || scope_Handles.length === 1 ) ? 0 : 1;\n\t\t\n\t\t// Check if handler is not disablet if yes set number to the next handler\n\t\tif (scope_Handles[handleNumber].hasAttribute('disabled')) {\n\t\t\thandleNumber = handleNumber ? 0 : 1;\n\t\t}\n\n\t\tlocation -= offset(scope_Base)[ options.style ];\n\n\t\t// Calculate the new position.\n\t\tto = ( location * 100 ) / baseSize();\n\n\t\tif ( !options.events.snap ) {\n\t\t\t// Flag the slider as it is now in a transitional state.\n\t\t\t// Transition takes 300 ms, so re-enable the slider afterwards.\n\t\t\taddClassFor( scope_Target, cssClasses[14], 300 );\n\t\t}\n\n\t\t// Support 'disabled' handles\n\t\tif ( scope_Handles[handleNumber].hasAttribute('disabled') ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Find the closest handle and calculate the tapped point.\n\t\t// The set handle to the new position.\n\t\tsetHandle( scope_Handles[handleNumber], to );\n\n\t\tfireEvent('slide', handleNumber, true);\n\t\tfireEvent('set', handleNumber, true);\n\t\tfireEvent('change', handleNumber, true);\n\n\t\tif ( options.events.snap ) {\n\t\t\tstart(event, { handles: [scope_Handles[handleNumber]] });\n\t\t}\n\t}\n\n\t// Fires a 'hover' event for a hovered mouse/pen position.\n\tfunction hover ( event ) {\n\n\t\tvar location = event.calcPoint - offset(scope_Base)[ options.style ],\n\t\t\tto = scope_Spectrum.getStep(( location * 100 ) / baseSize()),\n\t\t\tvalue = scope_Spectrum.fromStepping( to );\n\n\t\tObject.keys(scope_Events).forEach(function( targetEvent ) {\n\t\t\tif ( 'hover' === targetEvent.split('.')[0] ) {\n\t\t\t\tscope_Events[targetEvent].forEach(function( callback ) {\n\t\t\t\t\tcallback.call( scope_Self, value );\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\t// Attach events to several slider parts.\n\tfunction events ( behaviour ) {\n\n\t\tvar i, drag;\n\n\t\t// Attach the standard drag event to the handles.\n\t\tif ( !behaviour.fixed ) {\n\n\t\t\tfor ( i = 0; i < scope_Handles.length; i += 1 ) {\n\n\t\t\t\t// These events are only bound to the visual handle\n\t\t\t\t// element, not the 'real' origin element.\n\t\t\t\tattach ( actions.start, scope_Handles[i].children[0], start, {\n\t\t\t\t\thandles: [ scope_Handles[i] ],\n\t\t\t\t\thandleNumber: i\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// Attach the tap event to the slider base.\n\t\tif ( behaviour.tap ) {\n\n\t\t\tattach ( actions.start, scope_Base, tap, {\n\t\t\t\thandles: scope_Handles\n\t\t\t});\n\t\t}\n\n\t\t// Fire hover events\n\t\tif ( behaviour.hover ) {\n\t\t\tattach ( actions.move, scope_Base, hover, { hover: true } );\n\t\t\tfor ( i = 0; i < scope_Handles.length; i += 1 ) {\n\t\t\t\t['mousemove MSPointerMove pointermove'].forEach(function( eventName ){\n\t\t\t\t\tscope_Handles[i].children[0].addEventListener(eventName, stopPropagation, false);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// Make the range draggable.\n\t\tif ( behaviour.drag ){\n\n\t\t\tdrag = [scope_Base.querySelector( '.' + cssClasses[7] )];\n\t\t\taddClass(drag[0], cssClasses[10]);\n\n\t\t\t// When the range is fixed, the entire range can\n\t\t\t// be dragged by the handles. The handle in the first\n\t\t\t// origin will propagate the start event upward,\n\t\t\t// but it needs to be bound manually on the other.\n\t\t\tif ( behaviour.fixed ) {\n\t\t\t\tdrag.push(scope_Handles[(drag[0] === scope_Handles[0] ? 1 : 0)].children[0]);\n\t\t\t}\n\n\t\t\tdrag.forEach(function( element ) {\n\t\t\t\tattach ( actions.start, element, start, {\n\t\t\t\t\thandles: scope_Handles\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\n\t// Test suggested values and apply margin, step.\n\tfunction setHandle ( handle, to, noLimitOption ) {\n\n\t\tvar trigger = handle !== scope_Handles[0] ? 1 : 0,\n\t\t\tlowerMargin = scope_Locations[0] + options.margin,\n\t\t\tupperMargin = scope_Locations[1] - options.margin,\n\t\t\tlowerLimit = scope_Locations[0] + options.limit,\n\t\t\tupperLimit = scope_Locations[1] - options.limit;\n\n\t\t// For sliders with multiple handles,\n\t\t// limit movement to the other handle.\n\t\t// Apply the margin option by adding it to the handle positions.\n\t\tif ( scope_Handles.length > 1 ) {\n\t\t\tto = trigger ? Math.max( to, lowerMargin ) : Math.min( to, upperMargin );\n\t\t}\n\n\t\t// The limit option has the opposite effect, limiting handles to a\n\t\t// maximum distance from another. Limit must be > 0, as otherwise\n\t\t// handles would be unmoveable. 'noLimitOption' is set to 'false'\n\t\t// for the .val() method, except for pass 4/4.\n\t\tif ( noLimitOption !== false && options.limit && scope_Handles.length > 1 ) {\n\t\t\tto = trigger ? Math.min ( to, lowerLimit ) : Math.max( to, upperLimit );\n\t\t}\n\n\t\t// Handle the step option.\n\t\tto = scope_Spectrum.getStep( to );\n\n\t\t// Limit to 0/100 for .val input, trim anything beyond 7 digits, as\n\t\t// JavaScript has some issues in its floating point implementation.\n\t\tto = limit(parseFloat(to.toFixed(7)));\n\n\t\t// Return false if handle can't move\n\t\tif ( to === scope_Locations[trigger] ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Set the handle to the new position.\n\t\t// Use requestAnimationFrame for efficient painting.\n\t\t// No significant effect in Chrome, Edge sees dramatic\n\t\t// performace improvements.\n\t\tif ( window.requestAnimationFrame ) {\n\t\t\twindow.requestAnimationFrame(function(){\n\t\t\t\thandle.style[options.style] = to + '%';\n\t\t\t});\n\t\t} else {\n\t\t\thandle.style[options.style] = to + '%';\n\t\t}\n\n\t\t// Force proper handle stacking\n\t\tif ( !handle.previousSibling ) {\n\t\t\tremoveClass(handle, cssClasses[17]);\n\t\t\tif ( to > 50 ) {\n\t\t\t\taddClass(handle, cssClasses[17]);\n\t\t\t}\n\t\t}\n\n\t\t// Update locations.\n\t\tscope_Locations[trigger] = to;\n\n\t\t// Convert the value to the slider stepping/range.\n\t\tscope_Values[trigger] = scope_Spectrum.fromStepping( to );\n\n\t\tfireEvent('update', trigger);\n\n\t\treturn true;\n\t}\n\n\t// Loop values from value method and apply them.\n\tfunction setValues ( count, values ) {\n\n\t\tvar i, trigger, to;\n\n\t\t// With the limit option, we'll need another limiting pass.\n\t\tif ( options.limit ) {\n\t\t\tcount += 1;\n\t\t}\n\n\t\t// If there are multiple handles to be set run the setting\n\t\t// mechanism twice for the first handle, to make sure it\n\t\t// can be bounced of the second one properly.\n\t\tfor ( i = 0; i < count; i += 1 ) {\n\n\t\t\ttrigger = i%2;\n\n\t\t\t// Get the current argument from the array.\n\t\t\tto = values[trigger];\n\n\t\t\t// Setting with null indicates an 'ignore'.\n\t\t\t// Inputting 'false' is invalid.\n\t\t\tif ( to !== null && to !== false ) {\n\n\t\t\t\t// If a formatted number was passed, attemt to decode it.\n\t\t\t\tif ( typeof to === 'number' ) {\n\t\t\t\t\tto = String(to);\n\t\t\t\t}\n\n\t\t\t\tto = options.format.from( to );\n\n\t\t\t\t// Request an update for all links if the value was invalid.\n\t\t\t\t// Do so too if setting the handle fails.\n\t\t\t\tif ( to === false || isNaN(to) || setHandle( scope_Handles[trigger], scope_Spectrum.toStepping( to ), i === (3 - options.dir) ) === false ) {\n\t\t\t\t\tfireEvent('update', trigger);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the slider value.\n\tfunction valueSet ( input ) {\n\n\t\tvar count, values = asArray( input ), i;\n\n\t\t// The RTL settings is implemented by reversing the front-end,\n\t\t// internal mechanisms are the same.\n\t\tif ( options.dir && options.handles > 1 ) {\n\t\t\tvalues.reverse();\n\t\t}\n\n\t\t// Animation is optional.\n\t\t// Make sure the initial values where set before using animated placement.\n\t\tif ( options.animate && scope_Locations[0] !== -1 ) {\n\t\t\taddClassFor( scope_Target, cssClasses[14], 300 );\n\t\t}\n\n\t\t// Determine how often to set the handles.\n\t\tcount = scope_Handles.length > 1 ? 3 : 1;\n\n\t\tif ( values.length === 1 ) {\n\t\t\tcount = 1;\n\t\t}\n\n\t\tsetValues ( count, values );\n\n\t\t// Fire the 'set' event for both handles.\n\t\tfor ( i = 0; i < scope_Handles.length; i++ ) {\n\n\t\t\t// Fire the event only for handles that received a new value, as per #579\n\t\t\tif ( values[i] !== null ) {\n\t\t\t\tfireEvent('set', i);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Get the slider value.\n\tfunction valueGet ( ) {\n\n\t\tvar i, retour = [];\n\n\t\t// Get the value from all handles.\n\t\tfor ( i = 0; i < options.handles; i += 1 ){\n\t\t\tretour[i] = options.format.to( scope_Values[i] );\n\t\t}\n\n\t\treturn inSliderOrder( retour );\n\t}\n\n\t// Removes classes from the root and empties it.\n\tfunction destroy ( ) {\n\n\t\tcssClasses.forEach(function(cls){\n\t\t\tif ( !cls ) { return; } // Ignore empty classes\n\t\t\tremoveClass(scope_Target, cls);\n\t\t});\n\n\t\twhile (scope_Target.firstChild) {\n\t\t\tscope_Target.removeChild(scope_Target.firstChild);\n\t\t}\n\n\t\tdelete scope_Target.noUiSlider;\n\t}\n\n\t// Get the current step size for the slider.\n\tfunction getCurrentStep ( ) {\n\n\t\t// Check all locations, map them to their stepping point.\n\t\t// Get the step point, then find it in the input list.\n\t\tvar retour = scope_Locations.map(function( location, index ){\n\n\t\t\tvar step = scope_Spectrum.getApplicableStep( location ),\n\n\t\t\t\t// As per #391, the comparison for the decrement step can have some rounding issues.\n\t\t\t\t// Round the value to the precision used in the step.\n\t\t\t\tstepDecimals = countDecimals(String(step[2])),\n\n\t\t\t\t// Get the current numeric value\n\t\t\t\tvalue = scope_Values[index],\n\n\t\t\t\t// To move the slider 'one step up', the current step value needs to be added.\n\t\t\t\t// Use null if we are at the maximum slider value.\n\t\t\t\tincrement = location === 100 ? null : step[2],\n\n\t\t\t\t// Going 'one step down' might put the slider in a different sub-range, so we\n\t\t\t\t// need to switch between the current or the previous step.\n\t\t\t\tprev = Number((value - step[2]).toFixed(stepDecimals)),\n\n\t\t\t\t// If the value fits the step, return the current step value. Otherwise, use the\n\t\t\t\t// previous step. Return null if the slider is at its minimum value.\n\t\t\t\tdecrement = location === 0 ? null : (prev >= step[1]) ? step[2] : (step[0] || false);\n\n\t\t\treturn [decrement, increment];\n\t\t});\n\n\t\t// Return values in the proper order.\n\t\treturn inSliderOrder( retour );\n\t}\n\n\t// Attach an event to this slider, possibly including a namespace\n\tfunction bindEvent ( namespacedEvent, callback ) {\n\t\tscope_Events[namespacedEvent] = scope_Events[namespacedEvent] || [];\n\t\tscope_Events[namespacedEvent].push(callback);\n\n\t\t// If the event bound is 'update,' fire it immediately for all handles.\n\t\tif ( namespacedEvent.split('.')[0] === 'update' ) {\n\t\t\tscope_Handles.forEach(function(a, index){\n\t\t\t\tfireEvent('update', index);\n\t\t\t});\n\t\t}\n\t}\n\n\t// Undo attachment of event\n\tfunction removeEvent ( namespacedEvent ) {\n\n\t\tvar event = namespacedEvent.split('.')[0],\n\t\t\tnamespace = namespacedEvent.substring(event.length);\n\n\t\tObject.keys(scope_Events).forEach(function( bind ){\n\n\t\t\tvar tEvent = bind.split('.')[0],\n\t\t\t\ttNamespace = bind.substring(tEvent.length);\n\n\t\t\tif ( (!event || event === tEvent) && (!namespace || namespace === tNamespace) ) {\n\t\t\t\tdelete scope_Events[bind];\n\t\t\t}\n\t\t});\n\t}\n\n\t// Updateable: margin, limit, step, range, animate, snap\n\tfunction updateOptions ( optionsToUpdate ) {\n\n\t\tvar v = valueGet(), i, newOptions = testOptions({\n\t\t\tstart: [0, 0],\n\t\t\tmargin: optionsToUpdate.margin,\n\t\t\tlimit: optionsToUpdate.limit,\n\t\t\tstep: optionsToUpdate.step,\n\t\t\trange: optionsToUpdate.range,\n\t\t\tanimate: optionsToUpdate.animate,\n\t\t\tsnap: optionsToUpdate.snap === undefined ? options.snap : optionsToUpdate.snap\n\t\t});\n\n\t\t['margin', 'limit', 'step', 'range', 'animate'].forEach(function(name){\n\t\t\tif ( optionsToUpdate[name] !== undefined ) {\n\t\t\t\toptions[name] = optionsToUpdate[name];\n\t\t\t}\n\t\t});\n\n\t\t// Save current spectrum direction as testOptions in testRange call\n\t\t// doesn't rely on current direction\n\t\tnewOptions.spectrum.direction = scope_Spectrum.direction;\n\t\tscope_Spectrum = newOptions.spectrum;\n\n\t\t// Invalidate the current positioning so valueSet forces an update.\n\t\tscope_Locations = [-1, -1];\n\t\tvalueSet(v);\n\n\t\tfor ( i = 0; i < scope_Handles.length; i++ ) {\n\t\t\tfireEvent('update', i);\n\t\t}\n\t}\n\n\n\t// Throw an error if the slider was already initialized.\n\tif ( scope_Target.noUiSlider ) {\n\t\tthrow new Error('Slider was already initialized.');\n\t}\n\n\t// Create the base element, initialise HTML and set classes.\n\t// Add handles and links.\n\tscope_Base = addSlider( options.dir, options.ort, scope_Target );\n\tscope_Handles = addHandles( options.handles, options.dir, scope_Base );\n\n\t// Set the connect classes.\n\taddConnection ( options.connect, scope_Target, scope_Handles );\n\n\tif ( options.pips ) {\n\t\tpips(options.pips);\n\t}\n\n\tif ( options.tooltips ) {\n\t\ttooltips();\n\t}\n\n\tscope_Self = {\n\t\tdestroy: destroy,\n\t\tsteps: getCurrentStep,\n\t\ton: bindEvent,\n\t\toff: removeEvent,\n\t\tget: valueGet,\n\t\tset: valueSet,\n\t\tupdateOptions: updateOptions,\n\t\toptions: options, // Issue #600\n\t\ttarget: scope_Target, // Issue #597\n\t\tpips: pips // Issue #594\n\t};\n\n\t// Attach user events.\n\tevents( options.events );\n\n\treturn scope_Self;\n\n}\n\n\n\t// Run the standard initializer\n\tfunction initialize ( target, originalOptions ) {\n\n\t\tif ( !target.nodeName ) {\n\t\t\tthrow new Error('noUiSlider.create requires a single element.');\n\t\t}\n\n\t\t// Test the options and create the slider environment;\n\t\tvar options = testOptions( originalOptions, target ),\n\t\t\tslider = closure( target, options );\n\n\t\t// Use the public value method to set the start values.\n\t\tslider.set(options.start);\n\n\t\ttarget.noUiSlider = slider;\n\t\treturn slider;\n\t}\n\n\t// Use an object instead of a function for future expansibility;\n\treturn {\n\t\tcreate: initialize\n\t};\n\n}));","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\nmodule.exports = function() {\n  /*@ngInject*/\n  function controller($scope, $element, Debounce) {\n    var vm = this;\n\n    vm.gradeSystem = $scope.gradeSystem;\n    vm.savingMethod = $scope.savingMethod;\n    vm.assignment = $scope.assignment;\n    vm.counterGrades = vm.assignment.counter_grades;\n\n    if ($element.data('disabled')) {\n      vm.counterReadonly = true;\n    }\n\n    /**\n     * Init function\n     */\n    vm.init = function() {\n      vm.counterGrades.forEach(function(elem) {\n        if (elem.points === null) { elem.points = '-'; }\n      });\n    };\n\n    /**\n     * Parse input value - if it's not integer set value to dash\n     * @param {Number} index\n     */\n    vm.parseInput = function(index) {\n      if (vm.isOnlyNumber(index)) {\n        vm.counterGrades[index].points = parseInt(vm.counterGrades[index].points);\n      } else {\n        vm.counterGrades[index].points = '-';\n      }\n    };\n\n    /**\n     * Check if input value contains only number\n     * @param {Number} index\n     * @return {Boolean}\n     */\n    vm.isOnlyNumber = function(index) {\n      var validTest = /^[0-9]{1,10}$/;\n\n      return validTest.test(vm.counterGrades[index].points);\n    };\n\n    /**\n     * Check if value is valid (bigger than zero and lower than max)\n     * @param {Number} index\n     * @param {String} direction\n     * @return {Boolean} valid\n     */\n    vm.validation = function(index, direction) {\n      var valid = true;\n\n      switch (direction) {\n        case 'up':\n          if (vm.counterGrades[index].points >= vm.counterGrades[index].max) { valid = false; }\n          break;\n        case 'down':\n          if (vm.counterGrades[index].points === '-') { valid = false; }\n          break;\n        case 'direct':\n          if (vm.counterGrades[index].points >= vm.counterGrades[index].max) { vm.counterGrades[index].points = vm.counterGrades[index].max; }\n          if (vm.counterGrades[index].points <= 0) { vm.counterGrades[index].points = 0; }\n          break;\n      }\n\n      return valid;\n    };\n\n    /**\n     * Handle increase counter value\n     * @param {Number} index\n     */\n    vm.increase = function(index) {\n      if (!vm.validation(index, 'up')) {\n        return;\n      }\n\n      if (vm.counterGrades[index].points === '-') {\n        vm.counterGrades[index].points = 0;\n      } else {\n        vm.counterGrades[index].points = parseInt(vm.counterGrades[index].points) + 1;\n      }\n\n      vm.sendToAPI();\n    };\n\n    /**\n     * Handle decrease counter value\n     * @param {Number} index\n     */\n    vm.decrease = function(index) {\n      if (!vm.validation(index, 'down')) {\n        return;\n      }\n\n      if (vm.counterGrades[index].points === 0) {\n        vm.counterGrades[index].points = '-';\n      } else {\n        vm.counterGrades[index].points = parseInt(vm.counterGrades[index].points) - 1;\n      }\n\n      vm.sendToAPI();\n    };\n\n    /**\n     * Handle direct value change\n     * @param {Number} index\n     */\n    vm.directChange = function(index) {\n      vm.parseInput(index);\n      vm.validation(index, 'direct');\n\n      vm.sendToAPI();\n    };\n\n    /**\n     * Handle click on input\n     * @param {Number} index\n     */\n    vm.selectInput = function($event) {\n      if (vm.counterReadonly) {\n        return;\n      }\n\n      $event.currentTarget.select();\n    };\n\n    /**\n     * Send information to the API\n     */\n    vm.sendToAPI = Debounce(function() {\n      if (vm.counterReadonly) {\n        return;\n      }\n\n      vm.savingMethod([vm.assignment]);\n    }, 500);\n\n    vm.init();\n  }\n\n  return {\n    restrict: 'E',\n    scope: {\n      assignment: '=',\n      gradeSystem: '=',\n      savingMethod: '='\n    },\n    templateUrl: 'utils/views/counters.html',\n    controller: controller,\n    controllerAs: 'vm'\n  };\n};\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\nmodule.exports = function() {\n  /*@ngInject*/\n  function controller($scope, $mdBottomSheet, FetchData, Helpers) {\n    $scope.$watch('trigger', function() {\n      if ($scope.trigger === undefined) {\n        return;\n      }\n\n      FetchData.getSingleObjectiveRequirements($scope.objectiveId).then(function(res) {\n        $mdBottomSheet.show({\n          parent: angular.element(document.querySelectorAll('[md-component-id=\"studybee\"]')),\n          templateUrl: 'utils/views/knowledge_requirements.html',\n          controller: function() {\n            var vm = this;\n\n            /**\n             * Get data from API\n             */\n            vm.objective = res;\n\n            vm.knowledgeRequirementGrade = Helpers.findFirstPositiveGrade(vm.objective.grade_system);\n\n            /**\n             * Show grade requirements\n             */\n            vm.showGradeRequirements = function() {\n              vm.activeRequirement = {};\n\n              vm.activeRequirement = vm.objective.knowledge_requirements.find(function(req) {\n                  return req.grade_name === vm.knowledgeRequirementGrade;\n              });\n            };\n\n            /**\n             * Close knowledge requirements sheet\n             */\n            vm.close = function() {\n              $mdBottomSheet.hide();\n            };\n\n            /**\n             * Set vm.activeRequirement at knowledge requirements show\n             */\n            vm.showGradeRequirements();\n          },\n          controllerAs: 'vm'\n        });\n      });\n    });\n  }\n\n  return {\n    restrict: 'E',\n    controller: controller,\n    scope: {\n      trigger: '=',\n      objectiveId: '='\n    }\n  };\n};\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/*@ngInject*/\nmodule.exports = function($timeout) {\n  function link(scope, element, attr) {\n    var config = [];\n    var throttle = false;\n\n    scope.initConfig = function() {\n      $timeout(function() {\n        scope.getConfig();\n      });\n    };\n\n    scope.getConfig = function() {\n      config = [];\n\n      var startOffset = element\n        .find('.sb-section-offset')\n        .outerHeight();\n\n      if (!startOffset) { startOffset = 0; }\n\n      var sections = element\n        .find('.sb-section-header')\n        .parent()\n        .toArray();\n\n      sections.forEach(function(el, i) {\n        var sectionHeight = $(el).outerHeight();\n        var sectionStart;\n        var sectionEnd;\n\n        var subheader = $(el).find('.sb-section-header');\n        var subheaderHeight = subheader.outerHeight();\n\n        if (i !== 0) {\n          sectionStart = config[config.length - 1].sectionEnd + config[config.length - 1].subheaderHeight;\n        } else {\n          sectionStart = startOffset;\n        }\n\n        sectionEnd = sectionStart + sectionHeight - subheaderHeight;\n\n        config.push({\n          'subheader': subheader,\n          'subheaderHeight': subheaderHeight,\n          'sectionStart': sectionStart,\n          'sectionEnd': sectionEnd,\n          'maxTransform': sectionEnd - sectionStart\n        });\n      });\n    };\n\n    element.on('scroll', function() {\n      if (!throttle) {\n        scope.getConfig();\n\n        throttle = true;\n\n        $timeout(function() {\n          throttle = false;\n        }, 1000);\n      }\n\n      var scrollTop = $(element).scrollTop();\n\n      config.forEach(function(el, i) {\n        var transformDistance = scrollTop - el.sectionStart;\n\n        if (scrollTop > el.sectionStart && scrollTop < el.sectionEnd) {\n          $(el.subheader)\n            .css({\n              'transform': 'translate3d(0px, ' + transformDistance + 'px, 0px)'\n            })\n            .addClass('md-whiteframe-1dp');\n        } else if (scrollTop <= el.sectionStart) {\n          $(el.subheader)\n            .css({\n              'transform': 'translate3d(0px, 0px, 0px)'\n            })\n            .removeClass('md-whiteframe-1dp');\n        } else if (scrollTop >= el.sectionEnd) {\n          $(el.subheader)\n            .css({\n              'transform': 'translate3d(0px, ' + el.maxTransform + 'px, 0px)'\n            })\n            .removeClass('md-whiteframe-1dp');\n        }\n      });\n    });\n  }\n\n  return {\n    restrict: 'A',\n    link: link\n  };\n};\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/*@ngInject*/\nmodule.exports = () => {\n  'ngInject';\n\n  function link() {\n    const allowedTags = ['p', 'div'];\n\n    const backwardCompatibility = (element) => {\n      const $prevElement = $(element).prev();\n\n      return $prevElement.length && allowedTags.includes($prevElement[0].localName) ? $prevElement : $('<div>');\n    };\n\n    const getLastModifyTag = (element) => {\n      const $lastModifyTag = $(element)\n        .closest('.last-modify-parent')\n        .find('.last-modify-tag');\n\n      return $lastModifyTag.length ? $lastModifyTag : backwardCompatibility(element);\n    };\n\n    $(document).on('mouseenter', '.last-modified-trigger', (e) => {\n      getLastModifyTag(e.currentTarget).addClass('visible-date');\n    });\n\n    $(document).on('mouseleave', '.last-modified-trigger', (e) => {\n      getLastModifyTag(e.currentTarget).removeClass('visible-date');\n    });\n  }\n\n  return {\n    restrict: 'A',\n    link,\n  };\n};\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module StudybeeHandle/Directive\n */\n\nmodule.exports = function() {\n  /*@ngInject*/\n  function controller($rootScope, $element, $mdSidenav, StudybeeHandle) {\n    StudybeeHandle.setBeforeCloseCallback(function() {\n      $element.removeClass('studybee-handle-opened-show');\n    });\n\n    StudybeeHandle.setInProgressCloseCallback(function() {\n      $element.removeClass('studybee-handle-opened');\n    });\n\n    StudybeeHandle.setAfterCloseCallback(function() {\n      $element.addClass('studybee-handle-closed studybee-handle-closed-show');\n    });\n\n    StudybeeHandle.setBeforeOpenCallback(function() {\n      $element.removeClass('studybee-handle-closed-show');\n    });\n\n    StudybeeHandle.setInProgressOpenCallback(function() {\n      $element.removeClass('studybee-handle-closed');\n    });\n\n    StudybeeHandle.setAfterOpenCallback(function() {\n      $element.addClass('studybee-handle-opened studybee-handle-opened-show');\n    });\n\n    StudybeeHandle.setDisableCallback(function() {\n      $element.addClass('studybee-handle-disabled');\n    });\n\n    StudybeeHandle.setEnableCallback(function() {\n      $element.removeClass('studybee-handle-disabled');\n    });\n\n    this.toggleStudybee = () => {\n      // can't assign it due to change context\n      StudybeeHandle.studybeeToggle();\n\n      // if (!!$mdSidenav('studybee-menu').isOpen()) {\n      //   $rootScope.toggleMenu();\n      // }\n    };\n  }\n\n  return {\n    scope: true,\n    restrict: 'E',\n    controller: controller,\n    controllerAs: 'vm'\n  };\n};\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/*@ngInject*/\nmodule.exports = function($timeout, Debounce, NavigationHistory) {\n  function link(scope, element) {\n    let currentParams = NavigationHistory.getCurrentParams();\n\n    if(currentParams.scrollPosition) {\n      $timeout(() => {\n        element.scrollTop(currentParams.scrollPosition);\n      });\n    }\n\n    element.on('scroll', Debounce((e) => {\n      NavigationHistory.updateParams({\n        scrollPosition: element.scrollTop()\n      });\n    }, 100));\n  }\n\n  return {\n    restrict: 'A',\n    link\n  };\n};\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module Assignments/Service\n * @description\n *   Keeps a list of assignments\n */\n\n/*@ngInject*/\nfunction Assignments() {\n  let assignments = [];\n  return {\n    /**\n     * Update assignments list.\n     * @param {Array} updatedAssignments Updates assignments array.\n     * @memberof module:Assignments/Service\n     */\n    updateAssignmentsList(updatedAssignments) {\n      assignments = updatedAssignments;\n    },\n\n    getAssignmentByAlternateLink(alternateLinkId) {\n      return assignments.find(assignment => assignment.alternate_link_id === alternateLinkId);\n    },\n  };\n}\n\nmodule.exports = Assignments;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n/**\n * @module Config/Service\n * @description\n *   Keep configuration for application.\n */\n\n/*@ngInject*/\nimport {map} from 'rxjs/operators';\nimport {environment} from \"../../../../../src/environments/environment\";\n\nfunction Config(EnvironmentService) {\n  'ngInject';\n\n  function updateIsRunning($q, Updates) {\n    const deferred = $q.defer();\n\n    const interval = setInterval(() => {\n      if (\n        !Updates.updateAssignmentsLoading &&\n        !Updates.updateStudentsLoading &&\n        !Updates.updateFilesLoading\n      ) {\n        clearInterval(interval);\n        deferred.resolve();\n      }\n    }, 100);\n\n    return deferred.promise;\n  }\n\n\n  return {\n    get apiUrl() {\n      return EnvironmentService.API;\n    },\n    get mixpanelApiUrl() {\n      return environment.urls.mixPanel;\n    },\n    extensionUrl: `chrome-extension://${chrome.i18n.getMessage('@@extension_id')}/`,\n    extensionId: chrome.i18n.getMessage('@@extension_id'),\n    routes: [\n      {\n        // Teacher Assess Assignment\n        // Location in the Classroom on the Student Work page (teacher)\n        name: 'teacher_assess_assignment',\n        role: 'teacher',\n        templateUrl: 'assignments/teacherAssessAssignment/views/main.html',\n        themeClass: 'sb-theme-green',\n        ctrl: 'teacherAssessAssignment.MainCtrl',\n        controllerAs: 'vm',\n        params: {\n          isModal: null,\n          editingMode: null,\n          openedStudents: [],\n          courseDefinitionId: {\n            value: null,\n            dynamic: true,\n          },\n          assignment: null,\n        },\n        resolve: {\n          assignments: (AssignmentsService) => {\n            'ngInject';\n\n            return new Promise(resolve => {\n              AssignmentsService.get().subscribe(resolve);\n            });\n          },\n          assignment($stateParams, Assignments, Path, FetchData, AssignmentsQuery, assignments, AssignmentsStore, AssessmentsQuery) {\n            'ngInject';\n\n            const assignment = $stateParams.assignment;\n            const resolver = assignment ?\n              Promise.resolve(AssignmentsQuery.getEntity(assignment.id)) :\n              FetchData.v2.getAssignmentByAlternateLink(Path.getAssignmentAlternateLinkId())\n                .then(assignment => AssignmentsQuery.getEntity(assignment.id));\n\n\n            return resolver.then(assignment => {\n              AssignmentsStore.setActive(assignment.id);\n              return new Promise(resolve => {\n                AssessmentsQuery.selectMany(assignment.assessments).pipe(\n                  map(assessments => ({\n                    ...assignment,\n                    assessments,\n                  }))\n                ).subscribe(resolve);\n              });\n            })\n          },\n\n          assignmentsObjectives($q, $state, Path, FetchData, MainMenu, assignment) {\n            'ngInject';\n\n            const assignmentId = assignment.id;\n            const courseId = Path.getClassroomId();\n\n            return FetchData.v3.fetchAssignmentAssessments(courseId, assignmentId)\n              .then(response => {\n                const courseDefinition = response.course_definitions\n                  .find(courseDefinition => courseDefinition.objectives.length);\n\n                return courseDefinition ? response : {...response, course_definitions: []};\n              })\n              .catch(() => {\n                MainMenu.saveAssignmentDetails(null);\n                return $q.reject();\n              });\n          },\n          assignmentsStudents($q, Path, FetchData, MainMenu, assignment) {\n            'ngInject';\n\n            const assignmentId = assignment.id;\n            const courseId = Path.getClassroomId();\n            return FetchData.getAssignmentsStudents(\n              assignmentId, courseId,\n            ).catch(() => {\n              MainMenu.saveAssignmentDetails(null);\n              return $q.reject();\n            });\n          },\n          updateIsRunning($q, Updates) {\n            'ngInject';\n\n            return updateIsRunning($q, Updates);\n          },\n        },\n      },\n      {\n        // Teacher Assess Assignment Student\n        // Location in the Classroom on Student Work page on overlay (teacher)\n        name: 'teacher_assess_assignment_student',\n        role: 'teacher',\n        templateUrl: 'assignments/teacherAssessAssignmentStudent/views/main.html',\n        themeClass: 'sb-theme-green',\n        ctrl: 'teacherAssessAssignmentStudent.MainCtrl',\n        controllerAs: 'vm',\n        params: {\n          studentId: null,\n          studentName: null,\n          courseDefinitionId: {\n            value: null,\n            dynamic: true,\n          },\n          editingMode: null,\n          assignment: null,\n        },\n        resolve: {\n          assignments: (AssignmentsService) => {\n            'ngInject';\n\n            return new Promise(resolve => {\n              AssignmentsService.get().subscribe(resolve);\n            });\n          },\n          assignment($stateParams, Assignments, Path, FetchData, AssignmentsQuery, assignments, AssignmentsStore, AssessmentsQuery) {\n            'ngInject';\n\n            const assignment = $stateParams.assignment;\n            const resolver = assignment ?\n              Promise.resolve(AssignmentsQuery.getEntity(assignment.id)) :\n              FetchData.v2.getAssignmentByAlternateLink(Path.getAssignmentAlternateLinkId())\n                .then(assignment => AssignmentsQuery.getEntity(assignment.id));\n\n\n            return resolver.then(assignment => {\n              AssignmentsStore.setActive(assignment.id);\n\n              return new Promise(resolve => {\n                AssessmentsQuery.selectMany(assignment.assessments).pipe(\n                  map(assessments => ({\n                    ...assignment,\n                    assessments,\n                  }))\n                ).subscribe(resolve);\n              });\n            });\n          },\n          assignmentsObjectives($q, Path, FetchData, MainMenu, assignment) {\n            'ngInject';\n\n            const courseId = Path.getClassroomId();\n            return FetchData.v3.fetchAssignmentAssessments(courseId, assignment.id)\n              .catch(() => {\n                MainMenu.saveAssignmentDetails(null);\n                MainMenu.saveStudentDetails(null);\n                return $q.reject();\n              });\n          },\n          updateIsRunning($q, Updates) {\n            'ngInject';\n\n            return updateIsRunning($q, Updates);\n          },\n        },\n      },\n      {\n        // Teacher Google Drive\n        // Location in the Drive on file preview (teacher)\n        name: 'teacher_google_drive',\n        role: 'teacher',\n        templateUrl: 'assignments/teacherAssessAssignmentDrive/views/main.html',\n        themeClass: 'sb-theme-green',\n        ctrl: 'teacherAssessAssignmentDrive.MainCtrl',\n        controllerAs: 'vm',\n        params: {\n          assignmentId: null,\n          editingMode: null,\n          courseDefinitionId: {\n            value: null,\n            dynamic: true,\n          },\n        },\n        resolve: {\n          courseId(Path, Courses, AssignmentsService) {\n            'ngInject';\n\n            let resolve;\n\n            if (Courses.list.length) {\n              resolve = Promise.resolve(Courses.list[0].id);\n            } else {\n              const alternateLinkId = Path.getAssignmentAlternateLinkId(true);\n\n              resolve = Path.getFileId(5)\n                .then(fileId => Courses.getCourseUsingDriveId(fileId, alternateLinkId))\n                .then(course => course.id)\n            }\n\n            return resolve.then(courseID => new Promise(resolve =>\n                AssignmentsService.get().subscribe(() => resolve(courseID)),\n              ),\n            );\n          },\n          studentAssignments($state, Path, FetchData, courseId, AssignmentsStore) {\n            'ngInject';\n\n            const assessmentId = Path.getAssignmentAlternateLinkId(true);\n            return Path.getFileId(5)\n              .then(fileId => FetchData.getAssessmentDrive(fileId, assessmentId))\n              .then(response => {\n                const gradeSystem = response.find(item => item.grade_system);\n\n                if (!gradeSystem) {\n                  return $state.go('teacher_assess_assignment', {\n                    assignment: {id: response[0].assignment},\n                  });\n                }\n\n                AssignmentsStore.setActive(response[0].assignment);\n\n                return FetchData.v3.fetchAssignmentAssessments(courseId, response[0].assignment)\n                  .then((assignmentAssessments) => {\n                    const extendedResponse = {\n                      enable_grade_texts: assignmentAssessments.enable_grade_texts,\n                      show_grade_texts_for_student: assignmentAssessments.show_grade_texts_for_student,\n                    };\n\n                    return [Object.assign(response[0], extendedResponse)];\n                  });\n              }).catch(() => {\n                $state.go('wrongGoogleDriveFile');\n              });\n          },\n          assignment: (studentAssignments, AssignmentsQuery, AssessmentsQuery, $state) => {\n            'ngInject';\n\n            const resolver = new Promise((resolve, reject) => {\n              const active = AssignmentsQuery.getActive();\n\n              return active ? resolve(active) : reject(active);\n            });\n\n            return resolver.then(assignment => {\n              return new Promise(resolve => {\n                AssessmentsQuery.selectMany(assignment.assessments).pipe(\n                  map(assessments => ({\n                    ...assignment,\n                    assessments,\n                  }))\n                ).subscribe(resolve);\n              });\n            }).catch(() => {\n              $state.go('wrongGoogleDriveFile');\n            });\n          },\n          assignments: (AssignmentsService) => {\n            'ngInject';\n\n            return new Promise(resolve => {\n              AssignmentsService.get().subscribe(resolve);\n            });\n          },\n        },\n      },\n    ],\n  };\n}\n\nmodule.exports = Config;\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\nimport { Observable, throwError } from 'rxjs';\nimport {\n  retryWhen, delay, take, concatMap,\n} from 'rxjs/operators';\n\n/**\n * @module Path/Service\n * @description\n *   Allow to get Path and check current or previous page.\n * @param {Object} MainMenu Main Menu service instance\n */\n\n/*@ngInject*/\nfunction Path($window, MainMenu, $timeout) {\n  return {\n    classroomNode: null,\n    driveNode: null,\n    oldPath: null,\n    oldCourseId: null,\n\n    /**\n     * Get an entire path\n     * @memberof module:Path/Service\n     * @return {String}\n     */\n    get path() {\n      return $window.location.pathname;\n    },\n\n    /**\n     * Get path array\n     * @memberof module:Path/Service\n     * @return {Array}\n     */\n    getPathArray() {\n      return this.path.split('/');\n    },\n\n    /**\n     * Get course ID\n     * @memberof module:Path/Service\n     * @return {Number}\n     */\n    getClassroomId() {\n      const result = /[\\da-zA-Z]{10,}/g.exec(this.path);\n\n      return result ? result[0] : null;\n    },\n\n    /**\n     * Get assignment ID\n     * @memberof module:Path/Service\n     * @return {Number}\n     */\n    getAssignmentId() {\n      const pathArray = this.getPathArray();\n      let assignmentId = pathArray[pathArray.indexOf('a') + 1];\n      if (!assignmentId && MainMenu.selectedAssignment) {\n        assignmentId = MainMenu.selectedAssignment.id;\n      }\n      return assignmentId;\n    },\n\n    /**\n     * This is only temporary solution for bad design patterns\n     * @returns {*}\n     */\n    getAssignmentAlternateLinkId(isDrive = false) {\n      if (isDrive) {\n        const result = /\\/([\\da-zA-Z]{5,})#?$/g.exec(this.path);\n\n        return result ? result[1] : null;\n      }\n      const pathArray = this.getPathArray();\n      let altLink = pathArray[pathArray.indexOf('a') + 1];\n      if (!altLink) {\n        altLink = pathArray[pathArray.indexOf('tc') + 1];\n      }\n      return altLink;\n    },\n\n    /**\n     * Get student ID\n     * @memberof module:Path/Service\n     * @return {Number}\n     */\n    getStudentId() {\n      const pathArray = this.getPathArray();\n      const studentId = pathArray[pathArray.indexOf('student') + 1];\n      return studentId;\n    },\n\n    /**\n     * Get file ID\n     * @memberof module:Path/Service\n     * @return {Number}\n     */\n    getFileId(retryTimes = 1) {\n      const getPathFromButton = () => {\n        let documentId = null;\n        const $button = $('[role=main] div[data-url^=https]');\n        const URLRegex = /^(https?:\\/\\/)(www.)?drive.google.com\\/open\\?id=[\\da-zA-Z-_]*&?/gm;\n\n        if ($button.length && URLRegex.test(`${$button.data('url')}`)) {\n          const url = new URL($button.data('url'));\n\n          documentId = url.searchParams.get('id');\n        } else {\n          const links = Array.from(\n            document.querySelectorAll('[role=main] [role=menuitem] [role=presentation] a[href]'),\n          );\n          const link = links.find((link) => URLRegex.test(link.href));\n\n          if (link) {\n            const url = new URL(link.href);\n\n            documentId = url.searchParams.get('id');\n          }\n        }\n\n        return documentId;\n      };\n\n      const getID = (observer) => {\n        let pathArray = this.getPathArray();\n        let fileId = pathArray[pathArray.indexOf('d') + 1];\n\n        if (!fileId) {\n          const iframe = $('iframe#material-iframe:last');\n\n          if (iframe.length && iframe.attr('src')) {\n            pathArray = iframe.attr('src').split('/');\n            fileId = pathArray.includes('d') ? pathArray[pathArray.indexOf('d') + 1] : '';\n          } else {\n            fileId = getPathFromButton();\n          }\n        }\n\n        if (fileId) {\n          observer.next(fileId);\n        } else {\n          observer.error(fileId);\n        }\n      };\n\n      const result = new Observable(getID);\n\n      result.pipe(\n        retryWhen((errors) => errors.pipe(\n          delay(150),\n          take(retryTimes),\n          concatMap(throwError),\n        )),\n      );\n\n      return new Promise((resolve, reject) => {\n        result.subscribe(resolve, reject);\n      });\n    },\n\n    /**\n     * Is classroom instance\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isClassroomInstance() {\n      let valid = false;\n      if (this.classroomNode) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    /**\n     * Is drive instance\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isDriveInstance() {\n      let valid = false;\n      if (this.driveNode) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    /**\n     * Is classes list page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isClassesListPage() {\n      return this.getPathArray().includes('h');\n    },\n\n    /**\n     * Is settings page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isSettingsPage() {\n      return this.getPathArray().includes('s');\n    },\n\n    /**\n     * Is work page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isWorkPage() {\n      const pathArray = this.getPathArray();\n      let valid = false;\n      if (\n        (pathArray.indexOf('ta') >= 0 || pathArray.indexOf('a') >= 0)\n        && pathArray.indexOf('submissions') < 0\n        && pathArray.indexOf('details') < 0\n        && pathArray.indexOf('file') < 0\n      ) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    /**\n     * Is calendar page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isCalendarPage() {\n      const pathArray = this.getPathArray();\n      let valid = false;\n      if (pathArray.indexOf('calendar') >= 0) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    /**\n     * Is stream page\n     * Pattern: /c/[classId]\n     * classId: A-Za-z0-9\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isStreamPage() {\n      return /\\/c\\/[\\w]+\\/?$/g.test(this.path) || this.isClassworkPage();\n    },\n\n    /**\n     * Is classwork page\n     * Pattern: /w/[classID]/t/all\n     * classId: A-Za-z0-9\n     * @memberof module:Path/Service\n     * @returns {Boolean}\n     */\n    isClassworkPage() {\n      return /\\/w\\/[\\w]+\\/t\\/all/g.test(this.path);\n    },\n\n    /**\n     * Is students page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isStudentsPage() {\n      const pathArray = this.getPathArray();\n      let valid = false;\n      if (pathArray.indexOf('r') >= 0) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    /**\n     * Is classmates page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isClassmatesPage() {\n      const pathArray = this.getPathArray();\n      let valid = false;\n      if (pathArray.indexOf('r') >= 0) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    /**\n     * Is about page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isAboutPage() {\n      const pathArray = this.getPathArray();\n      let valid = false;\n      if (pathArray.indexOf('o') >= 0) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    /**\n     * Is student work page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isStudentWorkPage() {\n      const pathArray = this.getPathArray();\n      let valid = false;\n      if (pathArray.indexOf('submissions') >= 0 && pathArray.indexOf('sa') < 0) {\n        valid = true;\n      }\n      if (pathArray.indexOf('tc') > 0) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    /**\n     * Is instructions page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isInstructionsPage() {\n      const pathArray = this.getPathArray();\n      let valid = false;\n      if (pathArray.indexOf('details') >= 0 && pathArray.indexOf('pa') < 0) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    /**\n     * Was student work page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    wasStudentWorkPage() {\n      let valid = false;\n\n      if (!this.oldPath || this.oldPath === this.path) {\n        return valid;\n      }\n\n      const pathArray = this.oldPath.split('/');\n      if (pathArray.indexOf('submissions') >= 0) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    /**\n     * Was instructions page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    wasInstructionsPage() {\n      let valid = false;\n\n      if (!this.oldPath) {\n        return valid;\n      }\n\n      const pathArray = this.oldPath.split('/');\n      if (pathArray.indexOf('details') >= 0) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    isCourseChanged() {\n      return this.oldCourseId && this.oldCourseId !== this.getClassroomId();\n    },\n\n    /**\n     * Set old path\n     * @memberof module:Path/Service\n     * @param {String} oldPath Selected old path\n     */\n    setOldPath(oldPath) {\n      this.oldPath = oldPath;\n    },\n\n    /**\n     * Set old course id\n     * @memberof module:Path/Service\n     * @param {Number} oldCourseId Selected old course ID\n     */\n    setOldCourseId(oldCourseId) {\n      this.oldCourseId = oldCourseId;\n    },\n  };\n}\n\nmodule.exports = Path;\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module Debounce/Service\n * @description\n *   Handle debounce mechanism.\n * @param {Object} $timeout Angular $timeout object\n */\n\n/*@ngInject*/\nfunction Debounce($timeout) {\n  return function (func, wait, immediate) {\n    var args, context, debounceTimeout, timeout;\n\n    if (!wait) { wait = 500; }\n\n    debounceTimeout = function() {\n      timeout = null;\n\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n\n    return function debounce() {\n      context = this;\n      args = arguments;\n\n      var callNow = immediate && !timeout;\n\n      $timeout.cancel(timeout);\n\n      timeout = $timeout(debounceTimeout, wait);\n\n      if (callNow) {\n        func.apply(context, args);\n      }\n    };\n  };\n}\n\nmodule.exports = Debounce;\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module Helpers/Service\n * @description\n *   Global helpers functions.\n * @param {Object} $state Angular $state object\n * @param {Object} Config service instance\n */\n\n/*@ngInject*/\nfunction Helpers($state, Config, Mixpanel, Debounce) {\n  let cachedAssignmentId = null;\n  let themeWatcherObserver = null;\n  let backdropWatcherObserver = null;\n\n  return {\n    /**\n     * Check if changes is in right mode\n     * @memberof module:Helpers/Service\n     * @param {String} editingMode Selected editing mode\n     * @param {Array} editing List of avaiable editing modes\n     * @return {Boolean}\n     */\n    checkIfModeAvailable(editingMode, editing) {\n      let passed = [];\n\n      passed = editing.filter(val => editingMode === val);\n\n      return passed.length;\n    },\n\n    /**\n     * Check if there is visibility changes in Edit Multiple\n     * @memberof module:Helpers/Service\n     * @param {String} option Selected option\n     * @param {String} editingMode Selected editing mode\n     * @param {Array} editing List of avaiable editing modes\n     * @return {Boolean}\n     */\n    isVisibilityChanges(option, editingMode, editing) {\n      const pass = this.checkIfModeAvailable(editingMode, editing);\n      let valid = false;\n\n      if (pass && option !== 'not_changed') {\n        valid = true;\n      }\n\n      return valid;\n    },\n\n    /**\n     * Check if there is grade changes in Edit Multiple\n     * @memberof module:Helpers/Service\n     * @param {String} option Selected option\n     * @param {String} editingMode Selected editing mode\n     * @param {Array} editing List of avaiable editing modes\n     * @return {Boolean}\n     */\n    isGradeChanges(option, editingMode, editing) {\n      const pass = this.checkIfModeAvailable(editingMode, editing);\n      let valid = false;\n\n      if (pass && option !== 'not_changed') {\n        valid = true;\n      }\n\n      return valid;\n    },\n\n    /**\n     * Check if there is text changes in Edit Multiple\n     * @memberof module:Helpers/Service\n     * @param {String} option Selected option\n     * @param {String} editingMode Selected editing mode\n     * @param {Array} editing List of avaiable editing modes\n     * @return {Boolean}\n     */\n    isTextChanges(option, editingMode, editing) {\n      const pass = this.checkIfModeAvailable(editingMode, editing);\n      let valid = false;\n\n      if (pass && option) {\n        valid = true;\n      }\n\n      return valid;\n    },\n\n    /**\n     * Send event to Mixpanel\n     * @memberof module:Helpers/Service\n     * @param {Array} eventCode Contains event code\n     */\n    sendMixpanel(eventCode) {\n      Mixpanel.track(eventCode);\n    },\n\n    /**\n     * Debounce send event to Mixpanel\n     * @memberof module:Helpers/Service\n     * @param {Array} eventCode Contains event code\n     */\n    debounceMixpanel: Debounce((eventCode) => {\n      Mixpanel.track(eventCode);\n    }, 250),\n\n    /**\n     * Handle changing visible of single item\n     * @memberof module:Helpers/Service\n     * @param {Function} savingMethod Function for saving changes\n     * @param {Object} savingItem Object that should be saved\n     * @param {Object} editingItem Object that will be editing\n     * @param {String} editingProperty Property that will be editing\n     * @param {String} eventCode Mixpanel event code\n     */\n    changeSingleVisible(savingMethod, savingItem, editingItem, editingProperty, eventCode) {\n      editingItem[editingProperty] = !editingItem[editingProperty];\n\n      savingMethod(savingItem);\n\n      this.sendMixpanel(eventCode);\n    },\n\n    /**\n     * Handle changing text of single item\n     * @memberof module:Helpers/Service\n     * @param {Function} savingMethod Function for saving changes\n     * @param {Object} savingItem Object that should be saved\n     * @param {String} eventCode Mixpanel event code\n     */\n    changeSingleText(savingMethod, savingItem, eventCode) {\n      savingMethod(savingItem);\n\n      this.debounceMixpanel(eventCode);\n    },\n\n    /**\n     * Handle changing grade of single item\n     * @memberof module:Helpers/Service\n     * @param {Function} savingMethod Function for saving changes\n     * @param {Object} savingItem Object that should be saved\n     * @param {String} eventCode Mixpanel event code\n     */\n    changeSingleGrade(savingMethod, savingItem, eventCode) {\n      savingMethod(savingItem);\n\n      this.debounceMixpanel(eventCode);\n    },\n\n    /**\n     * Find matching grade system\n     * @memberof module:Helpers/Service\n     * @param {Array} gradeSystems List of grade systems\n     * @param {String} gradeSystemId Selected grade system ID\n     * @return {Object}\n     */\n    findGradeSystem(gradeSystems, gradeSystemId) {\n      if (gradeSystems.main.grade_system.id === gradeSystemId) {\n        return gradeSystems.main.grade_system;\n      } else if (gradeSystems.final.grade_system.id === gradeSystemId) {\n        return gradeSystems.final.grade_system;\n      }\n      return gradeSystems[gradeSystemId].grade_system;\n    },\n\n    /**\n     * Find first positive grade in grade system\n     * @memberof module:Helpers/Service\n     * @param {Object} gradeSystem Single grade system\n     * @return {String}\n     */\n    findFirstPositiveGrade(gradeSystem) {\n      let firstPositiveGrade;\n\n      gradeSystem.grades.forEach((elem) => {\n        if (elem.is_passed) {\n          if (!firstPositiveGrade) {\n            firstPositiveGrade = elem;\n          } else if (elem.order < firstPositiveGrade.order) {\n            firstPositiveGrade = elem;\n          }\n        }\n      });\n\n      return firstPositiveGrade.name;\n    },\n\n    /**\n     * Find student id by student name\n     * @memberof module:Helpers/Service\n     * @param {Array} students List of students\n     * @param {String} studentName Selected student name\n     * @return {Number}\n     */\n    findStudentIdByName(students, studentName) {\n      let studentId;\n\n      students.forEach((student) => {\n        if (studentName !== student.student_name) {\n          return;\n        }\n\n        studentId = student.student_id ? student.student_id : student.id;\n      });\n\n      return studentId;\n    },\n\n    registerBackdropWatcher() {\n      if (!backdropWatcherObserver) {\n        let throttle = null;\n        backdropWatcherObserver = new MutationObserver(() => {\n          clearTimeout(throttle);\n          throttle = setTimeout(() => {\n            requestAnimationFrame(() => {\n              const backdropElement = document.body.querySelector('md-backdrop.md-click-catcher');\n              const openItem = document.body.querySelector('#studybee [aria-expanded=true]');\n\n              if (backdropElement && !openItem) {\n                backdropElement.remove();\n              }\n            });\n          }, 100);\n        });\n\n        backdropWatcherObserver.observe(document.getElementById('studybee'), {\n          attributeFilter: ['aria-expanded'],\n          attributes: true,\n          subtree: true,\n        });\n      }\n    },\n\n    disconnectBackdropWatcher() {\n      if (backdropWatcherObserver) {\n        backdropWatcherObserver.disconnect();\n      }\n    },\n\n    registerThemeWatcher() {\n      if (!themeWatcherObserver) {\n        let throttle = null;\n        themeWatcherObserver = new MutationObserver(() => {\n          clearTimeout(throttle);\n          throttle = setTimeout(() => {\n            requestAnimationFrame(() => {\n              const currentTheme = $state.current.themeClass || 'sb-theme-green';\n              document.body.setAttribute('sb-theme', currentTheme);\n            });\n          }, 100);\n        });\n\n        themeWatcherObserver.observe(document.getElementById('studybee'), {\n          attributeFilter: ['class'],\n          attributeOldValue: true,\n        });\n      }\n    },\n\n    disconnectThemeWatcher() {\n      if (themeWatcherObserver) {\n        themeWatcherObserver.disconnect();\n      }\n    },\n\n    /**\n     * Set theme class to StudyBee container\n     * @memberof module:Helpers/Service\n     * @param {String} containerName Container name for setting theme class\n     */\n    setTheme(containerName) {\n      let themeClass;\n\n      for (let i = 0; i < Config.routes.length; i++) {\n        if (Config.routes[i].name === $state.current.name) {\n          themeClass = Config.routes[i].themeClass;\n          break;\n        }\n      }\n\n      $(containerName)\n        .removeClass((i, css) => (css.match(/(^|\\s)sb-theme-\\S+/g) || []).join(' ')).addClass(themeClass);\n    },\n\n    /**\n     * Cache cached assignment ID\n     * @memberof module:Helpers/Service\n     * @param {String} assignmentId Selected assignment ID\n     */\n    setAssignmentIdCached(assignmentId) {\n      cachedAssignmentId = assignmentId;\n    },\n\n    /**\n     * Returns cached assignment ID\n     * @memberof module:Helpers/Service\n     * @param {Boolean} clearAssignmentIdCached\n     * @return {String} assignment id or null\n     */\n    isAssignmentIdCached(clearAssignmentIdCached) {\n      let assignmentId;\n\n      if (!cachedAssignmentId) {\n        return;\n      }\n\n      assignmentId = cachedAssignmentId;\n\n      if (clearAssignmentIdCached) {\n        cachedAssignmentId = null;\n      }\n\n      return assignmentId;\n    },\n\n    /**\n     * Returns current state name\n     * @memberof module:Helpers/Service\n     * @return {String}\n     */\n    getCurrentStateName() {\n      return $state.current.name;\n    },\n  };\n}\n\nmodule.exports = Helpers;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n/**\n * @module NavigationHistory/Service\n * @description\n *   Handle Navigation History.\n *\n *   Allow to add state and state parameters to history\n *   and wrap $state.go and $state.transitionTo with custom methods.\n *   Add possibility to update state parameters for current state\n *   and handle back button which allow to back to the previous state.\n * @param {Object} $state Angular $state object\n * @param {Object} Hint Hint service instance\n */\n\n/*@ngInject*/\nfunction NavigationHistory($state, Hint) {\n  return {\n\n    // Keep history states\n    history: [],\n\n    /**\n     * Push state information to the history array\n     * @memberof module:NavigationHistory/Service\n     * @param {String} stateName Selected state name\n     * @param {Object} stateParams State params to save\n     */\n    addToHistory(stateName, stateParams) {\n      stateParams = stateParams || {};\n\n      if (this.history.length > 1 &&\n        this.history[this.history.length - 1].stateName === stateName) {\n        this.history[this.history.length - 1].stateParams = {\n          ...this.history[this.history.length - 1].stateParams,\n          ...stateParams,\n        };\n      } else {\n        this.history.push({\n          stateName,\n          stateParams,\n        });\n      }\n    },\n\n    getPreviousState() {\n      if (this.history.length <= 1) return;\n\n      return this.history[this.history.length - 2];\n    },\n\n    /**\n     * Wrapper for $state.go() which push state information to the history array\n     * @memberof module:NavigationHistory/Service\n     * @param {String} stateName Selected state name\n     * @param {Object} stateParams State params to save\n     * @param {Boolean} ignoreHistory Ignore history flag\n     */\n    go(stateName, stateParams, ignoreHistory) {\n      stateParams = stateParams || {};\n\n      Hint.removeHint();\n\n      $state.go(stateName, stateParams);\n      if (!ignoreHistory) {\n        this.addToHistory(stateName, stateParams);\n      }\n    },\n\n    /**\n     * Wrapper for $state.transitionTo() which push state information to the history array\n     * @memberof module:NavigationHistory/Service\n     * @param {String} stateName Selected state name\n     * @param {Object} stateParams State params to save\n     * @param {Boolean} ignoreHistory Ignore history flag\n     */\n    transitionTo(stateName, stateParams, ignoreHistory) {\n      stateParams = stateParams || {};\n\n      Hint.removeHint();\n\n      $state.transitionTo(stateName, stateParams, { reload: true });\n      if (!ignoreHistory) {\n        this.addToHistory(stateName, stateParams);\n      }\n    },\n\n    /**\n     * Handle arrow back\n     * @memberof module:NavigationHistory/Service\n     */\n    back(overwritePrams = {}) {\n      if (this.history.length <= 1) {\n        return;\n      }\n\n      this.history.pop();\n\n      const state = this.history[this.history.length - 1];\n      const stateName = state.stateName;\n      const stateParams = Object.assign({}, state.stateParams, overwritePrams);\n\n      Hint.removeHint();\n      $state.go(stateName, stateParams);\n    },\n\n    /**\n     * Handle reload current entry with current params\n     * @memberof module:NavigationHistory/Service\n     */\n    reloadCurrent() {\n      $state.reload();\n    },\n\n    /**\n     * Update stateParams for last state\n     * @memberof module:NavigationHistory/Service\n     * @param {Object} stateParams State params to save\n     */\n    updateParams(stateParams) {\n      const currentState = this.history[this.history.length - 1];\n      Object.assign(currentState, { ...currentState, stateParams: currentState.stateParams || {} }, {stateParams});\n    },\n\n    /**\n     * Get stateParams for current state\n     * @return {Object} stateParams State params to save\n     */\n    getCurrentParams() {\n      const currentParams = this.history.slice(-1);\n\n      return currentParams.length ? Object.assign({}, currentParams[0].stateParams) : {};\n    },\n  };\n}\n\nmodule.exports = NavigationHistory;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n/**\n * @module States/Service\n * @description\n *   Contain funtions for state opening.\n * @param {Object} UserInfo User Info service instance\n * @param {Object} NavigationHistory Navigation History service instance\n * @param {Object} MainMenu Main Menu service instance\n * @param {Object} StudybeeHandle Studybee Handle service instance\n */\n\n/*@ngInject*/\nfunction States(UserInfo, NavigationHistory, MainMenu, Assignments, Path) {\n  return {\n    /**\n     * Open Drive State and open extension\n     * @memberof module:States/Service\n     */\n    openDriveState() {\n      if (UserInfo.isTeacher()) {\n        NavigationHistory.go('teacher_google_drive');\n      } else {\n        NavigationHistory.go('studentGoogleDrive');\n      }\n    },\n\n    /**\n     * Open Assignment State, open extension and close bottom sheet\n     * @memberof module:States/Service\n     */\n    openAssignmentState() {\n      const assignment = Assignments.getAssignmentByAlternateLink(\n        Path.getAssignmentAlternateLinkId(),\n      );\n      if (UserInfo.userRole === 'teacher') {\n        NavigationHistory.go('teacher_assess_assignment', {\n          assignment, isModal: false,\n        });\n      } else if (UserInfo.userRole === 'student') {\n        NavigationHistory.go('studentAssessed', {\n          isModal: false, assignment: undefined,\n        });\n      }\n    },\n\n    /**\n     * Open Default State, open extension and close bottom sheet\n     * @memberof module:States/Service\n     */\n    openDefaultState() {\n      const defaultStateForTeacher = 'teacherAssignments';\n      const defaultStateForStudent = 'studentAssignments';\n\n      if (MainMenu.selectedMenuStateName) {\n        NavigationHistory.go(MainMenu.selectedMenuStateName);\n        return;\n      }\n\n      if (UserInfo.userRole === 'teacher') {\n        NavigationHistory.go(defaultStateForTeacher);\n      } else if (UserInfo.userRole === 'student') {\n        NavigationHistory.go(defaultStateForStudent);\n      }\n    },\n\n    /**\n     * Open Not Configured State, open extension and close bottom sheet\n     * @memberof module:States/Service\n     */\n    openNotConfiguredState() {\n      const notConfiguredStateForTeacher = 'teacherCourseManagement';\n      const notConfiguredStateForStudent = 'not_configured';\n\n      if (UserInfo.userRole === 'teacher') {\n        MainMenu.setSelectedMenuStateName(notConfiguredStateForTeacher);\n        NavigationHistory.go(notConfiguredStateForTeacher);\n      } else if (UserInfo.userRole === 'student') {\n        MainMenu.setSelectedMenuStateName(notConfiguredStateForStudent);\n        NavigationHistory.go(notConfiguredStateForStudent);\n      }\n    },\n\n    /**\n     * Open Loading State, close extension and close bottom sheet\n     * @memberof module:States/Service\n     */\n    openLoadingState() {\n      NavigationHistory.go('loading', {}, true);\n    },\n  };\n}\n\nmodule.exports = States;\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module Observer/Service\n * @description\n *   Handle Observer - init and connect/disconnect observer.\n * @param {Object} Courses Courses service instance\n * @param {Object} FetchData FetchData service instance\n * @param {Object} Path Path service instance\n */\n\n/*@ngInject*/\nfunction Observer(Courses, FetchData, Path) {\n  return {\n    instance: null,\n\n    config: {\n      attributes: false,\n      childList: true,\n      characterData: false,\n    },\n\n    /**\n     * Connect or disconnect observer to watch click event on div[name=\"ok\"]\n     * @memberof module:Observer/Service\n     * @param {Function} checkState Check state function from Custom Routing directive\n     */\n    init(checkState) {\n      this.instance = new MutationObserver((mutations) => {\n        mutations.forEach((mutation) => {\n          if (!mutation.removedNodes.length) {\n            return;\n          }\n\n          if (mutation.removedNodes[0].innerHTML.indexOf('name=\"ok\"') >= 0) {\n            FetchData\n              .v3\n              .getCourseDefinitions(Path.getClassroomId())\n              .then((res) => {\n                Courses.list = res;\n\n                checkState();\n              });\n          }\n        });\n      });\n    },\n\n    /**\n     * Connect or disconnect observer to watch click event on div[name=\"ok\"]\n     * @memberof module:Observer/Service\n     */\n    check() {\n      if (Path.isClassesListPage()) {\n        this.instance.observe(document.body, this.config);\n      } else {\n        this.instance.disconnect();\n      }\n    },\n  };\n}\n\nmodule.exports = Observer;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n/**\n * @module Hint/Service\n * @description\n *   Handle Hint.\n */\n\n/*@ngInject*/\nfunction Hint() {\n  var displayToggleCallbacks = [];\n  var removeCallbacks = [];\n\n  return {\n    /**\n     * Set callback which is trigger on remove hint\n     * @memberof module:Hint/Service\n     * @param {Object} callback Callback function\n     */\n    setRemoveCallback: function (callback) {\n      removeCallbacks.push(callback);\n    },\n\n    /**\n     * Set callback which is trigger on display toggle hint\n     * @memberof module:Hint/Service\n     * @param {Object} callback Callback function\n     */\n    setDisplayToggleCallbacks: function (callback) {\n      displayToggleCallbacks.push(callback);\n    },\n\n    /**\n     * Remove hint\n     * @memberof module:Hint/Service\n     */\n    removeHint: function () {\n      removeCallbacks.forEach(function (elem) {\n        elem();\n      });\n\n      removeCallbacks = [];\n    },\n\n    /**\n     * Display toggle hint\n     * @memberof module:Hint/Service\n     */\n    displayToggleHint: function () {\n      displayToggleCallbacks.forEach(function (elem) {\n        elem();\n      });\n    }\n  };\n}\n\nmodule.exports = Hint;\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\nimport { getTranslation } from '../../../../../react_src/i18n';\n/**\n * @module Update/Service\n * @description\n *   Handle update assignments, students and files information.\n * @param {Object} $q Angular $q object\n */\n\n/*@ngInject*/\nfunction Updates($q, $mdToast, FetchData, NavigationHistory, Students, Assignments) {\n  return {\n    assignmentsAndStudentsDate: null,\n\n    updateAssignmentsLoading: false,\n    updateStudentsLoading: false,\n    updateFilesLoading: false,\n\n    setSynchronizeDataCallbacks: [],\n\n    /**\n     * Update Assignments and Students list\n     * @memberof module:Update/Service\n     * @param {Number} courseId\n     * @param {Boolean} showToast\n     * @param {Boolean} viewReload\n     * @return {Promise}\n     */\n    updateAssignmentsAndStudents(courseId, showToast, viewReload) {\n      const deferred = $q.defer();\n\n      return $q.all(\n        [\n          this.updateAssignments(courseId, false),\n          this.updateStudents(courseId, false),\n        ],\n      )\n        .then((res) => {\n          deferred.resolve(res);\n\n          this.updateAssignmentsAndStudentsDate();\n\n          if (viewReload) {\n            NavigationHistory.reloadCurrent();\n          }\n\n          if (showToast) {\n            $mdToast.show({\n              templateUrl: 'utils/views/toast.html',\n              parent: $('body'),\n              hideDelay: 3000,\n              position: 'bottom right',\n              controller() {\n                this.information = getTranslation('assignmentsAndStudentsUpdatedToast');\n              },\n              controllerAs: 'to',\n            });\n          }\n        });\n    },\n\n    /**\n     * Update Assignments list\n     * @memberof module:Update/Service\n     * @param {Number} courseId\n     * @param {Boolean} showToast\n     * @return {Promise}\n     */\n    async updateAssignments(courseId, showToast) {\n      this.updateAssignmentsLoading = true;\n      return FetchData.updateAssignmentsList(courseId)\n        .then((assignments) => {\n          if (showToast) {\n            $mdToast.show({\n              templateUrl: 'utils/views/toast.html',\n              parent: $('body'),\n              hideDelay: 3000,\n              position: 'bottom right',\n              controller() {\n                this.information = getTranslation('assignmentsUpdatedToast');\n              },\n              controllerAs: 'to',\n            });\n          }\n          Assignments.updateAssignmentsList(assignments);\n\n          this.updateAssignmentsLoading = false;\n          return assignments;\n        });\n    },\n\n    /**\n     * Update Students list\n     * @memberof module:Update/Service\n     * @param {Number} courseId\n     * @param {Boolean} showToast\n     * @return {Promise}\n     */\n    updateStudents(courseId, showToast) {\n      if (!courseId) {\n        return;\n      }\n\n      const deferred = $q.defer();\n      this.updateStudentsLoading = true;\n\n      // Synchronization\n\n      FetchData\n        .getStudentsList(courseId)\n        .then((res) => {\n          if (showToast) {\n            $mdToast.show({\n              templateUrl: 'utils/views/toast.html',\n              parent: $('body'),\n              hideDelay: 3000,\n              position: 'bottom right',\n              controller() {\n                const to = this;\n\n                to.information = getTranslation('studentsUpdatedToast');\n              },\n              controllerAs: 'to',\n            });\n          }\n\n          Students.updateStudentsList(res);\n\n          this.updateStudentsLoading = false;\n          deferred.resolve(res);\n        }, (err) => {\n          deferred.reject(err);\n        });\n\n      return deferred.promise;\n    },\n\n    /**\n     * Update Files lists\n     * @memberof module:Update/Service\n     * @param {Number} assignmentId\n     * @param {Boolean} showToast\n     * @return {Promise}\n     */\n    updateFiles(assignmentId, showToast) {\n      if (!assignmentId) {\n        return;\n      }\n\n      const deferred = $q.defer();\n      this.updateFilesLoading = true;\n\n      FetchData.updateFilesListForAssignment(assignmentId).then((res) => {\n        if (showToast) {\n          $mdToast.show({\n            templateUrl: 'utils/views/toast.html',\n            parent: $('body'),\n            hideDelay: 3000,\n            position: 'bottom right',\n            controller() {\n              this.information = getTranslation('filesUpdatedToast');\n            },\n            controllerAs: 'to',\n          });\n        }\n\n        this.updateFilesLoading = false;\n        deferred.resolve(res);\n      }, (err) => {\n        deferred.reject(err);\n      });\n\n      return deferred.promise;\n    },\n\n    /**\n     * Replace old date with current date and execute setSynchronizeDataCallbacks\n     * @memberof module:Updates/Service\n     */\n    updateAssignmentsAndStudentsDate() {\n      let date = new Date();\n      date = date.toLocaleString();\n      this.assignmentsAndStudentsDate = date;\n\n      this.setSynchronizeDataCallbacks.forEach((elem) => {\n        elem();\n      });\n    },\n\n    /**\n     * Set callback which is trigger on update assignments and students\n     * @memberof module:Updates/Service\n     * @param {Object} callback Callback function\n     */\n    setSynchronizeDataCallback(callback) {\n      this.setSynchronizeDataCallbacks.push(callback);\n    },\n  };\n}\n\nmodule.exports = Updates;\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module StudybeeHandle/Service\n * @description\n *   Studybee Handle.\n */\n\nfunction StudybeeHandle($rootScope, $mdSidenav, Path, UserInfo, Hint, Mixpanel) {\n  'ngInject';\n\n  const beforeCloseCallbacks = [];\n  const inProgressCloseCallbacks = [];\n  const afterCloseCallbacks = [];\n  const beforeOpenCallbacks = [];\n  const inProgressOpenCallbacks = [];\n  const afterOpenCallbacks = [];\n  const disableCallbacs = [];\n  const enableCallbacs = [];\n\n  let firstInit = true;\n  let animationInProgress = false;\n  let extendedViewEnable = false;\n\n  return {\n    /**\n     * Set callback which is trigger before extension close\n     * @memberof module:StudybeeHandle/Service\n     * @param {Object} callback Callback function\n     */\n    setBeforeCloseCallback(callback) {\n      beforeCloseCallbacks.push(callback);\n    },\n\n    /**\n     * Set callback which is trigger in progress extension close\n     * @memberof module:StudybeeHandle/Service\n     * @param {Object} callback Callback function\n     */\n    setInProgressCloseCallback(callback) {\n      inProgressCloseCallbacks.push(callback);\n    },\n\n    /**\n     * Set callback which is trigger after extension close\n     * @memberof module:StudybeeHandle/Service\n     * @param {Object} callback Callback function\n     */\n    setAfterCloseCallback(callback) {\n      afterCloseCallbacks.push(callback);\n    },\n\n    /**\n     * Set callback which is trigger before extension open\n     * @memberof module:StudybeeHandle/Service\n     * @param {Object} callback Callback function\n     */\n    setBeforeOpenCallback(callback) {\n      beforeOpenCallbacks.push(callback);\n    },\n\n    /**\n     * Set callback which is trigger in progress extension open\n     * @memberof module:StudybeeHandle/Service\n     * @param {Object} callback Callback function\n     */\n    setInProgressOpenCallback(callback) {\n      inProgressOpenCallbacks.push(callback);\n    },\n\n    /**\n     * Set callback which is trigger after extension open\n     * @memberof module:StudybeeHandle/Service\n     * @param {Object} callback Callback function\n     */\n    setAfterOpenCallback(callback) {\n      afterOpenCallbacks.push(callback);\n    },\n\n    /**\n     * Set callback which is trigger when extension is disable\n     * @memberof module:StudybeeHandle/Service\n     * @param {Object} callback Callback function\n     */\n    setDisableCallback(callback) {\n      disableCallbacs.push(callback);\n    },\n\n    /**\n     * Set callback which is trigger when extension is enable\n     * @memberof module:StudybeeHandle/Service\n     * @param {Object} callback Callback function\n     */\n    setEnableCallback(callback) {\n      enableCallbacs.push(callback);\n    },\n\n    /**\n     * Open extension\n     * @memberof module:StudybeeHandle/Service\n     * @param {Number} inProgressDelay The number of miliseconds that script should wait before trigger after callbacks\n     * @param {Number} afterDelay The number of miliseconds that script should wait before trigger after callbacks\n     */\n    studybeeOpen(inProgressDelay = 250, afterDelay = 750) {\n      animationInProgress = true;\n\n      if (firstInit) {\n        afterDelay = 1500;\n        firstInit = false;\n      } else {\n        if (typeof inProgressDelay !== 'number') {\n          inProgressDelay = 250;\n        }\n        if (typeof afterDelay !== 'number') {\n          afterDelay = 750;\n        }\n      }\n\n      beforeOpenCallbacks.forEach((elem) => {\n        elem();\n      });\n\n      setTimeout(() => {\n        inProgressOpenCallbacks.forEach((elem) => {\n          elem();\n        });\n\n        $mdSidenav('studybee').open();\n        $rootScope.extendedViewEnable = extendedViewEnable;\n      }, inProgressDelay);\n\n      setTimeout(() => {\n        afterOpenCallbacks.forEach((elem) => {\n          elem();\n        });\n\n        animationInProgress = false;\n      }, afterDelay);\n    },\n\n    /**\n     * Close extension\n     * @memberof module:StudybeeHandle/Service\n     * @param {Number} inProgressDelay The number of miliseconds that script should wait before trigger after callbacks\n     * @param {Number} afterDelay The number of miliseconds that script should wait before trigger after callbacks\n     */\n    studybeeClose(inProgressDelay = 250, afterDelay = 750) {\n      animationInProgress = true;\n\n      if (firstInit) {\n        afterDelay = 1500;\n        firstInit = false;\n      }\n\n      beforeCloseCallbacks.forEach((elem) => {\n        elem();\n      });\n\n      setTimeout(() => {\n        inProgressCloseCallbacks.forEach((elem) => {\n          elem();\n        });\n\n        $mdSidenav('studybee').close();\n        extendedViewEnable = $rootScope.extendedViewEnable;\n        $rootScope.extendedViewEnable = false;\n      }, inProgressDelay);\n\n      setTimeout(() => {\n        afterCloseCallbacks.forEach((elem) => {\n          elem();\n        });\n\n        animationInProgress = false;\n      }, afterDelay);\n    },\n\n    /**\n     * Toggle extension\n     * @memberof module:StudybeeHandle/Service\n     */\n    studybeeToggle() {\n      Mixpanel.track('toggle');\n      if (!this.checkIfExtensionAvailable() || animationInProgress) {\n        return;\n      }\n\n      if (this.studybeeIsOpen()) {\n        // this needs to be optimized\n        this.studybeeClose();\n      } else {\n        this.studybeeOpen();\n      }\n\n      Hint.displayToggleHint();\n    },\n\n    studybeeActivate() {\n      if (this.studybeeIsOpen()) {\n        this.studybeeOpen();\n      } else {\n        this.studybeeClose();\n      }\n    },\n\n    /**\n     * Check if extension is open\n     * @memberof module:StudybeeHandle/Service\n     * @return {Boolean}\n     */\n    studybeeIsOpen() {\n      return $mdSidenav('studybee').isOpen();\n    },\n\n    /**\n     * Check if extension should be available\n     * @memberof module:StudybeeHandle/Service\n     */\n    checkIfExtensionAvailable() {\n      let extensionAvailable = true;\n      if (\n        Path.isClassroomInstance() &&\n        UserInfo.userMatched &&\n        UserInfo.loggedToBrowser &&\n        (\n          Path.isClassesListPage() ||\n          Path.isSettingsPage() ||\n          Path.isWorkPage() ||\n          Path.isCalendarPage())\n      ) {\n        extensionAvailable = false;\n        this.studybeeClose();\n      }\n\n      return extensionAvailable;\n    },\n\n    /**\n     * Set icon status (enable / disable)\n     * @memberof module:StudybeeHandle/Service\n     */\n    setIconStatus() {\n      if (this.checkIfExtensionAvailable()) {\n        enableCallbacs.forEach((elem) => {\n          elem();\n        });\n      } else {\n        disableCallbacs.forEach((elem) => {\n          elem();\n        });\n      }\n    },\n  };\n}\n\nmodule.exports = StudybeeHandle;\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module Sanitize/Filter\n * @description\n *   Display HTML content.\n * @param {Object} $sce Angular $sce object\n */\n\n/*@ngInject*/\nfunction Sanitize($sce) {\n  return function(htmlCode) {\n    return $sce.trustAsHtml(htmlCode);\n  };\n}\n\nmodule.exports = Sanitize;\n","import angular, { IServiceProvider } from 'angular';\nimport { Interceptor } from '../../shared/models/interceptor.model';\nimport { Provider } from '../decorators/provider.decorator';\nimport UtilsModule from '../utils.module';\n\n@Provider({\n  module: UtilsModule,\n  name: 'HttpInterceptor',\n})\nexport class HttpInterceptorProvider implements IServiceProvider {\n\n  public static readonly interceptors: Interceptor[] = [];\n\n  public add(interceptorFactory: Interceptor, index: number = HttpInterceptorProvider.interceptors.length): void {\n    HttpInterceptorProvider.interceptors.splice(index, 0, interceptorFactory);\n  }\n\n  public $get($injector: angular.auto.IInjectorService): Interceptor[] {\n    'ngInject';\n\n    return HttpInterceptorProvider.interceptors\n      .reduce<Interceptor[]>(\n        (acc: Interceptor[], interceptorFactory: Interceptor): Interceptor[] => [this.buildInterceptor($injector, interceptorFactory), ...acc], [],\n      );\n  }\n\n  private buildInterceptor($injector: angular.auto.IInjectorService, interceptorFactory: Interceptor): Interceptor {\n    return angular.isString(interceptorFactory) ?\n      $injector.get<Interceptor>(interceptorFactory) : $injector.invoke<Interceptor>(interceptorFactory as any);\n  }\n}\n","import angular from 'angular';\nimport { IModule, IProviderOptions } from 'angular';\n\nexport const Provider: (options: IProviderOptions) => any = (options: IProviderOptions): <T extends { new(...args: any[]): { $get: any } }>(constructor: T) => any => {\n\n  const getOrCreateServiceModule: () => IModule = (): IModule => {\n    const moduleName: string = 'app';\n    let module: IModule;\n\n    if (options.module) {\n      try {\n        module = angular.module(`${options.module}`);\n      } catch (err) {\n        module = null;\n      }\n    }\n\n    if (!module) {\n      try {\n        module = angular.module(`${moduleName}`);\n      } catch (err) {\n        console.error(`Error on register service ${options.name} in module ${moduleName}. Module ${moduleName} is not exists.`, err);\n        module = null;\n      }\n    }\n\n    return module;\n  };\n\n  return <T extends { new(...args: any[]): { $get: any } }>(constructor: T): T => {\n    const module: IModule = getOrCreateServiceModule();\n\n    if (module) {\n      module.provider(options.name, new constructor());\n    }\n\n    return constructor;\n  };\n};\n\n","import { IQService } from 'angular';\nimport { RequestType } from '../../shared/enums/requestType.enum';\nimport { HttpResponse } from '../../shared/models/httpResponse.model';\nimport { IInterceptor } from '../../shared/models/interceptor.model';\nimport { Interceptor } from '../decorators/interceptor.decoreator';\nimport UtilsModule from '../utils.module';\nimport {InitService} from '../../../../../src/app/core/init/init.service';\n\n@Interceptor({\n  module: UtilsModule,\n})\nexport class AgreementSeenInterceptor implements IInterceptor {\n  private readonly urlRegex: RegExp;\n\n  constructor(private $q: IQService, private $injector: angular.auto.IInjectorService) {\n    'ngInject';\n\n    this.urlRegex = /\\/users\\/agreement-seen\\/?$/;\n  }\n\n  public response(response: HttpResponse): PromiseLike<HttpResponse> {\n    if (response.config.method === RequestType.GET && this.urlRegex.test(response.config.url)) {\n      this.setIsAgreementSeen(response.data as any);\n    }\n\n    return this.$q.resolve(response);\n  }\n\n  public responseError(response: HttpResponse): PromiseLike<HttpResponse> {\n    if (this.urlRegex.test(response.config.url)) {\n      this.setIsAgreementSeen(false);\n    }\n\n    return this.$q.reject(response);\n  }\n\n  private setIsAgreementSeen(value: boolean): void {\n    const userInfo: any = this.$injector.get('UserInfo');\n    const initService: InitService = this.$injector.get('InitService');\n\n    userInfo.agreementSeen = value;\n    initService.updateUserInfo({agreement_seen: false});\n  }\n}\n","import {StateService} from '@uirouter/core';\nimport {IQService} from 'angular';\nimport {APIErrorCode} from '../../../../../src/app/shared/enmus/api-error-code.enum';\nimport {HttpResponse} from '../../shared/models/httpResponse.model';\nimport {IInterceptor} from '../../shared/models/interceptor.model';\nimport {Interceptor} from '../decorators/interceptor.decoreator';\nimport {HttpStatusCode} from '../enums/httpStatusCode.enum';\nimport UtilsModule from '../utils.module';\nimport {InitService} from '../../../../../src/app/core/init/init.service';\n\n\n@Interceptor({\n  module: UtilsModule,\n})\nexport class CheckDomainInterceptor implements IInterceptor {\n  constructor(protected $q: IQService,\n              protected $state: StateService,\n              protected $injector: angular.auto.IInjectorService) {\n    'ngInject';\n  }\n\n  public responseError(response: HttpResponse): PromiseLike<HttpResponse> {\n    if (response.status === HttpStatusCode.FORBIDDEN) {\n      if (response.data.error_code === APIErrorCode.WHITELISTED_DOMAIN && response.data.is_teacher) {\n        this.$state.go('userSetup');\n      } else {\n        this.$state.go('userSetup');\n      }\n\n      this.openStudybeeIfClose();\n    }\n\n    return this.$q.reject(response);\n  }\n\n  private openStudybeeIfClose(): void {\n    const StudybeeHandle: any = this.$injector.get('StudybeeHandle');\n    StudybeeHandle.studybeeActivate();\n  }\n}\n","export enum APIErrorCode {\n  WHITELISTED_DOMAIN = 'WHITELISTED_DOMAIN',\n}\n","import { HttpResponse } from '../../shared/models/httpResponse.model';\nimport { IInterceptor } from '../../shared/models/interceptor.model';\nimport { Interceptor } from '../decorators/interceptor.decoreator';\nimport UtilsModule from '../utils.module';\n\n@Interceptor({\n  module: UtilsModule,\n  order: 0,\n})\nexport class ExtractDataInterceptor implements IInterceptor {\n  public response(response: HttpResponse): PromiseLike<any> {\n    return Promise.resolve(response.data);\n  }\n}\n","import { StateService, TransitionPromise } from '@uirouter/core';\nimport { IQService } from 'angular';\nimport { HttpResponse } from '../../shared/models/httpResponse.model';\nimport { IInterceptor } from '../../shared/models/interceptor.model';\nimport { Interceptor } from '../decorators/interceptor.decoreator';\nimport { HttpStatusCode } from '../enums/httpStatusCode.enum';\nimport UtilsModule from '../utils.module';\n\n\n@Interceptor({\n  module: UtilsModule,\n})\nexport class InactiveUserInterceptor implements IInterceptor {\n  constructor(private $q: IQService, private $state: StateService) {\n    'ngInject';\n  }\n\n  public responseError(response: HttpResponse): PromiseLike<HttpResponse> | TransitionPromise {\n    if (response.status === HttpStatusCode.FORBIDDEN && response.data.detail) {\n      return this.$state.go('user-inactive');\n    }\n\n    return this.$q.reject(response);\n  }\n}\n","import {StateService, TransitionPromise} from '@uirouter/core';\nimport {IQService, IRootScopeService} from 'angular';\nimport {HttpResponse} from '../../shared/models/httpResponse.model';\nimport {IInterceptor} from '../../shared/models/interceptor.model';\nimport {Interceptor} from '../decorators/interceptor.decoreator';\nimport {HttpStatusCode} from '../enums/httpStatusCode.enum';\nimport {UserInfo} from '../services/userInfo.service';\nimport UtilsModule from '../utils.module';\n\n@Interceptor({\n  module: UtilsModule,\n})\nexport class MissingAgreementInterceptor implements IInterceptor {\n\n  private readonly urlRegex: RegExp;\n  private UserInfo?: UserInfo;\n\n  constructor(private $rootScope: IRootScopeService,\n              private $q: IQService,\n              private $state: StateService,\n              private $injector: angular.auto.IInjectorService) {\n    'ngInject';\n\n    this.urlRegex = /\\/schools\\/user_setup\\/?$/;\n    this.UserInfo = null;\n  }\n\n  public responseError(response: HttpResponse): PromiseLike<HttpResponse> | TransitionPromise {\n    this.prepareUserInfoService();\n\n    if (response.status === HttpStatusCode.NOT_FOUND && this.urlRegex.test(response.config.url)) {\n      if (this.UserInfo.userId && this.UserInfo.isTeacher()) {\n        if (this.UserInfo.agreementSeen) {\n          this.$state.go('userSetup');\n        } else {\n          if (this.UserInfo.gdpr) {\n            this.$state.go('userSetup');\n          } else {\n            this.$state.go('userSetup');\n          }\n        }\n\n        this.openStudybeeIfClose();\n      }\n    }\n\n    return this.$q.reject(response);\n  }\n\n  private openStudybeeIfClose(): void {\n    const StudybeeHandle: any = this.$injector.get('StudybeeHandle');\n    StudybeeHandle.studybeeActivate();\n  }\n\n  private prepareUserInfoService(): void {\n    this.UserInfo = this.$injector.get('UserInfo');\n  }\n}\n","import { IQService } from 'angular';\nimport { StateService, TransitionPromise } from '@uirouter/angular';\nimport { RequestType } from '../../shared/enums/requestType.enum';\nimport { HttpResponse } from '../../shared/models/httpResponse.model';\nimport { IInterceptor } from '../../shared/models/interceptor.model';\nimport { Interceptor } from '../decorators/interceptor.decoreator';\nimport { HttpStatusCode } from '../enums/httpStatusCode.enum';\nimport { PermissionType } from '../enums/permissionType.enum';\nimport { UserInfo } from '../services/userInfo.service';\nimport UtilsModule from '../utils.module';\n\n@Interceptor({\n  module: UtilsModule,\n})\nexport class UserDataInterceptor implements IInterceptor {\n\n  private readonly urlRegex: RegExp;\n  private UserInfo?: UserInfo;\n\n  constructor(private $q: IQService, private $injector: angular.auto.IInjectorService, private $state: StateService) {\n    'ngInject';\n\n    this.urlRegex = /\\/users\\/user_data\\/?$/;\n  }\n\n  public response(response: HttpResponse): PromiseLike<HttpResponse> {\n    this.prepareUserInfoService();\n\n    if (response.config.method === RequestType.GET && this.urlRegex.test(response.config.url)) {\n      this.UserInfo.userId = response.data.id;\n      this.UserInfo.hasCreateCoursePermission = false;\n      this.UserInfo.applyDetails(response.data);\n\n      if ('is_teacher' in response.data && response.data.is_teacher) {\n        this.UserInfo.hasCreateCoursePermission = true;\n      } else if ('permissions' in response.data) {\n        this.UserInfo.hasCreateCoursePermission = !!response\n          .data\n          .permissions\n          .find(permission => permission.permission === PermissionType.CREATE_COURSE);\n      }\n    }\n\n    return this.$q.resolve(response);\n  }\n\n  public responseError(response: HttpResponse): PromiseLike<HttpResponse> {\n    if (response.status === HttpStatusCode.FORBIDDEN && this.urlRegex.test(response.config.url)) {\n      this.$state.go('user-inactive');\n\n      return this.$q.resolve(response);\n    }\n\n    return this.$q.reject(response);\n  }\n\n  private prepareUserInfoService(): void {\n    this.UserInfo = this.$injector.get('UserInfo');\n  }\n}\n","export const PermissionType = {\n  CREATE_COURSE: 'CREATE_COURSE',\n};\n","import angular, { IQService } from 'angular';\nimport { RequestType } from '../../shared/enums/requestType.enum';\nimport { HttpResponse } from '../../shared/models/httpResponse.model';\nimport { IInterceptor } from '../../shared/models/interceptor.model';\nimport { Interceptor } from '../decorators/interceptor.decoreator';\nimport { HttpStatusCode } from '../enums/httpStatusCode.enum';\nimport { UserInfo } from '../services/userInfo.service';\nimport UtilsModule from '../utils.module';\nimport {StateService} from '@uirouter/core';\n\n\n@Interceptor({\n  module: UtilsModule,\n})\nexport class UserPreferencesInterceptor implements IInterceptor {\n\n  private readonly urlRegex: RegExp;\n  private UserInfo?: UserInfo;\n\n  constructor(private $q: IQService, private $injector: angular.auto.IInjectorService, protected $state: StateService,) {\n    'ngInject';\n\n    this.urlRegex = /\\/schools\\/user_setup\\/?$/;\n  }\n\n  public response(response: HttpResponse): PromiseLike<HttpResponse> {\n    this.prepareUserInfoService();\n\n    if (response.config.method === RequestType.GET && this.urlRegex.test(response.config.url)) {\n      this.UserInfo.hasSetup = true;\n    }\n\n    return this.$q.resolve(response);\n  }\n\n  public responseError(response: HttpResponse): PromiseLike<HttpResponse> {\n    this.prepareUserInfoService();\n\n    if (response.status === HttpStatusCode.NOT_FOUND && this.urlRegex.test(response.config.url)) {\n      this.UserInfo.hasSetup = false;\n      this.$state.go('userSetup');\n    }\n\n    return this.$q.reject(response);\n  }\n\n  private prepareUserInfoService(): void {\n    this.UserInfo = this.$injector.get('UserInfo');\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { CommonModule } from '../../common/common.module';\nimport { StudentCourseProgressModule } from './student-course-progress/student-course-progress.module';\nimport TeacherCourseProgressModule from './teacher-course-progress/teacher-course-progress.module.ts';\n\nimport { AssessmentDetailsComponent } from './common/components/assessmentDetails/assessmentDetails.component';\nimport { AssessmentStatusPreviewComponent } from './common/components/assessmentStatusPreview/assessmentStatusPreview.component.ts';\nimport { CourseSummaryComponent } from './common/components/courseSummary/courseSummary.component';\nimport { DownloadPdfMenu } from './common/components/download-pdf-menu.component';\nimport { GradeDescriptionComponent } from './common/components/gradeDescription.component';\nimport { LastUpdate } from './common/components/last-edit.component';\nimport { PartialLastUpdate } from './common/components/partial-last-edit.component';\nimport { StudentCoursesDetailsSectionComponent } from './teacher-course-progress/studentCoursesDetails/studentCoursesDetailsSection/studentCoursesDetailsSection.component';\nimport { StudentProfileComponent } from './common/components/studentProfile/studentProfile.component';\nimport { StudentProfileDetailsComponent } from './common/components/studentProfile/studentProfileDetails/studentProfileDetails.component';\nimport { StudentProfilePhotoComponent } from './common/components/studentProfile/studentProfilePhoto/studentProfilePhoto.component';\nimport { StudentProgressInputComponent } from './common/components/studentProgressInput/studentProgressInput.component';\n\nimport { AssessmentStatusPreview } from './common/components/assessmentStatusPreview/assessmentStatusPreview.service.ts';\nimport { AssignmentsList } from './common/services/assignmentsList.service';\nimport { CourseProgress } from './course-progress.service';\nimport { ExportStudentsResults } from './common/services/exportStudentsResults.service';\nimport { ExportStudentsResultsDialog } from './common/dialogs/exportStudentsResults/exportStudentsResultsDialog.service';\nimport { StudentDetailsEditDialog } from './common/dialogs/studentDetailsEdit/studentDetailsEditDialog.service.ts';\nimport { ShareAssessmentsWithColleaguesDialog } from './common/dialogs/shareAssessmentsWithColleagues/shareAssessmentsWithColleaguesDialog.service.ts';\nimport { ShareAssessmentsWithColleaguesComponent } from './common/components/shareAssessmentsWithColleagues/shareAssessmentsWithColleagues.component.ts';\nimport { routerConfig } from './courseProgress.routing';\n\nexport const CourseProgressModule = angular\n  .module('courseProgressModule', [\n    CommonModule,\n    StudentCourseProgressModule,\n    TeacherCourseProgressModule,\n  ])\n  .component('assessmentDetails', AssessmentDetailsComponent)\n  .component('assessmentStatusPreview', AssessmentStatusPreviewComponent)\n  .component('courseSummary', CourseSummaryComponent)\n  .component('downloadPdfMenu', DownloadPdfMenu)\n  .component('gradeDescription', GradeDescriptionComponent)\n  .component('lastUpdate', LastUpdate)\n  .component('partialLastUpdate', PartialLastUpdate)\n  .component('studentCoursesDetailsSection', StudentCoursesDetailsSectionComponent)\n  .component('studentProfile', StudentProfileComponent)\n  .component('studentProfileDetails', StudentProfileDetailsComponent)\n  .component('studentProfilePhoto', StudentProfilePhotoComponent)\n  .component('studentProgressInput', StudentProgressInputComponent)\n  .component('shareAssessmentsWithColleagues', ShareAssessmentsWithColleaguesComponent)\n  .service('AssessmentStatusPreview', AssessmentStatusPreview)\n  .service('AssignmentsList', AssignmentsList)\n  .service('CourseProgress', CourseProgress)\n  .service('ExportStudentsResults', ExportStudentsResults)\n  .service('ExportStudentsResultsDialog', ExportStudentsResultsDialog)\n  .service('StudentDetailsEditDialog', StudentDetailsEditDialog)\n  .service('ShareAssessmentsWithColleaguesDialog', ShareAssessmentsWithColleaguesDialog)\n  .config(routerConfig)\n  .name;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\nimport uiRouter from '@uirouter/angularjs';\nimport ngSanitize from 'angular-sanitize';\n\nimport { AssessmentDetailsEmpty } from './assessment-details-empty.component';\nimport { CourseDetails } from './course-details/course-details.component';\nimport { CourseListItemComponent } from './coursesList/courseListItem/courseListItem.component';\nimport { CoursesListComponent } from './coursesList/coursesList.component';\nimport { CoursesListEmptyComponent } from './coursesList/coursesListEmpty/coursesListEmpty.component';\nimport { ObjectivesList } from './course-details/objectives-list/objectives-list.component';\nimport { StudentAssessmentDetails } from './student-assessment-details.component';\nimport { StudentAssignmentsList } from './student-objective-details/student-assignments-list/student-assignments-list.component';\nimport { StudentCourseProgressComponent } from './student-course-progress.component';\nimport { studentCourseProgressRouterConfig } from './student-course-progress.routing';\nimport { StudentObjectiveDetails } from './student-objective-details/student-objective-details.component';\n\nexport const StudentCourseProgressModule = angular\n  .module('studentCourseProgressModule', [\n    uiRouter,\n    ngSanitize,\n  ])\n  .component('assessmentDetailsEmpty', AssessmentDetailsEmpty)\n  .component('courseDetails', CourseDetails)\n  .component('courseListItem', CourseListItemComponent)\n  .component('coursesList', CoursesListComponent)\n  .component('coursesListEmpty', CoursesListEmptyComponent)\n  .component('objectivesListStudent', ObjectivesList)\n  .component('studentAssessmentDetails', StudentAssessmentDetails)\n  .component('studentProgressAssignmentsList', StudentAssignmentsList)\n  .component('studentCourseProgress', StudentCourseProgressComponent)\n  .component('studentObjectiveDetails', StudentObjectiveDetails)\n  .config(studentCourseProgressRouterConfig)\n  .name;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const AssessmentDetailsEmpty = {\n  bindings: {\n    emptyInfo: '@',\n    onClose: '&',\n  },\n  template: `\n<div class=\"sb-course-assessment__empty-info\" ng-bind-html=\"$ctrl.emptyInfo\"></div>\n<div class=\"sb-list-dropdown__footer\"\n     layout-align=\"center start space-around\">\n  <md-button\n    class=\"sb-button sb-button--right\"\n    ng-click=\"$ctrl.onClose()\"\n    localize>\n    __MSG_closeBtn__\n  </md-button>\n</div>\n  `,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { CourseDetailsCtrl } from './course-details.controller';\n\nexport const CourseDetails = {\n  bindings: {\n    course: '<',\n    courseAssessment: '<',\n  },\n  templateUrl: 'components/course-progress/student-course-progress/cmStudentCourseDetails/cmStudentCourseDetails.html',\n  controller: CourseDetailsCtrl,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Events } from '../../../../common/global-events.ts';\n\nexport class CourseDetailsCtrl {\n  constructor($rootScope, $state) {\n    'ngInject';\n\n    this.$rootScope = $rootScope;\n    this.$state = $state;\n  }\n\n  $onInit() {\n    this.$rootScope.$emit(\n      Events.UPDATE_USER_STATUSES_FOR_COURSES_AND_OBJECTIVES,\n    );\n  }\n\n  toggleAssessment() {\n    this.courseAssessment.open = !this.courseAssessment.open;\n  }\n\n  closeCourseView() {\n    this.$state.go('student-course-progress', { course: null });\n    this.$rootScope.$emit(Events.CLOSE_COURSE_DETAILS_VIEW);\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport class CourseListItemComponent {\n  static bindings = {\n    course: '<',\n    selectedCourse: '<',\n    onUpdate: '&',\n  };\n  static controller = CourseListItemComponent;\n  static templateUrl = 'components/course-progress/student-course-progress/coursesList/courseListItem/courseListItem.html';\n\n  constructor() {\n    'ngInject';\n\n    this.course = null;\n    this.selectedCourse = null;\n  }\n\n  navigateToCourseDetails() {\n    this.selectedCourse = this.course;\n    this.onUpdate({ selectedCourse: this.selectedCourse });\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Events } from '../../../../common/global-events.ts';\nimport { UnbindableCtrlBase } from '../../../../common/base-classes';\nimport { getTranslation } from '../../../../../../../react_src/i18n';\n\nexport class CoursesListComponent extends UnbindableCtrlBase {\n  static bindings = { courses: '<' };\n\n  static controller = CoursesListComponent;\n\n  static templateUrl = 'components/course-progress/student-course-progress/coursesList/coursesList.html';\n\n  constructor($rootScope, $state, FetchData, UserInfo, Path, BreadcrumbsService) {\n    'ngInject';\n\n    super();\n    this.$rootScope = $rootScope;\n    this.$state = $state;\n    this.FetchData = FetchData;\n    this.UserInfo = UserInfo;\n    this.Path = Path;\n    this.BreadcrumbsService = BreadcrumbsService;\n    this.courses = [];\n    this.selectedCourse = null;\n    this.generalCourse = { id: -1, course_definition_name: getTranslation('allMyCourses') };\n  }\n\n  $onInit() {\n    this.coursesMap = new Map();\n\n    this.courses.forEach((course) => {\n      this.coursesMap.set(course.id, course);\n    });\n\n    this.boundEvents.push(this.$rootScope.$on(\n      Events.UPDATE_USER_STATUSES_FOR_COURSES_AND_OBJECTIVES,\n      () => {\n        this.FetchData\n          .v3\n          .getUserStatusesForCoursesAndObjectives(\n            this.Path.getClassroomId(),\n            this.UserInfo.userId,\n          )\n          .then((courses) => this.updateWarningsForCourses(courses));\n      },\n    ));\n\n    this.boundEvents.push(this.$rootScope.$on(\n      Events.CLOSE_COURSE_DETAILS_VIEW,\n      () => (this.selectedCourse = null),\n    ));\n\n    this.boundEvents.push(this.$rootScope.$on(\n      Events.SELECTED_COURSE_CHANGED,\n      (event, selectedCourse) => (this.selectedCourse = selectedCourse),\n    ));\n\n    // emit by itself to check the status\n    this.$rootScope.$emit(\n      Events.UPDATE_USER_STATUSES_FOR_COURSES_AND_OBJECTIVES,\n    );\n  }\n\n  updateWarningsForCourses(courses) {\n    courses.forEach((course) => {\n      if (this.coursesMap.has(course.id)) {\n        this.coursesMap.get(course.id).has_warnings = course.has_warnings;\n      }\n    });\n  }\n\n  selectedNewCourse(selectedCourse) {\n    this.selectedCourse = selectedCourse;\n\n    if (selectedCourse.id === -1) {\n      this.$state.go('student-course-progress.courses-overview', {\n        coursesDefinitions: this.courses,\n      });\n    } else {\n      this.$state.go('student-course-progress.courses-overview.learning-objectives', {\n        course: selectedCourse,\n        student: this.UserInfo,\n        breadcrumbs: [],\n      }, { reload: true });\n    }\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport class CoursesListEmptyComponent {\n  static templateUrl = 'components/course-progress/student-course-progress/coursesList/coursesListEmpty/coursesListEmpty.html';\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Breadcrumb } from '../../../../../shared/models/breadcrumb.model.ts';\nimport { ListViewType } from '../../../../../shared/enums/listViewType.enum.ts';\n\nexport * from './objectives-list.scss';\n\nexport const ObjectivesList = {\n  bindings: {\n    assessments: '<',\n    course: '<',\n  },\n  templateUrl: 'components/course-progress/student-course-progress/course-details/objectives-list/objectives-list.html',\n  controller: class {\n    constructor($state, $stateParams, $filter, $timeout, BreadcrumbsService, ListViewMenuService) {\n      'ngInject';\n      this.storageViewMenuId = 'studentStudentCourseProgressObjectiveList';\n      this.$state = $state;\n      this.$stateParams = $stateParams;\n      this.$filter = $filter;\n      this.$timeout = $timeout;\n      this.BreadcrumbsService = BreadcrumbsService;\n      this.ListViewMenuService = ListViewMenuService;\n      this.viewMenuItems = [];\n      this.viewMode = ListViewType.TITLE_ONLY;\n      this.assessments = [];\n      this.course = null;\n    }\n\n    $onInit() {\n      this.viewMenuItems = this.ListViewMenuService.getListViewMenu(this.storageViewMenuId);\n      this.viewMode = this.viewMenuItems.find(listViewMenuItem => listViewMenuItem.checked)\n        .eventArgs.view;\n    }\n\n    toggleAssessment(assessment) {\n      assessment.open = !assessment.open;\n    }\n\n    navigateToLearningObjective(assessment) {\n      const breadcrumbs = [\n        ...this.$stateParams.breadcrumbs,\n        new Breadcrumb(\n          this.course.course_definition_name,\n          this.BreadcrumbsService.createGoToAction(),\n        ),\n      ];\n\n      this.$state.go(\n        'student-course-progress.courses-overview.learning-objectives.assessments',\n        {\n          assessment,\n          breadcrumbs,\n          course: this.course,\n          objective: assessment.objective,\n        },\n      );\n    }\n\n    onClickMenuItem(toolbarMenuItem) {\n      this.viewMenuItems.forEach((menuItem) => {\n        Object.assign(menuItem, { checked: false });\n      });\n      Object.assign(toolbarMenuItem, { checked: true });\n      this.ListViewMenuService.saveListViewMenu(this.storageViewMenuId, this.viewMenuItems);\n      this.viewMode = toolbarMenuItem.eventArgs.view;\n    }\n\n    isTitleVisible(title) {\n      return this.viewMode !== ListViewType.DESCRIPTION_ONLY && `${title}`.trim().length;\n    }\n\n    isDescriptionVisible(description) {\n      return this.viewMode !== ListViewType.TITLE_ONLY &&\n        `${this.$filter('getFormattedOrEmpty')(description)}`.trim().length;\n    }\n\n    expandAll() {\n      this.changeOpenStateForAll(true);\n    }\n\n    collapseAll() {\n      this.changeOpenStateForAll(false);\n    }\n\n    changeOpenStateForAll(state) {\n      this.$timeout(() => {\n        this.assessments = this.assessments.map((assessment) => {\n          assessment.open = state;\n\n          return assessment;\n        });\n      }, 0);\n    }\n  },\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Events } from '../../../common/global-events.ts';\n\nexport const StudentAssessmentDetails = {\n  bindings: {\n    assessment: '<',\n    assignment: '<',\n    objective: '<',\n    detailsButtonDisable: '<',\n    showTargetGrade: '<',\n    showStudentSelfAssessment: '<',\n    emptyInfo: '@',\n    mixpanelSelfAssessmentEvent: '@',\n    onAssessmentClose: '&',\n    onNavigateToDetails: '&',\n  },\n  controller: class {\n    constructor($rootScope, FetchData, UserInfo) {\n      'ngInject';\n      this.$rootScope = $rootScope;\n      this.FetchData = FetchData;\n      this.UserInfo = UserInfo;\n    }\n\n    get isDetailsEmpty() {\n      return !(this.assessment.feedback ||\n        this.assessment.grade ||\n        this.assessment.counter_grades ||\n        this.assessment.target_grade ||\n        this.assessment.self_assessment);\n    }\n\n    updateAssessmentData(assessmentData) {\n      this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n      this.FetchData.v3\n        .updateObjectiveAssessments(\n          this.UserInfo.userId,\n          this.objective.id,\n          assessmentData,\n        )\n        .finally(() => {\n          this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY);\n        });\n    }\n  },\n  template: `\n    <assessment-details\n      ng-if=\"!$ctrl.isDetailsEmpty\"\n      assessment=\"$ctrl.assessment\"\n      assignment=\"$ctrl.assignment\"\n      details-button-disable=\"$ctrl.detailsButtonDisable\"\n      show-target-grade=\"$ctrl.showTargetGrade\"\n      read-only=\"true\"\n      show-student-self-assessment=\"$ctrl.showStudentSelfAssessment\"\n      mixpanel-self-assessment-event=\"{{$ctrl.mixpanelSelfAssessmentEvent}}\"\n      on-navigate-to-details=\"$ctrl.onNavigateToDetails()\"\n      on-assessment-close=\"$ctrl.onAssessmentClose()\"\n      on-assessment-update=\"$ctrl.updateAssessmentData(assessment)\">\n    </assessment-details>\n    <assessment-details-empty\n      empty-info=\"{{ $ctrl.emptyInfo }}\"\n      on-close=\"$ctrl.onAssessmentClose()\"\n      ng-if=\"$ctrl.isDetailsEmpty && $ctrl.assessment.open\">\n    </assessment-details-empty>\n  `,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { AssignmentsComponent } from '../../../../../shared/components/assignments/assignments.component.ts';\nimport style from './studentAssignmentsList.scss';\nimport { AssignmentFilterGroup } from '../../../../../shared/enums/assignmentFilterGroup.enum';\nimport { AssignmentType } from '../../../../../shared/enums/assignmentType.enum';\n\nexport const StudentAssignmentsList = {\n  bindings: {\n    assessments: '<',\n    assignments: '<',\n    objective: '<objectiveSelected',\n  },\n  templateUrl: 'components/course-progress/student-course-progress/student-objective-details/student-assignments-list/student-assignments-list.html',\n  controller: class extends AssignmentsComponent {\n\n    constructor(AssignmentsList, $scope, $stateParams, $state, $timeout, LocalStorageService) {\n      'ngInject';\n\n      super($scope, $stateParams, $state, LocalStorageService);\n\n      this.$timeout = $timeout;\n      this.AssignmentsList = AssignmentsList;\n      this.statePrefix = 'StudentProgressLearningObjective';\n      this.filters = [\n        {\n          group: AssignmentFilterGroup.TYPE,\n          type: AssignmentType.WORK_UNIT,\n          label: 'assignmentActionMenuFilterWorkUnit',\n        },\n        {\n          group: AssignmentFilterGroup.TYPE,\n          type: AssignmentType.STANDARD_ASSIGNMENT,\n          label: 'assignmentActionMenuFilterAssignments',\n        },\n      ];\n    }\n\n    $onInit() {\n      super.$onInit();\n      const counterGradeAssessment = this.assessments.find(assesment =>\n        assesment.grade_system.is_counter,\n      );\n      this.hasCounterGrade = counterGradeAssessment !== undefined;\n      this.assessments = this.assignments.map(assignment =>\n        this.assessments.find(assessment => assessment.assignment.id === assignment.assignment_id),\n      );\n    }\n\n    toggleAssessment(assessment) {\n      // eslint-disable-next-line no-param-reassign, class-methods-use-this\n      assessment.open = !assessment.open;\n    }\n\n    getAssignmentForAssessment(assessment) {\n      return this.AssignmentsList.getAssignmentForAssessment(this.assignments, assessment);\n    }\n\n    isNoteAvailable(assessment) {\n      const assignment = this.getAssignmentForAssessment(assessment);\n      return !!assignment && !!assignment.private_note;\n    }\n\n    isFeedbackAvailable(assessment) {\n      const assignment = this.getAssignmentForAssessment(assessment);\n      return !!assignment && assignment.feedback_published && !!assignment.feedback;\n    }\n\n    findAssignment(assessmentAssignment) {\n      return this.assignments\n        .find(assignment => assignment.assignment_id === assessmentAssignment.id);\n    }\n\n    expandAll() {\n      this.changeOpenStateForAll(true);\n    }\n\n    collapseAll() {\n      this.changeOpenStateForAll(false);\n    }\n\n    changeOpenStateForAll(state) {\n      this.$timeout(() => {\n        this.assessments = this.assessments.map((assessment) => {\n          assessment.open = state;\n\n          return assessment;\n        });\n      }, 0);\n    }\n  },\n  style,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { showHintDialog } from '../../../common/dialogs/dialogs.helper';\n\nexport class StudentCourseProgressComponent {\n  static bindings = { courses: '<' };\n  static templateUrl = 'components/course-progress/student-course-progress/student-course-progress.html';\n  static controller = StudentCourseProgressComponent;\n\n  constructor($state, $cookies, $timeout, $mdDialog, CourseProgress) {\n    'ngInject';\n\n    this.$state = $state;\n    this.$cookies = $cookies;\n    this.$timeout = $timeout;\n    this.$mdDialog = $mdDialog;\n    this.CourseProgress = CourseProgress;\n    this.courseId = null;\n    this.courses = [];\n  }\n\n  $onInit() {\n    showHintDialog(this.$mdDialog, this.$timeout, this.$state.current.name, this.$cookies);\n\n    if (this.CourseProgress.hasLastStateSaved) {\n      this.$state.go(\n        this.CourseProgress.lastStateSaved.name,\n        this.CourseProgress.lastStateSaved.params,\n      );\n    }\n  }\n}\n","import { AssignmentOrder } from '../../../assignments/teacherAssignments/shared/enums/assignmentOrder.ts';\nimport { AssignmentType } from '../../../shared/enums/assignmentType.enum.ts';\n\nexport const studentCourseProgressRouterConfig = ($stateProvider) => {\n  'ngInject';\n\n  $stateProvider\n    .state('student-course-progress', {\n      resolve: {\n        courses: (FetchData, UserInfo) => {\n          'ngInject';\n\n          return FetchData.v3.getStudentCoursesDefinitions(UserInfo.id);\n        },\n      },\n      views: {\n        '@': { component: 'studentCourseProgress' },\n      },\n    })\n    .state('student-course-progress.courses-overview', {\n      params: {\n        coursesDefinitions: null,\n        breadcrumbs: [],\n      },\n      resolve: {\n        coursesDefinitions: ($stateParams) => {\n          'ngInject';\n\n          return $stateParams.coursesDefinitions || null;\n        },\n        courses: (FetchData, Path) => {\n          'ngInject';\n\n          return FetchData.v3.getCourseDefinitions(Path.getClassroomId());\n        },\n      },\n      views: {\n        'extended@': 'studentCoursesDetails',\n      },\n    })\n    .state('student-course-progress.courses-overview.learning-objectives', {\n      params: {\n        course: null,\n        breadcrumbs: [],\n        student: null,\n      },\n      resolve: {\n        student: (UserInfo) => {\n          'ngInject';\n\n          return UserInfo.getUserObj();\n        },\n        course: ($stateParams) => {\n          'ngInject';\n\n          return $stateParams.course || null;\n        },\n        courseSelected: (course) => {\n          'ngInject';\n\n          return course;\n        },\n        assessments: (FetchData, UserInfo, course) => {\n          'ngInject';\n\n          return course ?\n            FetchData.v3\n              .getCourseDefinitionObjectiveAssessments(UserInfo.userId, course.course_definition) :\n            null;\n        },\n        courseAssessment: (FetchData, course, UserInfo) => {\n          'ngInject';\n\n          return course ?\n            FetchData.v3\n              .getCourseDefinitionAssessment(UserInfo.userId, course.course_definition) :\n            {};\n        },\n      },\n      views: {\n        'extended@': {\n          component: 'studentDetails',\n        },\n        'details@student-course-progress.courses-overview.learning-objectives': {\n          component: 'objectivesListStudent',\n        },\n      },\n    })\n    .state('student-course-progress.courses-overview.learning-objectives.assessments', {\n      params: {\n        assessment: null,\n        breadcrumbs: [],\n        objective: null,\n        ordering: AssignmentOrder.ASC_TYPE,\n        filters: [\n          AssignmentType.WORK_UNIT,\n          AssignmentType.STANDARD_ASSIGNMENT,\n        ],\n      },\n      data: {\n        statePrefix: 'StudentProgressLearningObjectiveAssignments',\n      },\n      resolve: {\n        objectiveAssessment: ($stateParams) => {\n          'ngInject';\n\n          return $stateParams.assessment;\n        },\n        objectiveSelected: ($stateParams) => {\n          'ngInject';\n\n          return $stateParams.objective;\n        },\n        objectives: ($stateParams, FetchData) => {\n          'ngInject';\n\n          return FetchData.v3\n            .getCourseDefinitionObjectives($stateParams.course.course_definition);\n        },\n        assessments: ($stateParams, FetchData, UserInfo) => {\n          'ngInject';\n\n          return FetchData.v3\n            .getObjectiveAssessments(UserInfo.userId, $stateParams.objective.id);\n        },\n        assignments: (objectiveSelected, UserInfo, AssignmentAssessmentService, $stateParams, AssignmentService) => {\n          'ngInject';\n\n          const requestConfig = {\n            ordering: $stateParams.ordering,\n          };\n\n          return AssignmentAssessmentService\n            .getAssignmentAssessmentByObjective(UserInfo.userId, objectiveSelected.id, requestConfig)\n            .then(assignmentsAssessments =>\n              AssignmentService\n                .filterAssignmentsByTypes(assignmentsAssessments, $stateParams.filters),\n            );\n        },\n        gradeSystem: (GradeSystems) => {\n          'ngInject';\n\n          return GradeSystems.fetchGradeSystemsList();\n        },\n      },\n      views: {\n        'extended@': {\n          component: 'objectiveDetails',\n        },\n        'details@student-course-progress.courses-overview.learning-objectives.assessments': {\n          component: 'studentProgressAssignmentsList',\n        },\n      },\n    });\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Events } from '../../../../common/global-events.ts';\n\nexport const StudentObjectiveDetails = {\n  bindings: {\n    objectiveSelected: '<',\n    objectives: '<',\n    objectiveAssessment: '<',\n    course: '<',\n  },\n  templateUrl: 'components/course-progress/student-course-progress/student-objective-details/student-objective-details.html',\n  controller: class {\n    constructor($rootScope, NavigationHistory) {\n      'ngInject';\n\n      this.$rootScope = $rootScope;\n      this.NavigationHistory = NavigationHistory;\n    }\n\n    $onInit() {\n      this.$rootScope.$emit(\n        Events.UPDATE_USER_STATUSES_FOR_COURSES_AND_OBJECTIVES,\n      );\n    }\n\n    closeAssignmentsView() {\n      this.NavigationHistory.go(\n        'student-course-progress.details.learning-objectives',\n        {\n          course: this.course,\n        },\n      );\n    }\n\n    changeObjective() {\n      this.NavigationHistory.go(\n        'student-course-progress.objective-details.learning-assignments',\n        {\n          objective: this.objectiveSelected,\n        },\n      );\n    }\n\n    toggleAssessment() {\n      this.objectiveAssessment.open = !this.objectiveAssessment.open;\n    }\n  },\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const CounterGradeEditable = {\n  bindings: {\n    label: '<',\n    grade: '<',\n    maxGrade: '<',\n    readOnly: '<',\n    onUpdate: '&'\n  },\n  controller: class {\n    updateGrade() {\n      this.onUpdate({ grade: this.grade });\n    }\n\n    increaseGrade() {\n      if (this.grade < this.maxGrade && this.grade !== null) {\n        this.grade += 1;\n        this.updateGrade();\n      }\n      if (this.grade === null) {\n        this.grade = 0;\n        this.updateGrade();\n      }\n    }\n\n    decreaseGrade() {\n      if (this.grade > 0) {\n        this.grade -= 1;\n        this.updateGrade();\n      }\n    }\n  },\n  template: `\n<div\n  class=\"counter-grade\"\n  layout=\"row\"\n  layout-align=\"start center\">\n  <span class=\"sb-label-left\" flex=\"noshrink\">\n    {{$ctrl.label}}\n  </span>\n  <div\n    flex=\"70\"\n    layout=\"row\"\n    layout-align=\"end center\"\n    class=\"input-underline\">\n    <input\n      flex=\"55\"\n      type=\"number\"\n      placeholder=\"{{ $ctrl.grade || '-' }}\"\n      ng-model-options='{ debounce: 500, allowInvalid: false }'\n      ng-readonly=\"$ctrl.readOnly\"\n      ng-model=\"$ctrl.grade\"\n      max=\"{{$ctrl.maxGrade}}\"\n      min=\"0\"\n      ng-change=\"$ctrl.updateGrade()\">\n    <span flex=\"40\">/{{$ctrl.maxGrade}}</span>\n  </div>\n  <div\n    class=\"counter-grade__arrows\"\n    flex=\"15\"\n    ng-if=\"!$ctrl.readOnly\">\n    <span class=\"arrow-up\" ng-click=\"$ctrl.increaseGrade()\"></span>\n    <span class=\"arrow-down\" ng-click=\"$ctrl.decreaseGrade()\"></span>\n  </div>\n</div>\n  `\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const CounterGradePreview = {\n  bindings: {\n    label: '<',\n    grade: '<',\n    maxGrade: '<',\n  },\n  template: `\n<span class=\"sb-course-assessment__grade-detail\n           sb-course-assessment__grade-detail--bg\">\n  {{$ctrl.label}}\n  <span\n    class=\"sb-course-assessment__grade-points\"\n    ng-if=\"!($ctrl.grade === null)\">\n    {{$ctrl.grade}}/{{$ctrl.maxGrade}}\n  </span>\n  <span\n    class=\"sb-course-assessment__grade-points\"\n    ng-if=\"$ctrl.grade === null\">\n    -/{{$ctrl.maxGrade}}\n  </span>\n</span>\n  `,\n};\n","/* eslint-disable import/prefer-default-export */\n/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const CounterGradeSummary = {\n  bindings: {\n    assessments: '<',\n  },\n  controller: class {\n    constructor(GradeSystems) {\n      'ngInject';\n\n      this.GradeSystems = GradeSystems;\n    }\n\n    $onChanges() {\n      this.counterGradesSummarized = {};\n      // get only assessments with counter grade system\n      const assessments = this.assessments\n        .filter(_assessment => _assessment.grade_system.is_counter);\n      // summarize all grades, gruped by the grade system\n      assessments.forEach((assessment) => {\n        const id = assessment.grade_system.id;\n        const gradeSystem = this.GradeSystems.getGradeSystemById(id);\n        const gradesCount = gradeSystem.grades.length;\n        // move to the next if counter_grades are null ( this situation might happen\n        // to the student when grade is not visible\n        if (!assessment.counter_grades) {\n          return;\n        }\n\n        const values = assessment.counter_grades.slice(0, gradesCount);\n        const maxValues = assessment.grade_system.max_counter_grades.slice(0, gradesCount);\n\n        if (id in this.counterGradesSummarized) {\n          const data = this.counterGradesSummarized[id];\n          data.values = this.summarizeArrays(data.values, values);\n          data.maxValues = this.summarizeArrays(data.maxValues, maxValues);\n        } else {\n          this.counterGradesSummarized[id] = {\n            values,\n            maxValues,\n            labels: gradeSystem.grades.map(grade => grade.circle_label),\n          };\n        }\n      });\n\n      // switch it to the array ( it's not possible to use Object in the angular's templates\n      this.counterGradesSummarized = Object.values(this.counterGradesSummarized);\n    }\n\n    summarizeArrays(array1, array2) {\n      const sum = new Array(array1.length);\n      // eslint-disable-next-line no-restricted-syntax\n      for (const id in Object.values(array1)) {\n        // fixing null + null == 0 error\n        if (array1[id] === null && array2[id] === null) {\n          sum[id] = null;\n        } else {\n          sum[id] = array1[id] + array2[id];\n        }\n      }\n      return sum;\n    }\n  },\n  //language=HTML\n  template: `\n<md-list-item\n  ng-repeat=\"counterGrade in $ctrl.counterGradesSummarized\">\n  <p\n    flex\n    class=\"sb-list-item-name sb-list-item-name--blue sb-list-truncate-with-arrow\"\n    ng-if=\"$first\">\n    <span localize>\n      __MSG_courseProgressECACounterSummaryLabel__\n    </span>\n  </p>\n\n  <div flex\n       class=\"sb-course-assessment__meta\n            sb-course-assessment__meta--sm\">\n\n        <span class=\"sb-course-assessment__meta-grade\n        sb-course-assessment__meta-grade--sm\n        sb-course-assessment__meta-item\n        sb-course-assessment__meta-grade--expanded\n        sb-course-assessment__meta-item--sm\">\n            <counter-grade-preview\n              ng-repeat=\"_ in counterGrade.maxValues track by $index\"\n              label=\"counterGrade.labels[$index]\"\n              grade=\"counterGrade.values[$index]\"\n              max-grade=\"counterGrade.maxValues[$index]\">\n            </counter-grade-preview>\n        </span>\n    <span class=\"sb-course-assessment__meta-item sb-course-assessment__meta-item--sm\"></span>\n  </div>\n</md-list-item>\n  `,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\nimport { Events } from '../../../common/global-events.ts';\n\nexport const GradeEditable = {\n  bindings: {\n    grade: '<',\n    gradeSystem: '<',\n    readOnly: '<',\n    isTargetGrade: '<',\n    mixpanelUpdateEvent: '@',\n    onGradeUpdate: '&',\n    onGradeChange: '&',\n  },\n  controller: class {\n    constructor($scope, $timeout, $element, Mixpanel) {\n      'ngInject';\n\n      this.$scope = $scope;\n      this.$timeout = $timeout;\n      this.$element = $element;\n      this.Mixpanel = Mixpanel;\n      this.isTargetGrade = false;\n      this.targetGradeColor = '#03A9F4';\n      this.slider = { value: -1 };\n    }\n\n    $onInit() {\n      this.$element\n        .off('.GradeEditableAnimation')\n        .on('mouseenter.GradeEditableAnimation', () => this.$timeout(() => {\n          this.sliderOptions = { ...this.sliderOptions, disableAnimation: false };\n        }))\n        .on('mouseleave.GradeEditableAnimation', () => this.$timeout(() => {\n          this.sliderOptions = { ...this.sliderOptions, disableAnimation: true };\n        }));\n\n      // find correct grade\n      if (this.grade) {\n        this.slider.value = this.gradeSystem.grades.findIndex(grade => grade.id === this.grade.id);\n      }\n\n      if (this.isTargetGrade) {\n        this.gradeSystem = angular.copy(this.gradeSystem);\n        const lastColor = this.gradeSystem.grades[this.gradeSystem.grades.length - 1].color;\n\n        this.gradeSystem.grades.forEach((grade) => {\n          if (grade.color === lastColor) {\n            // eslint-disable-next-line no-param-reassign\n            grade.color = this.targetGradeColor;\n          }\n        });\n      }\n\n      const ticksArray = [-1, ...this.gradeSystem.grades.map((value, index) => index)];\n\n      this.sliderOptions = {\n        ticksArray,\n        enforceStep: true,\n        floor: -1,\n        showSelectionBar: true,\n        showTicks: true,\n        showTicksValues: true,\n        ceil: this.gradeSystem.grades.length - 1,\n        readOnly: this.readOnly,\n        interval: 1,\n        disableAnimation: false,\n        getSelectionBarColor: (value) => {\n          if (value === -1) {\n            return '#9E9E9E';\n          }\n          return this.gradeSystem.grades[value].color;\n        },\n        getPointerColor: (value) => {\n          if (value === -1) {\n            return '#9E9E9E';\n          }\n          return this.gradeSystem.grades[value].color;\n        },\n        translate: (value, sliderId, model) => {\n          if (value === -1) {\n            return '';\n          }\n          return model === 'model' ?\n            this.gradeSystem.grades[value].circle_label :\n            this.gradeSystem.grades[value].label;\n        },\n        onStart: () => {\n          this.isActive = true;\n        },\n        onChange: () => {\n          this.onGradeChange({ grade: this.getGrade() });\n        },\n        onEnd: () => {\n          this.isActive = false;\n          this.onGradeUpdate({ grade: this.getGrade() });\n          this.Mixpanel.track(this.mixpanelUpdateEvent);\n        },\n      };\n    }\n\n    $postLink() {\n      this.$timeout(() => this.$scope.$broadcast(Events.RZ_SLIDER_FORCE_RENDER), 0)\n        .then(() => {\n          this.$timeout(() => this.$scope.$broadcast(Events.RZ_SLIDER_FORCE_RENDER), 50);\n        });\n    }\n\n    $onDestroy() {\n      this.$element.off('.GradeEditableAnimation');\n    }\n\n    getGrade() {\n      if (this.slider.value !== -1) {\n        return this.gradeSystem.grades[this.slider.value];\n      }\n      return null;\n    }\n  },\n  template: `\n    <rzslider\n      ng-if=\"$ctrl.sliderOptions\"\n      ng-class=\"{\n        'sb-course-assessment__slider--enabled-animations': !$ctrl.sliderOptions.disableAnimation,\n        'sb-course-assessment__slider--hover': $ctrl.isHovered,\n        'sb-course-assessment__slider--active': $ctrl.isActive,\n        'sb-course-assessment__slider--readonly': $ctrl.readOnly,\n      }\"\n      ng-mouseenter=\"$ctrl.isHovered = true\"\n      ng-mouseleave=\"$ctrl.isHovered = false\"\n      class=\"sb-course-assessment__slider animated-slider\"\n      rz-slider-model=\"$ctrl.slider.value\"\n      rz-slider-options=\"$ctrl.sliderOptions\"></rzslider>\n  `,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const NoCourses = {\n  template: `\n    <div class=\"sb-course-assessment__course-placeholder\">\n      <span class=\"sb-ico sb-ico__course\"></span>\n      <span localize>\n        __MSG_courseProgressNoCoursesAssignmentInformation__\n      </span>\n    </div>\n  `,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Events } from '../../../common/global-events.ts';\n\nexport const NoStudentSelected = {\n  //language=HTML\n  template: `\n    <md-toolbar flex=\"nogrow\" class=\"sb-toolbar\"></md-toolbar>\n    <div class=\"sb-course-assessment__student-placeholder\">\n      <span class=\"sb-ico sb-ico__student\"></span>\n      <span localize>\n        __MSG_courseProgressNoStudentSelected__\n      </span>\n    </div>\n  `,\n  controller: class {\n    constructor($rootScope) {\n      this.$rootScope = $rootScope;\n    }\n\n    $onInit() {\n      // send signal to update users warnings for course assessment\n      this.$rootScope.$emit(Events.UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES);\n    }\n  },\n};\n","import { Events } from '../../../../../common/global-events.ts';\nimport style from './assignmentsList.scss';\nimport { AssignmentsComponent } from '../../../../../shared/components/assignments/assignments.component.ts';\nimport { AssignmentFilterGroup } from '../../../../../shared/enums/assignmentFilterGroup.enum';\nimport { AssignmentType } from '../../../../../shared/enums/assignmentType.enum';\n\nexport const AssignmentsList = {\n  bindings: {\n    assessments: '<',\n    assignments: '<',\n    student: '<',\n    objectiveSelected: '<',\n  },\n  templateUrl:\n    'components/course-progress/teacher-course-progress/objective-details/assignments-list/assignments-list.html',\n  controller: class extends AssignmentsComponent {\n    constructor($rootScope, $scope, $timeout, $stateParams, $state, LocalStorageService, FetchData, AssignmentsList) {\n      'ngInject';\n\n      super($scope, $stateParams, $state, LocalStorageService);\n      this.$rootScope = $rootScope;\n      this.$scope = $scope;\n      this.$timeout = $timeout;\n      this.$stateParams = $stateParams;\n      this.FetchData = FetchData;\n      this.AssignmentsList = AssignmentsList;\n      this.broadcastDelay = 200;\n      this.isEditable = false;\n      this.statePrefix = 'StudentProgressLearningObjective';\n      this.filters = [\n        {\n          group: AssignmentFilterGroup.TYPE,\n          type: AssignmentType.WORK_UNIT,\n          label: 'assignmentActionMenuFilterWorkUnit',\n        },\n        {\n          group: AssignmentFilterGroup.TYPE,\n          type: AssignmentType.STANDARD_ASSIGNMENT,\n          label: 'assignmentActionMenuFilterAssignments',\n        },\n      ];\n    }\n\n    $onInit() {\n      super.$onInit();\n      const counterGradeAssessment = this.assessments.find((assesment) => {\n        return assesment.grade_system.is_counter;\n      });\n      this.hasCounterGrade = counterGradeAssessment !== undefined;\n      this.isEditable = this.$stateParams.course &&\n        this.$stateParams.course.teacher_in_class;\n\n      this.assessments = this.assignments.map(assignment =>\n        this.assessments.find(assessment => assessment.assignment.id === assignment.assignment_id),\n      );\n    }\n\n    toggleAssessment(assessment) {\n      Object.assign(assessment, { open: !assessment.open });\n\n      if (assessment.open && !assessment.seen) {\n        this.FetchData.v3\n          .setObjectiveAssessmentSeen(\n            this.student.id,\n            this.objectiveSelected.id,\n            assessment,\n          )\n          .then(() => {\n            Object.assign(assessment, { seen: true });\n          });\n\n        this.FetchData.v3\n          .patchObjectiveAssignmentAssessmentsSeen(\n            this.student.id,\n            this.objectiveSelected.id,\n            { assignment_id: assessment.assignment.id },\n          )\n          .then(() => {\n            Object.assign(assessment.assignment, { seen: true });\n          });\n      }\n    }\n\n    updateAssessmentData(assessmentData) {\n      this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n      this.FetchData.v3\n        .updateObjectiveAssessments(\n          this.student.id,\n          this.objectiveSelected.id,\n          assessmentData,\n        )\n        .then((_assessment) => {\n          this.assessments = this.assessments.map((assessment) => {\n            if (assessment.id === _assessment.id) {\n              // Dont overwrite feedback and private_note, it messes with the ui\n              const { feedback, private_note, result, ...rest } = _assessment;\n              return { ...assessment, ...rest, grade_system: assessment.grade_system };\n            }\n            return assessment;\n          });\n        })\n        .finally(() => {\n          this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY);\n        });\n    }\n\n    getAssignmentForAssessment(assessment) {\n      return this.AssignmentsList.getAssignmentForAssessment(this.assignments, assessment);\n    }\n\n    onAssignmentChange(assignment) {\n      this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n      this.FetchData.v3\n        .patchObjectiveAssignmentAssessments(\n          this.student.id,\n          this.objectiveSelected.id,\n          assignment,\n        )\n        .then((response) => {\n          this.assignments = this.assignments.map((_assignment) => {\n            if (_assignment.id === assignment.id) {\n              // Dont overwrite feedback and private_note, it messes with the ui\n              const { feedback, private_note, result, ...rest } = response;\n              return Object.assign({}, _assignment, assignment, rest);\n            }\n            return _assignment;\n          });\n        })\n        .finally(() => this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY));\n    }\n\n    isNoteAvailable(assessment) {\n      const assignment = this.getAssignmentForAssessment(assessment);\n\n      return (\n        (!!assessment && !!assessment.private_note) ||\n        (!!assignment && !!assignment.private_note)\n      );\n    }\n\n    isFeedbackAvailable(assessment) {\n      const assignment = this.getAssignmentForAssessment(assessment);\n\n      return (\n        (!!assessment &&\n          assessment.feedback_published &&\n          !!assessment.feedback) ||\n        (!!assignment && assignment.feedback_published && !!assignment.feedback)\n      );\n    }\n\n    findAssignment(assessmentAssignment) {\n      return this.assignments\n        .find(assignment => assignment.assignment_id === assessmentAssignment.id);\n    }\n\n    expandAll() {\n      this.changeOpenStateForAll(true);\n    }\n\n    collapseAll() {\n      this.changeOpenStateForAll(false);\n    }\n\n    changeOpenStateForAll(state) {\n      this.$timeout(() => {\n        this.assessments = this.assessments.map((assessment) => {\n          assessment.open = state;\n\n          return assessment;\n        });\n      }, 0);\n    }\n  },\n  style,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { ObjectiveDetailsCtrl } from './objective-details.controller';\n\nexport const ObjectiveDetails = {\n  bindings: {\n    student: '<',\n    course: '<',\n    objectives: '<',\n    objectiveSelected: '<',\n    objectiveAssessment: '<',\n  },\n  templateUrl: 'components/course-progress/teacher-course-progress/objective-details/objective-details.html',\n  controller: ObjectiveDetailsCtrl,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Events } from '../../../../common/global-events.ts';\nimport { Breadcrumb } from '../../../../shared/models/breadcrumb.model.ts';\n\nexport class ObjectiveDetailsCtrl {\n  constructor($rootScope, $scope, $stateParams, $state, $timeout, BreadcrumbsService, FetchData, UserInfo) {\n    'ngInject';\n\n    this.$rootScope = $rootScope;\n    this.$scope = $scope;\n    this.$stateParams = $stateParams;\n    this.$state = $state;\n    this.$timeout = $timeout;\n    this.BreadcrumbsService = BreadcrumbsService;\n    this.FetchData = FetchData;\n    this.breadcrumbs = [];\n    this.objectives = [];\n    this.broadcastDelay = 200;\n    this.isEditable = false;\n    this.isTeacher = UserInfo.isTeacher();\n  }\n\n  $onInit() {\n    this.$rootScope.$emit(Events.UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES);\n\n    this.breadcrumbs = [...this.$stateParams.breadcrumbs].concat(\n      new Breadcrumb(\n        this.$stateParams.objective.name,\n        this.BreadcrumbsService.createGoToAction(),\n      ),\n    );\n\n    this.isEditable = this.$stateParams.course && this.$stateParams.course.teacher_in_class;\n  }\n\n  closeAssignmentsView() {\n    // also update the warnings for the students' list\n    this.$rootScope.$emit(Events.UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES);\n    this.$stateParams.breadcrumbs.pop().action();\n  }\n\n  changeObjective() {\n    this.$state.go(\n     this.$state.current.name,\n      this.getRoutiongParams(),\n    );\n  }\n\n  getRoutiongParams() {\n    return Object.assign({}, this.$stateParams, {\n      objective: this.objectiveSelected,\n      student: this.student,\n      course: this.course,\n      breadcrumbs: this.breadcrumbs.slice(0, -1),\n    });\n  }\n\n  toggleAssessment() {\n    this.objectiveAssessment.open = !this.objectiveAssessment.open;\n  }\n\n  updateAssessmentData(assessmentData) {\n    this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n    this.FetchData.v3\n      .updateCourseDefinitionObjectiveAssessment(\n        this.student.id,\n        this.course.course_definition,\n        assessmentData,\n      )\n      .then((assessmentResponse) => {\n        Object.assign(assessmentResponse, { open: assessmentData.open });\n        // Dont overwrite feedback and private_note, it messes with the ui\n        const { feedback, private_note, result, ...rest } = assessmentResponse;\n        this.objectiveAssessment = { ...this.objectiveAssessment, ...rest };\n      })\n      .then(() => {\n        this.$rootScope.$emit(Events.UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES);\n        this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY);\n      });\n  }\n}\n","import { Events } from '../../../../common/global-events.ts';\nimport { Breadcrumb } from '../../../../shared/models/breadcrumb.model.ts';\nimport { Observer } from '../../../../shared/services/helpers/observer.service.ts';\nimport { UnsubscribableComponent } from '../../../../shared/components/abstracts/unsubscribable.component.ts';\n\nexport * from './studentDetails.scss';\n\nexport class StudentDetailsComponent extends UnsubscribableComponent {\n  static bindings = {\n    courses: '<',\n    courseSelected: '<',\n    courseAssessment: '<',\n  };\n  static controller = StudentDetailsComponent;\n  static templateUrl = 'components/course-progress/teacher-course-progress/studentDetails/studentDetails.html';\n\n  constructor($rootScope, $scope, $state, $stateParams, $timeout, BreadcrumbsService, FetchData,\n              StudentCoursesDetails) {\n    'ngInject';\n\n    super();\n    this.$rootScope = $rootScope;\n    this.$scope = $scope;\n    this.$state = $state;\n    this.$stateParams = $stateParams;\n    this.$timeout = $timeout;\n    this.BreadcrumbsService = BreadcrumbsService;\n    this.FetchData = FetchData;\n    this.StudentCoursesDetails = StudentCoursesDetails;\n    this.student = $stateParams.student || {};\n    this.courses = $stateParams.courses || [];\n    this.courseSelected = $stateParams.course;\n    this.courseAssessment = $stateParams.courseAssessment || {};\n    this.breadcrumbs = [];\n    this.broadcastDelay = 200;\n    this.isEditable = false;\n    this.courseDefinitions = null;\n    this.isTeacher = this.StudentCoursesDetails.isTeacher;\n    this.fetchStudentCoursesDetails = false;\n  }\n\n  $onInit() {\n    const observer = new Observer(this.onNextStudentCoursesDefinitions.bind(this));\n\n    this.$$unsubscribes\n      .push(this.StudentCoursesDetails.studentCoursesDefinitions$.subscribe(observer));\n\n    // show no-course view if courseSelected is undefined\n    if (!this.courseSelected) {\n      this.$state.go('teacher-course-progress.details.no-courses');\n    } else {\n      this.$rootScope.$emit(Events.UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES);\n\n      this.breadcrumbs = [...this.$stateParams.breadcrumbs].concat(\n        new Breadcrumb(\n          this.courseSelected.course_definition_name,\n          this.BreadcrumbsService.createGoToAction(),\n        ),\n      );\n    }\n\n    this.isEditable = this.$stateParams.courseDefinition &&\n      this.$stateParams.courseDefinition.teacher_in_class;\n  }\n\n  changeCourse() {\n    if (this.courseSelected.course_definition !== this.courseAssessment.course_definition) {\n      this.$state.go(this.$state.current.name, {\n        course: this.courseSelected,\n        courseDefinition: this.courseSelected,\n        breadcrumbs: this.breadcrumbs.slice(0, -1),\n      }).then(() => {\n        if (!this.isTeacher && this.breadcrumbs.length === 1) {\n          this.$rootScope.$emit(Events.SELECTED_COURSE_CHANGED, this.courseSelected);\n        }\n      });\n    }\n  }\n\n  toggleAssessment() {\n    this.courseAssessment.open = !this.courseAssessment.open;\n  }\n\n  updateAssessmentData(assessmentData) {\n    this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n    this.FetchData.v3\n      .updateCourseDefinitionAssessment(\n        this.student.id,\n        this.courseSelected.course_definition,\n        assessmentData,\n      )\n      .then((assessment) => {\n        Object.assign(assessment, { open: assessmentData.open });\n        // Dont overwrite feedback and private_note, it messes with the ui\n        const { feedback, private_note, result, ...rest } = assessment;\n        this.courseAssessment = { ...this.courseAssessment, ...rest };\n      })\n      .then(() => {\n        this.$rootScope.$emit(Events.UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES);\n        this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY);\n      });\n  }\n\n  closeStudentView() {\n    if (this.breadcrumbs.length > 1) {\n      this.$stateParams.breadcrumbs.pop().action();\n    } else {\n      this.StudentCoursesDetails.goToNoStudentSelectedState();\n    }\n  }\n\n  sizeOfCoursesDefinitions() {\n    return this.courseDefinitions ?\n      this.mergedCourseDefinitions().length :\n      0;\n  }\n\n  getSingleCourseDefinition() {\n    return this.mergedCourseDefinitions()[0];\n  }\n\n  mergedCourseDefinitions() {\n    return this.courseDefinitions ?\n      Object\n        .keys(this.courseDefinitions)\n        .reduce((acc, key) => acc.concat(this.courseDefinitions[key]), []) :\n      [];\n  }\n\n  onNextStudentCoursesDefinitions(studentCoursesDefinitions) {\n    if (studentCoursesDefinitions) {\n      let extendedCourseDefinitions = this.StudentCoursesDetails.extendByOwner(\n        this.StudentCoursesDetails.extendByCourseDetails(studentCoursesDefinitions, this.courses),\n      );\n\n      if (this.isTeacher) {\n        extendedCourseDefinitions = this.StudentCoursesDetails.filterNoneAccessibleCourses(extendedCourseDefinitions);\n      }\n\n      this.courseDefinitions = this.StudentCoursesDetails.splitByCategory(\n        extendedCourseDefinitions,\n      );\n    } else {\n      this.fetchStudentCoursesDetails = true;\n      this.StudentCoursesDetails.fetch().then((coursesDefinitions) => {\n        this.courseSelected = coursesDefinitions.find((courseDefinition) =>\n          courseDefinition.course_definition === this.courseSelected.course_definition,\n        );\n\n        if (!this.courseSelected) {\n          const stateName = this.isTeacher ? 'teacher-course-progress.details.courses-overview' :\n            'student-course-progress.courses-overview';\n\n          this.$state.go(stateName, { student: this.student });\n        }\n      }).finally(() => {\n        this.fetchStudentCoursesDetails = false;\n      });\n    }\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { StudentsListCtrl } from './studentsList.controller';\n\nexport const StudentsListComponent = {\n  bindings: {\n    students: '<',\n    selectedStudent: '<',\n  },\n  templateUrl: 'components/course-progress/teacher-course-progress/students-list/studentsList.html',\n  controller: StudentsListCtrl,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport get from 'lodash.get';\nimport { Events } from '../../../../common/global-events.ts';\nimport { UnsubscribableComponent } from '../../../../shared/components/abstracts/unsubscribable.component';\n\nexport class StudentsListCtrl extends UnsubscribableComponent {\n  constructor($rootScope, $timeout, $state, $stateParams, StudentCoursesDetails) {\n    'ngInject';\n\n    super();\n    this.$rootScope = $rootScope;\n    this.$timeout = $timeout;\n    this.$state = $state;\n    this.$stateParams = $stateParams;\n    this.StudentCoursesDetails = StudentCoursesDetails;\n  }\n\n  $onInit() {\n    this.lastSelectedStudentId = null;\n    if (this.selectedStudent) {\n      this.lastSelectedStudentId = this.selectedStudent.id;\n    }\n    this.$rootScope.$emit(Events.UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES);\n    this.$$unsubscribes.push(\n      this.$rootScope.$watch(() => get(this, '$stateParams.student', null), (student) => {\n        if (student) {\n          this.selectedStudent = get(this, '$stateParams.student', null);\n          this.lastSelectedStudentId = get(this, 'selectedStudent.id', null);\n        }\n      }),\n    );\n  }\n\n  toggleStudentCourseProgress(student) {\n    const stateName = this.$state.current.name;\n\n    if (['teacher-course-progress', 'teacher-course-progress.details.courses-overview'].includes(stateName)) {\n      this.goToOverview(student);\n    } else {\n      this.goToOtherStudent(student);\n    }\n  }\n\n  goToOverview(student) {\n    this.$timeout(() => {\n      this.$state.go('teacher-course-progress.details.courses-overview', { student });\n      this.lastSelectedStudentId = student.id;\n    }, 400);\n  }\n\n  goToOtherStudent(student) {\n    const stateName = this.$state.current.name;\n    let stateParams = Object.assign({}, this.$stateParams, { student });\n    stateParams = angular.copy(stateParams);\n\n    this.setStudentForBreadcrumb(stateParams.breadcrumbs, student);\n\n    this.$timeout(() => {\n      this.$state.go(stateName, stateParams)\n        .then(() => this.StudentCoursesDetails.studentCoursesDefinitions$.next(null))\n        .catch(() => {\n          this.goToOverview(student);\n        });\n      this.lastSelectedStudentId = student.id;\n    }, 400);\n  }\n\n  setStudentForBreadcrumb(breadcrumbs, student) {\n    breadcrumbs.forEach((breadcrumb) => {\n      if (get(breadcrumb, 'action.params.student', false)) {\n        Object.assign(breadcrumb.action.params.student, student);\n      }\n\n      if (breadcrumb.label === this.$stateParams.student.student_name) {\n        Object.assign(breadcrumb, { label: student.student_name });\n      }\n\n      if (get(breadcrumb, 'action.params.breadcrumbs', false)) {\n        this.setStudentForBreadcrumb(breadcrumb.action.params.breadcrumbs, student);\n      }\n    });\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { TeacherCourseProgressCtrl } from './teacher-course-progress.controller';\n\nexport const TeacherCourseProgressComponent = {\n  bindings: {\n    courses: '<',\n    students: '<',\n  },\n  controller: TeacherCourseProgressCtrl,\n  templateUrl: 'components/course-progress/teacher-course-progress/teacher-course-progress.html',\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n\nimport { UnbindableCtrlBase } from '../../../common/base-classes';\nimport { GroupedVisibilitySettings } from '../../../shared/models/groupedVisibilitySettings.model.ts';\nimport { GroupedVisibilityDialogType } from '../../../shared/enums/groupedVisibilityDialogType.enum.ts';\n\nexport class TeacherCourseProgressCtrl extends UnbindableCtrlBase {\n  constructor(TeacherCourseProgress, GroupedVisibilityService, GroupedVisibilityDialogService, StudybeeHandle, NavigationHistory) {\n    'ngInject';\n\n    super();\n    this.TeacherCourseProgress = TeacherCourseProgress;\n    this.GroupedVisibilityService = GroupedVisibilityService;\n    this.GroupedVisibilityDialogService = GroupedVisibilityDialogService;\n    this.StudybeeHandle = StudybeeHandle;\n    this.NavigationHistory = NavigationHistory;\n\n    // variables injected from component's bindings\n    this.students = [];\n    this.courses = [];\n    this.student = null;\n    this.courseId = null;\n  }\n\n  $onInit() {\n    this.courseId = this.TeacherCourseProgress.getCurrentCourseId();\n    if (this.TeacherCourseProgress.isLastStateSavedExists()) {\n      this.TeacherCourseProgress.navigateToLasStateSaved();\n    } else if (this.students.length) {\n      this.TeacherCourseProgress.navigateToNoStudentsSelected();\n    }\n\n    this.initEvents();\n\n    // use map students to change the user's status more efficient\n    this.studentsMap = this.TeacherCourseProgress.convertStudentsArrayToMap(this.students);\n  }\n\n  initEvents() {\n    this.boundEvents.push(\n      this.TeacherCourseProgress.addListenerUpdateUserStatusesForCoursesAndObjectives(\n        () => {\n          this.TeacherCourseProgress\n            .updateWarningsForStudents(this.courseId, this.studentsMap)\n            .then((studentsMap) => (this.studentsMap = studentsMap));\n        },\n      ),\n    );\n  }\n\n  exportStudentsResultsToGoogleDrive(fileType) {\n    this.TeacherCourseProgress.exportStudentsResultsToGoogleDrive(fileType, this.courseId);\n  }\n\n  shareAssessmentsWithColleagues() {\n    this.TeacherCourseProgress.shareAssessmentsWithColleagues();\n  }\n\n  hasStudents() {\n    return !!this.students.length;\n  }\n\n  setVisibility() {\n    const settings = new GroupedVisibilitySettings(GroupedVisibilityDialogType.StudentProgressView);\n    settings.students = [...this.students];\n    settings.courseDefinitions = [...this.courses];\n\n    this.GroupedVisibilityDialogService.show(settings).then((groupedVisibility) => {\n      this.GroupedVisibilityService.patchCourseAssessmentsGroupedVisibility(groupedVisibility)\n        .then(() => this.TeacherCourseProgress.reloadCurrentView());\n    });\n  }\n}\n","import { Events } from '../../../common/global-events.ts';\nimport { DialogType } from '../../../utils/enums/dialogType.enum';\nimport { ExportState } from '../../../utils/enums/exportState.enum';\n\nexport class TeacherCourseProgress {\n\n  constructor($rootScope, $state, $timeout, FetchData, CourseProgress, ExportStudentsResults,\n    ExportStudentsResultsDialog, Path, ShareAssessmentsWithColleaguesDialog) {\n    'ngInject';\n\n    this.$rootScope = $rootScope;\n    this.$state = $state;\n    this.$timeout = $timeout;\n    this.FetchData = FetchData;\n    this.CourseProgress = CourseProgress;\n    this.ExportStudentsResults = ExportStudentsResults;\n    this.ExportStudentsResultsDialog = ExportStudentsResultsDialog;\n    this.ShareAssessmentsWithColleaguesDialog = ShareAssessmentsWithColleaguesDialog;\n    this.Path = Path;\n  }\n\n  addListenerUpdateUserStatusesForCoursesAndObjectives(callback) {\n    return this.$rootScope.$on(\n      Events.UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES,\n      callback,\n    );\n  }\n\n  updateWarningsForStudents(courseId, studentsMap) {\n    return this.fetchStudentsWarnings(courseId)\n      .then((studentsWarnings) => {\n        studentsWarnings.forEach((student) => {\n          if (studentsMap.has(student.id)) {\n            studentsMap.get(student.id).has_warnings = student.has_warnings;\n          }\n        });\n\n        return studentsMap;\n      });\n  }\n\n  fetchStudentsWarnings(courseId) {\n    return this.FetchData.v3.getUsersStatusesForCoursesAndObjectives(courseId);\n  }\n\n  exportStudentsResultsToGoogleDrive(fileType, courseId) {\n    this.ExportStudentsResults.toGoogleDrive(fileType, courseId)\n      .then((response) => {\n        this.ExportStudentsResultsDialog\n          .show({ link: response.folder_link }, DialogType.CONFIRMATION);\n\n        this.checkExportStatus(response.folder_link, response.task_id);\n      })\n      .catch(() => {\n        this.ExportStudentsResultsDialog.show({}, DialogType.FAIL);\n      });\n  }\n\n  checkExportStatus(link, exportId) {\n    this.ExportStudentsResults.checkGoogleDriveExportStatus(\n      exportId,\n      (response) => {\n        this.$timeout(() => {\n          if (response.state === ExportState.SUCCESS) {\n            this.ExportStudentsResultsDialog.show({ link }, DialogType.SUCCESS);\n          } else {\n            this.ExportStudentsResultsDialog.show({}, DialogType.FAIL);\n          }\n        });\n      });\n  }\n\n  convertStudentsArrayToMap(students) {\n    return students\n      .reduce((studentsMap, student) => studentsMap.set(student.id, student), new Map());\n  }\n\n  navigateToNoStudentsSelected() {\n    this.$state.go('teacher-course-progress');\n  }\n\n  navigateToLasStateSaved() {\n    this.$state.go(\n      this.CourseProgress.lastStateSaved.name,\n      this.CourseProgress.lastStateSaved.params,\n    );\n  }\n\n  isLastStateSavedExists() {\n    return this.CourseProgress.hasLastStateSaved;\n  }\n\n  getCurrentCourseId() {\n    return this.Path.getClassroomId();\n  }\n\n  shareAssessmentsWithColleagues() {\n    this.ShareAssessmentsWithColleaguesDialog.show();\n  }\n\n  reloadCurrentView() {\n    this.$state.reload();\n  }\n}\n","export const ExportState = {\n  PENDING: 'PENDING',\n  STARTED: 'STARTED',\n  FAILURE: 'FAILURE',\n  SUCCESS: 'SUCCESS',\n};\n","import { AssignmentOrder } from '../../../assignments/teacherAssignments/shared/enums/assignmentOrder.ts';\nimport { AssignmentType } from '../../../shared/enums/assignmentType.enum.ts';\n\nexport const routerConfig = ($stateProvider) => {\n  'ngInject';\n\n  $stateProvider\n  // right panel, with students' list\n    .state('teacher-course-progress', {\n      resolve: {\n        students: (FetchData, Path) => {\n          'ngInject';\n\n          return FetchData.getStudentsList(Path.getClassroomId());\n        },\n        courses: (FetchData, Path) => {\n          'ngInject';\n\n          return FetchData.v3.getCourseDefinitions(Path.getClassroomId());\n        },\n      },\n      views: {\n        '@': {\n          component: 'teacherCourseProgress',\n        },\n      },\n    })\n    .state('teacher-course-progress.details', {\n      params: {\n        course: null,\n        student: null,\n        courseDefinition: null,\n      },\n      resolve: {\n        courseSelected: ($stateParams) => {\n          'ngInject';\n\n          return $stateParams.course;\n        },\n        courseAssessment: (FetchData, $stateParams) => {\n          'ngInject';\n\n          if (!$stateParams.course) {\n            return {};\n          }\n\n          return FetchData.v3.getCourseDefinitionAssessment(\n            $stateParams.student.id,\n            $stateParams.course.course_definition,\n          );\n        },\n      },\n      views: {\n        'extended@': {\n          component: 'studentDetails',\n        },\n      },\n    })\n    .state('teacher-course-progress.details.no-courses', {\n      views: {\n        'details@teacher-course-progress.details': {\n          component: 'noCourses',\n        },\n      },\n    })\n    // learning objectives list, user's information\n    .state('teacher-course-progress.details.courses-overview', {\n      params: {\n        course: null,\n        student: null,\n      },\n      views: {\n        'extended@': {\n          component: 'studentCoursesDetails',\n        },\n      },\n    })\n    // bottom panel with learning objectives data\n    .state('teacher-course-progress.details.learning-objectives', {\n      params: {\n        course: null,\n        student: null,\n        courseDefinition: null,\n        breadcrumbs: [],\n        ordering: AssignmentOrder.ASC_TYPE,\n        filters: [\n          AssignmentType.WORK_UNIT,\n          AssignmentType.STANDARD_ASSIGNMENT,\n        ],\n      },\n      data: {\n        statePrefix: 'StudentProgressStudentDetailsAssignmentsAssignments',\n      },\n      resolve: {\n        assessments: (FetchData, $stateParams) => {\n          'ngInject';\n\n          return FetchData.v3.getCourseDefinitionObjectiveAssessments(\n            $stateParams.student.id,\n            $stateParams.courseDefinition.course_definition,\n          );\n        },\n        objectiveAssignmentAssessments: (FetchData, $stateParams, courseAssessment, AssignmentService) => {\n          'ngInject';\n\n          const requestConfig = {\n            ordering: $stateParams.ordering,\n          };\n\n          return FetchData.v3\n            .getAssignmentAssessment(\n              $stateParams.student.id,\n              courseAssessment.course_definition,\n              requestConfig,\n            )\n            .then(assignments =>\n              AssignmentService.filterAssignmentsByTypes(assignments, $stateParams.filters),\n            );\n        },\n      },\n      views: {\n        'details@teacher-course-progress.details': {\n          component: 'objectivesListTeacher',\n        },\n        'assignments@teacher-course-progress.details': {\n          component: 'assignmentsOverview',\n        },\n      },\n    })\n    .state('teacher-course-progress.details.learning-objectives.assignmentOverview', {\n      params: {\n        course: null,\n        student: null,\n        courseDefinition: null,\n        objectiveAssessment: null,\n        breadcrumbs: [],\n      },\n      resolve: {\n        objectiveAssessment: (objectiveAssignmentAssessments, $stateParams, $q) => {\n          'ngInject';\n\n          let objectiveAssessment = $stateParams.objectiveAssessment;\n\n          if ($stateParams.student.id !== $stateParams.objectiveAssessment.student_id) {\n            objectiveAssessment = objectiveAssignmentAssessments\n              .find((objectiveAssignmentAssessment) =>\n                objectiveAssignmentAssessment.assignment_id ===\n                $stateParams.objectiveAssessment.assignment_id,\n              );\n          }\n\n          return objectiveAssessment ? $q.resolve(objectiveAssessment) : $q.reject(null);\n        },\n        objectives: (FetchData, $stateParams) => {\n          'ngInject';\n\n          return FetchData.v3.getListObjectiveAssessments(\n            $stateParams.student.id,\n            $stateParams.courseDefinition.course_definition,\n            $stateParams.objectiveAssessment.assignment_id,\n          );\n        },\n        isGradeTextsEnable: (FetchData, $stateParams) => {\n          'ngInject';\n\n          return FetchData\n            .getAssignedObjectivesToAssignment($stateParams.objectiveAssessment.assignment_id)\n            .then(response => response.enable_grade_texts);\n        }\n      },\n      views: {\n        'extended@': {\n          component: 'assignmentOverviewDetails',\n        },\n        'details@teacher-course-progress.details.learning-objectives.assignmentOverview': {\n          component: 'assignmentOverviewObjectivesList',\n        },\n      },\n    })\n\n    // ---------------------------------------------------------------\n\n    .state('teacher-course-progress.objective-details', {\n      params: {\n        objective: null,\n        course: null,\n        student: null,\n        breadcrumbs: [],\n      },\n      resolve: {\n        student: ($stateParams) => {\n          'ngInject';\n\n          return $stateParams.student;\n        },\n        course: ($stateParams) => {\n          'ngInject';\n\n          return $stateParams.course;\n        },\n        objectives: (FetchData, course) => {\n          'ngInject';\n\n          return FetchData.v3.getCourseDefinitionObjectives(course.course_definition);\n        },\n        objectiveSelected: ($stateParams, objectives) => {\n          'ngInject';\n\n          return objectives.find(objective => objective.id === $stateParams.objective.id);\n        },\n        objectiveAssessment: (\n          FetchData,\n          objectiveSelected,\n          course,\n          student,\n        ) => {\n          'ngInject';\n\n          return FetchData.v3.getCourseDefinitionObjectiveAssessment(\n            student.id,\n            course.course_definition,\n            objectiveSelected.id,\n          );\n        },\n      },\n      views: {\n        'extended@': {\n          component: 'objectiveDetails',\n        },\n      },\n    })\n    .state('teacher-course-progress.objective-details.learning-assignments', {\n      params: {\n        objective: null,\n        course: null,\n        student: null,\n        breadcrumbs: [],\n        ordering: AssignmentOrder.ASC_TYPE,\n        filters: [\n          AssignmentType.WORK_UNIT,\n          AssignmentType.STANDARD_ASSIGNMENT,\n        ],\n      },\n      data: {\n        statePrefix: 'StudentProgressLearningObjectiveAssignments',\n      },\n      resolve: {\n        assessments: (FetchData, objectiveSelected, student) => {\n          'ngInject';\n\n          return FetchData.v3.getObjectiveAssessments(student.id, objectiveSelected.id);\n        },\n        assignments: (objectiveSelected, student, AssignmentAssessmentService, $stateParams, AssignmentService) => {\n          'ngInject';\n\n          const requestConfig = {\n            ordering: $stateParams.ordering,\n          };\n\n          return AssignmentAssessmentService\n            .getAssignmentAssessmentByObjective(student.id, objectiveSelected.id, requestConfig)\n            .then(assignmentsAssessments =>\n              AssignmentService\n                .filterAssignmentsByTypes(assignmentsAssessments, $stateParams.filters),\n            );\n        },\n        gradeSystem: (GradeSystems) => {\n          'ngInject';\n\n          return GradeSystems.fetchGradeSystemsList();\n        },\n      },\n      views: {\n        'details@teacher-course-progress.objective-details': {\n          component: 'assignmentsList',\n        },\n      },\n    });\n};\n","import { UnbindableCtrlBase } from '../../../../common/base-classes';\nimport { Observer } from '../../../../shared/services/helpers/observer.service.ts';\n\nexport class StudentCoursesDetailsComponent extends UnbindableCtrlBase {\n  static bindings = {\n    courses: '<',\n    coursesDefinitions: '<?',\n  };\n  static controller = StudentCoursesDetailsComponent;\n  static templateUrl =\n    'components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetails.html';\n\n  constructor(StudentCoursesDetails, ColleagueEmailsService) {\n    'ngInject';\n\n    super();\n    this.StudentCoursesDetails = StudentCoursesDetails;\n    this.ColleagueEmailsService = ColleagueEmailsService;\n    this.studentCoursesDefinitions = { archived: [], current: [], other: [] };\n    this.courses = [];\n    this.colleagueEmails = [];\n    this.coursesDefinitions = null;\n    this.pending = true;\n    this.student = null;\n    this.model = '';\n    this.isOpen = false;\n    this.isTeacher = this.StudentCoursesDetails.isTeacher;\n    this.boundEvents.push(\n      this.ColleagueEmailsService.colleagueEmails$\n        .subscribe(new Observer(this.onColleagueEmailsUpdate.bind(this))),\n    );\n  }\n\n  $onInit() {\n    if (!this.colleagueEmails.length) {\n      this.ColleagueEmailsService.get();\n    }\n\n    this.student = this.StudentCoursesDetails.getCurrentStudent();\n\n    this.StudentCoursesDetails.extendStudentObject(this.student)\n      .then((student) => (this.student = student))\n      .finally(() => {\n        if (this.coursesDefinitions) {\n          this.pending = false;\n        }\n      });\n\n    if (!this.coursesDefinitions) {\n      this.StudentCoursesDetails.fetch()\n        .then(studentCoursesDefinitions =>\n          this.StudentCoursesDetails.extendByCourseDetails(\n            studentCoursesDefinitions,\n            this.courses,\n          ),\n        )\n        .then(studentCoursesDefinitions =>\n          this.StudentCoursesDetails.extendByOwner(studentCoursesDefinitions),\n        )\n        .then(studentCoursesDefinitions =>\n          this.StudentCoursesDetails.splitByCategory(studentCoursesDefinitions),\n        )\n        .then(\n          studentCoursesDefinitions =>\n            (this.studentCoursesDefinitions = studentCoursesDefinitions),\n        )\n        .finally(() => (this.pending = false));\n    } else {\n      this.coursesDefinitions = this.StudentCoursesDetails\n        .extendByCourseDetails(this.coursesDefinitions, this.courses);\n\n      this.coursesDefinitions = this.StudentCoursesDetails\n        .extendByOwner(this.coursesDefinitions);\n\n      this.studentCoursesDefinitions = this.StudentCoursesDetails\n        .splitByCategory(this.coursesDefinitions);\n    }\n  }\n\n  onFeedbackChange($event) {\n    const data = {\n      feedback: $event.value,\n      feedback_published: $event.isPublished,\n    };\n    this.updateStudent(data);\n  }\n\n  onPrivateNoteChange($event) {\n    const data = { id: this.student.id, private_note: $event.value };\n    this.updateStudent(data);\n  }\n\n  updateStudent(data) {\n    this.StudentCoursesDetails.updateStudentDetails(this.student.id, data)\n      .then((student) => this.StudentCoursesDetails.applyLastStudentUpdateDate(student))\n      .then((student) => {\n        // Dont overwrite feedback and private_note, it messes with the ui\n        const { feedback, private_note, result, ...rest } = student;\n        this.student = {\n          ...this.student,\n          ...rest,\n        };\n      });\n  }\n\n  getCurrentClassName() {\n    return this.StudentCoursesDetails.findClassName(\n      this.studentCoursesDefinitions.current,\n    );\n  }\n\n  close() {\n    this.StudentCoursesDetails.goToNoStudentSelectedState();\n  }\n\n  editStudentDetails() {\n    this.StudentCoursesDetails.showStudentDetailsEditDialog(this.student).then(\n      student => this.updateStudent(student),\n    );\n  }\n\n  onColleagueEmailsUpdate(colleagueEmails) {\n    this.colleagueEmails = colleagueEmails;\n  }\n\n  isOverallEmpty() {\n    return !this.isTeacher && !this.student.feedback;\n  }\n}\n","import moment from 'moment';\nimport { Events } from '../../../../common/global-events.ts';\nimport { BehaviourSubject } from '../../../../shared/services/helpers/behaviourSubject.service.ts';\n\nexport class StudentCoursesDetails {\n  static STATE_PREFIX = {\n    student: 'student-course-progress.courses-overview',\n    teacher: 'teacher-course-progress.details',\n  };\n\n  static NO_STUDENT_SELECTED_STATE = {\n    name: '',\n    params: {},\n  };\n\n  static COURSE_DETAILS_STATE = {\n    name: '.learning-objectives',\n  };\n\n  constructor($rootScope, $state, $stateParams, $q, FetchData, StudentDetailsEditDialog, UserInfo) {\n    'ngInject';\n\n    this.$rootScope = $rootScope;\n    this.$state = $state;\n    this.$stateParams = $stateParams;\n    this.$q = $q;\n    this.FetchData = FetchData;\n    this.StudentDetailsEditDialog = StudentDetailsEditDialog;\n    this.UserInfo = UserInfo;\n    this.isTeacher = this.UserInfo.isTeacher();\n    this.studentCoursesDefinitions$ = new BehaviourSubject(null);\n  }\n\n  fetch(student = this.getCurrentStudent()) {\n    return this.FetchData.v3\n      .getStudentCoursesDefinitions(student.id)\n      .then((response) => {\n        this.studentCoursesDefinitions$.next(response);\n\n        return response;\n      });\n  }\n\n  update(student, courseDefiniton) {\n    if (courseDefiniton.target_grade && courseDefiniton.target_grade.id) {\n      courseDefiniton.target_grade = courseDefiniton.target_grade.id;\n    }\n\n    this.showNewRequestToast();\n\n    return this.FetchData.v3\n      .updateCourseDefinitionAssessment(\n        student.id,\n        courseDefiniton.course_definition,\n        courseDefiniton,\n      )\n      .then((response) => {\n        this.showSuccessToast();\n        return response;\n      });\n  }\n\n  getCurrentStudent() {\n    return this.isTeacher ? this.$stateParams.student : this.UserInfo.getUserObj();\n  }\n\n  extendByCourseDetails(studentCoursesDefinitions = [], courses = []) {\n    if (!!studentCoursesDefinitions.length && !!courses.length) {\n      return studentCoursesDefinitions.map((coursesDefinitions) => {\n        const courseInClass = !!courses.find(\n          course => course.id === coursesDefinitions.course_definition,\n        );\n\n        return Object.assign({}, coursesDefinitions, {\n          courseInClass,\n        });\n      });\n    }\n\n    return studentCoursesDefinitions;\n  }\n\n  extendByOwner(studentCoursesDefinitions = []) {\n    if (studentCoursesDefinitions.length) {\n      return studentCoursesDefinitions.map((coursesDefinitions) => {\n        return Object.assign({}, coursesDefinitions, {\n          isOwner: false,\n        });\n      });\n    }\n\n    return studentCoursesDefinitions;\n  }\n\n  splitByCategory(studentCoursesDefinitions) {\n    const archived = this.filterArchived(studentCoursesDefinitions);\n    const current = this.filterCurrentClass(studentCoursesDefinitions);\n    const other = this.filterOtherClass(studentCoursesDefinitions);\n\n    return { archived, current, other };\n  }\n\n  filterCurrentClass(studentCoursesDefinitions) {\n    return studentCoursesDefinitions.filter(\n      studentCourseDefinitions =>\n        !studentCourseDefinitions.google_classroom_data.archived &&\n        studentCourseDefinitions.courseInClass,\n    );\n  }\n\n  filterOtherClass(studentCoursesDefinitions) {\n    return studentCoursesDefinitions.filter(\n      studentCourseDefinitions =>\n        !studentCourseDefinitions.google_classroom_data.archived &&\n        !studentCourseDefinitions.courseInClass,\n    );\n  }\n\n  filterArchived(studentCoursesDefinitions) {\n    return studentCoursesDefinitions.filter(\n      studentCourseDefinitions =>\n        studentCourseDefinitions.google_classroom_data.archived,\n    );\n  }\n\n  findClassName(studentCoursesDefinitions = []) {\n    return studentCoursesDefinitions.length\n      ? studentCoursesDefinitions[0].google_classroom_data.name\n      : '';\n  }\n\n  filterNoneAccessibleCourses(studentCoursesDefinitions) {\n    return studentCoursesDefinitions.filter((studentCourseDefinitions) =>\n      studentCourseDefinitions.teacher_in_class || studentCourseDefinitions.shared_with_teacher || studentCourseDefinitions.is_mentor,\n    );\n  }\n\n  goToNoStudentSelectedState() {\n    const [stateName, ..._] = this.getStatePrefix().split('.');\n\n    this.$state.go(\n      stateName,\n      StudentCoursesDetails.NO_STUDENT_SELECTED_STATE.params,\n    );\n  }\n\n  goToCourseDetails(params) {\n    const stateName = `${this.getStatePrefix()}${StudentCoursesDetails.COURSE_DETAILS_STATE.name}`;\n    this.$state.go(stateName, params);\n  }\n\n  getStatePrefix() {\n    return this.isTeacher ?\n      StudentCoursesDetails.STATE_PREFIX.teacher : StudentCoursesDetails.STATE_PREFIX.student;\n  }\n\n  extendStudentObject(student = this.getCurrentStudent()) {\n    return this.fetchStudentDetails(student.id)\n      .then(\n        additionalData => Object.assign({}, student, additionalData),\n      )\n      .then(extendedStudent => this.applyLastStudentUpdateDate(extendedStudent))\n      .catch(() => student);\n  }\n\n  applyLastStudentUpdateDate(student) {\n    let lastUpdate = null;\n\n    if (this.isTeacher) {\n      lastUpdate = moment(student.feedback_last_edit).isAfter(student.private_note_last_edit)\n        ? student.feedback_last_edit\n        : student.private_note_last_edit;\n    } else if (student.feedback_last_edit) {\n      lastUpdate = student.feedback_last_edit;\n    }\n\n    return Object.assign({}, student, { last_update: lastUpdate });\n  }\n\n  fetchStudentDetails(studentId) {\n    return this.FetchData.getStudentDetails(studentId);\n  }\n\n  updateStudentDetails(studentId, data) {\n    this.showNewRequestToast();\n    return this.FetchData.updateStudentDetails(studentId, data)\n      .then(response => {\n        this.showSuccessToast();\n        return response;\n      });\n  }\n\n  showStudentDetailsEditDialog(student) {\n    return this.StudentDetailsEditDialog.show({ student });\n  }\n\n  showNewRequestToast() {\n    this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n  }\n\n  showSuccessToast() {\n    this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY);\n  }\n}\n","import { IComponentController } from 'angular';\nimport { StateParams, StateService } from '@uirouter/core';\nimport { IBreadcrumbsService } from '../../../../common/components/breadcrumbs/breadcrumbs.service';\nimport { Breadcrumb, IBreadcrumb } from '../../../../shared/models/breadcrumb.model';\nimport { IObjectiveAssignmentAssessment } from '../../../../shared/models/objectiveAssignmentAssessment.model';\nimport { Component } from '../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../utils/decorators/input.decorator';\nimport TeacherCourseProgressModule, { IAssignmentOverviewService } from '../teacher-course-progress.module';\nimport style from './assignmentOverviewDetails.scss';\nimport template from './assignmentOverviewDetails.tpl.html';\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'assignment-overview-details',\n  template: template,\n  style: style,\n})\nexport class AssignmentOverviewDetailsComponent implements IComponentController {\n  @Input()\n  public objectiveAssignmentAssessments: IObjectiveAssignmentAssessment[];\n  @Input()\n  public objectiveAssessment: IObjectiveAssignmentAssessment;\n\n  public breadcrumbs: IBreadcrumb[];\n  public courseName: string;\n\n  constructor(private AssignmentOverviewService: IAssignmentOverviewService, private BreadcrumbsService: IBreadcrumbsService,\n              private $stateParams: StateParams, private $state: StateService) {\n    'ngInject';\n\n\n    this.objectiveAssignmentAssessments = [];\n    this.objectiveAssessment = null;\n    this.breadcrumbs = [];\n    this.courseName = '';\n  }\n\n  public $onInit(): void {\n    this.updateBreadcrumbs();\n    this.courseName = this.$stateParams.course.course_definition_name;\n  }\n\n  public onClickBackArrow(): void {\n    this.$stateParams.breadcrumbs.pop().action();\n  }\n\n  public onClickClose(): void {\n    this.objectiveAssessment.$$open = false;\n  }\n\n  public onChangeObjectiveAssessment(): void {\n    this.$state.go(\n      this.$state.current.name,\n      Object.assign({}, this.$stateParams, { objectiveAssessment: this.objectiveAssessment }),\n    );\n  }\n\n  public onChangeOverall(changedObjectiveAssessment: IObjectiveAssignmentAssessment): void {\n    this.AssignmentOverviewService\n      .changeObjectiveAssignmentAssessment(changedObjectiveAssessment, this.$stateParams.course.course_definition)\n      .then((newObjectiveAssessment: IObjectiveAssignmentAssessment): void => {\n        // Dont overwrite feedback and private_note, it messes with the ui\n        const { feedback, private_note, result, ...rest } = newObjectiveAssessment;\n        this.objectiveAssessment = { ...this.objectiveAssessment, ...rest};\n      });\n  }\n\n  private updateBreadcrumbs(): void {\n    this.breadcrumbs = [...this.$stateParams.breadcrumbs].concat(\n      new Breadcrumb(\n        this.objectiveAssessment.assignment_title,\n        this.BreadcrumbsService.createGoToAction(),\n      ),\n    );\n  }\n}\n","import { IComponentController, ITimeoutService } from 'angular';\nimport { ListViewType } from '../../../../../shared/enums/listViewType.enum';\nimport { IListViewMenuItem, ListViewMenuItem } from '../../../../../shared/models/listViewMenuItem.model';\nimport { IObjectiveAssignmentAssessment } from '../../../../../shared/models/objectiveAssignmentAssessment.model';\nimport { ListViewMenuService } from '../../../../../shared/services/listViewMenu/listViewMenu.service';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../utils/decorators/input.decorator';\nimport TeacherCourseProgressModule, { IAssignmentOverviewObjectivesListService } from '../../teacher-course-progress.module';\nimport style from './assignmentOverviewObjectivesList.scss';\nimport template from './assignmentOverviewObjectivesList.tpl.html';\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'assignment-overview-objectives-list',\n  template: template,\n  style: style,\n})\nexport class AssignmentOverviewObjectivesListComponent implements IComponentController {\n  @Input()\n  public objectiveAssessment: IObjectiveAssignmentAssessment;\n  @Input()\n  public objectives: any[];\n  @Input() isGradeTextsEnable: boolean;\n\n  private readonly storageId: string;\n  public readonly listViewType: any;\n  public readonly toolbarMenuItems: ListViewMenuItem[];\n  public view: ListViewType;\n\n  constructor(private AssignmentOverviewObjectivesListService: IAssignmentOverviewObjectivesListService, private ListViewMenuService: ListViewMenuService,\n              private $timeout: ITimeoutService) {\n    'ngInject';\n\n    this.objectiveAssessment = null;\n    this.objectives = [];\n    this.isGradeTextsEnable = false;\n    this.storageId = 'teacherAssignmentOverviewObjectivesList';\n    this.listViewType = ListViewType;\n    this.toolbarMenuItems = ListViewMenuService.getListViewMenu(this.storageId);\n    this.view = ListViewType.TITLE_AND_DESCRIPTION;\n  }\n\n  public $onInit(): void {\n    this.view = this.toolbarMenuItems\n      .find((listViewMenuItem: IListViewMenuItem): boolean => listViewMenuItem.checked)\n      .eventArgs.view;\n  }\n\n  public onClickClose(objective: any): void {\n    objective.open = false;\n  }\n\n  public onUpdateAssessment(changedObjective: any): void {\n    this.AssignmentOverviewObjectivesListService.updateObjectiveAssessments(changedObjective)\n      .then((newObjective: any): void => {\n        this.objectives = this.objectives.map((objective: any): any => {\n          // Dont overwrite feedback and private_note, it messes with the ui\n          const { feedback, private_note, ...rest } = newObjective;\n          return objective.id === newObjective.id ?\n            {...objective, ...rest} :\n            objective;\n        });\n      });\n  }\n\n  public onClickMenuItem(toolbarMenuItem: IListViewMenuItem): void {\n    this.toolbarMenuItems.forEach((menuItem: any): void => {\n      menuItem.checked = false;\n    });\n    toolbarMenuItem.checked = true;\n    this.ListViewMenuService.saveListViewMenu(this.storageId, this.toolbarMenuItems);\n    this.changeView(toolbarMenuItem.eventArgs);\n  }\n\n  public expandAll(): void {\n    this.changeOpenStateForAll(true);\n  }\n\n  public collapseAll(): void {\n    this.changeOpenStateForAll(false);\n  }\n\n  private changeOpenStateForAll(state): void {\n    this.$timeout(() => {\n      this.objectives = this.objectives.map((objective: any): any => {\n        objective.open = state;\n\n        return objective;\n      });\n    }, 0);\n  }\n\n  private changeView(eventArgs: { [arg: string]: any }): void {\n    this.view = eventArgs.view;\n  }\n}\n","import { IPromise } from 'angular';\nimport { AssignmentOrder } from '../../../assignments/teacherAssignments/shared/enums/assignmentOrder';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { FetchData } from '../../../utils/services/fetchData.service';\nimport { UserInfo } from '../../../utils/services/userInfo.service';\nimport { AssignmentState } from '../../enums/assignmentStateType.enum';\nimport { AssignmentType } from '../../enums/assignmentType.enum';\nimport { RequestType } from '../../enums/requestType.enum';\nimport { IAssignment } from '../../models/assignment.model';\nimport { IAssignmentGroupedResponse } from '../../models/assignmentGroupedResponse.model';\nimport { IAssignmentRequestConfig } from '../../models/assignmentRequestConfig.model';\nimport { RequestParams } from '../../types/requestParams.type';\nimport SharedServicesModule from '../services.module';\n\n@Service({\n  module: SharedServicesModule,\n  name: 'AssignmentService',\n})\nexport class AssignmentService {\n  public static DEFAULT_REQUEST_CONFIG: IAssignmentRequestConfig = {\n    ordering: AssignmentOrder.ASC_TYPE,\n    assignment_state: [AssignmentState.PUBLISHED, AssignmentState.DRAFT],\n  };\n\n  constructor(private FetchData: FetchData, private UserInfo: UserInfo) {\n    'ngInject';\n  }\n\n  public getAssignments(courseId: string, requestConfig: IAssignmentRequestConfig = AssignmentService.DEFAULT_REQUEST_CONFIG): IPromise<IAssignment[]> {\n    return this.fetchAssignments<IAssignment[]>(courseId, requestConfig);\n  }\n\n  public getAssignmentsGrouped(courseId: string, requestConfig: IAssignmentRequestConfig = AssignmentService.DEFAULT_REQUEST_CONFIG): IPromise<IAssignmentGroupedResponse> {\n    return this.fetchAssignments<IAssignmentGroupedResponse>(courseId, requestConfig, true);\n  }\n\n  public updateAssignment(assignment: IAssignment): IPromise<IAssignment> {\n    const url: string = `/v3/classes/assignment_details/${assignment.id}`;\n\n    return this.FetchData.sendAPIRequest(url, RequestType.PATCH, assignment);\n  }\n\n  public filterAssignmentsByTypes(assignments: IAssignment[], types: AssignmentType[]): IAssignment[] {\n    return assignments.filter((assignment: IAssignment): boolean =>\n      assignment.assignment_not_assessable && types.includes(AssignmentType.WITHOUT_ASSESSMENT_CRITERIAS) ||\n      !assignment.assignment_not_assessable && types.includes(assignment.assignment_type),\n    );\n  }\n\n  public filterAssignmentsByStates(assignments: IAssignment[], states: AssignmentState[]): IAssignment[] {\n    return assignments.filter((assignments: IAssignment): boolean => states.includes(assignments.state));\n  }\n\n  private fetchAssignments<T>(courseId: string, requestConfig: IAssignmentRequestConfig = AssignmentService.DEFAULT_REQUEST_CONFIG, group: boolean = false): IPromise<T> {\n    const _requestConfig: IAssignmentRequestConfig = Object\n      .assign({}, AssignmentService.DEFAULT_REQUEST_CONFIG, requestConfig);\n    const url: string = this.buildUrl(courseId);\n    const params: RequestParams = this.buildParams(_requestConfig, group);\n\n    return this.FetchData.sendAPIRequestWithParams(params, url, RequestType.GET);\n  }\n\n  private buildUrl(courseId: string): string {\n    if (this.UserInfo.isTeacher()) {\n      return `/v3/classes/${courseId}/assignments/`;\n    } else {\n      return `/classes/student_assignments/${courseId}/`;\n    }\n  }\n\n  private buildParams(requestConfig: IAssignmentRequestConfig, group: boolean = false): RequestParams {\n    return group ? Object.assign({ group_by_assessability: true }, requestConfig) : requestConfig;\n  }\n}\n","import { IPromise } from 'angular';\nimport { AssignmentOrder } from '../../../assignments/teacherAssignments/shared/enums/assignmentOrder';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { FetchData } from '../../../utils/services/fetchData.service';\nimport { RequestType } from '../../enums/requestType.enum';\nimport { IAssignment } from '../../models/assignment.model';\nimport { IAssignmentGroupedResponse } from '../../models/assignmentGroupedResponse.model';\nimport { IAssignmentRequestConfig } from '../../models/assignmentRequestConfig.model';\nimport { RequestParams } from '../../types/requestParams.type';\nimport SharedServicesModule from '../services.module';\n\n@Service({\n  module: SharedServicesModule,\n  name: 'AssignmentAssessmentService',\n})\nexport class AssignmentAssessmentService {\n  public static DEFAULT_REQUEST_CONFIG: IAssignmentRequestConfig = {\n    ordering: AssignmentOrder.ASC_TYPE,\n  };\n\n  constructor(private FetchData: FetchData) {\n    'ngInject';\n  }\n\n  public getAssignmentAssessmentByCourseDefiniton(studentId: number, courseDefinitionId: number, requestConfig: IAssignmentRequestConfig = AssignmentAssessmentService.DEFAULT_REQUEST_CONFIG): IPromise<IAssignment[]> {\n    return this.fetchAssignmentsByCourseDefinition<IAssignment[]>(studentId, courseDefinitionId, requestConfig);\n  }\n\n  public getAssignmentAssessmentByCourseDefinitonGouped(studentId: number, courseDefinitionId: number, requestConfig: IAssignmentRequestConfig = AssignmentAssessmentService.DEFAULT_REQUEST_CONFIG): IPromise<IAssignmentGroupedResponse> {\n    return this.fetchAssignmentsByCourseDefinition<IAssignmentGroupedResponse>(studentId, courseDefinitionId, requestConfig, true);\n  }\n\n  public getAssignmentAssessmentByObjective(studentId: number, objectiveId: number, requestConfig: IAssignmentRequestConfig = AssignmentAssessmentService.DEFAULT_REQUEST_CONFIG): IPromise<IAssignment[]> {\n    return this.fetchAssignmentsByObjective<IAssignment[]>(studentId, objectiveId, requestConfig);\n  }\n\n  public getAssignmentAssessmentByObjectiveGouped(studentId: number, objectiveId: number, requestConfig: IAssignmentRequestConfig = AssignmentAssessmentService.DEFAULT_REQUEST_CONFIG): IPromise<IAssignmentGroupedResponse> {\n    return this.fetchAssignmentsByObjective<IAssignmentGroupedResponse>(studentId, objectiveId, requestConfig, true);\n  }\n\n  private fetchAssignmentsByCourseDefinition<T>(studentId: number, courseDefinitionId: number, requestConfig: IAssignmentRequestConfig = AssignmentAssessmentService.DEFAULT_REQUEST_CONFIG, group: boolean = false): IPromise<T> {\n    const _requestConfig: IAssignmentRequestConfig = Object\n      .assign({}, AssignmentAssessmentService.DEFAULT_REQUEST_CONFIG, requestConfig);\n    const url: string = this.buildUrlByCourseDefinition(studentId, courseDefinitionId);\n    const params: RequestParams = this.buildParams(_requestConfig, group);\n\n    return this.fetchAssignments<T>(url, params);\n  }\n\n  private fetchAssignmentsByObjective<T>(studentId: number, objectiveId: number, requestConfig: IAssignmentRequestConfig = AssignmentAssessmentService.DEFAULT_REQUEST_CONFIG, group: boolean = false): IPromise<T> {\n    const _requestConfig: IAssignmentRequestConfig = Object\n      .assign({}, AssignmentAssessmentService.DEFAULT_REQUEST_CONFIG, requestConfig);\n    const url: string = this.buildUrlByObjective(studentId, objectiveId);\n    const params: RequestParams = this.buildParams(_requestConfig, group);\n\n    return this.FetchData.sendAPIRequestWithParams(params, url, RequestType.GET);\n  }\n\n  private fetchAssignments<T>(url: string, params: RequestParams): IPromise<T> {\n    return this.FetchData.sendAPIRequestWithParams(params, url, RequestType.GET);\n  }\n\n  private buildUrlByCourseDefinition(studentId: number, courseDefinitionId: number): string {\n    return `/v3/classes/students/${studentId}/courses-definitions/${courseDefinitionId}/assignment-assessments/`;\n  }\n\n  private buildUrlByObjective(studentId: number, objectiveId: number): string {\n    return `/v3/classes/students/${studentId}/objectives/${objectiveId}/assignment-assessments/`;\n  }\n\n  private buildParams(requestConfig: IAssignmentRequestConfig, group: boolean = false): RequestParams {\n    const params: RequestParams = { ordering: requestConfig.ordering };\n\n    if (group) {\n      params.group_by_assessability = true;\n    }\n\n    return params;\n  }\n}\n","import { IPromise } from 'angular';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { IColleagueEmail, ColleagueEmail, IColleagueEmailResponse } from '../../models/colleagueEmail.model';\nimport { BehaviourSubject, IBehaviourSubject } from '../helpers/behaviourSubject.service';\nimport SharedServicesModule from '../services.module';\n\nexport interface IColleagueEmailsService {\n  colleagueEmails$: IBehaviourSubject<IColleagueEmail[]>;\n  add(email: string): IPromise<IColleagueEmail>;\n  get(): IPromise<IColleagueEmail[]>;\n  isEmailValid(email?: string): boolean;\n  isUnique(email?: string): boolean;\n  remove(colleagueEmail: IColleagueEmail): IPromise<void>;\n}\n\nexport abstract class AbstractColleagueEmailsService implements  IColleagueEmailsService {\n  static EMAIL_PATTERN: string = '[a-z0-9!#$%&\\'*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&\\'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?';\n  public abstract colleagueEmails$: IBehaviourSubject<IColleagueEmail[]>;\n  protected constructor(protected FetchData: any) {};\n  public abstract add(email: string): angular.IPromise<IColleagueEmail>;\n  public abstract get(): angular.IPromise<IColleagueEmail[]>;\n  public abstract isEmailValid(email?: string): boolean;\n  public abstract isUnique(email?: string): boolean;\n  public abstract remove(colleagueEmail: IColleagueEmail): angular.IPromise<void>;\n}\n\n@Service({\n  module: SharedServicesModule,\n  name: 'ColleagueEmailsService',\n})\nexport class ColleagueEmailsService extends AbstractColleagueEmailsService  {\n  public colleagueEmails$: IBehaviourSubject<IColleagueEmail[]>;\n\n  constructor(protected FetchData: any) {\n    'ngInject';\n    super(FetchData);\n\n    this.colleagueEmails$ = new BehaviourSubject<IColleagueEmail[]>([]);\n  }\n\n  public add(email: string): IPromise<IColleagueEmail> {\n    return this.FetchData.addColleagueEmail(email)\n      .then((responseColleagueEmail: IColleagueEmailResponse): IColleagueEmail => {\n        this.get();\n\n        return new ColleagueEmail(responseColleagueEmail);\n      });\n  }\n\n  public get(): IPromise<IColleagueEmail[]>{\n    return this.FetchData.getColleagueEmails()\n      .then((responseColleagueEmails: IColleagueEmailResponse[]): IColleagueEmail[] => {\n        const colleagueEmails: IColleagueEmail[] =\n          this.mapResponseToColleagueEmails(responseColleagueEmails);\n\n        this.colleagueEmails$.next(colleagueEmails);\n\n        return colleagueEmails;\n      });\n  }\n  isEmailValid(email: string = ''): boolean {\n    const emailRegExp: RegExp = new RegExp(ColleagueEmailsService.EMAIL_PATTERN, 'i');\n\n    return emailRegExp.test(email);\n  }\n\n  public isUnique(email: string = ''): boolean {\n    return !this.colleagueEmails$.getValue()\n      .find((colleagueEmail: IColleagueEmail): boolean => {\n        return colleagueEmail.email.toLowerCase() === email.toLowerCase();\n      });\n  }\n\n  public remove(colleagueEmail: IColleagueEmail): IPromise<void> {\n    return this.FetchData.removeColleagueEmail(colleagueEmail.id).then(() => this.get());\n  }\n\n  private mapResponseToColleagueEmails(responseColleagueEmails: IColleagueEmailResponse[]): IColleagueEmail[] {\n    return responseColleagueEmails.map(\n      (colleagueEmail: IColleagueEmailResponse): IColleagueEmail =>\n        new ColleagueEmail(colleagueEmail)\n    );\n  }\n}\n","export interface IColleagueEmailResponse {\n  id: number;\n  email: string;\n  in_database: boolean;\n}\n\nexport interface IColleagueEmail {\n  id: number;\n  email: string;\n  isValid: boolean;\n}\n\nexport class ColleagueEmail implements IColleagueEmail {\n  id: number;\n  email: string;\n  isValid: boolean;\n\n  constructor(colleagueEmail: IColleagueEmailResponse) {\n    this.id = colleagueEmail.id;\n    this.email = colleagueEmail.email;\n    this.isValid = colleagueEmail.in_database;\n  }\n}\n","export interface IGroupedVisibilityOverall {\n  feedback_published: boolean;\n  grade_published?: boolean;\n  result_published?: boolean;\n  target_grade_published?: boolean;\n}\n\nexport interface IGroupedVisibilityObjective {\n  feedback_published: boolean;\n  grade_published: boolean;\n}\n\nexport interface IGroupedVisibilityTypesOfFeedback {\n  objective: IGroupedVisibilityObjective;\n  overall: IGroupedVisibilityOverall;\n}\n\nexport interface IGroupedVisibility {\n  course_definitions_ids?: number[];\n  students_ids?: number[];\n  types_of_feedback: IGroupedVisibilityTypesOfFeedback;\n  visible?: boolean;\n}\n\nexport class GroupedVisibility implements IGroupedVisibility {\n  constructor(public types_of_feedback: IGroupedVisibilityTypesOfFeedback, public visible?: boolean,\n              public course_definitions_ids?: number[], public students_ids?: number[]) {\n  }\n}\n","import { IRootScopeService } from 'angular';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { IObserver, IObserverNext, IUnsubscribe, Observer } from '../helpers/observer.service';\nimport { ISubject, Subject } from '../helpers/subject.service';\nimport SharedServicesModule from '../services.module';\n\nexport type HashChange = { previous: string, current: string };\n\nexport interface IHashObserverService {\n  onNext(listener: IObserverNext<HashChange>): IUnsubscribe;\n}\n\n@Service({\n  module: SharedServicesModule,\n  name: 'HashObserverService',\n})\nexport class HashObserverService implements IHashObserverService {\n  public static DELAY: number = 500;\n\n  private readonly subject: ISubject<HashChange>;\n  private intervalId: number;\n  private previous: string;\n\n  constructor(private $rootScope: IRootScopeService) {\n    'ngInject';\n\n    this.subject = new Subject<HashChange>();\n    this.previous = window.location.hash;\n  }\n\n  public onNext(listener: IObserverNext<HashChange>): IUnsubscribe {\n    if (listener instanceof Function) {\n      if (!this.intervalId) {\n        this.setObserver();\n        this.$rootScope.$on('$destroy', this.removeObserver.bind(this));\n      }\n\n      const observer: IObserver<HashChange> = new Observer<HashChange>(listener);\n\n      return this.subject.subscribe(observer);\n    }\n  }\n\n  private setObserver(): void {\n    this.intervalId = window.setInterval(() => {\n      const current: string = window.location.hash;\n\n      if (this.previous !== current) {\n        this.subject.next({ previous: this.previous, current });\n        this.previous = current;\n      }\n    }, HashObserverService.DELAY);\n  }\n\n  private removeObserver(): void {\n    window.clearInterval(this.intervalId);\n  }\n}\n","import { Service } from '../../../utils/decorators/service.decorator';\nimport { ITabMessage, TabMessage } from '../../models/tabMessage.model';\nimport SharedServicesModule from '../services.module';\n\n@Service({\n  module: SharedServicesModule,\n  name: 'TabService',\n})\nexport class TabService {\n  public tabs: Map<string, chrome.tabs.Tab>;\n\n  constructor() {\n    this.tabs = new Map<string, chrome.tabs.Tab>();\n  }\n\n  public open(url: string): Promise<chrome.tabs.Tab> {\n    const openTabMessage: ITabMessage = this.tabs.has(url) ? this.getFocusMessage(url) : this.getOpenTabMessage(url);\n\n    return new Promise<chrome.tabs.Tab>((resolve: (tab: chrome.tabs.Tab) => void) => {\n      chrome.runtime.sendMessage(openTabMessage, (tab: chrome.tabs.Tab): void => {\n        this.onOpen(url, tab);\n        this.listenOnRemove(tab);\n        resolve(tab);\n      });\n    });\n  }\n\n  public update(tab: chrome.tabs.Tab, updateProperties: chrome.tabs.UpdateProperties): Promise<chrome.tabs.Tab> {\n    const openTabMessage: ITabMessage = this.getUpdateMessage(tab, updateProperties);\n\n    return new Promise<chrome.tabs.Tab>((resolve: (tab: chrome.tabs.Tab) => void) => {\n      chrome.runtime.sendMessage(openTabMessage, resolve);\n    });\n  }\n\n  public get(tab: chrome.tabs.Tab): Promise<chrome.tabs.Tab | null> {\n    const openTabMessage: ITabMessage = this.getGetMessage(tab);\n\n    return new Promise<chrome.tabs.Tab>((resolve: (tab: chrome.tabs.Tab) => void) => {\n      chrome.runtime.sendMessage(openTabMessage, resolve);\n    });\n  }\n\n  protected listenOnRemove(tab: chrome.tabs.Tab): void {\n    const onRemoveListenerMessage: ITabMessage = this.getOnRemoveListenerMessage(tab);\n\n    chrome.runtime.sendMessage(onRemoveListenerMessage, (tabId: number): void => {\n      this.onClose(tabId);\n    });\n  }\n\n  protected getOpenTabMessage(url: string): ITabMessage {\n    const openTabMessage: ITabMessage = this.getTabMessage('openTab');\n    openTabMessage.createProperties.url = url;\n\n    return openTabMessage;\n  }\n\n  protected getFocusMessage(url: string): ITabMessage {\n    const tab: chrome.tabs.Tab = this.tabs.get(url);\n    const focusTabMessage: ITabMessage = this.getTabMessage('focusTab');\n    focusTabMessage.updateProperties.active = true;\n    focusTabMessage.tabId = tab.id;\n\n    return focusTabMessage;\n  }\n\n  protected getUpdateMessage(tab: chrome.tabs.Tab, updateProperties: chrome.tabs.UpdateProperties): ITabMessage {\n    const updateTabMessage: ITabMessage = this.getTabMessage('updateTab');\n    updateTabMessage.tabId = tab.id;\n    updateTabMessage.updateProperties = { ...updateProperties };\n\n    return updateTabMessage;\n  }\n\n  protected getGetMessage(tab: chrome.tabs.Tab): ITabMessage {\n    const updateTabMessage: ITabMessage = this.getTabMessage('getTab');\n    updateTabMessage.tabId = tab.id;\n\n    return updateTabMessage;\n  }\n\n  protected getOnRemoveListenerMessage(tab: chrome.tabs.Tab): ITabMessage {\n    const onRemoveListenerMessage: ITabMessage = this.getTabMessage('registerOnRemovedTab');\n    onRemoveListenerMessage.tabId = tab.id;\n\n    return onRemoveListenerMessage;\n  }\n\n  protected getTabMessage(action: string): ITabMessage {\n    return new TabMessage(action);\n  }\n\n  protected onOpen(url: string, tab: chrome.tabs.Tab) {\n    this.tabs.set(url, tab);\n  }\n\n  protected onClose(tabId: number): void {\n    this.tabs.forEach((tab: chrome.tabs.Tab, url: string): void => {\n      if (tab.id === tabId) {\n        this.tabs.delete(url);\n      }\n    });\n  }\n}\n","export interface ITabMessage {\n  action: string;\n  createProperties?: chrome.tabs.CreateProperties;\n  tabId?: number;\n  updateProperties?: chrome.tabs.UpdateProperties;\n}\n\nexport class TabMessage implements ITabMessage {\n  public action: string;\n  public createProperties?: chrome.tabs.CreateProperties;\n  public tabId: number;\n  public updateProperties?: chrome.tabs.UpdateProperties;\n\n  constructor(action: string) {\n    this.action = action;\n    this.createProperties = {};\n    this.updateProperties = {};\n  }\n}\n","import { IDeferred, IPromise, IQService } from 'angular';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { IPopupMessage } from '../../models/popupMessage.model';\nimport SharedServicesModule from '../services.module';\n\nexport interface IPopupService {\n  popups: Map<string, chrome.windows.Window>;\n  open(url: string): IPromise<void>;\n  close(url: string): void;\n}\n\n@Service({\n  module: SharedServicesModule,\n  name: 'PopupService',\n})\nexport class PopupService implements IPopupService {\n\n  public popups: Map<string, chrome.windows.Window>;\n\n  constructor(private $q: IQService) {\n    'ngInject';\n\n    this.popups = new Map<string, chrome.windows.Window>();\n  }\n\n  public open(url: string): IPromise<void> {\n    const message: IPopupMessage = this.popups.has(url) ?\n      this.getMessageFocus(url) : this.getMessageOpen(url);\n    const deferred: IDeferred<void> = this.$q.defer<void>();\n\n    chrome.runtime.sendMessage(message, (window: chrome.windows.Window): void => {\n        this.onOpen(url, window);\n        this.listenOnClose(window);\n        deferred.resolve();\n      },\n    );\n\n    return deferred.promise;\n  }\n\n  public close(url: string): void {\n    if (this.popups.has(url)) {\n      const message: IPopupMessage = this.getMessageClose(url);\n\n      chrome.runtime.sendMessage(message, () => {\n        this.popups.delete(url);\n      });\n    }\n  }\n\n  protected listenOnClose(window: chrome.windows.Window): void {\n    const message: IPopupMessage = this.getMessageListenOnClose(window);\n\n    chrome.runtime.sendMessage(message, (windowId: number): void => {\n      this.onClose(windowId);\n    });\n  }\n\n  protected getMessageOpen(url: string): IPopupMessage {\n    return {\n      action: 'openPopup',\n      createData: { url },\n    };\n  }\n\n  protected getMessageFocus(url: string): IPopupMessage {\n    return {\n      action: 'focusPopup',\n      window: this.popups.get(url),\n    };\n  }\n\n  protected getMessageClose(url: string): IPopupMessage {\n    return {\n      action: 'closePopup',\n      window: this.popups.get(url),\n    };\n  }\n\n  protected getMessageListenOnClose(window: chrome.windows.Window): IPopupMessage {\n    return {\n      action: 'listenOnClosePopup',\n      window,\n    };\n  }\n\n  protected onOpen(url: string, window: chrome.windows.Window) {\n    this.popups.set(url, window);\n  }\n\n  protected onClose(windowId: number): void {\n    this.popups.forEach((window: chrome.windows.Window, url: string): void => {\n      if (window.id === windowId) {\n        this.popups.delete(url);\n      }\n    });\n  }\n}\n","import { IPromise, IQService, ITimeoutService } from 'angular';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport SharedServicesModule from '../services.module';\nimport get from 'lodash.get';\n\n@Service({\n  module: SharedServicesModule,\n  name: 'RetryPromiseService',\n})\nexport class RetryPromiseService {\n  constructor(private $q: IQService, private $timeout: ITimeoutService) {\n    'ngInject';\n  }\n\n  public times<T = any>(promise: () => IPromise<T>, retries: number = 2, interval: number = 1500): IPromise<T> {\n    const isAttempt: boolean = this.isAttempt(promise);\n\n    return promise()\n      .then((response: T): T => response)\n      .catch((): IPromise<T> => {\n        if (retries) {\n          const delay: number = isAttempt ? interval : 0;\n\n          this.setAttempted(promise, true);\n\n          return this.$timeout<T>((): IPromise<T> => this.times(promise, retries -1, interval), delay);\n        }\n      });\n  }\n\n  private setAttempted<T>(promise: () => IPromise<T>, attempted: boolean): void {\n    (promise as any).$$attempted = attempted;\n  }\n\n  private isAttempt<T>(promise: () => IPromise<T>): boolean {\n    return get(promise, '$$attempted', false);\n  }\n}\n","export enum SchoolCategoryType {\n  K_12,\n  HIGHER_EDUCATION,\n  HOME_SCHOOL,\n  CORPORATION,\n  OTHER,\n}\n","import { IPromise, IQService, IRootScopeService } from 'angular';\nimport { StateParams } from '@uirouter/core';\nimport { Events } from '../../../../../common/global-events';\nimport { Service } from '../../../../../utils/decorators/service.decorator';\nimport TeacherCourseProgressModule from '../../teacher-course-progress.module';\n\nexport interface IAssignmentOverviewObjectivesListService {\n  updateObjectiveAssessments(objective): IPromise<any>;\n}\n\n@Service({\n  module: TeacherCourseProgressModule,\n  name: 'AssignmentOverviewObjectivesListService',\n})\nexport class AssignmentOverviewObjectivesListService implements IAssignmentOverviewObjectivesListService {\n  constructor(private $rootScope: IRootScopeService, private $q: IQService,\n              private FetchData: any, private $stateParams: StateParams) {\n    'ngInject';\n  }\n\n  public updateObjectiveAssessments(objective): IPromise<any> {\n    this.notifyRequestStart();\n    return this.FetchData.v3\n      .updateObjectiveAssessmentsByCourseId(\n        this.$stateParams.student.id,\n        this.$stateParams.course.course_definition,\n        objective,\n      )\n      .then(this.notifyRequestSuccess.bind(this), this.notifyRequestFail.bind(this));\n  }\n\n  private notifyRequestStart(): void {\n    this.$rootScope.$broadcast(Events.STARTED_NEW_REQUEST);\n  }\n\n  private notifyRequestSuccess(response: any): any {\n    this.$rootScope.$broadcast(Events.REQUEST_FINISHED_SUCCESSFULLY);\n\n    return response;\n  }\n\n  private notifyRequestFail(error: any): any {\n    this.$rootScope.$broadcast(Events.REQUEST_FINISHED_FAILURE);\n\n    return this.$q.reject(error);\n  }\n}\n","import { IPromise, IQService, IRootScopeService } from 'angular';\nimport { Events } from '../../../../../common/global-events';\nimport { IObjectiveAssignmentAssessment } from '../../../../../shared/models/objectiveAssignmentAssessment.model';\nimport { Service } from '../../../../../utils/decorators/service.decorator';\nimport TeacherCourseProgressModule from '../../teacher-course-progress.module';\n\nexport interface IAssignmentOverviewService {\n  changeObjectiveAssignmentAssessment(objectiveAssignmentAssessment: IObjectiveAssignmentAssessment, courseId: number): IPromise<IObjectiveAssignmentAssessment>;\n  updateListOfObjectiveAssignmentAssessments(newObjectiveAssignmentAssessment: IObjectiveAssignmentAssessment, objectiveAssignmentAssessments: IObjectiveAssignmentAssessment[]): IObjectiveAssignmentAssessment[];\n}\n\n@Service({\n  module: TeacherCourseProgressModule,\n  name: 'AssignmentOverviewService',\n})\nexport class AssignmentOverviewService implements IAssignmentOverviewService {\n  constructor(private $rootScope: IRootScopeService, private $q: IQService, private FetchData: any) {\n    'ngInject';\n  }\n\n  public updateListOfObjectiveAssignmentAssessments(newObjectiveAssignmentAssessment: IObjectiveAssignmentAssessment, objectiveAssignmentAssessments: IObjectiveAssignmentAssessment[]): IObjectiveAssignmentAssessment[] {\n    return objectiveAssignmentAssessments\n      .map((objectiveAssignmentAssessment: IObjectiveAssignmentAssessment): IObjectiveAssignmentAssessment => {\n        if (objectiveAssignmentAssessment.id === newObjectiveAssignmentAssessment.id) {\n          // Dont overwrite feedback and private_note, it messes with the ui\n          const { feedback, private_note, result, ...rest } = newObjectiveAssignmentAssessment;\n          return {...objectiveAssignmentAssessment, ...rest};\n        }\n\n        return objectiveAssignmentAssessment;\n      });\n  }\n\n  public changeObjectiveAssignmentAssessment(objectiveAssignmentAssessment: IObjectiveAssignmentAssessment, courseId: number): IPromise<IObjectiveAssignmentAssessment> {\n    this.notifyRequestStart();\n    return this.FetchData.v3.updateAssignmentAssessment(objectiveAssignmentAssessment, courseId)\n      .then(this.notifyRequestSuccess.bind(this), this.notifyRequestFail.bind(this));\n  }\n\n  private notifyRequestStart(): void {\n    this.$rootScope.$broadcast(Events.STARTED_NEW_REQUEST);\n  }\n\n  private notifyRequestSuccess(response: any): any {\n    this.$rootScope.$broadcast(Events.REQUEST_FINISHED_SUCCESSFULLY);\n\n    return response;\n  }\n\n  private notifyRequestFail(error: any): any {\n    this.$rootScope.$broadcast(Events.REQUEST_FINISHED_FAILURE);\n\n    return this.$q.reject(error);\n  }\n}\n","import { StateParams, StateService } from '@uirouter/core';\nimport { IScope, ITimeoutService } from 'angular';\nimport { IBreadcrumbsService } from '../../../../../common/components/breadcrumbs/breadcrumbs.service';\nimport { AssignmentsComponent } from '../../../../../shared/components/assignments/assignments.component';\nimport { AssignmentFilterGroup } from '../../../../../shared/enums/assignmentFilterGroup.enum';\nimport { AssignmentType } from '../../../../../shared/enums/assignmentType.enum';\nimport { Breadcrumb, IBreadcrumb } from '../../../../../shared/models/breadcrumb.model';\nimport { IObjectiveAssignmentAssessment } from '../../../../../shared/models/objectiveAssignmentAssessment.model';\nimport { LocalStorageService } from '../../../../../shared/services/localStorage/localStorage.service';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../utils/decorators/input.decorator';\nimport TeacherCourseProgressModule, { IAssignmentOverviewService } from '../../teacher-course-progress.module';\nimport style from './assignmentsOverview.scss';\nimport template from './assignmentsOverview.tpl.html';\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'assignments-overview',\n  template: template,\n  style: style,\n})\nexport class AssignmentsOverviewComponent extends AssignmentsComponent {\n  @Input()\n  public objectiveAssignmentAssessments: IObjectiveAssignmentAssessment[];\n\n  public filters: any[];\n\n  protected readonly statePrefix: string = 'StudentProgressStudentDetailsAssignments';\n\n  constructor(protected AssignmentOverviewService: IAssignmentOverviewService, protected BreadcrumbsService: IBreadcrumbsService,\n              protected LocalStorageService: LocalStorageService, protected $state: StateService, protected $stateParams: StateParams,\n              protected $scope: IScope, protected $timeout: ITimeoutService) {\n    'ngInject';\n\n    super($scope, $stateParams, $state, LocalStorageService);\n\n    this.objectiveAssignmentAssessments = [];\n    this.filters = [\n      {\n        group: AssignmentFilterGroup.TYPE,\n        type: AssignmentType.WORK_UNIT,\n        label: 'assignmentActionMenuFilterWorkUnit',\n      },\n      {\n        group: AssignmentFilterGroup.TYPE,\n        type: AssignmentType.STANDARD_ASSIGNMENT,\n        label: 'assignmentActionMenuFilterAssignments',\n      },\n    ];\n  }\n\n  public toggleObjectiveAssessment(objectiveAssessment: IObjectiveAssignmentAssessment): void {\n    objectiveAssessment.$$open = !objectiveAssessment.$$open;\n  }\n\n  public onClickHeader(objectiveAssessment: IObjectiveAssignmentAssessment): void {\n    this.goToDetails(objectiveAssessment);\n  }\n\n  public onClickGoToDetails(objectiveAssessment: IObjectiveAssignmentAssessment): void {\n    this.onClickClose(objectiveAssessment);\n    this.goToDetails(objectiveAssessment);\n  }\n\n  public onClickClose(objectiveAssessment: IObjectiveAssignmentAssessment): void {\n    objectiveAssessment.$$open = false;\n  }\n\n  public onChange(changedObjectiveAssignmentAssessment: IObjectiveAssignmentAssessment): void {\n    this.AssignmentOverviewService\n      .changeObjectiveAssignmentAssessment(changedObjectiveAssignmentAssessment, this.$stateParams.course.course_definition)\n      .then((newObjectiveAssignmentAssessment: IObjectiveAssignmentAssessment): void => {\n        this.objectiveAssignmentAssessments = this.AssignmentOverviewService\n          .updateListOfObjectiveAssignmentAssessments(newObjectiveAssignmentAssessment, this.objectiveAssignmentAssessments);\n      });\n  }\n\n  public expandAll(): void {\n    this.changeOpenStateForAll(true);\n  }\n\n  public collapseAll(): void {\n    this.changeOpenStateForAll(false);\n  }\n\n  private changeOpenStateForAll(state): void {\n    this.$timeout(() => {\n      this.objectiveAssignmentAssessments = this.objectiveAssignmentAssessments.map((assessment: IObjectiveAssignmentAssessment) => {\n        assessment.$$open = state;\n\n        return assessment;\n      });\n    }, 0);\n  }\n\n  private goToDetails(objectiveAssessment: IObjectiveAssignmentAssessment): void {\n    const breadcrumbs: IBreadcrumb[] = [\n      ...this.$stateParams.breadcrumbs,\n      new Breadcrumb(\n        this.$stateParams.course.course_definition_name,\n        this.BreadcrumbsService.createGoToAction(),\n      ),\n    ];\n\n    this.$state.go('teacher-course-progress.details.learning-objectives.assignmentOverview',\n      Object.assign({}, this.$stateParams, { objectiveAssessment, breadcrumbs }));\n  }\n}\n","import { IComponentController } from 'angular';\nimport { IEventEmitter } from '../../../../../../shared/models/eventEmitter';\nimport { IObjectiveAssignmentAssessment } from '../../../../../../shared/models/objectiveAssignmentAssessment.model';\nimport { Component } from '../../../../../../utils/decorators/component.decorator';\nimport { Executable, ExecuteGuard } from '../../../../../../utils/decorators/executeGuard.decorator';\nimport { Input } from '../../../../../../utils/decorators/input.decorator';\nimport { Output } from '../../../../../../utils/decorators/output.decorator';\nimport TeacherCourseProgressModule from '../../../teacher-course-progress.module';\nimport style from './assignmentOverviewContent.scss';\nimport template from './assignmentOverviewContent.tpl.html';\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'assignment-overview-content',\n  template: template,\n  style: style,\n})\nexport class AssignmentOverviewContentComponent implements IComponentController {\n  @Input()\n  public objectiveAssignmentAssessment: IObjectiveAssignmentAssessment;\n  @Output()\n  public change: IEventEmitter<{ objectiveAssignmentAssessment: IObjectiveAssignmentAssessment }>;\n\n  constructor() {\n    'ngInject';\n\n    this.objectiveAssignmentAssessment = null;\n  }\n\n  @Executable\n  public onClickResultPublished(): void {\n    this.objectiveAssignmentAssessment.result_published = !this.objectiveAssignmentAssessment.result_published;\n    this.onChange();\n  }\n\n  @Executable\n  public onClickFeedbackPublished(): void {\n    this.objectiveAssignmentAssessment.feedback_published = !this.objectiveAssignmentAssessment.feedback_published;\n    this.onChange();\n\n  }\n\n  @Executable\n  public onChange(): void {\n    this.change({ objectiveAssignmentAssessment: this.objectiveAssignmentAssessment });\n  }\n\n  @ExecuteGuard\n  public isEditable(): boolean {\n    return this.objectiveAssignmentAssessment.teacher_in_class;\n  }\n}\n","export const ExecuteGuard: (target: any, propertyKey: string, descriptor: PropertyDescriptor) => void = (target: any, propertyKey: string, descriptor: PropertyDescriptor): void => {\n  target.$$isExecutable = descriptor.value;\n};\n\nexport const Executable: (target: any, propertyKey: string, descriptor: PropertyDescriptor) => void = (target: any, propertyKey: string, descriptor: PropertyDescriptor): void => {\n  const methodReference: (...args: any[]) => any = descriptor.value;\n\n  descriptor.value = function (...args: any[]) {\n    if (target.$$isExecutable.apply(this)) {\n      methodReference.apply(this, args);\n    }\n  };\n};\n\n","import { IComponentController } from 'angular';\nimport { IObjectiveAssignmentAssessment } from '../../../../../../shared/models/objectiveAssignmentAssessment.model';\nimport { Component } from '../../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../../utils/decorators/input.decorator';\nimport TeacherCourseProgressModule, { IAssignmentOverviewStatusService } from '../../../teacher-course-progress.module';\nimport style from './assignmentOverviewStatus.scss';\nimport template from './assignmentOverviewStatus.tpl.html';\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'assignment-overview-status',\n  template: template,\n  style: style,\n})\nexport class AssignmentOverviewStatusComponent implements IComponentController {\n  @Input()\n  public objectiveAssignmentAssessment: IObjectiveAssignmentAssessment;\n\n  constructor(private AssignmentOverviewStatusService: IAssignmentOverviewStatusService) {\n    'ngInject';\n\n    this.objectiveAssignmentAssessment = null;\n  }\n\n  public getLastUpdate(): string {\n    return this.AssignmentOverviewStatusService\n      .findLastUpdateDate(this.objectiveAssignmentAssessment);\n  }\n}\n","import moment, { Moment } from 'moment';\nimport { IObjectiveAssignmentAssessment } from '../../../../../../shared/models/objectiveAssignmentAssessment.model';\nimport { Service } from '../../../../../../utils/decorators/service.decorator';\nimport TeacherCourseProgressModule from '../../../teacher-course-progress.module';\n\nexport interface IAssignmentOverviewStatusService {\n  findLastUpdateDate(objectiveAssessment: IObjectiveAssignmentAssessment): string;\n}\n\n@Service({\n  module: TeacherCourseProgressModule,\n  name: 'AssignmentOverviewStatusService',\n})\nexport class AssignmentOverviewStatusService implements IAssignmentOverviewStatusService {\n  constructor() {\n    'ngInject';\n  }\n\n  public findLastUpdateDate(objectiveAssignmentAssessment: IObjectiveAssignmentAssessment): string {\n    const dates: string[] = [\n      objectiveAssignmentAssessment.feedback_last_edit,\n      objectiveAssignmentAssessment.private_note_last_edit,\n      objectiveAssignmentAssessment.result_last_edit,\n    ]\n      .filter((date: string): boolean => !!date);\n\n    if (!dates.length) {\n      return '';\n    } else if (dates.length === 1) {\n      return dates[0];\n    } else {\n      const format: string = `${moment(dates[0]).creationData().format}`;\n\n      return dates\n        .map((date: string): Moment => moment(date))\n        .sort((moment1: Moment, moment2: Moment): number => {\n          if (moment1.isSame(moment2)) {\n            return 0;\n          } else {\n            return moment1.isBefore(moment2) ? 1 : -1;\n          }\n        })\n        .shift()\n        .format(format);\n    }\n  }\n}\n","import { IComponentController, IRootScopeService, IScope, ITimeoutService } from 'angular';\nimport { StateParams, StateService } from '@uirouter/core';\nimport { IBreadcrumbsService } from '../../../../../common/components/breadcrumbs/breadcrumbs.service';\nimport { Events } from '../../../../../common/global-events';\nimport { ListViewType } from '../../../../../shared/enums/listViewType.enum';\nimport { Breadcrumb } from '../../../../../shared/models/breadcrumb.model';\nimport { ICoverageMatrix } from '../../../../../shared/models/coverageMatrix.model';\nimport { ICoverageMatrixService } from '../../../../../shared/services/coverageMatrix/coverageMatrix.service';\nimport { IdService } from '../../../../../shared/services/helpers/id.service';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../utils/decorators/input.decorator';\nimport TeacherCourseProgressModule from '../../teacher-course-progress.module';\nimport style from './objectivesList.scss';\nimport template from './objectivesList.tpl.html';\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'objectivesListTeacher',\n  template: template,\n  style: style,\n})\nexport class ObjectivesListComponent implements IComponentController {\n  @Input()\n  public assessments: any[];\n  @Input()\n  public courseSelected: any;\n\n  public readonly listViewType: any;\n  public student: any;\n  public isEditable: boolean;\n  public coverageMatrixes: ICoverageMatrix[];\n  public coverageMatrix: ICoverageMatrix;\n  public isCoverageMatrixView: boolean;\n  public informationView: ListViewType;\n\n  constructor(private $rootScope: IRootScopeService, private $scope: IScope, private $state: StateService,\n              private readonly $stateParams: StateParams, private $timeout: ITimeoutService,\n              private BreadcrumbsService: IBreadcrumbsService, private FetchData: any,\n              private CoverageMatrixService: ICoverageMatrixService) {\n    'ngInject';\n\n    this.assessments = [];\n    this.courseSelected = $stateParams.courseSelected;\n    this.listViewType = ListViewType;\n    this.student = $stateParams.student;\n    this.isEditable = false;\n    this.coverageMatrixes = [];\n    this.coverageMatrix = null;\n    this.isCoverageMatrixView = false;\n    this.informationView = ListViewType.TITLE_AND_DESCRIPTION;\n  }\n\n  public $onInit(): void {\n    this.setIdForAssessments();\n    this.isEditable = this.$stateParams.courseDefinition &&\n      this.$stateParams.courseDefinition.teacher_in_class;\n\n    if (!this.student) {\n      this.student = this.$stateParams.student;\n    }\n\n    this.coverageMatrixes = this.CoverageMatrixService.map(this.assessments);\n    this.coverageMatrix = this.coverageMatrixes[0];\n  }\n\n  public navigateToLearningObjective(assessment: any): void {\n    const breadcrumbs = [\n      ...this.$stateParams.breadcrumbs,\n      new Breadcrumb(\n        this.courseSelected.course_definition_name,\n        this.BreadcrumbsService.createGoToAction(),\n      ),\n    ];\n\n    const params = Object.assign({}, this.$stateParams, {\n      breadcrumbs,\n      student: this.student || this.$stateParams.student,\n      course: this.courseSelected,\n      objective: assessment.objective,\n      ordering: '',\n      filters: null,\n    });\n\n    this.$state.go(\n      'teacher-course-progress.objective-details.learning-assignments',\n      params,\n    );\n  }\n\n  public toggleAssessment(assessment: any): void {\n    assessment.open = !assessment.open;\n  }\n\n  public updateAssessmentData(assessmentData: any): void {\n    this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n    this.FetchData.v3\n      .updateCourseDefinitionObjectiveAssessment(\n        this.student.id,\n        this.courseSelected.course_definition,\n        assessmentData,\n      )\n      .then((assessmentResponse): void => {\n        // update current assessments list\n        this.assessments = this.assessments.map((assessment: any): any => {\n          if (assessment.id === assessmentResponse.id) {\n            // Dont overwrite feedback and private_note, it messes with the ui\n            const {feedback, private_note, result, ...rest} = assessmentResponse;\n            Object.assign(assessment, rest, { $id: IdService.getId() });\n          }\n          return assessment;\n        });\n      })\n      .then((): void => {\n        this.$rootScope.$emit(Events.UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES);\n        this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY);\n      });\n  }\n\n  public isNoteAvailable(assessment: any): boolean {\n    return !!assessment && !!assessment.private_note;\n  }\n\n  public isFeedbackAvailable(assessment: any): boolean {\n    return (!!assessment && assessment.feedback_published && !!assessment.feedback);\n  }\n\n  public onCoverageMatrixChange(coverageMatrix: ICoverageMatrix): void {\n    this.coverageMatrix = coverageMatrix;\n  }\n\n  public onViewChange(listViewSwitchType: ListViewType): void {\n    if ([ListViewType.COVERAGE_MATRIX, ListViewType.STATUS].includes(listViewSwitchType)) {\n      this.isCoverageMatrixView = !!(listViewSwitchType & ListViewType.COVERAGE_MATRIX);\n    } else {\n      this.informationView = listViewSwitchType;\n    }\n  }\n\n  public getCoverageMatrixFromAssessment(assessment: any): ICoverageMatrix {\n    return assessment.coverage_matrix_grade_systems\n      .find((coverageMatrixGradeSystem: ICoverageMatrix): boolean => {\n        return this.coverageMatrix && coverageMatrixGradeSystem.id === this.coverageMatrix.id;\n      });\n  }\n\n  public expandAll(): void {\n    this.changeOpenStateForAll(true);\n  }\n\n  public collapseAll(): void {\n    this.changeOpenStateForAll(false);\n  }\n\n  private changeOpenStateForAll(state): void {\n    this.$timeout(() => {\n      this.assessments = this.assessments.map((assessment) => {\n        assessment.open = state;\n\n        return assessment;\n      });\n    }, 0);\n  }\n\n  private setIdForAssessments(): void {\n    this.assessments.forEach((assessment: any): void => {\n      assessment.$id = IdService.getId();\n    });\n  }\n\n  get hasAnyAssessmentOpened(): any[] {\n    return this.assessments.find(assessment => assessment.open);\n  }\n}\n","import { IComponentController } from 'angular';\nimport { ICoverageMatrix } from '../../../../../../shared/models/coverageMatrix.model';\nimport { Component } from '../../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../../utils/decorators/input.decorator';\nimport TeacherCourseProgressModule from '../../../teacher-course-progress.module';\nimport template from './coverageMatrixGrid.tpl.html';\nimport style from './coverageMatrixGrid.scss';\n\nexport interface ICoverageMatrixGridComponent extends IComponentController {\n  coverageMatrix: ICoverageMatrix;\n}\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'coverage-matrix-grid',\n  template: template,\n  style: style,\n  transclude: {\n    gradePrognosis: '?gradePrognosis',\n  },\n})\nexport class CoverageMatrixGridComponent implements ICoverageMatrixGridComponent {\n\n  @Input()\n  public coverageMatrix: ICoverageMatrix;\n\n  constructor() {\n    'ngInject';\n\n    this.coverageMatrix = null;\n  }\n}\n","import { IComponentController } from 'angular';\nimport { ICoverageMatrix } from '../../../../../../shared/models/coverageMatrix.model';\nimport { Component } from '../../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../../utils/decorators/input.decorator';\nimport TeacherCourseProgressModule from '../../../teacher-course-progress.module';\nimport template from  './coverageMatrixGridHeader.tpl.html';\nimport style from './coverageMatrixGridHeader.scss';\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'coverage-matrix-grid-header',\n  template: template,\n  style: style,\n})\nexport class CoverageMatrixGridHeaderComponent implements IComponentController {\n  @Input()\n  public coverageMatrix: ICoverageMatrix;\n\n  constructor() {\n    'ngInject';\n  }\n}\n","import { IComponentController } from 'angular';\nimport get from 'lodash.get';\nimport { ListViewType } from '../../../../../../shared/enums/listViewType.enum';\nimport { ICoverageMatrix } from '../../../../../../shared/models/coverageMatrix.model';\nimport { IEventEmitter } from '../../../../../../shared/models/eventEmitter';\nimport { IListViewSwitch } from '../../../../../../shared/models/ListViewSwitch.model';\nimport { LocalStorageService } from '../../../../../../shared/services/localStorage/localStorage.service';\nimport { Component } from '../../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../../utils/decorators/input.decorator';\nimport { Output } from '../../../../../../utils/decorators/output.decorator';\nimport TeacherCourseProgressModule, { ListViewSwitchService } from '../../../teacher-course-progress.module';\nimport style from './listViewSwitch.scss';\nimport template from './listViewSwitch.tpl.html';\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'list-view-switch',\n  template: template,\n  style: style,\n  transclude: {\n    left: '?leftSection',\n    center: '?centerSection',\n    right: '?rightSection',\n  }\n})\nexport class ListViewSwitchComponent implements IComponentController {\n  @Output({ optional: true })\n  public onViewChange: IEventEmitter<{ listViewSwitchType: ListViewType }>;\n  @Output({ optional: true })\n  public onCoverageMatrixChange: IEventEmitter<{ coverageMatrix: ICoverageMatrix }>;\n  @Input()\n  public coverageMatrixes: ICoverageMatrix[];\n\n  public viewMenuItems: IListViewSwitch[];\n  public informationMenuItems: IListViewSwitch[];\n  public selectedCoverageMatrix: ICoverageMatrix;\n  private readonly lastSelectedCoverageMatrixKey: string;\n  private readonly currentSelectedViewKey: string;\n  private readonly currentSelectedInformationKey: string;\n\n  constructor(private ListViewSwitchService: ListViewSwitchService, private LocalStorageService: LocalStorageService) {\n    'ngInject';\n\n    this.coverageMatrixes = [];\n    this.selectedCoverageMatrix = null;\n    this.viewMenuItems = [];\n    this.informationMenuItems = [];\n    this.lastSelectedCoverageMatrixKey = 'lastSelectedMatrixCoverage';\n    this.currentSelectedViewKey = 'currentSelectedView';\n    this.currentSelectedInformationKey = 'studentProgressInformationMenu';\n  }\n\n  public $onInit(): void {\n    this.viewMenuItems = this.ListViewSwitchService.getViewMenuItems(this.coverageMatrixes);\n    this.informationMenuItems = this.ListViewSwitchService.getInformationMenuItems();\n\n    if (this.LocalStorageService.exists(this.lastSelectedCoverageMatrixKey)) {\n      const lastSelectedCoverageMatrixId: number = +this.LocalStorageService.get(this.lastSelectedCoverageMatrixKey);\n\n      this.selectedCoverageMatrix = this.ListViewSwitchService\n        .getCoverageMatrixById(this.coverageMatrixes, lastSelectedCoverageMatrixId);\n    }\n\n    if (this.LocalStorageService.exists(this.currentSelectedViewKey)) {\n      const currentSelectedViewId: string = this.LocalStorageService.get(this.currentSelectedViewKey);\n      this.restoreMainMenuSelection(currentSelectedViewId, this.viewMenuItems);\n    }\n\n    if (this.LocalStorageService.exists(this.currentSelectedInformationKey)) {\n      const currentSelectedInformationViewId: string = this.LocalStorageService.get(this.currentSelectedInformationKey);\n      this.restoreMainMenuSelection(currentSelectedInformationViewId, this.informationMenuItems);\n    }\n\n    if (!this.selectedCoverageMatrix) {\n      this.selectedCoverageMatrix = get(this.coverageMatrixes, ['0'], null);\n    } else {\n      this.onSelectCoverageMatrix();\n    }\n\n    if (!this.isViewMenuActive()) {\n      this.redirectToNonCoverageMatrixView();\n    }\n  }\n\n  public onMenuClick(menuItem: IListViewSwitch): void {\n    if ([ListViewType.COVERAGE_MATRIX, ListViewType.STATUS].includes(menuItem.type)) {\n      this.onClickViewMenu(menuItem);\n    } else {\n      this.onClickInformationMenu(menuItem);\n    }\n  }\n\n  public onSelectCoverageMatrix(): void {\n    this.onCoverageMatrixChange({ coverageMatrix: this.selectedCoverageMatrix });\n    this.LocalStorageService.set(this.lastSelectedCoverageMatrixKey, `${this.selectedCoverageMatrix.id}`);\n  }\n\n  public isCoverageMatrixView(): boolean {\n    return this.ListViewSwitchService.isCoverageMatrixView(this.viewMenuItems);\n  }\n\n  private onClickViewMenu(menuItem: IListViewSwitch): void {\n    if (!menuItem.isDisabled && this.isViewMenuActive()) {\n      this.setMenuSelection(menuItem);\n      this.onViewChange({ listViewSwitchType: menuItem.type });\n    } else if (menuItem.isDisabled) {\n      this.ListViewSwitchService.showDialogWithDisableMessage();\n    } else {\n      this.redirectToNonCoverageMatrixView();\n    }\n  }\n\n  private onClickInformationMenu(menuItem: IListViewSwitch): void {\n    this.informationMenuItems = this.ListViewSwitchService.setSelection(menuItem, this.informationMenuItems);\n    this.LocalStorageService.set(this.currentSelectedInformationKey, menuItem.id);\n    this.onViewChange({ listViewSwitchType: menuItem.type });\n  }\n\n  private setMenuSelection(menuItem: IListViewSwitch): void {\n    this.viewMenuItems = this.ListViewSwitchService.setSelection(menuItem, this.viewMenuItems);\n    this.LocalStorageService.set(this.currentSelectedViewKey, menuItem.id);\n  }\n\n  private isViewMenuActive(): boolean {\n    return this.coverageMatrixes.length !== 0;\n  }\n\n  private redirectToNonCoverageMatrixView(): void {\n    const nonCoverageMatrixView: IListViewSwitch =\n      this.ListViewSwitchService.findFirstNonCoverageMatrixView(this.viewMenuItems);\n\n    this.setMenuSelection(nonCoverageMatrixView);\n    this.onViewChange({ listViewSwitchType: nonCoverageMatrixView.type });\n  }\n\n  private restoreMainMenuSelection(menuItemId: string, menu: IListViewSwitch[]): void {\n    const menuItem: IListViewSwitch = this.ListViewSwitchService\n      .getMenuItemById(menu, menuItemId);\n\n    this.onMenuClick(menuItem);\n  }\n}\n","import angular from 'angular';\nimport { ListViewType } from '../../../../../../shared/enums/listViewType.enum';\nimport { ICoverageMatrix } from '../../../../../../shared/models/coverageMatrix.model';\nimport { IListViewSwitch, ListViewSwitch } from '../../../../../../shared/models/ListViewSwitch.model';\nimport { DialogService } from '../../../../../../shared/services/dialog/dialog.service';\nimport { Service } from '../../../../../../utils/decorators/service.decorator';\nimport TeacherCourseProgressModule from '../../../teacher-course-progress.module';\nimport dialogTemplate from './listViewSwitchDialog.tpl.html';\n\n@Service({\n  name: 'ListViewSwitchService',\n  module: TeacherCourseProgressModule,\n})\nexport class ListViewSwitchService extends DialogService {\n  constructor(protected $mdDialog: ng.material.IDialogService) {\n    'ngInject';\n\n    super($mdDialog);\n  }\n\n  public findFirstNonCoverageMatrixView(menuItems: IListViewSwitch[]): IListViewSwitch {\n    return menuItems.find((menuItem: IListViewSwitch): boolean =>\n      (menuItem.type & ListViewType.COVERAGE_MATRIX) === 0,\n    );\n  }\n\n  public getCoverageMatrixById(coverageMatrixes: ICoverageMatrix[], id: number): ICoverageMatrix {\n    return coverageMatrixes.find((coverageMatrix: ICoverageMatrix): boolean =>\n      coverageMatrix.id === id,\n    );\n  }\n\n  public getMenuItemById(menuItems: IListViewSwitch[], id: string): IListViewSwitch {\n    return menuItems.find((menuItem: IListViewSwitch): boolean =>\n      menuItem.id === id,\n    );\n  }\n\n  public getViewMenuItems(coverageMatrixes: ICoverageMatrix[]): IListViewSwitch[] {\n    let menuItems: IListViewSwitch[] = [\n      {\n        id: `${ListViewType.COVERAGE_MATRIX}`,\n        label: 'showCoverageMatrix',\n        type: ListViewType.COVERAGE_MATRIX,\n      },\n      {\n        id: `${ListViewType.STATUS}`,\n        label: 'showStatus',\n        type: ListViewType.STATUS,\n      },\n    ];\n\n    if (!coverageMatrixes.length) {\n      menuItems = menuItems.map((menuItem: IListViewSwitch): IListViewSwitch => {\n        menuItem.isDisabled = (menuItem.type & ListViewType.COVERAGE_MATRIX) > 0;\n\n        return menuItem;\n      });\n    }\n\n    return menuItems;\n  }\n\n  public getInformationMenuItems(): IListViewSwitch[] {\n    return [\n      {\n        id: `${ListViewType.TITLE_ONLY}`,\n        label: 'teacherCurriculumObjectivesToolbarMenuItemTitleOnly',\n        type: ListViewType.TITLE_ONLY,\n      },\n      {\n        id: `${ListViewType.TITLE_AND_DESCRIPTION}`,\n        isSelected: true,\n        label: 'teacherCurriculumObjectivesToolbarMenuItemTitleDescription',\n        type: ListViewType.TITLE_AND_DESCRIPTION,\n      },\n      {\n        id: `${ListViewType.DESCRIPTION_ONLY}`,\n        label: 'teacherCurriculumObjectivesToolbarMenuItemDescriptionOnly',\n        type: ListViewType.DESCRIPTION_ONLY,\n      },\n    ];\n  }\n\n  public isCoverageMatrixView(menuItems: IListViewSwitch[]): boolean {\n    return !!menuItems\n      .find((menuItem: IListViewSwitch): boolean =>\n        menuItem.isSelected && (menuItem.type & ListViewType.COVERAGE_MATRIX) > 0,\n      );\n  }\n\n  public setSelection(menuItem: IListViewSwitch, menuItems: IListViewSwitch[]): IListViewSwitch[] {\n    return menuItems.map((item: IListViewSwitch): IListViewSwitch => {\n      item.isSelected = item.id === menuItem.id;\n\n      return item;\n    });\n  }\n\n  public showDialogWithDisableMessage(): void {\n    const options: ng.material.IDialogOptions = this.buildOptions({\n      template: dialogTemplate,\n    });\n\n    this.$mdDialog.show(options);\n  }\n}\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../../../utils/decorators/input.decorator';\nimport { ParentComponent } from '../../../../../../../utils/decorators/parent-component.decorator';\nimport TeacherCourseProgressModule, { ICoverageMatrixGridComponent } from '../../../../teacher-course-progress.module';\nimport template from './gradePrognosis.tpl.html';\nimport style from './gradePrognosis.scss';\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'grade-prognosis',\n  template: template,\n  style: style,\n})\nexport class GradePrognosisComponent implements IComponentController {\n  @ParentComponent()\n  private coverageMatrixGrid: ICoverageMatrixGridComponent;\n  @Input()\n  public grade: any;\n  @Input()\n  public published: boolean;\n\n  constructor() {\n    'ngInject';\n\n    this.grade = null;\n    this.published = false;\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport class AssessmentDetailsComponent {\n  static bindings = {\n    assessment: '<',\n    assignment: '<',\n    detailsButtonDisable: '<',\n    showTargetGrade: '<',\n    showPrivateNote: '<', // todo refactor readOnly binding to use teacherAccount\n    readOnly: '<',\n    teacherAccount: '<',\n    showStudentSelfAssessment: '<',\n    simpleView: '<',\n    mixpanelFeedbackEvent: '@',\n    mixpanelSelfAssessmentEvent: '@',\n    mixpanelGradeEvent: '@', // events\n    onAssessmentUpdate: '&',\n    onAssessmentClose: '&',\n    onNavigateToDetails: '&',\n    onAssignmentChange: '&',\n    disabled: '<ngDisabled',\n    emptyMsg: '@?',\n    isGradeTextsEnable: '<',\n  };\n  static controller = AssessmentDetailsComponent;\n  static templateUrl =\n    'components/course-progress/common/components/assessmentDetails/assessmentDetails.html';\n\n  constructor(GradeSystems, $state) {\n    'ngInject';\n\n    this.GradeSystems = GradeSystems;\n    this.$state = $state;\n    this.disabled = false;\n    this.assignment = null;\n    this.assessment = null;\n    this.emptyMsg = 'courseProgressObjectiveEmptyInfo';\n  }\n\n  $onInit() {\n    if (!(this.assessment && this.assessment.grade_system)) {\n      throw new Error('grade_system object for assessment is not provided.');\n    }\n    // this is to fix bug when grade nob is out of its scale\n    this.assignment = this.assignment || {};\n    this.componentInitialized = true;\n\n    if (this.assessment && this.assignment) {\n      this.assessment.seen = this.assignment.seen =\n        this.assessment.seen && this.assignment.seen;\n    }\n  }\n\n  toggleAssessmentGradePublished() {\n    this.assessment.grade_published = !this.assessment.grade_published;\n    this.onAssessmentUpdate({ assessment: this.assessment });\n  }\n\n  toggleAssessmentTargetGradePublished() {\n    this.assessment.target_grade_published = !this.assessment\n      .target_grade_published;\n    this.onAssessmentUpdate({ assessment: this.assessment });\n  }\n\n  toggleAssessmentFeedbackPublished() {\n    this.assessment.feedback_published = !this.assessment.feedback_published;\n    this.onAssessmentUpdate({ assessment: this.assessment });\n  }\n\n  updateAssessmentProperty() {\n    this.onAssessmentUpdate({ assessment: this.assessment });\n  }\n\n  onResultPublishChange() {\n    this.assignment.result_published = !this.assignment.result_published;\n    this.onAssignmentChange({ assignment: this.assignment });\n  }\n\n  onFeedbackPublishChange() {\n    this.assignment.feedback_published = !this.assignment.feedback_published;\n    this.onAssignmentChange({ assignment: this.assignment });\n  }\n\n  gradeUpdate(grade) {\n    const assessment = angular.copy(this.assessment);\n\n    if (grade) {\n      this.assessment.grade = grade;\n      assessment.grade = grade.id;\n    } else {\n      this.assessment.grade = null;\n      assessment.grade = null;\n    }\n\n    this.onAssessmentUpdate({ assessment });\n  }\n\n  gradeChange(grade) {\n    this.assessment.grade = grade || null;\n  }\n\n  counterGradeChange(value, index) {\n    const assessment = angular.copy(this.assessment);\n    assessment.counter_grades[index] = value;\n    this.onAssessmentUpdate({ assessment });\n  }\n\n  targetGradeUpdate(targetGrade) {\n    const assessment = angular.copy(this.assessment);\n\n    if (targetGrade) {\n      this.assessment.target_grade = targetGrade;\n      assessment.target_grade = targetGrade.id;\n    } else {\n      this.assessment.target_grade = null;\n      assessment.target_grade = null;\n    }\n\n    this.onAssessmentUpdate({ assessment });\n  }\n\n  // visibility\n  get isGradeVisible() {\n    return (\n      (this.readOnly && this.assessment.grade && !this.assessment.counter_grades) ||\n      (!this.readOnly && !this.assessment.grade_system.is_counter) ||\n      (!this.readOnly && this.assessment.grade_system.is_counter && !this.assessment.counter_grades)\n    );\n  }\n\n  get isTargetGradeVisible() {\n    return (\n      (this.readOnly && this.assessment.target_grade && this.showTargetGrade) ||\n      (!this.readOnly && this.showTargetGrade)\n    );\n  }\n\n  get isGradeTextsVisible() {\n    return this.isGradeTextsEnable && this.isGradeVisible && this.assessment;\n  }\n\n  get gradeSystem() {\n    return this.assessment.grade_system;\n  }\n\n  get isLearningAssignmentsView() {\n    return !!this.$state.is('^.learning-assignments') || !!this.$state.is('^.assessments');\n  }\n\n  get isOverallAssessmentSection() {\n    return !!this.assessment.objective && !this.assessment.assignment;\n  }\n\n  get isOverallAssessmentSectionVisible() {\n    return (\n      (this.teacherAccount ||\n        this.assignment.feedback_published ||\n        this.assignment.result_published) &&\n      !this.isOverallAssessmentSection &&\n      this.isLearningAssignmentsView\n    );\n  }\n\n  get isPrivateNoteVisible() {\n    return this.showPrivateNote && this.assessment.teacher_in_class;\n  }\n\n  get isOverallFeedbackAvailable() {\n    return this.teacherAccount || this.assignment.feedback_published;\n  }\n\n  get isEmpty() {\n    return !this.teacherAccount &&\n      !this.assessment.feedback &&\n      !this.assessment.target_grade &&\n      !this.assessment.grade &&\n      !this.assessment.self_assessment;\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { AssessmentStatusPreview } from './assessmentStatusPreview.service';\n\nexport class AssessmentStatusPreviewComponent {\n  static bindings = {\n    assessment: '<',\n    assignment: '<',\n    hasCounterGrade: '<',\n    showFeedback: '<',\n    showPrivateNote: '<',\n    showStudentSelfAssessment: '<',\n    showTargetGrade: '<',\n    showVisibility: '<',\n  };\n  static controller = AssessmentStatusPreviewComponent;\n  static templateUrl =\n    'components/course-progress/common/components/assessmentStatusPreview/assessmentStatusPreview.html';\n\n  public isTeacher: boolean;\n  public gradeSystem?: any;\n  public assessment?: any;\n  public assignment?: any;\n  public hasCounterGrade?: boolean;\n  public showFeedback?: boolean;\n  public showPrivateNote?: boolean;\n  public showStudentSelfAssessment?: boolean;\n  public showTargetGrade?: boolean;\n  public showVisibility?: boolean;\n\n  constructor(private AssessmentStatusPreview: AssessmentStatusPreview) {\n    'ngInject';\n\n    this.isTeacher = false;\n    this.gradeSystem = null;\n    this.assessment = {};\n    this.assignment = {};\n  }\n\n  $onInit(): void {\n    this.isTeacher = this.AssessmentStatusPreview.isTeacher();\n    this.gradeSystem = this.AssessmentStatusPreview\n      .getGradeSystemById(this.assessment.grade_system.id);\n\n    this.findLastUpdateDate();\n  }\n\n  $onChanges(changes): void {\n    if (changes.assignment && !changes.assignment.isFirstChange()) {\n      this.findLastUpdateDate();\n    }\n  }\n\n  findLastUpdateDate(): void {\n    const lastUpdate: string = this.assessment ? this.assessment.last_update : null;\n\n    this.assessment.last_update = this.AssessmentStatusPreview\n      .getLastUpdateDate(this.assignment, lastUpdate);\n  }\n\n  get showFeedbackVisibility(): boolean {\n    return this.showFeedback && this.showVisibility;\n  }\n\n  get hasFeedback(): boolean {\n    return (\n      (this.assessment && this.assessment.feedback) ||\n      (this.assignment && this.assignment.feedback)\n    );\n  }\n\n  get isFeedbackVisible(): boolean {\n    return (\n      this.isTeacher &&\n      this.hasFeedback &&\n      (\n        (this.assessment && this.assessment.feedback_published) ||\n        (this.assignment && this.assignment.feedback_published)\n      )\n    );\n  }\n\n  get hasTeacherNote(): boolean {\n    return (\n      this.isTeacher &&\n      ((this.assessment && this.assessment.private_note) ||\n        (this.assignment && this.assignment.private_note))\n    );\n  }\n\n  get hasStudentsSelfAssessment(): boolean {\n    return this.assessment && this.assessment.self_assessment;\n  }\n\n  get hasResult(): boolean {\n    return this.assignment && this.assignment.result;\n  }\n\n  get isResultVisible(): boolean {\n    return this.isTeacher &&\n      this.hasResult &&\n      this.assignment &&\n      this.assignment.result_published;\n  }\n\n  get hasPrivateNote(): boolean {\n    return this.assessment && this.assessment.private_note;\n  }\n}\n","export class CourseSummaryComponent {\n  static bindings = { course: '<' };\n  static controller = CourseSummaryComponent;\n  static templateUrl =\n    'components/course-progress/common/components/courseSummary/courseSummary.html';\n\n  constructor() {\n    'ngInject';\n\n    this.course = {};\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nclass controller {\n  constructor(Config, FetchData) {\n    'ngInject';\n\n    this.Config = Config;\n    this.FetchData = FetchData;\n  }\n\n  downloadFile(fileType) {\n    this.FetchData.getDownloadKey(\n      this.student.id,\n      this.courseDefinition.course_definition,\n    )\n      .then(response => response.key)\n      .then((key) => {\n        window.open(`${this.Config.apiUrl}/classes/export_grades/${key}.${fileType}`, '_blank');\n      });\n  }\n}\n\nexport const DownloadPdfMenu = {\n  bindings: {\n    student: '<',\n    courseDefinition: '<',\n  },\n  controller,\n  template: `\n              <md-menu>\n                <md-button\n                    class=\"md-icon-button\"\n                    ng-click=\"$mdMenu.open($event)\">\n                    <md-icon>\n                        more_vert\n                    </md-icon>\n                </md-button>\n\n                <md-menu-content width=\"3\">\n                    <md-menu-item>\n                        <md-button \n                            ng-click=\"$ctrl.downloadFile('pdf')\"\n                            localize>\n                            __MSG_downloadPDFOption__\n                        </md-button>\n                    </md-menu-item>\n                    <md-menu-item>\n                        <md-button \n                            ng-click=\"$ctrl.downloadFile('csv')\"\n                            localize>\n                            __MSG_downloadCSVOption__\n                        </md-button>\n                    </md-menu-item>\n                </md-menu-content>\n            </md-menu>\n  `,\n};\n","import { GradeDescription } from '../services/gradeDescription.service';\nimport { UnbindableCtrlBase } from '../../../../common/base-classes';\n\nclass GradeDescriptionCtrl extends UnbindableCtrlBase {\n  constructor($scope, $element) {\n    'ngInject';\n\n    super();\n    this.$scope = $scope;\n    this.$element = $element;\n    this.description = null;\n    this.gradesMap = new Map();\n    this.animationTime = 0;\n  }\n\n  $onInit() {\n    this.gradesMap = GradeDescription.mapAssessmentToGrades(this.assessment);\n    this.setDescription();\n\n    this.boundEvents.push(\n      this.$scope.$watch(() => this.assessment.grade, this.setDescription.bind(this)),\n    );\n  }\n\n  $onChanges(changes) {\n    const filteredChanges = GradeDescription.filterNotFirstTimeChanges(changes);\n\n    if (filteredChanges.assessment) {\n      this.assessment = filteredChanges.assessment.currentValue;\n      this.gradesMap = GradeDescription.mapAssessmentToGrades(this.assessment);\n      this.setDescription();\n    }\n  }\n\n  setDescription() {\n    const currentGrade = this.assessment.grade ?\n      this.gradesMap.get(this.assessment.grade.id) : null;\n\n    this.description = currentGrade ? currentGrade.description : null;\n    GradeDescription.animateContent(this.$element, this.animationTime);\n    this.animationTime = 200;\n  }\n}\n\nexport const GradeDescriptionComponent = {\n  bindings: {\n    assessment: '<',\n  },\n  controller: GradeDescriptionCtrl,\n  template:\n    `\n        <md-content class=\"grade-description__text\"\n                    ng-bind-html=\"$ctrl.description\">\n        </md-content>\n    `,\n};\n","export class GradeDescription {\n\n  static mapAssessmentToGrades(assessment) {\n    return assessment.grade_system.grades\n      .reduce((gradesMap, grade) => gradesMap.set(grade.id, grade), new Map());\n  }\n\n  static filterNotFirstTimeChanges(changes) {\n    let filtered = {};\n\n    for (const [key, value] of Object.entries(changes)) {\n      if (!value.isFirstChange()) {\n        filtered = Object.assign(filtered, { [key]: value });\n      }\n    }\n\n    return filtered;\n  }\n\n  static animateContent($element, animationTime = 200) {\n    window.setTimeout(() => {\n      const $mdContent = $element.find('md-content');\n\n      if ($mdContent.length) {\n        window.requestAnimationFrame(() => {\n          const prevHeight = $element.data('height') || 0;\n          $mdContent.css('height', 'auto');\n          const height = $mdContent.height();\n\n          $mdContent\n            .animate({ height: prevHeight }, 0)\n            .animate({ height }, animationTime);\n\n          $element.data('height', height);\n        });\n      } else {\n        $element.data('height', 0);\n      }\n    });\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const LastUpdate = {\n  bindings: {\n    date: '<',\n  },\n  template: `\n    <span class=\"sb-course-assessment__meta-date\n                 sb-course-assessment__meta-item\n                 sb-course-assessment__meta-item--sm\n                 sb-subheading\n                 md-body-2\"\n                 ng-visible=\"$ctrl.date\">\n        <md-tooltip\n            md-direction=\"top\"\n            md-z-index=\"1010\"\n            class=\"md-fling\n                   sb-tooltip--align-position\"\n            localize>\n            __MSG_courseProgressLastEditTooltip__\n        </md-tooltip>\n        {{ $ctrl.date | LastModified }}\n    </span>\n  `,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const PartialLastUpdate = {\n  bindings: {\n    date: '<',\n    visible: '<',\n  },\n  template: `\n    <div\n      layout=\"row\"\n      layout-align=\"end center\"\n      class=\"sb-assessment-details__partial-last-edit\"\n      ng-class=\"{\n        'sb-assessment-details__partial-last-edit--visible': $ctrl.visible\n      }\">\n      {{ $ctrl.date | LastModified }}\n    </div>\n  `,\n};\n","import { Breadcrumb } from '../../../../../shared/models/breadcrumb.model.ts';\nimport style from './studentCoursesDetailsSection.scss';\nimport { getTranslation } from '../../../../../../../../react_src/i18n';\n\nexport class StudentCoursesDetailsSectionComponent {\n  static bindings = {\n    studentCoursesDefinitions: '<',\n    extend: '<',\n    label: '@?',\n  };\n\n  static controller = StudentCoursesDetailsSectionComponent;\n\n  static require = { studentCoursesDetails: '^^' };\n\n  static templateUrl =\n    'components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetailsSection/studentCoursesDetailsSection.html';\n\n  static style = style;\n\n  constructor($scope, $rootScope, $timeout, $stateParams, BreadcrumbsService, PromiseQueue, UserInfo) {\n    'ngInject';\n\n    this.$scope = $scope;\n    this.$rootScope = $rootScope;\n    this.$timeout = $timeout;\n    this.$stateParams = $stateParams;\n    this.BreadcrumbsService = BreadcrumbsService;\n    this.UserInfo = UserInfo;\n    this.studentCoursesDefinitions = [];\n    this.isEmpty = true;\n    this.extend = false;\n    this.queue = PromiseQueue.getInstance();\n  }\n\n  $onInit() {\n    this.studentCoursesDefinitions = angular\n      .copy(this.studentCoursesDefinitions)\n      .map((coursesDefinitions) => {\n        coursesDefinitions.open = true;\n\n        return coursesDefinitions;\n      });\n\n    this.isEmpty = this.studentCoursesDefinitions && !!this.studentCoursesDefinitions.length;\n  }\n\n  onUpdateCourseDefinition(courseDefinition) {\n    this.queue.push(this.updateCourseDefinition(courseDefinition));\n  }\n\n  updateCourseDefinition(courseDefinition) {\n    return this.studentCoursesDetails.StudentCoursesDetails.update(\n      this.studentCoursesDetails.student,\n      courseDefinition,\n    ).then((newCourseDefinition) => {\n      this.studentCoursesDefinitions = this.studentCoursesDefinitions.map(\n        (item) => {\n          if (item.id === newCourseDefinition.id) {\n            // Dont overwrite feedback and private_note, it messes with the ui\n            const {\n              feedback, private_note, result, ...rest\n            } = newCourseDefinition;\n            return { ...item, ...rest };\n          }\n          return item;\n        },\n      );\n    });\n  }\n\n  goToDetails(courseDefinition) {\n    if (this.isAvailable(courseDefinition)) {\n      const breadcrumbLabel = this.UserInfo.isTeacher()\n        ? this.studentCoursesDetails.student.student_name : getTranslation('breadcrumbFirstItemLabel');\n\n      this.studentCoursesDetails.StudentCoursesDetails.goToCourseDetails({\n        courseDefinition,\n        course: courseDefinition,\n        student: this.studentCoursesDetails.student,\n        breadcrumbs: [new Breadcrumb(breadcrumbLabel, this.BreadcrumbsService.createGoToAction())],\n      });\n    }\n  }\n\n  isAvailable(courseDefinition) {\n    return !this.UserInfo.isTeacher()\n      || courseDefinition.teacher_in_class\n      || courseDefinition.shared_with_teacher\n      || courseDefinition.is_mentor;\n  }\n\n  expandAll() {\n    this.changeOpenStateForAll(true);\n  }\n\n  collapseAll() {\n    this.changeOpenStateForAll(false);\n  }\n\n  changeOpenStateForAll(state) {\n    this.$timeout(() => {\n      this.studentCoursesDefinitions = this.studentCoursesDefinitions.map((courseDefinition) => {\n        if (this.isAvailable(courseDefinition)) {\n          courseDefinition.isOpen = state;\n        }\n\n        return courseDefinition;\n      });\n    }, 0);\n  }\n}\n","export class StudentProfileComponent {\n  static templateUrl = 'components/course-progress/common/components/studentProfile/studentProfile.html';\n  static controller = StudentProfileComponent;\n  static bindings = { student: '<' };\n\n  constructor() {\n    'ngInject';\n  }\n}\n","export class StudentProfileDetailsComponent {\n  static templateUrl = 'components/course-progress/common/components/studentProfile/studentProfileDetails/studentProfileDetails.html';\n  static controller = StudentProfileDetailsComponent;\n  static bindings = { student: '<' };\n\n  constructor() {\n    'ngInject';\n  }\n}\n","export class StudentProfilePhotoComponent {\n  static templateUrl = 'components/course-progress/common/components/studentProfile/studentProfilePhoto/studentProfilePhoto.html';\n  static controller = StudentProfilePhotoComponent;\n  static bindings = { src: '<?' };\n}\n","export class StudentProgressInputComponent {\n  static templateUrl =\n    'components/course-progress/common/components/studentProgressInput/studentProgressInput.html';\n  static controller = StudentProgressInputComponent;\n  static bindings = {\n    disabled: '<?ngDisabled',\n    isPublished: '<?',\n    label: '@?',\n    lastEdit: '<?',\n    editBy: '<?',\n    value: '<ngModel',\n    onChange: '&?ngChange',\n  };\n\n  constructor(UserInfo) {\n    'ngInject';\n\n    this.UserInfo = UserInfo;\n    this.isTeacher = false;\n    this.disabled = false;\n    this.value = null;\n    this.lastEdit = null;\n    this.isPublished = null;\n  }\n\n  $onInit() {\n    this.isTeacher = this.UserInfo.isTeacher();\n  }\n\n  onClick() {\n    this.isPublished = !this.isPublished;\n    this.triggerOnChange();\n  }\n\n  triggerOnChange() {\n    const $event = { value: this.value };\n\n    if (this.isPublished !== null) {\n      $event.isPublished = this.isPublished;\n    }\n\n    this.onChange({ $event });\n  }\n}\n","import moment, { Moment } from 'moment';\n\nexport class AssessmentStatusPreview {\n\n  static updateDateProperties: { [prop: string]: string[] } = {\n    assignment: ['feedback_last_edit', 'private_note_last_edit', 'result_last_edit'],\n  };\n\n  constructor(private GradeSystems: any, private UserInfo: any) {\n    'ngInject';\n  }\n\n  isTeacher(): boolean {\n    return this.UserInfo.isTeacher();\n  }\n\n  getGradeSystemById(gradeSystemId): any {\n    return this.GradeSystems.getGradeSystemById(gradeSystemId);\n  }\n\n  getLastUpdateDate(assignment: any = {}, previousLastUpdate: string): string {\n    let timestamps: Moment[] = previousLastUpdate ? [moment(previousLastUpdate)] : [];\n\n    timestamps = [...timestamps, ...AssessmentStatusPreview.updateDateProperties.assignment\n      .map((property): Moment =>\n        assignment[property] ? moment(assignment[property]) : moment.invalid()\n      )]\n      .filter((timestamp: Moment): boolean => timestamp.isValid());\n\n    const lastUpdate: Moment = timestamps.length ? moment.max(...timestamps) : moment.invalid();\n\n    return lastUpdate && lastUpdate.isValid() ? lastUpdate.format() : '';\n  }\n}\n","export class AssignmentsList {\n  getAssignmentForAssessment(assignments = [], assessment = { assignment: { id: -1 } }) {\n    return assignments.find(assignment => assignment.assignment_id === assessment.assignment.id);\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Events } from '../../common/global-events.ts';\n\nexport class CourseProgress {\n  constructor($rootScope, $transitions) {\n    'ngInject';\n\n    this.$rootScope = $rootScope;\n    this.$transitions = $transitions;\n\n    this.initListeners();\n  }\n\n  initListeners() {\n    this.lastState = null;\n\n    this.$transitions.onSuccess({\n      to: state => /^(teacher|student)-course-progress\\.(no-student-selected|details|objective-details)\\.?/.test(state.name),\n    }, ($transition$) => {\n      const toState = $transition$.$to();\n      const params = angular.copy($transition$.router.stateService.params);\n      this.lastState = {\n        name: toState.name,\n        params,\n      };\n    });\n\n    this.$rootScope.$on(\n      Events.CLASS_CHANGED, () => {\n        this.lastState = null;\n      },\n    );\n  }\n\n  get hasLastStateSaved() {\n    return !!this.lastState;\n  }\n\n  get lastStateSaved() {\n    return this.lastState;\n  }\n}\n","export class ExportStudentsResults {\n\n  constructor(Config, FetchData) {\n    'ngInject';\n\n    this.Config = Config;\n    this.FetchData = FetchData;\n  }\n\n  asFile(fileFormat, courseId, studentId = null) {\n    return this.getExportKey(\n      courseId,\n      studentId,\n    )\n      .then(response => response.key)\n      .then(key => window.open(`${this.Config.apiUrl}/v3/classes/export-grades/download/${fileFormat}/${key}/`, '_blank'));\n  }\n\n  toGoogleDrive(fileFormat, courseId, studentId = null) {\n    let promise;\n\n    if (studentId) {\n      promise = this.FetchData.v3\n        .exportStudentResultsOnGoogleDrive(fileFormat, courseId, studentId);\n    } else {\n      promise = this.FetchData.v3\n        .exportAllStudentsResultsOnGoogleDrive(fileFormat, courseId);\n    }\n\n    return promise;\n  }\n\n  checkGoogleDriveExportStatus(exportId, callback) {\n    chrome.runtime.sendMessage(\n      {\n        action: 'checkGDExportStatus',\n        delay: 3000,\n        method: 'GET',\n        url: this.getCheckGoogleDriveExportStatusURL(exportId),\n      },\n      callback,\n    );\n  }\n\n  getCheckGoogleDriveExportStatusURL(exportId) {\n    return `${this.Config.apiUrl}/v3/classes/export-grades/drive/result/${exportId}/`;\n  }\n\n  getExportKey(courseId, studentId = null) {\n    return studentId ?\n      this.getStudentExportKeyId(courseId, studentId) : this.getAllStudentsExportKeyId(courseId);\n  }\n\n  getAllStudentsExportKeyId(courseId) {\n    return this.FetchData.v3.getExportKeyForAllStudents(courseId);\n  }\n\n  getStudentExportKeyId(courseId, studentId) {\n    return this.FetchData.v3.getExportKeyForStudent(courseId, '', studentId);\n  }\n}\n","import { DialogType } from '../../../../../utils/enums/dialogType.enum';\nimport { CourseProgressDialog } from '../courseProgressDialog.service.ts';\n\nexport class ExportStudentsResultsDialog extends CourseProgressDialog {\n  constructor($mdDialog) {\n    'ngInject';\n\n    super($mdDialog);\n  }\n\n  show(locals, dialogType) {\n    const config = { locals };\n\n    switch (dialogType) {\n      case DialogType.SUCCESS:\n        config.templateUrl = `${\n          CourseProgressDialog.TEMPLATE_PATH\n        }/exportStudentsResults/exportStudentsResultsDialogSuccess.html`;\n        break;\n      case DialogType.FAIL:\n        config.templateUrl = `${\n          CourseProgressDialog.TEMPLATE_PATH\n        }/exportStudentsResults/exportStudentsResultsDialogFail.html`;\n        break;\n      case DialogType.CONFIRMATION:\n        config.templateUrl = `${\n          CourseProgressDialog.TEMPLATE_PATH\n        }/exportStudentsResults/exportStudentsResultsDialogConfirmation.html`;\n        break;\n      default:\n        break;\n    }\n\n    super.show(config);\n  }\n}\n","import angular, { IPromise } from 'angular';\nimport { CourseProgressDialog } from '../courseProgressDialog.service';\n\nexport class StudentDetailsEditDialog extends CourseProgressDialog {\n  constructor($mdDialog: ng.material.IDialogService) {\n    'ngInject';\n\n    super($mdDialog);\n  }\n\n  show(locals): IPromise<any> {\n    const templateUrl: string =\n      `${CourseProgressDialog.TEMPLATE_PATH}/studentDetailsEdit/studentDetailsEditDialog.html`;\n\n    return super.show({\n      locals,\n      templateUrl,\n    });\n  }\n}\n","import angular, { IPromise } from 'angular';\nimport { CourseProgressDialog } from '../courseProgressDialog.service';\n\nexport * from './shareAssessmentsWithColleagues.scss';\n\nexport class ShareAssessmentsWithColleaguesDialog extends CourseProgressDialog {\n  constructor(protected $mdDialog: angular.material.IDialogService) {\n    'ngInject';\n\n    super($mdDialog);\n  }\n\n  show(): IPromise<any> {\n    const config: angular.material.IDialogOptions = {\n      templateUrl:\n        `${CourseProgressDialog.TEMPLATE_PATH}/shareAssessmentsWithColleagues/shareAssessmentsWithColleagues.html`,\n      controllerAs: '$ctrl',\n    };\n\n    return super.show(config);\n  }\n}\n","import angular, { IComponentController, IFormController, INgModelController, IQService, IScope } from 'angular';\nimport { IColleagueEmail } from '../../../../../shared/models/colleagueEmail.model';\nimport { IColleagueEmailsService } from '../../../../../shared/services/colleagueEmails/colleagueEmails.service';\nimport { IUnsubscribe, Observer } from '../../../../../shared/services/helpers/observer.service';\n\nexport class ShareAssessmentsWithColleaguesComponent {\n  static controller: IComponentController = ShareAssessmentsWithColleaguesComponent;\n  static templateUrl: string =\n    'components/course-progress/common/components/shareAssessmentsWithColleagues/shareAssessmentsWithColleagues.html';\n\n  public shareAssessmentWithColleaguesForm: IFormController;\n  public email: string;\n  public colleaguesEmails: IColleagueEmail[];\n  public readonly emailPattern: string;\n  private readonly unsubscribe: IUnsubscribe;\n\n  constructor(private $scope: IScope, private $q: IQService, private $mdDialog: angular.material.IDialogService,\n              private ColleagueEmailsService: IColleagueEmailsService) {\n    'ngInject';\n\n    this.emailPattern = '[a-z0-9!#$%&\\'*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&\\'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?';\n    this.unsubscribe = this.ColleagueEmailsService.colleagueEmails$\n      .subscribe(new Observer<IColleagueEmail[]>(this.next.bind(this)));\n  }\n\n  public $onInit(): void {\n    if (!this.ColleagueEmailsService.colleagueEmails$.value.length) {\n      this.ColleagueEmailsService.get();\n    }\n\n    this.$scope.$on('$destroy', () => this.unsubscribe);\n  }\n\n  public $postLink(): void {\n    const emailModel: INgModelController = this.shareAssessmentWithColleaguesForm.email;\n\n    emailModel.$validators.unique = (modelValue: any): boolean => {\n      let isValid: boolean = true;\n\n      if (this.ColleagueEmailsService.isEmailValid(modelValue)) {\n        isValid = this.ColleagueEmailsService.isUnique(modelValue);\n      }\n\n      return isValid;\n    };\n  }\n\n  public addColleagueEmail(): void {\n    if (this.isFormValid()) {\n      this.ColleagueEmailsService.add(this.email)\n        .then(\n          (): void => {\n            this.email = '';\n          },\n          (): void => {\n            this.shareAssessmentWithColleaguesForm.email.$setValidity('unique', false);\n          });\n    }\n  }\n\n  public removeColleagueEmail(colleagueEmail: IColleagueEmail): void {\n    this.ColleagueEmailsService.remove(colleagueEmail);\n  }\n\n  public isFormValid(): boolean {\n    return this.shareAssessmentWithColleaguesForm.$valid &&\n      !this.shareAssessmentWithColleaguesForm.$pristine &&\n      !!(this.shareAssessmentWithColleaguesForm.email as INgModelController).$viewValue;\n  }\n\n  public onKeyUp($event: chrome.input.ime.KeyboardEvent) {\n    if ($event.keyCode === 13) {\n      this.addColleagueEmail();\n    }\n  }\n\n  private next(colleaguesEmails: IColleagueEmail[]): void {\n    this.colleaguesEmails = colleaguesEmails;\n\n    if (this.shareAssessmentWithColleaguesForm) {\n      (this.shareAssessmentWithColleaguesForm.email as INgModelController).$validate();\n    }\n  }\n}\n","import get from 'lodash.get';\nimport { AssignmentType } from '../../shared/enums/assignmentType.enum';\nimport { TransitionHandler } from '../../shared/models/transitionHandler.model';\nimport { IUserInfoService } from '../../shared/services/userInfo/userInfo.service';\nimport { TransitionAuth } from '../../shared/types/transitionAuth.type';\nimport { AssignmentOrder } from '../../assignments/teacherAssignments/shared/enums/assignmentOrder';\nimport { registerOnBeforeTransition } from '../../utils/decorators/registerOnBeforeTransition.decorator';\n\nexport const routerConfig = ($transitionsProvider) => {\n  'ngInject';\n\n  @registerOnBeforeTransition($transitionsProvider)\n  class GuardAuth extends TransitionHandler {\n    public getCriteria(): any {\n      return {\n        to: (state: any): boolean => /^(student|teacher)-course-progress/.test(state.name),\n      };\n    }\n\n    public onBefore(transition: any): TransitionAuth {\n      const UserInfo: IUserInfoService = transition.injector().get('UserInfo');\n      const transitionTo = transition.to();\n      let transitionAuth: TransitionAuth = true;\n\n      transitionTo.themeClass = 'sb-theme-purple';\n\n      if (/^teacher-/.test(transitionTo.name) && UserInfo.isTeacher()) {\n        transitionTo.role = 'teacher';\n      } else if (/^student-/.test(transitionTo.name) && !UserInfo.isTeacher()) {\n        transitionTo.role = 'student';\n      } else {\n        transition.abort();\n        transitionAuth = transition.router.stateService.transitionTo('wrong_user');\n      }\n\n      return transitionAuth;\n    }\n  }\n\n  @registerOnBeforeTransition($transitionsProvider)\n  class RestoreState extends TransitionHandler {\n    public getCriteria(): any {\n      return {\n        to: state => !!get(state, 'data.statePrefix', false) && /^(student|teacher)-course-progress/.test(state.name),\n      };\n    }\n\n    public onBefore(transition: any): TransitionAuth {\n      const LocalStorageService = transition.injector().get('LocalStorageService');\n      const transitionTo = transition.to();\n      const targetParams = transition.targetState().params();\n      const statePrefix = get(transitionTo, 'data.statePrefix', '');\n      let ordering = get(targetParams, 'ordering');\n      let filters = get(targetParams, 'filters');\n      let transitionAuth: TransitionAuth = true;\n\n      if (!ordering && !filters) {\n        const savedOrdering = LocalStorageService.get(`${statePrefix}Ordering`);\n        const savedFilters = LocalStorageService.getArray(`${statePrefix}Filtering`);\n\n        ordering = savedOrdering || get(transitionTo, 'params.ordering', AssignmentOrder.ASC_TYPE);\n        filters = savedFilters || get(transitionTo, 'params.filters',\n          [\n            AssignmentType.WORK_UNIT,\n            AssignmentType.STANDARD_ASSIGNMENT,\n          ],\n        );\n\n        if (ordering && filters) {\n          const params = Object.assign({}, targetParams, { ordering, filters });\n\n          transitionAuth = transition.router.stateService.target(transitionTo, params);\n        }\n      }\n\n      return transitionAuth;\n    }\n  }\n};\n","export class UserSetupDialog {\n  static DEFAULT_CONFIG = {\n    bindToController: true,\n    controller($mdDialog) {\n      'ngInject';\n\n      this.$mdDialog = $mdDialog;\n    },\n    controllerAs: 'dialog',\n    parent: angular.element(document.body),\n  };\n  static TEMPLATE_PATH = 'userSetup/commons/dialogs';\n\n  constructor($mdDialog) {\n    'ngInject';\n\n    this.$mdDialog = $mdDialog;\n  }\n\n  showSaveInfo() {\n    const config = this.buildDialogConfig({\n      templateUrl: `${UserSetupDialog.TEMPLATE_PATH}/saveInfo.html`,\n      parent: angular.element('[ui-view=\"sideContent\"]'),\n    });\n\n    this.show(config);\n  }\n\n  showWhatNowInfo() {\n    const config = this.buildDialogConfig({\n      templateUrl: `${UserSetupDialog.TEMPLATE_PATH}/whatNowInfo.html`,\n    });\n\n    this.show(config);\n  }\n\n  show(config) {\n    this.$mdDialog.show(config);\n  }\n\n  hide() {\n    this.$mdDialog.hide();\n  }\n\n  buildDialogConfig(config = {}) {\n    return angular.extend({}, UserSetupDialog.DEFAULT_CONFIG, config);\n  }\n}\n","import { UserSetupController } from './userSetup.controller';\nimport style from './userSetup.scss';\n\nexport const userSetupComponent = {\n  bindings: { showMenuToggle: '<?', backToState: '<?', stateContext: '<?' },\n  controller: UserSetupController,\n  templateUrl: 'userSetup/components/userSetup/userSetup.html',\n  style,\n};\n","export class UserSetupController {\n  constructor($state) {\n    'ngInject';\n\n    this.$state = $state;\n    this.showMenuToggle = false;\n    this.backToState = null;\n    this.stateContext = null;\n  }\n\n  onBackToState() {\n    const params = Object.assign({}, this.stateContext, { backToState: null });\n\n    this.$state.go(this.backToState, params);\n  }\n}\n","import { UserSetupAgreementController } from './userSetupAgreement.controller';\n\nexport const userSetupAgreementComponent = {\n  bindings: { agreement: '<' },\n  controller: UserSetupAgreementController,\n  templateUrl: 'userSetup/components/userSetupAgreement/userSetupAgreement.html',\n};\n","import { Events } from '../../../common/global-events.ts';\n\nexport class UserSetupAgreementController {\n  constructor($rootScope, $state, $sce, FetchData, UserInfo) {\n    'ngInject';\n\n    this.$rootScope = $rootScope;\n    this.$state = $state;\n    this.$sce = $sce;\n    this.FetchData = FetchData;\n    this.UserInfo = UserInfo;\n    this.agreementAccepted = false;\n    this.isUpdateInProgress = false;\n  }\n\n  $onInit() {\n    this.agreement.content = this.$sce.trustAsHtml(this.agreement.content);\n  }\n\n  goToUserSettings() {\n    this.isUpdateInProgress = true;\n\n    this.FetchData.updateUserAgreementSeen()\n      .then(() => {\n        this.UserInfo.agreementSeen = true;\n\n        if (this.UserInfo.isTeacher() && !this.UserInfo.hasSetup) {\n          this.$state.go('userSetup');\n        } else {\n          this.$rootScope.$broadcast(Events.USER_SETUP_COMPLETED);\n          this.$state.go('loading');\n        }\n      })\n      .finally(() => {\n        this.isUpdateInProgress = false;\n      });\n  }\n}\n","import { UserSetupAgreementMissingController } from './userSetupAgreementMissing.controller';\n\nexport const userSetupAgreementMissingComponent = {\n  controller: UserSetupAgreementMissingController,\n  templateUrl: 'userSetup/components/userSetupAgreementMissing/userSetupAgreementMissing.html',\n};\n","export class UserSetupAgreementMissingController {\n  constructor(UserSetupDialog) {\n    'ngInject';\n\n    this.UserSetupDialog = UserSetupDialog;\n  }\n\n  showWhatNowInfo() {\n    this.UserSetupDialog.showWhatNowInfo();\n  }\n}\n","import { UserSetupCheckController } from './userSetupCheck.controller';\n\nexport const userSetupCheckComponent = {\n  controller: UserSetupCheckController,\n  templateUrl: 'userSetup/components/userSetupCheck/userSetupCheck.html',\n};\n","import { UserSetupValidationState } from '../../../utils/enums/userSetupValidationState.enum';\n\nexport class UserSetupCheckController {\n  constructor($state) {\n    'ngInject';\n\n    this.$state = $state;\n    this.validationStatus = UserSetupValidationState.IN_PROGRESS;\n  }\n\n  onValidation(isValid) {\n    this.validationStatus = isValid ?\n      UserSetupValidationState.VALID : UserSetupValidationState.INVALID;\n  }\n}\n","export const UserSetupValidationState = {\n  IN_PROGRESS: 'IN_PROGRESS',\n  VALID: 'VALID',\n  INVALID: 'INVALID',\n};\n","export class UserSetupCheck {\n  constructor(UserInfo, UserQuery) {\n    'ngInject';\n\n    this.UserInfo = UserInfo;\n    this.UserQuery = UserQuery;\n  }\n\n  async getUserEmailDomain() {\n    let userEmailDomain = '';\n\n    if (this.UserQuery.getValue().email) {\n      userEmailDomain = await Promise.resolve(/@\\S+/.exec(this.UserQuery.getValue().email)[0]);\n    } else {\n      userEmailDomain = await new Promise((resolve) => {\n        chrome.runtime.sendMessage({ action: 'getUserInfo' }, (userInfo) => {\n          resolve(/@\\S+/.exec(userInfo.email)[0]);\n        });\n      });\n    }\n\n    return userEmailDomain;\n  }\n\n  validateUser() {\n    return Promise.resolve(this.UserInfo.gdpr);\n  }\n}\n","import { UserSetupCheckInvalidController } from './userSetupCheckInvalid.controller';\n\nexport const userSetupCheckInvalidComponent = {\n  controller: UserSetupCheckInvalidController,\n  templateUrl: 'userSetup/components/userSetupCheck/userSetupCheckInvalid/userSetupCheckInvalid.html',\n};\n","export class UserSetupCheckInvalidController {\n  constructor(UserSetupDialog) {\n    'ngInject';\n\n    this.UserSetupDialog = UserSetupDialog;\n  }\n\n  showWhatNowInfo() {\n    this.UserSetupDialog.showWhatNowInfo();\n  }\n}\n","import { UserSetupCheckProgressController } from './userSetupCheckProgress.controller';\n\nexport const userSetupCheckProgressComponent = {\n  bindings: { onValidation: '&' },\n  controller: UserSetupCheckProgressController,\n  templateUrl: 'userSetup/components/userSetupCheck/userSetupCheckProgress/userSetupCheckProgress.html',\n};\n","export class UserSetupCheckProgressController {\n  constructor(UserSetupCheck) {\n    'ngInject';\n\n    this.UserSetupCheck = UserSetupCheck;\n    this.userEmailDomain = '';\n    this.waitingForResponse = false;\n  }\n\n  async $onInit() {\n    this.userEmailDomain = await this.UserSetupCheck.getUserEmailDomain();\n  }\n\n  validateUser() {\n    this.waitingForResponse = true;\n\n    this.UserSetupCheck.validateUser()\n      .then(isValid => this.onValidation({ isValid }))\n      .finally(() => (this.waitingForResponse = false));\n  }\n}\n","import { UserSetupCheckValidController } from './userSetupCheckValid.controller';\n\nexport const userSetupCheckValidComponent = {\n  controller: UserSetupCheckValidController,\n  templateUrl: 'userSetup/components/userSetupCheck/userSetupCheckValid/userSetupCheckValid.html',\n};\n","export class UserSetupCheckValidController {\n  constructor($state) {\n    'ngInject';\n\n    this.$state = $state;\n  }\n\n  goToAgreement() {\n    this.$state.go('userSetup.setup.agreement');\n  }\n}\n","import { UserSetupCompleteController } from './userSetupComplete.controller';\n\nexport const userSetupCompleteComponent = {\n  bindings: { educationalSystems: '<' },\n  controller: UserSetupCompleteController,\n  templateUrl: 'userSetup/components/userSetupComplete/userSetupComplete.html',\n};\n","import { Events } from '../../../common/global-events.ts';\n\nexport class UserSetupCompleteController {\n  constructor($rootScope, $state) {\n    'ngInject';\n\n    this.$rootScope = $rootScope;\n    this.$state = $state;\n  }\n\n  closeUserSetup() {\n    // this needs to be changed\n    this.$rootScope.$broadcast(Events.USER_SETUP_COMPLETED);\n    this.$state.go('loading');\n  }\n}\n","import { UserSetupSettingsController } from './userSetupSettgins.controller';\n\nexport const userSetupSettingsComponent = {\n  bindings: { educationalSystems: '<' },\n  controller: UserSetupSettingsController,\n  templateUrl: 'userSetup/components/userSetupSettings/userSetupSettings.html',\n};\n","export class UserSetupSettingsController {\n  constructor(Mixpanel, UserSetupSettings) {\n    'ngInject';\n\n    this.Mixpanel = Mixpanel;\n    this.UserSetupSettings = UserSetupSettings;\n  }\n\n  $onInit() {\n    // silly check for setup type - should be moved to the separated state but\n    // right know I don't have time for that\n    this.isUpdateSetupType = this.UserSetupSettings.isUpdateState();\n\n    // current preferences model\n    this.userPreferences = {\n      lastEducationalSystem: null,\n    };\n\n    // fetch current settings when editing\n    if (this.isUpdateSetupType) {\n      this.fetchCurrentSetting();\n    }\n  }\n\n  fetchCurrentSetting() {\n    this.UserSetupSettings.getUserPreferences(this.educationalSystems).then(\n      (preferences) => {\n        this.userPreferences = preferences;\n\n        if (this.isUpdateSetupType) {\n          this.initialPreferences = Object.assign({}, this.userPreferences);\n        }\n      },\n    );\n  }\n\n  /**\n   * reset the school choice when the educational system is changed\n   */\n  changeEducationalSystem() {\n    this.userPreferences.school = null;\n  }\n\n  filterSchool(query) {\n    return this.UserSetupSettings.getSchoolByQuery(query, this.userPreferences);\n  }\n\n  savePreferences() {\n    if (this.isUpdateSetupType) {\n      this.updateCurrentPreferences();\n    } else {\n      this.saveUserPreferences();\n    }\n  }\n\n  saveUserPreferences() {\n    this.UserSetupSettings.saveUserPreferences(this.userPreferences).then(\n      () => {\n        // then move to the last slide\n        this.Mixpanel.track('setup_complete');\n        this.Mixpanel.engage(\n          'first_time_setup',\n          this.userPreferences.educational_system,\n          this.userPreferences.school.title,\n        );\n        this.UserSetupSettings.goToSetupComplete();\n      },\n    );\n  }\n\n  updateCurrentPreferences() {\n    this.UserSetupSettings.updateUserPreferences(this.userPreferences)\n      .then(() => {\n        this.initialPreferences = Object.assign({}, this.userPreferences);\n        this.UserSetupSettings.hideAfterUpdateDialog();\n        this.Mixpanel.engage(\n          'edit_setup',\n          this.userPreferences.country,\n          this.userPreferences.educational_system,\n          this.userPreferences.school.title,\n        );\n        this.UserSetupSettings.showAfterUpdateDialog();\n      });\n  }\n\n  isSaveButtonDisabled() {\n    let isDisabled = true;\n\n    if (\n      this.isUpdateSetupType &&\n      this.UserSetupSettings.isPreferenceFilled(this.initialPreferences) &&\n      this.UserSetupSettings.isPreferenceFilled(this.userPreferences)\n    ) {\n      isDisabled = this.UserSetupSettings.comparePreferences(\n        this.initialPreferences,\n        this.userPreferences,\n      );\n    } else {\n      isDisabled = !this.UserSetupSettings.isPreferenceFilled(this.userPreferences);\n    }\n\n    return isDisabled;\n  }\n}\n","export class UserSetupSettings {\n  static UPDATE_STATE = 'userSetup.setup.update';\n  static COMPLETE_STATE = 'userSetup.setup.complete';\n  static QUERY_LIMIT = 100;\n\n  constructor($state, FetchData, Path, UserSetupDialog) {\n    'ngInject';\n\n    this.$state = $state;\n    this.FetchData = FetchData;\n    this.Path = Path;\n    this.UserSetupDialog = UserSetupDialog;\n  }\n\n  isUpdateState() {\n    return this.$state.current.name === UserSetupSettings.UPDATE_STATE;\n  }\n\n  getUserPreferences(educationalSystems) {\n    const userPreferences = {};\n\n    return this.getCourseSetup()\n      .then((preferences) => {\n        userPreferences.educationalSystem = educationalSystems\n          .find(educationalSystem => educationalSystem.id === preferences.educational_system_setup);\n\n        return preferences;\n      })\n      .then(preferences => this.getSchoolById(preferences.school))\n      .then((school) => {\n        userPreferences.school = school;\n\n        return userPreferences;\n      });\n  }\n\n  saveUserPreferences(userPreferences) {\n    const userPreferenceData = this.mapUserPreferencesToSaveData(userPreferences);\n    return this.FetchData.updateUserPreferences(userPreferenceData);\n  }\n\n  updateUserPreferences(userPreferences) {\n    const classroomId = this.Path.getClassroomId();\n    const userPreferenceData = this.mapUserPreferencesToSaveData(userPreferences);\n\n    return this.FetchData.updateCourseSetup(classroomId, userPreferenceData);\n  }\n\n  getCourseSetup() {\n    const classRoomId = this.Path.getClassroomId();\n\n    return this.FetchData.getCourseSetup(classRoomId);\n  }\n\n  getSchoolById(schoolId) {\n    return this.FetchData.getSchoolById(schoolId);\n  }\n\n  getSchoolByQuery(query, userPreferences) {\n    return this.FetchData\n      .getSchool(query, userPreferences.educationalSystem.id, UserSetupSettings.QUERY_LIMIT);\n  }\n\n  mapUserPreferencesToSaveData(userPreferences) {\n    return {\n      educational_system_setup: userPreferences.educationalSystem.id,\n      school: userPreferences.school.id,\n    };\n  }\n\n  comparePreferences(preferences1, preferences2) {\n    return this.isPreferenceFilled(preferences1) && this.isPreferenceFilled(preferences2) &&\n      preferences1.educationalSystem.id === preferences2.educationalSystem.id &&\n      preferences1.school.id === preferences2.school.id;\n  }\n\n  isPreferenceFilled(preference) {\n    return !!preference && !!preference.educationalSystem && !!preference.school;\n  }\n\n  goToSetupComplete() {\n    this.$state.go(UserSetupSettings.COMPLETE_STATE);\n  }\n\n  showAfterUpdateDialog() {\n    this.UserSetupDialog.showSaveInfo();\n  }\n\n  hideAfterUpdateDialog() {\n    this.UserSetupDialog.hide();\n  }\n}\n","import { UserSetupSlidesController } from './userSetupSlides.controller';\n\nexport const userSetupSlidesComponent = {\n  bindings: {\n    firstTimeData: '<',\n  },\n  controller: UserSetupSlidesController,\n  templateUrl: 'userSetup/components/userSetupSlides/userSetupSlides.html',\n};\n","export class UserSetupSlidesController {\n  constructor($state) {\n    'ngInject';\n\n    this.$state = $state;\n  }\n\n  goToUserSetupSettings() {\n    this.$state.go('userSetup.setup.selectSchool');\n  }\n}\n","import { StateProvider } from '@uirouter/angularjs';\nimport { RawParams, StateDeclaration, StateParams, Transition, TransitionService } from '@uirouter/core';\nimport { IPromise } from 'angular';\nimport get from 'lodash.get';\nimport { ICountry } from '../shared/models/country.model';\nimport { ISchoolCategory } from '../shared/models/schoolCategory.model';\nimport { CountryService } from '../shared/services/country/country.service';\nimport { SchoolService } from '../shared/services/school/school.service';\nimport { FetchData } from '../utils/services/fetchData.service';\n\nexport const UserSetupRouting: Function = ($stateProvider: StateProvider, $transitionsProvider: TransitionService): void => {\n  'ngInject';\n\n  $transitionsProvider.onBefore({ to: 'userSetup.**' }, (transition: Transition): any => {\n    const UserInfo: { isTeacher: () => boolean } = transition.injector().get('UserInfo');\n    const transitionTo: StateDeclaration = transition.to();\n\n    (transitionTo as any).themeClass = 'sb-theme-yellow';\n    (transitionTo as any).role = UserInfo.isTeacher() ? 'teacher' : 'student';\n\n    return true;\n  });\n\n  $stateProvider\n    .state('userSetup', {\n      params: {\n        country: null,\n        state: null,\n        backToState: null,\n      },\n      views: {\n        '@': {\n          component: 'appSetup',\n        },\n      },\n      resolve: {\n        // backToState: ($stateParams: StateParams): string => {\n        //   'ngInject';\n        //\n        //   return get($stateParams, 'backToState', '');\n        // },\n        // stateContext: ($stateParams: StateParams): RawParams => {\n        //   'ngInject';\n        //\n        //   return {\n        //     country: get($stateParams, 'country', null),\n        //     state: get($stateParams, 'state', null),\n        //   };\n        // },\n        // showMenuToggle($transition$: Transition) {\n        //   'ngInject';\n        //\n        //   return $transition$.to().name === 'userSetup.setup.update';\n        // },\n      },\n    });\n    // .state('userSetup.intro', {\n    //   resolve: {\n    //     firstTimeData(FetchData: FetchData) {\n    //       'ngInject';\n    //\n    //       return FetchData.getFirstTimeSetupData(chrome.i18n.getUILanguage());\n    //     },\n    //   },\n    //   views: {\n    //     'sideContent@userSetup': {\n    //       component: 'userSetupSlides',\n    //     },\n    //   },\n    // })\n    // .state('userSetup.agreementMissing', {\n    //   views: {\n    //     'sideContent@userSetup': {\n    //       component: 'userSetupAgreementMissing',\n    //     },\n    //   },\n    // })\n    // .state('userSetup.check', {\n    //   views: {\n    //     'sideContent@userSetup': {\n    //       component: 'userSetupCheck',\n    //     },\n    //   },\n    // })\n    // .state('userSetup.setup', {\n    //   abstract: true,\n    //   resolve: {\n    //     educationalSystems(FetchData: FetchData) {\n    //       'ngInject';\n    //\n    //       return FetchData.v3.getEducationalSystems();\n    //     },\n    //   },\n    //\n    // })\n    // .state('userSetup.setup.agreement', {\n    //   resolve: {\n    //     agreement(FetchData: FetchData) {\n    //       'ngInject';\n    //\n    //       return FetchData.v3.getUserAgreement();\n    //     },\n    //   },\n    //   views: {\n    //     'sideContent@userSetup': {\n    //       component: 'userSetupAgreement',\n    //     },\n    //   },\n    // })\n    // .state('userSetup.setup.intro', {\n    //   views: {\n    //     'sideContent@userSetup': {\n    //       component: 'userSetupSettings',\n    //     },\n    //   },\n    // })\n    // .state('userSetup.setup.update', {\n    //   views: {\n    //     'sideContent@userSetup': {\n    //       component: 'userSetupSettings',\n    //     },\n    //   },\n    // })\n    // .state('userSetup.setup.complete', {\n    //   views: {\n    //     'sideContent@userSetup': {\n    //       component: 'userSetupComplete',\n    //     },\n    //   },\n    // })\n    // .state('userSetup.setup.selectSchool', {\n    //   params: {\n    //     country: null,\n    //     state: null,\n    //   },\n    //   resolve: {\n    //     countries: (CountryService: CountryService): IPromise<ICountry[]> => {\n    //       'ngInject';\n    //\n    //       return CountryService.getAll();\n    //     },\n    //     country: ($stateParams: StateParams): ICountry => {\n    //       'ngInject';\n    //\n    //       return get($stateParams, 'country', null);\n    //     },\n    //     state: ($stateParams: StateParams): string => {\n    //       'ngInject';\n    //\n    //       return get($stateParams, 'state', null);\n    //     },\n    //   },\n    //   views: {\n    //     'sideContent@userSetup': {\n    //       component: 'userSetupSchoolSelect',\n    //     },\n    //   },\n    // })\n    // .state('userSetup.setup.registerSchool', {\n    //   params: {\n    //     country: null,\n    //     state: null,\n    //     backToState: null,\n    //   },\n    //   resolve: {\n    //     countries: (CountryService: CountryService): IPromise<ICountry[]> => {\n    //       'ngInject';\n    //\n    //       return CountryService.getAll();\n    //     },\n    //     country: ($stateParams: StateParams): ICountry => {\n    //       'ngInject';\n    //\n    //       return $stateParams.country;\n    //     },\n    //     state: ($stateParams: StateParams): string => {\n    //       'ngInject';\n    //\n    //       return $stateParams.state;\n    //     },\n    //     schoolCategories: (SchoolService: SchoolService): ISchoolCategory[] => {\n    //       'ngInject';\n    //\n    //       return SchoolService.getSchoolCategories();\n    //     },\n    //   },\n    //   views: {\n    //     'sideContent@userSetup': {\n    //       component: 'userSetupRegisterSchool',\n    //     },\n    //   },\n    // });\n};\n","import { IComponentController, IFormController, IPromise } from 'angular';\nimport { RawParams, StateService } from '@uirouter/core';\nimport get from 'lodash.get';\nimport { UserService } from '../../../../../../src/app/shared/states/user/user.service';\nimport { ICountry } from '../../../shared/models/country.model';\nimport { ISchool } from '../../../shared/models/school.model';\nimport { ISchoolRequestParams } from '../../../shared/models/schoolRequestParams.model';\nimport { IUserSetupResponse } from '../../../shared/models/userSetupResponse.model';\nimport { SchoolService } from '../../../shared/services/school/school.service';\nimport { UserSetupService } from '../../../shared/services/userSetup/userSetup.service';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport { Mixpanel } from '../../../utils/services/mixpanel.service';\nimport UserSetupModule from '../../userSetup.module';\nimport style from './userSetupSchoolSelect.scss';\nimport template from './userSetupSchoolSelect.tpl.html';\n\n@Component({\n  module: UserSetupModule,\n  selector: 'user-setup-school-select',\n  template: template,\n  style: style,\n})\nexport class UserSetupSchoolSelectComponent implements IComponentController {\n  @Input() public countries: ICountry[];\n  @Input() public country: ICountry;\n  @Input() public state: string;\n\n  public school: ISchool;\n  public schoolSelectForm: IFormController;\n  public searchSchoolName: string;\n\n  private schools: ISchool[];\n  private requestPending: boolean;\n\n  constructor(private $state: StateService, private SchoolService: SchoolService,\n              private UserService: UserService,\n              private UserSetupService: UserSetupService, private Mixpanel: Mixpanel) {\n    'ngInject';\n\n    this.countries = [];\n    this.country = null;\n    this.state = null;\n    this.school = null;\n    this.schoolSelectForm = null;\n    this.searchSchoolName = null;\n    this.schools = [];\n    this.requestPending = false;\n  }\n\n  public $onInit(): void {\n    if (!this.isSchoolInputDisable()) {\n      this.refreshSchools();\n    }\n  }\n\n  public registerSchool(): void {\n    const params: RawParams = {\n      country: this.country,\n      state: this.state,\n      backToState: this.$state.current.name,\n    };\n\n    this.$state.go('userSetup.setup.registerSchool', params);\n  }\n\n  public isSchoolInputDisable(): boolean {\n    const hasStates: boolean = !!get(this, 'country.states', []).length;\n\n    return !(hasStates ? get(this, 'state', false) : get(this, 'country', false));\n  }\n\n  public searchSchool(searchSchoolName: string): ISchool[] {\n    return searchSchoolName ?\n      this.SchoolService.filterSchools(this.schools, searchSchoolName) : this.schools;\n  }\n\n  public getSchoolName(school: ISchool): string {\n    return this.SchoolService.getSchoolName(school);\n  }\n\n  public getCityName(school: ISchool): string {\n    return this.SchoolService.getCityName(school);\n  }\n\n  public sendSaveRequest(): void {\n    this.requestPending = true;\n\n    this.UserSetupService.postUserSetup({ school: this.school.id })\n      .then(this.userSetupRequestSuccess.bind(this))\n      .finally((): boolean => this.requestPending = false);\n  }\n\n  public isSubmitDisabled(): boolean {\n    return this.schoolSelectForm.$invalid || this.requestPending;\n  }\n\n  private refreshSchools(): void {\n    const countryHasStates: boolean = !!get(this, 'country.states.length', false);\n    const stateIsSelected: boolean = !!get(this, 'state', false);\n    const requestParams: ISchoolRequestParams = {\n      query: this.searchSchoolName,\n      country_code: this.country.country_code,\n    };\n    let schoolsRequest: IPromise<ISchool[]> = Promise.resolve<ISchool[]>([]) as any;\n\n    if (countryHasStates && stateIsSelected) {\n      requestParams.state = get(this, 'state');\n      schoolsRequest = this.SchoolService.getSchools(requestParams);\n    } else if (!countryHasStates) {\n      schoolsRequest = this.SchoolService.getSchools(requestParams);\n    }\n\n    schoolsRequest\n      .then((schools: ISchool[]): ISchool[] => this.schools = schools)\n      .catch((): ISchool[] => this.schools = []);\n  }\n\n  private clearStateInput(): void {\n    this.state = null;\n  }\n\n  private clearSchoolInput(): void {\n    this.school = null;\n    this.searchSchoolName = null;\n    this.schoolSelectForm.$setUntouched();\n  }\n\n  private userSetupRequestSuccess(userSetupResponse: IUserSetupResponse): void {\n    this.UserService.updateUser(userSetupResponse);\n    this.trackMixpanel(userSetupResponse.educational_system_setup);\n    this.$state.go('userSetup.setup.complete');\n  }\n\n  private trackMixpanel(educationalSystemSetup: number): void {\n    this.Mixpanel.track('setup_complete');\n    this.Mixpanel.engage(\n      'first_time_setup',\n      this.country.country_code,\n      educationalSystemSetup,\n      this.school.id,\n    );\n  }\n}\n","import { IPromise } from 'angular';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { FetchData } from '../../../utils/services/fetchData.service';\nimport { RequestType } from '../../enums/requestType.enum';\nimport { IUserSetupRequestBody } from '../../models/userSetupRequestBody.model';\nimport { IUserSetupResponse } from '../../models/userSetupResponse.model';\nimport SharedServicesModule from '../services.module';\n\n@Service({\n  module: SharedServicesModule,\n  name: 'UserSetupService',\n})\nexport class UserSetupService {\n  constructor(private FetchData: FetchData) {\n    'ngInject';\n  }\n\n  public postUserSetup(userSetupRequestBody: IUserSetupRequestBody): IPromise<IUserSetupResponse> {\n    return this.FetchData\n      .sendAPIRequest('/schools/user_setup/', RequestType.POST, userSetupRequestBody);\n  }\n}\n","import { IComponentController, IFormController } from 'angular';\nimport { StateService } from '@uirouter/core';\nimport { UserService } from '../../../../../../src/app/shared/states/user/user.service';\nimport { ICountry } from '../../../shared/models/country.model';\nimport { ISchoolCategory } from '../../../shared/models/schoolCategory.model';\nimport { ISchoolRequestBody, SchoolRequestBody } from '../../../shared/models/schoolRequestBody.model';\nimport { CountryService } from '../../../shared/services/country/country.service';\nimport { SchoolService } from '../../../shared/services/school/school.service';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport UserSetupModule from '../../userSetup.module';\nimport style from './userSetupRegisterSchool.scss';\nimport template from './userSetupRegisterSchool.tpl.html';\n\n@Component({\n  module: UserSetupModule,\n  selector: 'user-setup-register-school',\n  template: template,\n  style: style,\n})\nexport class UserSetupRegisterSchoolComponent implements IComponentController {\n  @Input() public countries: ICountry[];\n  @Input() public schoolCategories: ISchoolCategory[];\n  @Input({ optional: true }) public country: ICountry;\n  @Input({ optional: true }) public state: string;\n\n  public readonly DEFAULT_COUNTRY_CODE: string;\n  public schoolRegisterForm: IFormController;\n  public schoolRequest: ISchoolRequestBody;\n\n  private requestPending: boolean;\n\n  constructor(private $state: StateService, private CountryService: CountryService, private SchoolService: SchoolService, private UserService: UserService) {\n    'ngInject';\n\n    this.countries = [];\n    this.schoolCategories = [];\n    this.country = null;\n    this.state = null;\n    this.DEFAULT_COUNTRY_CODE = 'SE';\n    this.schoolRegisterForm = null;\n    this.schoolRequest = new SchoolRequestBody();\n    this.requestPending = false;\n  }\n\n  public $onInit(): void {\n    if (!this.country) {\n      this.country = this.CountryService.findCountryByCode(this.countries, this.DEFAULT_COUNTRY_CODE);\n    }\n  }\n\n  public sendSchoolRequest(): void {\n    this.schoolRequest.country_code = this.country.country_code;\n    this.schoolRequest.state = this.state;\n\n    this.requestPending = true;\n    this.SchoolService.sendSchoolRequest(this.schoolRequest)\n      .then(this.schoolRequestSuccess.bind(this))\n      .catch(this.schoolRequestFail.bind(this))\n      .finally((): boolean => this.requestPending = false);\n  }\n\n  public isSubmitDisabled(): boolean {\n    return this.schoolRegisterForm.$invalid || this.requestPending;\n  }\n\n  private clearStateInput(): void {\n    this.state = null;\n  }\n\n  private schoolRequestSuccess(schoolRequest: ISchoolRequestBody): void {\n    this.UserService.updateUser({ school_name: schoolRequest.school_name } as any);\n    this.$state.go('userSetup.setup.complete');\n  }\n\n  private schoolRequestFail(): void {\n\n  }\n}\n","import { SchoolCategoryType } from '../enums/schoolCategoryType';\n\nexport interface ISchoolRequestBody {\n  category: SchoolCategoryType;\n  city: string;\n  comment?: string;\n  country_code: string;\n  postal_code: string;\n  school_name: string;\n  state: string;\n  street_address: string;\n  website: string;\n}\n\nexport class SchoolRequestBody implements ISchoolRequestBody {\n  public category: SchoolCategoryType;\n  public city: string;\n  public comment: string;\n  public country_code: string;\n  public postal_code: string;\n  public school_name: string;\n  public state: string;\n  public street_address: string;\n  public website: string;\n}\n","import angular from 'angular';\n\nexport function AppConfig(\n  $compileProvider, $locationProvider, $stateProvider, $qProvider, ConfigProvider, $mdAriaProvider,\n  $sceDelegateProvider, $urlServiceProvider, $sanitizeProvider\n) {\n  'ngInject';\n\n  const config = ConfigProvider.$get();\n\n  // Disable error info on unhandled promise rejections\n  $qProvider.errorOnUnhandledRejections(false);\n\n  // Globally disables all ARIA warnings.\n  $mdAriaProvider.disableWarnings();\n\n  $compileProvider.debugInfoEnabled(DEVELOPMENT_ENV);\n\n  //Enable SVG\n  $sanitizeProvider.enableSvg(true);\n\n  // Enable HTML5 mode which is based on using the HTML5 History API.\n  $locationProvider.html5Mode({\n    enabled: true,\n    requireBase: false,\n  });\n\n  $urlServiceProvider.deferIntercept();\n\n  // Run through all routes in config and create state for each one.\n  angular.forEach(config.routes, (route) => {\n    $stateProvider.state(route.name, {\n      templateUrl: route.templateUrl,\n      controller: route.ctrl,\n      controllerAs: route.controllerAs,\n      themeClass: route.themeClass,\n      params: route.params || {},\n      resolve: route.resolve,\n    });\n  });\n\n  $sceDelegateProvider.resourceUrlWhitelist([\n    'self',\n    `chrome-extension://${chrome.runtime.id}/**`,\n  ]);\n}\n","import angular from 'angular';\nimport { EnvironmentService } from '../../../src/app/core/environment/environment.service';\n\nexport function AppRun(\n  $rootScope, $transitions, $trace, $timeout, Hint, Mixpanel, StudybeeHandle, Locale, MainMenu,\n  FetchData, HostPageNewAssignmentObserver, Helpers, EnvironmentService,\n) {\n  'ngInject';\n\n  // Run Mixpanel analytics\n  chrome.runtime.sendMessage({\n    action: 'getUserInfo',\n  }, (res) => {\n    if (!res.id.length || !res.email.length) {\n      return;\n    }\n\n    Mixpanel.init('6850a4e3400b7fe7459103da40c5a5be', res.email);\n    Mixpanel.engage('extension_run');\n  });\n\n  // Add listener for chrome messages.\n  chrome.runtime.onMessage.addListener((request) => {\n    if (request.action === 'toggleStudybee') {\n      StudybeeHandle.studybeeToggle();\n    }\n  });\n\n  // Add listener for click on body\n  angular.element('body').on('keydown', (e) => {\n    if (e.keyCode !== 27 || angular.element('[md-component-id=\"studybee\"]').hasClass('md-closed')) {\n      return;\n    }\n\n    StudybeeHandle.studybeeClose(0);\n    Hint.displayToggleHint();\n  });\n\n  Locale.setMomentLocale();\n\n  // ---------- global actions - will be moved to separated file ----\n\n  // eslint-disable-next-line no-param-reassign\n  $rootScope.toggleObject = (object) => {\n    // eslint-disable-next-line no-param-reassign\n    object.open = !object.open;\n  };\n  // eslint-disable-next-line no-param-reassign\n  $rootScope.toggleMenu = MainMenu.toggleMenu;\n  // eslint-disable-next-line no-param-reassign\n  $rootScope.showLoading = FetchData.showLoading.bind(FetchData);\n  // eslint-disable-next-line no-param-reassign\n  Object.assign($rootScope, { get apiUrl() { return EnvironmentService.API; } });\n\n  // auto check whether the extended view should be shown or not\n  $transitions.onStart({ to: '**' }, ($transition$) => {\n    // Here we have to find whether we use the extended view as a parent or not\n    const { path } = $transition$.$to();\n    let extendedViewEnable = false;\n    for (const pathItem of path) {\n      if (pathItem.views && pathItem.views.hasOwnProperty('extended@')) {\n        extendedViewEnable = true;\n        break;\n      }\n    }\n\n    // Small delay to make animation more smooth\n    const delayForAnimation = $rootScope.extendedViewEnable !== extendedViewEnable ? 400 : 0;\n    // eslint-disable-next-line no-param-reassign\n    $rootScope.extendedViewEnable = extendedViewEnable;\n\n    return new Promise((resolve) => setTimeout(resolve, delayForAnimation));\n  });\n\n  HostPageNewAssignmentObserver.init();\n\n  Helpers.registerThemeWatcher();\n  Helpers.registerBackdropWatcher();\n  $rootScope.$on('$destroy', () => {\n    Helpers.disconnectThemeWatcher();\n    Helpers.disconnectBackdropWatcher();\n  });\n\n  // ---------- section only for development ----------\n\n  // if (DEVELOPMENT_ENV) {\n  // $trace.enable('TRANSITION');\n  // }\n}\n","export const AppRouting = ($stateProvider) => {\n  'ngInject';\n\n  $stateProvider\n    .state('loading', {\n      templateUrl: 'utils/views/loading_state.html',\n    })\n    .state('not_logged_user', {\n      templateUrl: 'utils/views/not_logged_state.html',\n    })\n    .state('wrong_user', {\n      templateUrl: 'utils/views/wrong_user_state.html',\n    })\n    // .state('not_configured', {\n    //   themeClass: 'sb-theme-green',\n    //   templateUrl: 'utils/views/not_configured_state.html',\n    // })\n    .state('wrongGoogleDriveFile', {\n      themeClass: 'sb-theme-green',\n      templateUrl: 'utils/views/wrong_google_drive_file.html',\n    });\n    // .state('noLearningObjectives', {\n    //   themeClass: 'sb-theme-green',\n    //   templateUrl: 'utils/views/noLearningObjectives.html',\n    // });\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\nimport uiRouter from '@uirouter/angularjs';\nimport { UserInactive } from './user-inactive.component';\n\nrequire('./user-inactive.scss');\n\nexport const UserInactiveModule = angular\n  .module('userInactive', [\n    uiRouter,\n  ])\n  .component('userInactive', UserInactive)\n  .config(($stateProvider) => {\n    'ngInject';\n\n    $stateProvider\n      .state('user-inactive', {\n        component: 'userInactive',\n        resolve: {\n          message: (FetchData) => {\n            'ngInject';\n\n            return FetchData.getInactiveUserMessage();\n          },\n        },\n      });\n  })\n  .name;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nclass controller {\n  constructor(StudybeeHandle) {\n    'ngInject';\n\n    this.StudybeeHandle = StudybeeHandle;\n  }\n\n  $onInit() {\n    // just to be sure that the information is visible\n    this.StudybeeHandle.studybeeActivate();\n  }\n}\n\nexport const UserInactive = {\n  bindings: {\n    message: '<',\n  },\n  templateUrl: 'components/user-inactive/user-inactive.html',\n  controller,\n};\n","import angular, { IModule } from 'angular';\nimport SharedComponentsModule from './components/components.module';\nimport SharedDirectivesModule from './directives/directives.module';\nimport SharedFiltersModule from './filters/filters.module';\nimport SharedServicesModule from './services/services.module';\nimport SharedUpgradesModule from './upgrades/upgrades.module';\n\nexport const SharedModule: IModule = angular.module('app.shared', [\n  SharedComponentsModule,\n  SharedDirectivesModule,\n  SharedFiltersModule,\n  SharedServicesModule,\n  SharedUpgradesModule,\n]);\n\nexport default SharedModule.name;\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../../utils/decorators/component.decorator';\nimport { ParentComponent } from '../../../../utils/decorators/parent-component.decorator';\nimport SharedComponentsMaterialModule from '../material.module';\nimport style from './mdMenuLabel.scss';\n\n@Component({\n  module: SharedComponentsMaterialModule,\n  selector: 'mdMenuLabel',\n  style: style,\n})\nexport class MdMenuLabelComponent implements IComponentController {\n  @ParentComponent()\n  public mdMenu: IComponentController;\n\n  constructor() {\n    'ngInject';\n  }\n}\n","import { ICompileService, IComponentController, INgModelController, IRootElementService, IScope, ITimeoutService } from 'angular';\nimport { Component } from '../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../utils/decorators/input.decorator';\nimport { Output } from '../../../../utils/decorators/output.decorator';\nimport { ParentComponent } from '../../../../utils/decorators/parent-component.decorator';\nimport { IEventEmitter } from '../../../models/eventEmitter';\nimport SharedComponentsMaterialModule from '../material.module';\nimport style from './mdSelectAll.scss';\nimport template from './mdSelectAll.tpl.html';\n\n@Component({\n  module: SharedComponentsMaterialModule,\n  selector: 'mdSelectAll',\n  style: style,\n})\nexport class MdSelectAllComponent implements IComponentController {\n  @ParentComponent()\n  public ngModel: INgModelController;\n\n  @Output({ alias: 'onChange', optional: true })\n  public notifyChanges: IEventEmitter<void>;\n\n  @Input({ alias: 'mdDataSet' })\n  public dataSet: any[];\n\n  public isSelectedAll: boolean;\n\n  constructor(private $scope: IScope, private $element: IRootElementService, private $timeout: ITimeoutService, private $compile: ICompileService) {\n    'ngInject';\n  }\n\n  public $onInit(): void {\n    this.refreshSelectAll(100);\n\n    this.ngModel.$viewChangeListeners.push(() => {\n      this.refreshSelectAll();\n    });\n  }\n\n  public $postLink(): void {\n    this.$timeout((): void => {\n      const content: JQuery = this.$compile(template)(this.$scope);\n      this.$element.append(content);\n    }, 0);\n  }\n\n  public onChange() {\n    this.notifyChanges();\n    this.refreshSelectAll();\n  }\n\n  private refreshSelectAll(delay: number = 0): void {\n    this.$timeout((): void => {\n      this.isSelectedAll = this.ngModel.$modelValue.length === this.dataSet.length;\n    }, delay);\n  }\n}\n","import { IComponentController, INgModelController } from 'angular';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport { SiblingComponent } from '../../../utils/decorators/sibling-component';\nimport SharedComponentsModule from '../components.module';\nimport style from './assignmentCourseSelect.scss';\nimport template from './assignmentCourseSelect.tpl.html';\n\n@Component({\n  module: SharedComponentsModule,\n  selector: 'assignment-course-select',\n  template: template,\n  style: style,\n})\nexport class AssignmentCourseSelectComponent implements IComponentController {\n  @SiblingComponent({ alias: 'ngModel' }) ngModel: INgModelController;\n  @Input() courseDefinitions: any[];\n\n  constructor() {\n    'ngInject';\n\n    this.courseDefinitions = [];\n  }\n\n  public $onInit(): void {\n    if (!this.ngModel && Array.isArray(this.courseDefinitions)) {\n      this.ngModel.$viewValue = this.courseDefinitions[0];\n    }\n  }\n\n  public isSingleView(): boolean {\n    return Array.isArray(this.courseDefinitions) ? this.courseDefinitions.length < 2 : true;\n  }\n}\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport SharedComponentsModule from '../components.module';\nimport style from './assignmentGradeText.scss';\nimport template from './assignmentGradeText.tpl.html';\n\n@Component({\n  module: SharedComponentsModule,\n  selector: 'assignment-grade-text',\n  template: template,\n  style: style,\n})\nexport class AssignmentGradeTextComponent implements IComponentController {\n  @Input() text: string;\n\n  constructor() {\n    'ngInject';\n\n    this.text = '';\n  }\n}\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport { AssignmentState } from '../../enums/assignmentStateType.enum';\nimport { AssignmentType } from '../../enums/assignmentType.enum';\nimport { IconsPath } from '../../enums/iconsPath.enum';\nimport { IAssignment } from '../../models/assignment.model';\nimport SharedComponentsModule from '../components.module';\nimport style from './assignmentIconType.scss';\nimport template from './assignmentIconType.tpl.html';\n\n@Component({\n  module: SharedComponentsModule,\n  selector: 'assignment-icon-type',\n  template: template,\n  style: style,\n})\nexport class AssignmentIconTypeComponent implements IComponentController {\n  @Input()\n  public assignment: IAssignment;\n\n  constructor() {\n    'ngInject';\n\n    this.assignment = null;\n  }\n\n  public getIconName(): string {\n    if (this.assignment.assignment_not_assessable || this.assignment.assignment_type === AssignmentType.WORK_UNIT) {\n      return '';\n    } else if (this.assignment.assignment_type === AssignmentType.STANDARD_ASSIGNMENT) {\n      return 'assignment';\n    }\n  }\n\n  public getSvgSrc(): string {\n    if (this.assignment.assignment_not_assessable) {\n      return chrome.runtime.getURL(`${IconsPath.SVG_WITHOUT_ASSESSMENT_CRITERIA}`);\n    } else if (this.assignment.assignment_type === AssignmentType.STANDARD_ASSIGNMENT) {\n      return '';\n    } else if (this.assignment.assignment_type === AssignmentType.WORK_UNIT) {\n      return chrome.runtime.getURL(`${IconsPath.SVG_WORK_UNIT}`);\n    }\n  }\n\n  public getIconClass(): string {\n    let iconClass: string;\n\n    if (this.assignment.assignment_not_assessable) {\n      iconClass = '';\n    } else if (this.assignment.assignment_type === AssignmentType.WORK_UNIT) {\n      iconClass = 'work-unit';\n    } else if (this.assignment.assignment_type === AssignmentType.STANDARD_ASSIGNMENT) {\n      iconClass = 'standard-assignment';\n    }\n\n    if (this.assignment.state === AssignmentState.DRAFT) {\n      iconClass = `${iconClass} draft`;\n    }\n\n    return iconClass;\n  }\n\n}\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport { AssignmentStatusIconType } from '../../enums/assignmentStatusIconType.enum';\nimport SharedComponentsModule from '../components.module';\nimport style from './assignmentStatusIcon.scss';\nimport template from './assignmentStatusIcon.tpl.html';\n\n@Component({\n  module: SharedComponentsModule,\n  selector: 'assignment-status-icon',\n  template: template,\n  style: style,\n})\nexport class AssignmentStatusIconComponent implements IComponentController {\n  @Input()\n  public status: AssignmentStatusIconType;\n\n  constructor() {\n    'ngInject';\n\n    this.status = null;\n  }\n}\n","/**\n * @deprecated - Use AssessmentStatusOld instead.\n */\nexport enum AssignmentStatusIconType {\n  ND = 'ND',\n  NL = 'NL',\n  NV = 'NV',\n  NN = 'NN',\n  AV = 'AV',\n  AN = 'AN',\n  WV = 'WV',\n  WN = 'WN',\n}\n","import {IAngularEvent, IRootScopeService} from 'angular';\nimport {Events} from '../../../common/global-events';\nimport {Component} from '../../../utils/decorators/component.decorator';\nimport {UnsubscribableComponent} from '../abstracts/unsubscribable.component';\nimport SharedComponentsModule from '../components.module';\nimport style from './assignObjectivesPopup.scss';\nimport template from './assignObjectivesPopup.tpl.html';\nimport {AssignmentSimple, AssignmentsStore, AssignmentType} from '../../../../../../src/app/teacher/assignments/state';\nimport {HttpService} from '../../../../../../src/app/core/http/http.service';\nimport {delayedRetry} from '../../../../../../src/app/core/rxjs/delayed-retry.operator';\nimport {catchError, shareReplay, tap} from 'rxjs/operators';\nimport {Observable} from 'rxjs';\nimport {getTranslation} from '../../../../../../react_src/i18n';\n\n@Component({\n  module: SharedComponentsModule,\n  selector: 'assign-objectives-popup',\n  template: template,\n  style: style,\n})\nexport class AssignObjectivesPopupComponent extends UnsubscribableComponent {\n  public assignment: any;\n  public showLoading: boolean;\n  public title: string;\n\n  protected preFetchAssignment: Observable<AssignmentSimple>;\n\n  constructor(protected $rootScope: IRootScopeService,\n              protected NavigationHistory: any,\n              protected Path: any,\n              protected StudybeeHandle: any,\n              protected AssignmentsStore: AssignmentsStore,\n              protected HttpService: HttpService) {\n    'ngInject';\n\n    super();\n    this.assignment = null;\n    this.showLoading = false;\n    this.title = null;\n  }\n\n  public $onInit(): void {\n    this.$$unsubscribes.push(\n      this.$rootScope.$on(Events.OPEN_ASSIGNMENT_POPUP, this.eventOpenAssignmentHandler.bind(this)),\n    );\n  }\n\n  public assignObjectives(): void {\n    this.showLoading = true;\n\n    const subscription = this.preFetchAssignment.pipe(\n      tap(() => this.postponeAssigningObjectives())\n    ).subscribe(assignment => {\n      this.StudybeeHandle.studybeeOpen();\n      chrome.storage.sync.set({'editAssignment': assignment.id}, () => console.log('edit assignment: ', assignment.id));\n    });\n    this.$$unsubscribes.push(() => subscription.unsubscribe());\n  }\n\n  public postponeAssigningObjectives(): void {\n    this.assignment = null;\n    this.showLoading = false;\n  }\n\n  protected eventOpenAssignmentHandler(event: IAngularEvent, assignment: any): void {\n    const subscription = this.fetchAssignment(assignment.title).subscribe(this.addAssignment.bind(this));\n    this.$$unsubscribes.push(() => subscription.unsubscribe());\n    this.assignment = assignment;\n    this.title = getTranslation('assignObjectivesToAssignmentToast').replace('__title__', assignment.title);\n  }\n\n  protected fetchAssignment(assignmentTitle: string) {\n    const courseID = this.Path.getClassroomId();\n    const url = `/classes/assignment_id/?course_id=${courseID}&title=${encodeURI(assignmentTitle)}`;\n\n    this.preFetchAssignment = this.HttpService.get<AssignmentSimple>(url).pipe(\n      delayedRetry(1000, 5),\n      catchError(error => {\n        console.error(error);\n        return null;\n      }),\n      shareReplay(),\n    );\n\n    return this.preFetchAssignment;\n  }\n\n  protected addAssignment(assignment: AssignmentSimple) {\n    if (assignment) {\n      const timestamp = (new Date()).getTime();\n\n      this.AssignmentsStore.add({\n        ...assignment,\n        assessment_last_changed: timestamp,\n        assignment_created: timestamp,\n        assignment_type: AssignmentType.WITHOUT_ASSESSMENT_CRITERIAS,\n        is_topic: false,\n        assessments: [],\n        alternate_link_id: '',\n        assignment_not_assessable: true,\n        assignments_for_topic: [],\n        classroom_name: '',\n      });\n    }\n  }\n}\n","import {Observable, of, throwError} from 'rxjs';\nimport {delay, mergeMap, retryWhen} from 'rxjs/operators';\n\nexport function delayedRetry(delayMilliseconds: number, maxRetry = 5) {\n  let retries = maxRetry;\n\n  return (src: Observable<any>) => src.pipe(\n    retryWhen(errors => errors.pipe(\n      delay(delayMilliseconds),\n      mergeMap(error => retries-- > 0 ? of(error) : throwError(`Tried to load Resource over XHR for ${maxRetry} times without success`)),\n      ),\n    ),\n  );\n}\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport { Output } from '../../../utils/decorators/output.decorator';\nimport { GroupedVisibilityDialogType } from '../../enums/groupedVisibilityDialogType.enum';\nimport { GroupedVisibilityFeedbackType } from '../../enums/groupedVisibilityFeedbackType.enum';\nimport { IEventEmitter } from '../../models/eventEmitter';\nimport { IGroupedVisibility } from '../../models/groupedVisibility.model';\nimport { IGroupedVisibilitySettings } from '../../models/groupedVisibilitySettings.model';\nimport { IGroupedVisibilityService } from '../../services/groupedVisibility/groupedVisibility.service';\nimport SharedComponentsModule from '../components.module';\nimport template from './groupedVisibility.tpl.html';\nimport style from './groupedVisibility.scss';\nimport {getTranslation} from '../../../../../../react_src/i18n';\n\n@Component({\n  module: SharedComponentsModule,\n  template: template,\n  selector: 'groupedVisibility',\n  style: style,\n})\nexport class GroupedVisibilityComponent implements IComponentController {\n  @Output({ optional: true })\n  public onChange: IEventEmitter<{ changes: IGroupedVisibility }>;\n\n  @Input()\n  public settings: IGroupedVisibilitySettings;\n\n  public groupedVisibility: IGroupedVisibility;\n  public i18n: { [key: string]: string };\n  public isAllCourseDefinitionsSelected: boolean;\n  public isAllStudentsSelected: boolean;\n  public isAllTypeOfFeedbackSelected: boolean;\n  public isAssignmentStudentView: boolean;\n  public selectedTypeOfFeedback: { id: GroupedVisibilityFeedbackType, name: string }[];\n  public typeOfFeedback: GroupedVisibilityFeedbackType[];\n\n  constructor(private GroupedVisibilityService: IGroupedVisibilityService) {\n    'ngInject';\n\n    this.i18n = {\n      typeOfFeedbackOverallLabel: 'typeOfFeedbackOverallSection',\n      hintGroupedVisibilityVisibility: 'groupedVisibilityVisibilityHint',\n      hintGroupedVisibilityStudents: 'groupedVisibilityStudentsHint',\n      hintGroupedVisibilityCoursesSubjects: 'groupedVisibilityCoursesSubjectsHint',\n      hintGroupedVisibilityFeedback: 'groupedVisibilityFeedbackHint',\n    };\n    this.isAllCourseDefinitionsSelected = true;\n    this.isAllStudentsSelected = true;\n    this.isAllTypeOfFeedbackSelected = true;\n    this.isAssignmentStudentView = false;\n    this.selectedTypeOfFeedback = [];\n    this.typeOfFeedback = [\n      GroupedVisibilityFeedbackType.ObjectiveAssessment,\n      GroupedVisibilityFeedbackType.ObjectiveFeedback,\n    ];\n  }\n\n  public $onInit(): void {\n    this.groupedVisibility = this.GroupedVisibilityService.getEmptyGroupedVisibilityObject();\n    this.groupedVisibility.students_ids = this.getIds(this.settings.students);\n    this.groupedVisibility.course_definitions_ids = this.getIds(this.settings.courseDefinitions);\n    this.isAssignmentStudentView = this.settings.type === GroupedVisibilityDialogType.AssignmentStudentView;\n    this.selectedTypeOfFeedback = this.GroupedVisibilityService.getSelectedTypeOfFeedbackByType(this.settings.type);\n\n    if (this.settings.type === GroupedVisibilityDialogType.StudentProgressView) {\n      this.typeOfFeedback = [\n        GroupedVisibilityFeedbackType.OverallAssessment,\n        GroupedVisibilityFeedbackType.OverallTarget,\n        GroupedVisibilityFeedbackType.OverallFeedback,\n        ...this.typeOfFeedback,\n      ];\n\n      this.groupedVisibility.types_of_feedback.overall.result_published = null;\n      this.i18n.typeOfFeedbackOverallLabel = 'typeOfFeedbackOverallAssessmentSectionStudentProgress';\n      this.i18n.hintGroupedVisibilityVisibility = 'groupedVisibilityVisibilityHintStudentProgress';\n      this.i18n.hintGroupedVisibilityStudents = 'groupedVisibilityStudentsHintStudentProgress';\n      this.i18n.hintGroupedVisibilityCoursesSubjects = 'groupedVisibilityCoursesSubjectsHintStudentProgress';\n      this.i18n.hintGroupedVisibilityFeedback = 'groupedVisibilityFeedbackHintStudentProgress';\n    } else {\n      this.typeOfFeedback = [\n        GroupedVisibilityFeedbackType.OverallFeedback,\n        GroupedVisibilityFeedbackType.OverallResult,\n        ...this.typeOfFeedback,\n      ];\n\n      this.groupedVisibility.types_of_feedback.overall.target_grade_published = null;\n      this.groupedVisibility.types_of_feedback.overall.grade_published = null;\n    }\n  }\n\n  public selectAllStudents(): void {\n    if (this.groupedVisibility.students_ids.length === this.settings.students.length) {\n      this.groupedVisibility.students_ids = [];\n      this.isAllStudentsSelected = false;\n    } else {\n      this.groupedVisibility.students_ids = this.getIds(this.settings.students);\n      this.isAllStudentsSelected = true;\n    }\n    this.notifyChanges();\n  }\n\n  public selectAllCourseDefinitions(): void {\n    if (this.groupedVisibility.course_definitions_ids.length === this.settings.courseDefinitions.length) {\n      this.groupedVisibility.course_definitions_ids = [];\n      this.isAllCourseDefinitionsSelected = false;\n    } else {\n      this.groupedVisibility.course_definitions_ids = this.getIds(this.settings.courseDefinitions);\n      this.isAllCourseDefinitionsSelected = true;\n    }\n    this.notifyChanges();\n  }\n\n  public selectAllTypeOfFeedback(): void {\n    this.isAllTypeOfFeedbackSelected = !(this.selectedTypeOfFeedback.length === this.typeOfFeedback.length);\n\n    this.typeOfFeedback = this.isAllTypeOfFeedbackSelected ?\n      this.getIds(this.selectedTypeOfFeedback) : [];\n\n    this.setGroupedVisibilityFeedbackType(this.isAllTypeOfFeedbackSelected,\n      this.groupedVisibility.types_of_feedback.objective);\n\n    this.setGroupedVisibilityFeedbackType(this.isAllTypeOfFeedbackSelected,\n      this.groupedVisibility.types_of_feedback.overall);\n\n    this.selectTypeOfFeedback();\n  }\n\n  public selectTypeOfFeedback(): void {\n    this.selectedTypeOfFeedback\n      .forEach((typeOfFeedback: { id: GroupedVisibilityFeedbackType, name: string }): void => {\n        const isSelected = (this.typeOfFeedback.indexOf(typeOfFeedback.id) > -1);\n        switch (typeOfFeedback.id) {\n          case GroupedVisibilityFeedbackType.OverallResult:\n            this.groupedVisibility.types_of_feedback.overall.result_published = isSelected;\n            break;\n          case GroupedVisibilityFeedbackType.OverallFeedback:\n            this.groupedVisibility.types_of_feedback.overall.feedback_published = isSelected;\n            break;\n          case GroupedVisibilityFeedbackType.OverallTarget:\n            this.groupedVisibility.types_of_feedback.overall.target_grade_published = isSelected;\n            break;\n          case GroupedVisibilityFeedbackType.OverallAssessment:\n            this.groupedVisibility.types_of_feedback.overall.grade_published = isSelected;\n            break;\n          case GroupedVisibilityFeedbackType.ObjectiveAssessment:\n            this.groupedVisibility.types_of_feedback.objective.grade_published = isSelected;\n            break;\n          case GroupedVisibilityFeedbackType.ObjectiveFeedback:\n            this.groupedVisibility.types_of_feedback.objective.feedback_published = isSelected;\n            break;\n        }\n      });\n\n    this.notifyChanges();\n  }\n\n  public getVisibilityLabel(): string {\n    let label: string = getTranslation('chooseVisibility');\n\n    if (this.groupedVisibility.visible === true) {\n      label = getTranslation('visible');\n    } else if (this.groupedVisibility.visible === false) {\n      label = getTranslation('hidden');\n    }\n\n    return label;\n  }\n\n  public getStudentsSelectLabel(): string {\n    this.updateSelectionsAll();\n\n    let label: string = `${getTranslation('allStudents')}`;\n\n    if (!this.isAllStudentsSelected) {\n      label = `${this.groupedVisibility.students_ids.length} ${getTranslation('selected')}`;\n    }\n\n    return label;\n  }\n\n  public getCoursesSubjectsSelectLabel(): string {\n    this.updateSelectionsAll();\n\n    let label: string = `${getTranslation('allCoursesSubjects')}`;\n\n    if (!this.isAllCourseDefinitionsSelected) {\n      label = `${this.groupedVisibility.course_definitions_ids.length} ${getTranslation('selected')}`;\n    }\n\n    return label;\n  }\n\n  public getTypeOfFeedbackLabel(): string {\n    this.updateSelectionsAll();\n\n    let label: string = `${getTranslation('allFeedback')}`;\n\n    if (!this.isAllTypeOfFeedbackSelected) {\n      label = `${this.typeOfFeedback.length} ${getTranslation('selected')}`;\n    }\n\n    return label;\n  }\n\n  public notifyChanges(): void {\n    const changes: IGroupedVisibility = Object.assign({}, this.groupedVisibility);\n    this.onChange({ changes });\n  }\n\n  private updateSelectionsAll(): void {\n    this.isAllStudentsSelected = this.groupedVisibility.students_ids.length === this.settings.students.length;\n    this.isAllCourseDefinitionsSelected = this.groupedVisibility.course_definitions_ids.length === this.settings.courseDefinitions.length;\n    this.isAllTypeOfFeedbackSelected = this.selectedTypeOfFeedback.length === this.typeOfFeedback.length;\n  }\n\n  private getIds(items: { id: number }[]): number[] {\n    return this.GroupedVisibilityService.mapObjectToArrayOfIds(items);\n  }\n\n  private setGroupedVisibilityFeedbackType(value: boolean, object: { [prop: string]: any }): void {\n    for (let prop in object) {\n      if (object[prop] !== null) {\n        object[prop] = value;\n      }\n    }\n  }\n}\n","import angular, { IChangesObject, IComponentController } from 'angular';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport { HelpButtonService } from '../../services/helpButton/helpButton.service';\nimport { IPopupService } from '../../services/popup/popup.service';\nimport { TabService } from '../../services/tab/tab.service';\nimport SharedComponentsModule from '../components.module';\nimport style from './helpButton.scss';\nimport template from './helpButton.tpl.html';\nimport { getTranslation } from '../../../../../../react_src/i18n';\n\n@Component({\n  module: SharedComponentsModule,\n  selector: 'help-button',\n  template: template,\n  style: style,\n})\nexport class HelpButtonComponent implements IComponentController {\n\n  @Input({ string: true }) public link: string;\n  @Input({ optional: true }) public popup: boolean;\n\n  public isVisible: boolean;\n\n  private url: string;\n  private window: Window;\n\n  constructor(private HelpButtonService: HelpButtonService) {\n    'ngInject';\n\n    this.link = '';\n    this.popup = false;\n    this.isVisible = false;\n    this.url = '';\n    this.window = null;\n  }\n\n  public $onInit(): void {\n    this.refreshUrlStatus();\n  }\n\n  public $onChanges(onChangesObj: angular.IOnChangesObject): void {\n    const changedLink: IChangesObject<string> = onChangesObj['link'];\n\n    if (changedLink && !changedLink.isFirstChange()) {\n      this.refreshUrlStatus(changedLink.currentValue);\n    }\n  }\n\n  public onClick(): void {\n    this.HelpButtonService.open(this.url, this.popup);\n  }\n\n  private refreshUrlStatus(link: string = this.link) {\n    this.url = getTranslation(link);\n    this.isVisible = !!this.url;\n  }\n}\n","import angular, { IAttributes, IController, IDirective, IScope, ITranscludeFunction } from 'angular';\nimport { Directive } from '../../../utils/decorators/directive.decorator';\nimport SharedDirectivesModule from '../directives.module';\nimport style from './hint.scss';\n\n@Directive({\n  module: SharedDirectivesModule,\n  selector: 'hint',\n  restrict: 'A',\n  transclude: 'element',\n  style: style,\n})\nexport class HintDirective implements IDirective {\n  static classNamePrefix: string = 'sb-hint';\n  static cookieValue: string = 'hide';\n  private readonly body: JQuery;\n\n  constructor(private $cookies: ng.cookies.ICookiesService, private UserInfo: { userId: number },\n              private Hint: any, private StudybeeHandle: any) {\n    'ngInject';\n\n    this.body = angular.element(document.body);\n  }\n\n  public link(scope: IScope, instanceElement: JQLite, instanceAttributes: IAttributes, controller?: IController, transclude?: ITranscludeFunction): void {\n    const cookieName: string = this.buildCookieName(instanceAttributes);\n\n    if (!(this.isCookieExists(cookieName) || this.isHintBoxVisible(instanceAttributes))) {\n      transclude(($element: JQLite): void => this.transcludeHandler($element, instanceAttributes));\n    }\n  }\n\n  private transcludeHandler($hintBox: JQuery, instanceAttributes: IAttributes): void {\n    this.increaseHintBoxCounter();\n    this.addContentLock($hintBox, instanceAttributes);\n    this.hide($hintBox, 0);\n    this.addHintBox($hintBox, instanceAttributes);\n    this.attachHintBox($hintBox, instanceAttributes);\n\n    this.Hint.setRemoveCallback((): void => this.remove($hintBox, instanceAttributes));\n    this.Hint.setDisplayToggleCallbacks((): void => this.displayToggle($hintBox));\n\n\n    setTimeout(() => {\n      const cookieName: string = this.buildCookieName(instanceAttributes);\n      angular.element(window).trigger(`resize.${cookieName}`);\n\n      if (this.StudybeeHandle.studybeeIsOpen()) {\n        this.show($hintBox);\n      }\n    });\n  }\n\n  private addContentLock($hintBox: JQuery, instanceAttributes: IAttributes): JQuery {\n    const $contentLock: JQuery = angular.element('<div></div>');\n\n    if (!this.isContentActive(instanceAttributes)) {\n      const cookieName: string = this.buildCookieName(instanceAttributes);\n      $contentLock.addClass(`${HintDirective.classNamePrefix}-lock-content`);\n      $contentLock.attr('id', `contentLock${cookieName}`);\n\n      this.body.append($contentLock);\n    }\n\n    $hintBox.data('contentLock', $contentLock);\n\n    return $contentLock;\n  }\n\n  private addHintBox($hintBox: JQuery, instanceAttributes: IAttributes): JQuery {\n    const cookieName: string = this.buildCookieName(instanceAttributes);\n    const $button: JQuery = $hintBox.find(`.${HintDirective.classNamePrefix}-close`);\n\n    this.body.append($hintBox);\n\n    $button.one({\n      click: (event: MouseEvent): void => {\n        this.onGotItClick(event, instanceAttributes);\n        this.decreaseHintBoxCounter();\n        this.hide($hintBox);\n        this.remove($hintBox, instanceAttributes);\n      },\n    });\n\n    angular.element(window).on(`resize.${cookieName}`, (): void => {\n      window.requestAnimationFrame((): void => {\n        this.setHeight($hintBox);\n        this.attachHintBox($hintBox, instanceAttributes);\n      });\n    });\n\n    return $hintBox;\n  }\n\n  private attachHintBox($hintBox: JQuery, instanceAttributes: IAttributes): void {\n    if (instanceAttributes.attachTo) {\n      const target: JQuery = angular.element(instanceAttributes.attachTo);\n      const display: string = $hintBox.css('display');\n      const visibility: string = $hintBox.css('visibility');\n\n      if (display === 'none') {\n        $hintBox.css({ display: 'block', visibility: 'hidden' });\n      }\n\n      if (target.length) {\n        const targetBounding: ClientRect = (target[0] as HTMLElement).getBoundingClientRect();\n        const hintBoxBounding: ClientRect = ($hintBox[0] as HTMLElement).getBoundingClientRect();\n        const left = targetBounding.left - hintBoxBounding.width;\n        const top = targetBounding.top - ((hintBoxBounding.height - targetBounding.height) / 2);\n\n        $hintBox.css({ left, top, display, visibility });\n      }\n    }\n  }\n\n  private buildCookieName(instanceAttributes: IAttributes): string {\n    return `VIEW${instanceAttributes.cookieName}USER${this.UserInfo.userId}`;\n  }\n\n  private isCookieExists(cookieName: string): boolean {\n    return this.$cookies.get(cookieName) === HintDirective.cookieValue;\n  }\n\n  private isContentActive(instanceAttributes: IAttributes): boolean {\n    return !!instanceAttributes.contentActive;\n  }\n\n  private isHintBoxVisible(instanceAttributes: IAttributes): boolean {\n    return this.body.find(`#hintbox-${instanceAttributes.cookieName}`).length > 0;\n  }\n\n  private onGotItClick(event: MouseEvent, instanceAttributes: IAttributes): void {\n    event.preventDefault();\n\n    const cookieName: string = this.buildCookieName(instanceAttributes);\n    const currentDate: Date = new Date();\n    const nextDate: any = new Date();\n\n    nextDate.setYear(currentDate.getFullYear() + 1);\n\n    this.$cookies.put(cookieName, HintDirective.cookieValue, {\n      path: '/',\n      expires: nextDate,\n    });\n  }\n\n  private setHeight($hintBox: JQuery): void {\n    $hintBox.css('height', '');\n\n    const windowHeight: number = angular.element(window).height();\n    let hintHeight: number = $hintBox.outerHeight();\n\n    if (hintHeight > (windowHeight - 64)) {\n      hintHeight = windowHeight - 64;\n    }\n\n    $hintBox.css('height', hintHeight);\n  }\n\n  private increaseHintBoxCounter(): void {\n    const hintBox: number = this.body.data('hintBox') || 0;\n    this.body.data('hintBox', hintBox + 1);\n  }\n\n  private decreaseHintBoxCounter(): void {\n    const hintBox: number = this.body.data('hintBox') || 1;\n    this.body.data('hintBox', hintBox - 1);\n  }\n\n  private displayToggle($hintBox: JQuery): void {\n    if ($hintBox.is(':visible')) {\n      this.hide($hintBox);\n    } else {\n      this.show($hintBox);\n    }\n  }\n\n  private hide($hintBox: JQuery, duration?: number): void {\n    if (!$hintBox.data('isRemoved')) {\n      if (!this.body.data('hintBox')) {\n        this.body.removeClass(`${HintDirective.classNamePrefix}-disable-scroll`);\n      }\n\n      $hintBox.data('contentLock').css('display', 'none');\n      $hintBox.fadeOut(duration, (): void => {\n        $hintBox.css('display', 'none');\n      });\n    }\n  }\n\n  private show($hintBox: JQuery, duration?: number): void {\n    if (!$hintBox.data('isRemoved')) {\n      this.body.addClass(`${HintDirective.classNamePrefix}-disable-scroll`);\n      $hintBox.data('contentLock').css('display', 'block');\n      $hintBox.css('display', 'block').fadeIn(duration);\n    }\n  }\n\n  private remove($hintBox: JQuery, instanceAttributes: IAttributes): void {\n    const cookieName: string = this.buildCookieName(instanceAttributes);\n    const contentLock: JQuery = $hintBox.data('contentLock');\n\n    if (contentLock && contentLock.length) {\n      contentLock.remove();\n    }\n\n    $hintBox.remove();\n    $hintBox.data('isRemoved', true);\n    angular.element(window).off(`resize.${cookieName}`);\n  }\n}\n","import { IAttributes, IDirective, IParseService, IScope } from 'angular';\nimport { Directive } from '../../../utils/decorators/directive.decorator';\nimport SharedDirectivesModule from '../directives.module';\n\n@Directive({\n  module: SharedDirectivesModule,\n  selector: 'textarea',\n  restrict: 'AE',\n})\nexport class TextareaDirective implements IDirective {\n  constructor(private $parse: IParseService) {\n    'ngInject';\n  }\n\n  public link(scope: IScope, instanceElement: JQLite, instanceAttributes: IAttributes): void {\n    const element: HTMLTextAreaElement = instanceElement[0] as HTMLTextAreaElement;\n    const parent: HTMLElement = this.findScrollableParent.call(this, element.parentElement);\n\n    if (parent) {\n      instanceAttributes.$observe('mdDetectHidden', (): void => {\n        const mdDetectHidden: boolean = this.$parse(instanceAttributes.mdDetectHidden)(scope);\n        let eventListener: EventListener = null;\n\n        if (mdDetectHidden) {\n          eventListener = this.applyEvent.call(this, element, parent);\n        } else {\n          if (eventListener) {\n            this.removeEvent.call(this, parent, eventListener);\n            eventListener = null;\n          }\n\n          delete element.dataset.wasVisible;\n        }\n      });\n    }\n  }\n\n  private applyEvent(element: HTMLTextAreaElement, parent: HTMLElement): EventListener {\n    const isVisible: boolean = this.isVisible(element, parent);\n\n    if (isVisible) {\n      element.dataset.wasVisible = 'true';\n    }\n\n    const onScroll: EventListener = () => {\n      const isVisible: boolean = this.isVisible(element, parent);\n      const wasVisible: boolean = 'wasVisible' in element.dataset;\n\n      if (isVisible !== wasVisible) {\n        if (wasVisible) {\n          delete element.dataset.wasVisible;\n        } else {\n          window.dispatchEvent(new Event('resize'));\n          element.dataset.wasVisible = 'true';\n        }\n      }\n    };\n\n    parent.addEventListener('scroll', onScroll);\n\n    return onScroll;\n  }\n\n  private removeEvent(parent: HTMLElement, eventListener: EventListener): void {\n    parent.removeEventListener('scroll', eventListener);\n  }\n\n  private isVisible(element: HTMLTextAreaElement, container: HTMLElement): boolean {\n    const rect: ClientRect = element.getBoundingClientRect();\n\n    return rect.top >= 0 && rect.left >= 0 && rect.bottom <= container.clientHeight && rect.right <= container.clientWidth;\n  }\n\n  private findScrollableParent(node: HTMLElement): HTMLElement {\n    if (node === null) {\n      return null;\n    }\n\n    if (node.scrollHeight > node.clientHeight) {\n      return node;\n    } else {\n      return this.findScrollableParent(node.parentElement);\n    }\n  }\n}\n","import angular, { IModule } from 'angular';\nimport { GetFormattedOrEmpty } from './getFormattedHtmlOrEmpty/getFormattedHtmlOrEmpty.filter';\nimport { HtmlToPlaintext } from './htmlToPlaintext/htmlToPlaintext.filter';\nimport { IconURL } from './iconURL/iconURL.filter';\n\nexport const SharedFiltersModule: IModule = angular.module('app.shared.filters', []);\n\nexport default SharedFiltersModule.name;\n\nSharedFiltersModule.filter('getFormattedOrEmpty', GetFormattedOrEmpty);\nSharedFiltersModule.filter('htmlToPlaintext', HtmlToPlaintext);\nSharedFiltersModule.filter('iconURL', IconURL);\n","export const GetFormattedOrEmpty = (): (input?: string) => string =>\n  (input: string = ''): string => {\n    const withoutFormatting: string = `${input ? input : ''}`\n      .replace(/<[^>]+>/gm, '')\n      .trim();\n\n    return withoutFormatting ? input : '';\n  };\n","export const HtmlToPlaintext = (): (input?: string) => string =>\n  (input: string = ''): string => `${input ? input : ''}`.replace(/<[^>]+>/gm, '');\n","import { IconsPath } from '../../enums/iconsPath.enum';\n\nexport const IconURL = (): (iconName?: string) => string =>\n  (iconName: string = ''): string => {\n    const normalizeIconName: string  = `${iconName.trim()}`;\n    const iconPath: string = IconsPath[normalizeIconName];\n\n    return iconPath ? chrome.runtime.getURL(`${iconPath}`) : '';\n  };\n","import {Component} from '../../../utils/decorators/component.decorator';\nimport {IComponentController} from 'angular';\nimport {Input} from '../../../utils/decorators/input.decorator';\nimport {School} from '../../../../../../src/app/shared/states/schools/school.interface';\nimport {SchoolService} from '../../services/school/school.service';\nimport style from './autocomplete.scss';\nimport template from './autocomplete.tpl.html';\nimport SharedUpgradesModule from '../upgrades.module';\n\n@Component({\n  module: SharedUpgradesModule,\n  selector: 'ajs-autocomplete',\n  style,\n  template,\n})\nexport class AutocompleteComponent implements IComponentController {\n  @Input() school: School;\n  @Input() schools: School[];\n  @Input() disabled: boolean;\n  @Input() change: Function;\n  searchSchoolName: string;\n\n  constructor(protected SchoolService: SchoolService) {\n    'ngInject';\n  }\n\n\n  public searchSchool(searchSchoolName: string): School[] {\n    return (searchSchoolName ?\n      this.SchoolService.filterSchools(this.schools, searchSchoolName) : this.schools) as School[];\n  }\n\n  public getSchoolName(school: School): string {\n    return this.SchoolService.getSchoolName(school);\n  }\n\n  public getCityName(school: School): string {\n    return this.SchoolService.getCityName(school);\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nclass controller {\n  updateCourse() {\n    this.onUpdate({ course: this.course });\n  }\n}\n\nexport const CourseDefinitionDetails = {\n  bindings: {\n    course: '<',\n    readOnly: '<',\n    onUpdate: '&',\n  },\n  controller,\n  // language=HTML\n  template: `\n    <div class=\"sb-list-dropdown\n                cm-course-definition-details--container\">\n      <div\n        layout=\"column\"\n        layout-align=\"stretch\">\n\n        <div\n          layout=\"row\"\n          layout-align=\"start start\">\n          <md-input-container\n            class=\"md-block\n                   md-input-has-placeholder\"\n            flex>\n            <label localize>\n              __MSG_courseDetailsPurposeHeader__\n            </label>\n\n            <ng-quill-editor\n              class=\"absolute-btns focused-btns\"\n              toolbar=\"true\"\n              read-only=\"$ctrl.readOnly\"\n              toolbar-entries=\"bold\"\n              ng-model=\"$ctrl.course.description\"\n              ng-change=\"$ctrl.updateCourse()\">\n            </ng-quill-editor>\n          </md-input-container>\n        </div>\n\n        <div class=\"sb-list-dropdown__footer\"\n             layout-align=\"center start space-around\">\n          <md-button\n            class=\"sb-button sb-button--right\"\n            ng-click=\"$root.toggleObject($ctrl.course)\"\n            localize>\n            __MSG_closeBtn__\n          </md-button>\n        </div>\n      </div>\n    </div>\n  `,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Events } from '../../../../common/global-events.ts';\n\nclass controller {\n  constructor($rootScope, FetchData, Path) {\n    'ngInject';\n\n    this.$rootScope = $rootScope;\n    this.FetchData = FetchData;\n    this.Path = Path;\n    this.objective = null;\n    this.course = null;\n    this.readOnly = false;\n    this.objectiveName = '';\n  }\n\n  $onInit() {\n    this.objectiveName = this.objective.name;\n  }\n\n  updateKnowledgeRequirementDescription(knowledgeRequirement) {\n    this.update(knowledgeRequirement);\n  }\n\n  updateObjective() {\n    this.update();\n  }\n\n  update(knowledgeRequirement = null) {\n    if (!this.readOnly) {\n      let request;\n      this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n\n      if (knowledgeRequirement) {\n        const classroomId = this.Path.getClassroomId();\n\n        request = this.FetchData.v3.updateKnowledgeRequirement(classroomId, knowledgeRequirement);\n      } else {\n        request = this.FetchData.v3.updateObjective(this.course, this.objective)\n          .then((objective) => this.objectiveName = objective.name);\n      }\n\n      request\n        .then(() => {\n          this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY);\n        })\n        .catch(() => {\n          this.$rootScope.$emit(Events.REQUEST_FINISHED_FAILURE);\n        });\n    }\n  }\n\n  onBlur() {\n    if (!this.objective.name) {\n      this.objective.name = this.objectiveName;\n    }\n  }\n}\n\nexport const ObjectiveDetails = {\n  bindings: {\n    objective: '<',\n    course: '<',\n    readOnly: '<',\n  },\n  templateUrl: 'components/courseManagement/common/components/objective-details.html',\n  controller,\n};\n","import { TransitionService, StateObject, IStateMatch, Transition, StateDeclaration} from '@uirouter/core';\nimport { StateProvider } from '@uirouter/angularjs';\n\n\nexport const CourseManagementRouting: Function = ($stateProvider: StateProvider, $transitionsProvider: TransitionService): void => {\n  'ngInject';\n\n  const predicateState: IStateMatch = (stateObject: StateObject): boolean => {\n    return stateObject.name.includes('teacherCourseManagement') ||\n      stateObject.name.includes('studentCourseManagement');\n  };\n\n  $transitionsProvider.onBefore({ to: predicateState }, (transition: Transition): any => {\n    const transitionTo: StateDeclaration = transition.to();\n    (transitionTo as any).themeClass = 'sb-theme-blue';\n\n    return true;\n  });\n};\n","import { IPromise } from 'angular';\nimport { StateParams } from '@uirouter/core';\nimport { StateProvider } from '@uirouter/angularjs';\n\nexport const routerConfig: Function = ($stateProvider: StateProvider): void => {\n  'ngInject';\n\n  $stateProvider\n    .state('studentCourseManagement', {\n      component: 'studentCourseManagement',\n      resolve: {\n        coursesDefinitions: (FetchData: any, Path: any): IPromise<any[]> => {\n          'ngInject';\n\n          return FetchData.v3.getCourseDefinitions(Path.getClassroomId());\n        },\n      },\n    })\n    .state('studentCourseManagement.details', {\n      params: { course: null },\n      resolve: {\n        course: ($stateParams: StateParams, FetchData: any, Path: any): IPromise<any> => {\n          'ngInject';\n\n          return FetchData.v3.getCourseDefinition(Path.getClassroomId(), $stateParams.course.id);\n        },\n      },\n      views: {\n        'extended@': {\n          component: 'cmStudentCourseDetails',\n        },\n      },\n    })\n    .state('studentCourseManagement.details.learningObjectives', {\n      resolve: {\n        objectives: (FetchData: any, course: any): IPromise<any[]> => {\n          'ngInject';\n\n          return FetchData.v3.getObjectives(course);\n        },\n      },\n      views: {\n        'details@studentCourseManagement.details': {\n          component: 'cmStudentObjectives',\n        },\n      },\n    });\n};\n","import { IComponentController, ITimeoutService } from 'angular';\nimport { StateService } from '@uirouter/core';\nimport { showHintDialog } from '../../../common/dialogs/dialogs.helper';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport StudentCourseManagementModule from './studentCourseManagement.module';\nimport style from './studentCourseManagement.scss';\nimport template from './studentCourseManagement.tpl.html';\n\n@Component({\n  module: StudentCourseManagementModule,\n  selector: 'student-course-management',\n  template: template,\n  style: style,\n})\nexport class StudentCourseManagementComponent implements IComponentController {\n  @Input()\n  public coursesDefinitions: any[];\n\n  constructor(private $state: StateService, private $cookies: ng.cookies.ICookiesService, private $timeout: ITimeoutService, private $mdDialog) {\n    'ngInject';\n\n    this.coursesDefinitions = [];\n  }\n\n  public $onInit(): void {\n    showHintDialog(this.$mdDialog, this.$timeout, this.$state.current.name, this.$cookies);\n  }\n}\n","import { IRootScopeService } from 'angular';\nimport { StateService } from '@uirouter/core';\nimport { Events } from '../../../../common/global-events';\nimport { UnsubscribableComponent } from '../../../../shared/components/abstracts/unsubscribable.component';\nimport { Component } from '../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../utils/decorators/input.decorator';\nimport StudentCourseManagementModule from '../studentCourseManagement.module';\nimport style from './cmStudentCoursesList.scss';\nimport template from './cmStudentCoursesList.tpl.html';\n\n@Component({\n  module: StudentCourseManagementModule,\n  selector: 'cm-student-courses-list',\n  template: template,\n  style: style,\n})\nexport class CmStudentCoursesListComponent extends UnsubscribableComponent {\n  @Input()\n  public courses: any[];\n\n  public selectedCourse: any;\n\n  constructor(private $rootScope: IRootScopeService, private $state: StateService) {\n    'ngInject';\n    super();\n\n    this.courses = [];\n    this.selectedCourse = null;\n  }\n\n  public $onInit(): void {\n    this.$$unsubscribes.push(\n      this.$rootScope.$on(Events.CLOSE_COURSE_DETAILS_VIEW, () => (this.selectedCourse = null)),\n    );\n  }\n\n  public navigateToCourseDetails(course: any): void {\n    this.selectedCourse = course;\n    this.$state.go(\n      'studentCourseManagement.details.learningObjectives', { course },\n    );\n  }\n}\n","import { IComponentController, IRootScopeService } from 'angular';\nimport { StateService } from '@uirouter/core';\nimport { Events } from '../../../../common/global-events';\nimport { Component } from '../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../utils/decorators/input.decorator';\nimport StudentCourseManagementModule from '../studentCourseManagement.module';\nimport style from './cmStudentCourseDetails.scss';\nimport template from './cmStudentCourseDetails.tpl.html';\n\n@Component({\n  module: StudentCourseManagementModule,\n  selector: 'cm-student-course-details',\n  template: template,\n  style: style,\n})\nexport class CmStudentCourseDetailsComponent implements IComponentController {\n  @Input()\n  public course: any;\n\n  constructor(private $rootScope: IRootScopeService, private $state: StateService) {\n    'ngInject';\n\n    this.course = null;\n  }\n\n  public closeCourseView(): void {\n    this.$state.go('studentCourseManagement', { course: null });\n    this.$rootScope.$emit(Events.CLOSE_COURSE_DETAILS_VIEW);\n  }\n}\n","import { IComponentController } from 'angular';\nimport { ListViewType } from '../../../../../shared/enums/listViewType.enum';\nimport { IListViewMenuItem, ListViewMenuItem } from '../../../../../shared/models/listViewMenuItem.model';\nimport { IListViewMenuService } from '../../../../../shared/services/listViewMenu/listViewMenu.service';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../utils/decorators/input.decorator';\nimport StudentCourseManagementModule from '../../studentCourseManagement.module';\nimport style from './cmStudentObjectives.scss';\nimport template from './cmStudentObjectives.tpl.html';\n\n@Component({\n  module: StudentCourseManagementModule,\n  selector: 'cm-student-objectives',\n  template: template,\n  style: style,\n})\nexport class CmStudentObjectivesComponent implements IComponentController {\n  @Input()\n  public objectives: any[];\n\n  public view: ListViewType;\n  public readonly toolbarMenuItems: ListViewMenuItem[];\n\n  private readonly storageId: string;\n\n  constructor(private ListViewMenuService: IListViewMenuService) {\n    'ngInject';\n\n    this.objectives = [];\n    this.storageId = 'CmStudentObjectives';\n    this.view = ListViewType.TITLE_AND_DESCRIPTION;\n    this.toolbarMenuItems = ListViewMenuService.getListViewMenu(this.storageId);\n  }\n\n  public $onInit(): void {\n    this.view = this.toolbarMenuItems\n      .find((listViewMenuItem: IListViewMenuItem): boolean => listViewMenuItem.checked)\n      .eventArgs.view;\n  }\n\n  public onClickMenuItem(toolbarMenuItem: IListViewMenuItem): void {\n    this.toolbarMenuItems.forEach((menuItem: any): void => {\n      menuItem.checked = false;\n    });\n    toolbarMenuItem.checked = true;\n    this.ListViewMenuService.saveListViewMenu(this.storageId, this.toolbarMenuItems);\n    this.changeView(toolbarMenuItem.eventArgs);\n  }\n\n  private changeView(eventArgs: { [arg: string]: any }): void {\n    this.view = eventArgs.view;\n  }\n}\n","import { IComponentController } from 'angular';\nimport { ListViewType } from '../../../../../../shared/enums/listViewType.enum';\nimport { Component } from '../../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../../utils/decorators/input.decorator';\nimport StudentCourseManagementModule from '../../../studentCourseManagement.module';\nimport style from './cmStudentObjectivesList.scss';\nimport template from './cmStudentObjectivesList.tpl.html';\n\n@Component({\n  module: StudentCourseManagementModule,\n  selector: 'cm-student-objectives-list',\n  template: template,\n  style: style,\n})\nexport class CmStudentObjectivesListComponent implements IComponentController {\n  @Input()\n  public course: any;\n  @Input()\n  public objectives: any[];\n  @Input()\n  public view: ListViewType;\n\n  public readonly listViewType: any;\n  constructor() {\n    'ngInject';\n\n    this.course = null;\n    this.objectives = [];\n    this.view = ListViewType.TITLE_AND_DESCRIPTION;\n    this.listViewType = ListViewType;\n  }\n}\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../../../../utils/decorators/component.decorator';\nimport StudentCourseManagementModule from '../../../studentCourseManagement.module';\nimport template from './cmStudentObjectivesToolbar.tpl.html';\nimport style from './cmStudentObjectivesToolbar.scss';\n\n@Component({\n  module: StudentCourseManagementModule,\n  selector: 'cm-student-objectives-toolbar',\n  template: template,\n  style: style,\n  transclude: true,\n})\nexport class CmStudentObjectivesToolbarComponent implements IComponentController {\n  constructor() {\n    'ngInject';\n  }\n}\n","import { IPromise } from 'angular';\nimport { StateParams } from '@uirouter/core';\nimport { APICurriculumObject } from '../../../common/types/api_types';\nimport { ICurriculumsService } from '../common/services/curriculums.service';\nimport { StateProvider } from '@uirouter/angularjs';\n\nexport const routerConfig: Function = ($stateProvider: StateProvider): void => {\n  'ngInject';\n\n  $stateProvider\n    .state('teacherCourseManagement', {\n      component: 'teacherCourseManagement',\n      resolve: {\n        curriculums: (CurriculumsService: ICurriculumsService): IPromise<any[]> => {\n          'ngInject';\n\n          return CurriculumsService.updateCurriculums();\n        },\n      },\n    })\n    .state('teacherCourseManagement.details', {\n      params: { course: null },\n      resolve: {\n        course: ($stateParams: StateParams, FetchData: any, Path: any): IPromise<any> => {\n          'ngInject';\n\n          return FetchData.v3.getCourseDefinition(Path.getClassroomId(), $stateParams.course.id);\n        },\n        isLocked: (curriculums: APICurriculumObject[]): boolean => {\n          'ngInject';\n\n          return curriculums.length > 1;\n        },\n      },\n      views: {\n        'extended@': {\n          component: 'cmTeacherCourseDetails',\n        },\n      },\n    })\n    .state('teacherCourseManagement.details.learningObjectives', {\n      views: {\n        'details@teacherCourseManagement.details': {\n          component: 'cmTeacherObjectives',\n        },\n      },\n    });\n};\n","import angular, { IComponentController, IQService, IRootScopeService, ITimeoutService } from 'angular';\nimport { StateService } from '@uirouter/core';\nimport { Events } from '../../../common/global-events';\nimport { APICurriculumObject } from '../../../common/types/api_types';\nimport { UnsubscribableComponent } from '../../../shared/components/abstracts/unsubscribable.component';\nimport { IObserver, Observer } from '../../../shared/services/helpers/observer.service';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport { ICurriculumsService } from '../common/services/curriculums.service';\nimport { showCarriculumLibraryDialog, showEditCurriculumDialog, showSearchCurriculumDialog } from './shares/helpers.dialog';\nimport TeacherCourseManagementModule from './teacherCourseManagement.module';\nimport style from './teacherCourseManagement.scss';\nimport template from './teacherCourseManagement.tpl.html';\n\n@Component({\n  module: TeacherCourseManagementModule,\n  selector: 'teacher-course-management',\n  template: template,\n  style: style,\n})\nexport class TeacherCourseManagementComponent extends UnsubscribableComponent implements IComponentController {\n\n  @Input()\n  public curriculums: APICurriculumObject[];\n\n  constructor(private $rootScope: IRootScopeService, private $q: IQService, private $timeout: ITimeoutService,\n              private $cookies: ng.cookies.ICookiesService, private $state: StateService, private $mdDialog: angular.material.IDialogService,\n              private CurriculumsService: ICurriculumsService, private FetchData: any, private Path: any) {\n    'ngInject';\n\n    super();\n    this.curriculums = [];\n  }\n\n  public $onInit(): void {\n    const curriculumObserver: IObserver<APICurriculumObject[]> =\n      new Observer<APICurriculumObject[]>(this.onNext.bind(this));\n\n    this.$$unsubscribes.push(this.CurriculumsService.curriculums$.subscribe(curriculumObserver));\n  }\n\n  public openLibraryDialog(): void {\n    showCarriculumLibraryDialog(this.$q, this.$mdDialog, this.FetchData);\n  }\n\n  public openSearchForCurriculumDialog(): void {\n    this.FetchData.getCourseSetup(this.Path.getClassroomId())\n      .then((courseSettings: any): any =>\n        showSearchCurriculumDialog(\n          this.$mdDialog, this.FetchData, this.Path,\n          courseSettings.educational_system, this.isLocked(),\n        ),\n      )\n      .then((selectedCourse: any): any => this.FetchData\n        .v3\n        .addCourseDefinitionToClassroom(\n          this.Path.getClassroomId(),\n          selectedCourse,\n        ))\n      .then((): void => {\n        this.$rootScope.$emit(Events.UPDATED_COURSES);\n      });\n  }\n\n  public openCreateCurriculumDialog(): void {\n    this.FetchData.getCourseSetup(this.Path.getClassroomId())\n      .then((courseSettings: any): any =>\n        showEditCurriculumDialog(\n          this.$mdDialog, this.FetchData, this.Path, null,\n          courseSettings.educational_system, courseSettings.educational_stage,\n          this.isLocked(),\n        ),\n      )\n      .then((courseData: any): any => this.FetchData\n        .v3\n        .createCourseDefinition(this.Path.getClassroomId(), courseData)\n        .then((): void => {\n          this.$rootScope.$emit(Events.UPDATED_COURSES);\n        }),\n      );\n  }\n\n  public isLocked() {\n    return this.curriculums.length > 0;\n  }\n\n  private onNext(curriculums: APICurriculumObject[]): void {\n    this.curriculums = curriculums;\n  }\n\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n\nimport {\n  showChangeCourseCorePropertyDoublecheckWarning,\n  showChangeCourseCorePropertyWarning,\n} from '../../teacherCourseManagement/shares/helpers.dialog';\nimport { SelectEducationalProperties } from '../controllers/select-educational-properties.controller';\n\n/**\n * Controller for the edit curriculum modal ( which is also used for creating )\n */\nexport class EditCurriculumDialogCtrl extends SelectEducationalProperties {\n\n  constructor(\n    $q, FetchData, $mdDialog, Path, course,\n    educationalSystems, isLocked,\n    educationalSystemId, educationalStageId,\n  ) {\n    'ngInject';\n\n    super(FetchData);\n    this.$q = $q;\n    this.$mdDialog = $mdDialog;\n    this.educationalSystems = educationalSystems;\n    this.course = course || {};\n    this.isLocked = isLocked;\n    this.educationalSystemId = educationalSystemId;\n    this.educationalStageId = educationalStageId;\n\n    this.$onInit();\n  }\n\n  /**\n   *\n   */\n  $onInit() {\n    this.educationalSystem = this.educationalSystems.find(\n      educationalSystem => educationalSystem.id === this.educationalSystemId,\n    );\n\n    if (this.educationalSystem && !this.isLocked) {\n      this.updateEducationalStages(this.educationalSystem);\n    }\n\n    this.createMode = Object.keys(this.course).length === 0;\n\n    if (!this.createMode) {\n      this.updateEducationalStagesAndScales()\n        .then(() => {\n          this.scale = this.scales.find(\n            scale => scale.id === this.course.scale,\n          );\n        });\n    }\n\n    // Create curriculum based on current settings\n    if (this.createMode && this.educationalSystemId) {\n      this.updateEducationalStagesAndScales();\n    }\n  }\n\n  changeEducationalStage() {\n    if (this.educationalStage) {\n      this.updateScales(this.educationalStage);\n    } else {\n      this.scales = [];\n    }\n    this.scale = undefined;\n  }\n\n  /**\n   * Action triggered when the save button is pushed\n   */\n  saveChanges() {\n    if (this.createButtonEnabled) {\n      this.$mdDialog.hide({\n        name: this.course.name,\n        code: this.course.code,\n        scale: this.scale.id,\n        educational_stage: this.educationalStage.id,\n        educational_system: this.educationalSystem.id,\n      });\n    }\n  }\n\n  /**\n   * returns condition when the create button is enabled or not\n   * @returns {boolean}\n   */\n  get createButtonEnabled() {\n    return !!(this.course.name && this.educationalSystem && this.educationalStage && this.scale);\n  }\n\n  get basicConfigChanged() {\n    return this.scale.id !== this.course.scale ||\n      this.educationalStage.id !== this.educationalStageId ||\n      this.educationalSystem.id !== this.educationalSystemId;\n  }\n}\n\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { SelectEducationalProperties } from '../controllers/select-educational-properties.controller';\nimport { getTranslation } from '../../../../../../../react_src/i18n';\n\nexport class SearchCurriculumDialogCtrl extends SelectEducationalProperties {\n  constructor(\n    $mdDialog, FetchData, Path,\n    educationalSystemId,\n    educationalSystems,\n    isLocked,\n  ) {\n    'ngInject';\n\n    super(FetchData);\n    this.$mdDialog = $mdDialog;\n    this.Path = Path;\n    this.educationalSystemId = educationalSystemId;\n    this.educationalSystems = educationalSystems;\n    this.isLocked = isLocked;\n\n    this.$onInit();\n  }\n\n  $onInit() {\n    this.educationalSystem = this.educationalSystems.find(\n      (educationalSystem) => educationalSystem.id === this.educationalSystemId,\n    );\n\n    if (this.educationalSystem) {\n      this.updateEducationalStages(this.educationalSystem);\n    }\n    this.searchCourseText = '';\n    this.searchCategories = [\n      {\n        name: getTranslation('categoryStudybeeCarriculumsLabel'),\n        searchFunction: 'getStudybeeCurriculums',\n        searchType: 1,\n      },\n      {\n        name: getTranslation('categoryMyCarriculumsLabel'),\n        searchFunction: 'getCurriculumLibrary',\n        searchType: 2,\n      },\n      {\n        name: getTranslation('categorySchoolCarriculumsLabel'),\n        searchFunction: 'getSchoolCurriculums',\n        searchType: 3,\n      },\n      {\n        name: getTranslation('categoryAllUserStudybeeCarriculumsLabel'),\n        searchFunction: 'allUsersCurriculums',\n        searchType: 2,\n      },\n    ];\n  }\n\n  searchCourse() {\n    const searchParams = {\n      search: this.searchCourseText,\n      educational_system: SearchCurriculumDialogCtrl.convertToSearchParam(this.educationalSystem),\n      educational_stage: SearchCurriculumDialogCtrl.convertToSearchParam(this.educationalStage),\n      scale: SearchCurriculumDialogCtrl.convertToSearchParam(this.scale),\n      classroom_id: this.Path.getClassroomId(),\n    };\n\n    return this.FetchData\n      .v3[this.searchCategory.searchFunction](searchParams);\n  }\n\n  static convertToSearchParam(model) {\n    if (model === undefined) {\n      return '';\n    }\n    return model.id;\n  }\n\n  addCurriculum() {\n    const courseToAdd = this.searchCategory.searchFunction === 'getCurriculumLibrary'\n      ? this.selectedItem.course : this.selectedItem;\n\n    this.$mdDialog.hide(courseToAdd);\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n/**\n * Enumeration of possible course Type values\n */\n\nexport const CourseType = {\n  CLASSROOM: 0,\n  IMPORTED: 1,\n  TEMPLATE: 2,\n};\n","import angular, { IComponentController, IPromise, IQService, IRootScopeService } from 'angular';\nimport { Events } from '../../../../common/global-events';\nimport { Component } from '../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../utils/decorators/input.decorator';\nimport { ICurriculumsService } from '../../common/services/curriculums.service';\nimport { compareClassAndCurriculumSettings } from '../shares/helper.classroom';\nimport { showCurriculumDetailsDialog, showEditCurriculumDialog, showMakeCurriculumPrivateDialog, showMakeCurriculumPublicDialog, showMakeCurriculumPublicToAllStudyBeeUsersDialog, showRemoveCurriculumFromLibrary, showWrongCurriculumSetupDialog } from '../shares/helpers.dialog';\nimport TeacherCourseManagementModule from '../teacherCourseManagement.module';\nimport template from './cmCurriculumLibrary.tpl.html';\nimport {getTranslation} from '../../../../../../../react_src/i18n';\n\n@Component({\n  module: TeacherCourseManagementModule,\n  selector: 'cm-curriculum-library',\n  template: template,\n})\nexport class CmCurriculumLibraryComponent implements IComponentController {\n  @Input()\n  public curriculums: any;\n\n  public libraryCurriculums: any;\n\n  constructor(private $rootScope: IRootScopeService, private $q: IQService,\n              private $mdDialog: angular.material.IDialogService, private $mdToast: angular.material.IToastService,\n              private CurriculumsService: ICurriculumsService, private FetchData: any, private Path: any,\n              private Mixpanel: { track: (msg: string) => void }) {\n    'ngInject';\n\n    this.curriculums = null;\n    this.libraryCurriculums = {\n      shared: [],\n      public: [],\n      private: [],\n    };\n  }\n\n  public $onInit(): void {\n    Object.assign(this.libraryCurriculums, this.curriculums);\n  }\n\n  public addCurriculumToClassroom(curriculum: any): void {\n    let promise: IPromise<void> = this.$q.when();\n    // compare only when there is more then 0 curriculums\n    if (this.CurriculumsService.curriculums.length > 0) {\n      promise = compareClassAndCurriculumSettings(\n        this.$q, this.Path.getClassroomId(), curriculum, this.FetchData,\n      );\n    }\n\n    promise.then((): IPromise<any> =>\n      this.FetchData.v3.addCurriculumToClassroom(curriculum, this.Path.getClassroomId()),\n    )\n      .then((): void => {\n        this.$rootScope.$emit(Events.UPDATED_COURSES);\n        this.showAddedToClassroomConfirm(curriculum);\n      })\n      .catch((err: { name: string }): void => {\n        if (err.name === 'WRONG_EDU_STAGE') {\n          showWrongCurriculumSetupDialog(this.$mdDialog);\n        }\n      });\n  }\n\n  public showAddedToClassroomConfirm(curriculum: any): void {\n    this.$mdToast.show({\n      templateUrl: 'utils/views/toast.html',\n      parent: angular.element(document.body),\n      hideDelay: 3000,\n      position: 'bottom right',\n      controller: class ShowAddedToClassroomConfirm {\n        public information: string;\n\n        constructor() {\n          'ngInject';\n          this.information = `${curriculum.name} ${getTranslation('curriculumAddedToClassroom')}`;\n        }\n      },\n      controllerAs: 'to',\n    });\n  }\n\n  public showEditCurriculumDialog(curriculum: any, type: string): void {\n    showEditCurriculumDialog(\n      this.$mdDialog, this.FetchData, this.Path, angular.copy(curriculum),\n      curriculum.educational_system.id, curriculum.educational_stage.id,\n    )\n      .then((curriculumData: any): IPromise<any> => this.FetchData.v3\n        .updateCurriculumInLibrary(\n          Object.assign(curriculum, curriculumData, {\n            course: {\n              educational_stage: curriculumData.educational_stage,\n            },\n          }),\n        ),\n      )\n      .then((updatedCurriculum: any): void => {\n        const curriculumOnList: any = this.libraryCurriculums[type]\n          .find(cur => cur.id === updatedCurriculum.id);\n\n        Object.assign(curriculumOnList, updatedCurriculum);\n        this.sortCurriculumList(type);\n      });\n  }\n\n  public showMakeCurriculumPublicInMySchoolDialog(curriculum: any, type: string): void {\n    showMakeCurriculumPublicDialog(this.$mdDialog, curriculum.name)\n      .then(() => this.FetchData.v3.makeCurriculumPublic(curriculum))\n      .then((updatedCurriculum: any): void => {\n        const curriculumOnListIndex: number = this.findCurriculumOnListIndex(type, curriculum);\n\n        this.libraryCurriculums[type].splice(curriculumOnListIndex, 1);\n        this.libraryCurriculums.public.push(updatedCurriculum);\n        this.sortCurriculumList('public');\n      })\n      .finally((): void => this.Mixpanel.track('Share curriculum with school'));\n  }\n\n  public showMakeCurriculumPublicToAllStudyBeeUsersDialog(curriculum: any, type: string): void {\n    showMakeCurriculumPublicToAllStudyBeeUsersDialog(this.$mdDialog, curriculum.name)\n      .then(() => this.FetchData.v3.makeCurriculumGlobal(curriculum))\n      .then((updatedCurriculum: any): void => {\n        const curriculumOnListIndex: number = this.findCurriculumOnListIndex(type, curriculum);\n\n        this.libraryCurriculums[type].splice(curriculumOnListIndex, 1);\n        this.libraryCurriculums.shared.push(updatedCurriculum);\n        this.sortCurriculumList('shared');\n      })\n      .finally((): void => this.Mixpanel.track('Share curriculum with all StudyBee users'));\n  }\n\n  public showMakeCurriculumPrivateDialog(curriculum: any, type: string): void {\n    const translations: Object = type === 'public' ?\n      {} :\n      {\n        content1: 'makeCurriculumPrivateFromGlobalInfoPart1',\n        content2: 'makeCurriculumPrivateFromGlobalInfoPart2',\n      };\n\n    showMakeCurriculumPrivateDialog(this.$mdDialog, curriculum.name, translations)\n      .then(() => this.FetchData.v3.makeCurriculumPrivate(curriculum))\n      .then((updatedCurriculum: any): void => {\n        const curriculumOnListIndex: number = this.findCurriculumOnListIndex(type, curriculum);\n\n        this.libraryCurriculums[type].splice(curriculumOnListIndex, 1);\n        this.libraryCurriculums.private.push(updatedCurriculum);\n        this.sortCurriculumList('private');\n      })\n      .finally((): void => this.Mixpanel.track('Unshare curriculum'));\n  }\n\n  public removeCurriculumFromLibrary(curriculum: any, type: string): void {\n    showRemoveCurriculumFromLibrary(this.$mdDialog, curriculum.name)\n      .then(() => this.FetchData.v3.removeCurriculumFromLibrary(curriculum))\n      .then(() => {\n        const curriculumOnListIndex: number = this.findCurriculumOnListIndex(type, curriculum);\n\n        this.libraryCurriculums[type].splice(curriculumOnListIndex, 1);\n      });\n  }\n\n  public openCurriculumDetails(curriculum: any): void {\n    this.$mdDialog.cancel();\n    showCurriculumDetailsDialog(this.$mdDialog, curriculum, this.FetchData);\n  }\n\n  public sortCurriculumList(curriculumType: string) {\n    this.libraryCurriculums[curriculumType].sort((a: any, b: any): number =>\n      a.name.toLowerCase().localeCompare(b.name.toLowerCase()),\n    );\n  }\n\n  public findCurriculumOnListIndex(curriculumType: string, curriculum: any): number {\n    return this.libraryCurriculums[curriculumType].findIndex(cur => cur.id === curriculum.id);\n  }\n}\n","import { IPromise, IQResolveReject, IQService } from 'angular';\n\nexport const compareClassAndCurriculumSettings: ($q: IQService, classroomId: number, curriculum: any, FetchData: any) => IPromise<void> = ($q: IQService, classroomId: number, curriculum: any, FetchData: any): IPromise<void> =>\n  FetchData.getCourseSetup(classroomId).then((courseSetup: any): IPromise<void> =>\n    $q((resolve: IQResolveReject<void>, reject: IQResolveReject<{ name: string }>) => {\n      if (\n        courseSetup.educational_system !== null &&\n        courseSetup.educational_system !== curriculum.educational_system.id\n      ) {\n        reject({ name: 'WRONG_EDU_STAGE' });\n      } else {\n        resolve();\n      }\n    }),\n  );\n","import angular, { IComponentController, IPromise, IRootScopeService } from 'angular';\nimport { StateService } from '@uirouter/core';\nimport { Events } from '../../../../common/global-events';\nimport { UnsubscribableComponent } from '../../../../shared/components/abstracts/unsubscribable.component';\nimport { Component } from '../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../utils/decorators/input.decorator';\nimport { ICurriculumsService } from '../../common/services/curriculums.service';\nimport style from '../../common/styles/course-details.scss';\nimport { showCreateObjectiveDialog, showEditCurriculumDialog, showSaveCourseToLibraryDialog } from '../shares/helpers.dialog';\nimport TeacherCourseManagementModule from '../teacherCourseManagement.module';\nimport template from './cmTeacherCourseDetails.tpl.html';\n\n@Component({\n  module: TeacherCourseManagementModule,\n  selector: 'cm-teacher-course-details',\n  template: template,\n  style: style,\n  transclude: true,\n})\nexport class CmTeacherCourseDetailsComponent extends UnsubscribableComponent implements IComponentController {\n  @Input()\n  public course: any;\n  @Input()\n  public hideToolbar: boolean;\n  @Input({ optional: true })\n  public curriculum: any;\n\n  constructor(private $rootScope: IRootScopeService, private $state: StateService,\n              private CurriculumsService: ICurriculumsService, private $mdDialog: angular.material.IDialogService,\n              private FetchData: any, private Path: any, private Mixpanel: any) {\n    'ngInject';\n\n    super();\n    this.course = null;\n    this.hideToolbar = false;\n    this.curriculum = null;\n  }\n\n  public $onInit(): void {\n    this.$$unsubscribes.push(\n      this.$rootScope.$on(Events.COURSE_UPDATED, (_: any, course: any): void => {\n        this.course.name = course.name;\n      }),\n    );\n\n    if (!this.curriculum) {\n      this.curriculum = { name: this.course.name };\n    }\n  }\n\n  public addNewObjective(): void {\n    showCreateObjectiveDialog(this.$mdDialog)\n      .then((objectiveName: string): IPromise<any> =>\n        this.FetchData.v3.createObjective(this.course, { name: objectiveName }),\n      )\n      .then((): void => {\n        this.$rootScope.$emit(Events.UPDATED_OBJECTIVES);\n      });\n  }\n\n  public openSaveCourseToLibraryDialog(): IPromise<void> {\n    return showSaveCourseToLibraryDialog(this.$mdDialog, Object.assign({}, this.course))\n      .then((newCourse: any): IPromise<void> =>\n        this.FetchData.v3.saveCourseToLibrary(this.course.id, newCourse.name, newCourse.code),\n      )\n      .then((): void => {\n        this.Mixpanel.track('saving_curriculum_to_library');\n      });\n  }\n\n  public openEditCourseDialog(): void {\n    showEditCurriculumDialog(\n      this.$mdDialog, this.FetchData, this.Path,\n      angular.copy(this.course), this.course.educational_system,\n      this.course.educational_stage, this.CurriculumsService.curriculums.length > 1,\n    )\n      .then((courseData: any): IPromise<void> => this.FetchData.v3.updateCourseDefinition(\n        this.Path.getClassroomId(), Object.assign(courseData, { id: this.course.id }),\n        )\n          .then((courseUpdated: any): void => {\n            this.$rootScope.$emit(Events.UPDATED_COURSES, courseUpdated);\n            this.$rootScope.$emit(Events.UPDATED_OBJECTIVES, courseUpdated);\n            Object.assign(this.course, courseUpdated);\n          }),\n      );\n  }\n\n  public update(course: any): void {\n    this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n    this.FetchData.v3.updateCourseDefinition(this.Path.getClassroomId(), course)\n      .finally((): void => {\n        this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY);\n      });\n  }\n\n  public closeCourseView(): void {\n    this.$state.go('teacherCourseManagement', { course: null });\n    this.$rootScope.$emit(Events.CLOSE_COURSE_DETAILS_VIEW);\n  }\n}\n","import { IComponentController } from 'angular';\nimport { ListViewType } from '../../../../../shared/enums/listViewType.enum';\nimport { IListViewMenuItem, ListViewMenuItem } from '../../../../../shared/models/listViewMenuItem.model';\nimport { IListViewMenuService } from '../../../../../shared/services/listViewMenu/listViewMenu.service';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../utils/decorators/input.decorator';\nimport TeacherCourseManagementModule from '../../teacherCourseManagement.module';\nimport style from './cmTeacherObjectives.scss';\nimport template from './cmTeacherObjectives.tpl.html';\n\n@Component({\n  module: TeacherCourseManagementModule,\n  selector: 'cm-teacher-objectives',\n  template: template,\n  style: style,\n})\nexport class CmTeacherObjectivesComponent implements IComponentController {\n  @Input()\n  public course: any;\n\n  public view: ListViewType;\n  public readonly toolbarMenuItems: ListViewMenuItem[];\n\n  private readonly storageId: string;\n\n  constructor(private ListViewMenuService: IListViewMenuService) {\n    'ngInject';\n\n    this.course = [];\n    this.storageId = 'CmTeacherObjectives';\n    this.view = ListViewType.TITLE_AND_DESCRIPTION;\n    this.toolbarMenuItems = ListViewMenuService.getListViewMenu(this.storageId);\n  }\n\n  public $onInit(): void {\n    this.view = this.toolbarMenuItems\n      .find((listViewMenuItem: IListViewMenuItem): boolean => listViewMenuItem.checked)\n      .eventArgs.view;\n  }\n\n  public onClickMenuItem(toolbarMenuItem: IListViewMenuItem): void {\n    this.toolbarMenuItems.forEach((menuItem: any): void => {\n      menuItem.checked = false;\n    });\n    toolbarMenuItem.checked = true;\n    this.ListViewMenuService.saveListViewMenu(this.storageId, this.toolbarMenuItems);\n    this.changeView(toolbarMenuItem.eventArgs);\n  }\n\n  private changeView(eventArgs: { [arg: string]: any }): void {\n    this.view = eventArgs.view;\n  }\n}\n","import angular, { IPromise, IRootScopeService } from 'angular';\nimport { Events } from '../../../../../../common/global-events';\nimport { UnsubscribableComponent } from '../../../../../../shared/components/abstracts/unsubscribable.component';\nimport { ListViewType } from '../../../../../../shared/enums/listViewType.enum';\nimport { Component } from '../../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../../utils/decorators/input.decorator';\nimport commonStyle from '../../../../common/styles/objectives-list.scss';\nimport { showDeleteObjectiveDialog } from '../../../shares/helpers.dialog';\nimport TeacherCourseManagementModule from '../../../teacherCourseManagement.module';\nimport style from './cmTeacherObjectivesList.scss';\nimport template from './cmTeacherObjectivesList.tpl.html';\n\n@Component({\n  module: TeacherCourseManagementModule,\n  selector: 'cm-teacher-objectives-list',\n  template: template,\n  style: [commonStyle, style]\n})\nexport class CmTeacherObjectivesListComponent extends UnsubscribableComponent {\n  @Input()\n  public course: any;\n  @Input()\n  public view: ListViewType;\n\n  public readonly listViewType: any;\n  public objectives: any[];\n\n  constructor(private $rootScope: IRootScopeService, private $mdDialog: angular.material.IDialogService,\n              private FetchData: any, private NavigationHistory: any) {\n    'ngInject';\n\n    super();\n    this.course = null;\n    this.view = ListViewType.TITLE_AND_DESCRIPTION;\n    this.listViewType = ListViewType;\n    this.objectives = [];\n  }\n\n  public $onInit(): void {\n    this.updateObjectives();\n\n    const updateObjectivesHandler = this.$rootScope.$on(\n      Events.UPDATED_OBJECTIVES,\n      () => this.updateObjectives(),\n    );\n\n    const deleteObjectivesHandler = this.$rootScope.$on(\n      Events.COURSE_DELETED,\n      (event, data) => {\n        if (data.courseDefinition.id === this.course.id) {\n          this.NavigationHistory.go('teacherCourseManagement');\n        }\n      },\n    );\n\n    this.$$unsubscribes.push(updateObjectivesHandler, deleteObjectivesHandler);\n  }\n\n  public onClickDelete(objective): void {\n    showDeleteObjectiveDialog(this.$mdDialog, objective, this.course)\n      .then((): IPromise<void> => this.FetchData.v3.deleteObjective(this.course, objective))\n      .then((): void => {\n        this.objectives = this.objectives.filter(item => item.id !== objective.id);\n      });\n  }\n\n  private updateObjectives() {\n    this.FetchData.v3.getObjectives(this.course).then(\n      (objectives: any[]): void => {\n        this.objectives = objectives;\n      },\n    );\n  }\n}\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../../../../utils/decorators/component.decorator';\nimport TeacherCourseManagementModule from '../../../teacherCourseManagement.module';\nimport style from './cmTeacherObjectivesToolbar.scss';\nimport template from './cmTeacherObjectivesToolbar.tpl.html';\n\n@Component({\n  module: TeacherCourseManagementModule,\n  selector: 'cm-teacher-objectives-toolbar',\n  template: template,\n  style: style,\n  transclude: true,\n})\nexport class CmTeacherObjectivesToolbarComponent implements IComponentController {\n  constructor() {\n    'ngInject';\n  }\n}\n","import { StateService } from '@uirouter/core';\nimport angular, { IComponentController, IPromise, IRootScopeService } from 'angular';\nimport { Events } from '../../../../common/global-events';\nimport { UnsubscribableComponent } from '../../../../shared/components/abstracts/unsubscribable.component';\nimport { Component } from '../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../utils/decorators/input.decorator';\nimport { ICurriculumsService } from '../../common/services/curriculums.service';\nimport style from '../../common/styles/courses-list.scss';\nimport { showDeleteCourseConfirmationDialog, showEditCurriculumDialog, showSaveCourseToLibraryDialog } from '../shares/helpers.dialog';\nimport TeacherCourseManagementModule from '../teacherCourseManagement.module';\nimport template from './cmTeacherCoursesList.tpl.html';\n\n@Component({\n  module: TeacherCourseManagementModule,\n  selector: 'cm-teacher-courses-list',\n  template: template,\n  style: style,\n})\nexport class CmTeacherCoursesListComponent extends UnsubscribableComponent implements IComponentController {\n  @Input()\n  public curriculums: any[];\n\n  public selectedCurriculum: any;\n\n  constructor(private $rootScope: IRootScopeService, private $mdDialog: angular.material.IDialogService,\n              private $state: StateService, private CurriculumsService: ICurriculumsService,\n              private FetchData: any, private Path: any, private Mixpanel: any) {\n    'ngInject';\n\n    super();\n    this.curriculums = [];\n    this.selectedCurriculum = null;\n  }\n\n  public $onInit(): void {\n    this.$$unsubscribes.push(\n      this.$rootScope.$on(\n        Events.UPDATED_COURSES,\n        () => this.updateCoursesList(),\n      ),\n    );\n\n    // When the name of the course is updated from the extended view,\n    // it should be still possible to update the name on the list\n    this.$$unsubscribes.push(\n      this.$rootScope.$on(Events.COURSE_UPDATED, (_: any, courseUpdated: any): void => {\n        const courseToUpdate: any = this.curriculums.find(course => course.id === courseUpdated.id);\n\n        if (courseToUpdate) {\n          courseToUpdate.name = courseUpdated.name;\n        }\n      }),\n    );\n\n    this.$$unsubscribes.push(this.$rootScope.$on(\n      Events.CLOSE_COURSE_DETAILS_VIEW,\n      (): void => (this.selectedCurriculum = null),\n    ));\n  }\n\n  public navigateToCourseDetails(course: any): void {\n    this.selectedCurriculum = course;\n    this.$state.go('teacherCourseManagement.details.learningObjectives', { course });\n  }\n\n  public openSaveCourseToLibraryDialog(course: any): IPromise<void> {\n    return showSaveCourseToLibraryDialog(this.$mdDialog, Object.assign({}, course))\n      .then((newCourse: any): IPromise<any> => this.FetchData.v3\n        .saveCourseToLibrary(course.id, newCourse.name, newCourse.code),\n      )\n      .then((): void => {\n          this.Mixpanel.track('saving_curriculum_to_library');\n        },\n      );\n  }\n\n  public openEditCourseDialog(course: any): void {\n    showEditCurriculumDialog(\n      this.$mdDialog, this.FetchData, this.Path,\n      angular.copy(course), course.educational_system,\n      course.educational_stage, this.curriculums.length > 1,\n    )\n      .then((courseData: any): IPromise<any> => this.FetchData.v3.updateCourseDefinition(\n        this.Path.getClassroomId(),\n        Object.assign(course, courseData)),\n      )\n      .then((courseUpdated: any): void => {\n        this.$rootScope.$emit(Events.COURSE_UPDATED, courseUpdated);\n        this.$rootScope.$emit(Events.UPDATED_OBJECTIVES, courseUpdated);\n      });\n  }\n\n  public deleteCourse(courseDefinition: any): void {\n    showDeleteCourseConfirmationDialog(this.$mdDialog, courseDefinition)\n      .then((): IPromise<any> => this.FetchData.v3.deleteCourse(this.Path.getClassroomId(), courseDefinition))\n      .then((): void => {\n        this.curriculums.splice(\n          this.curriculums.findIndex(course => course.id === courseDefinition.id),\n          1,\n        );\n\n        this.$rootScope.$emit(Events.COURSE_DELETED, { courseDefinition });\n      });\n  }\n\n  private updateCoursesList(): void {\n    this.CurriculumsService.updateCurriculums()\n      .then((courseDefinitions: any): void => {\n        this.curriculums = courseDefinitions;\n      });\n  }\n}\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../../utils/decorators/component.decorator';\nimport CourseManagementModule from '../../courseManagement.module';\nimport template from './cmEmptyObjectivesList.tpl.html';\nimport style from './cmEmptyObjectivesList.scss';\n\n@Component({\n  module: CourseManagementModule,\n  selector: 'cm-empty-objectives-list',\n  template: template,\n  style: style,\n})\nexport class CmEmptyObjectivesListComponent implements IComponentController {\n  constructor() {\n    'ngInject';\n  }\n}\n","import angular, { IModule } from 'angular';\nimport AssignmentsSharedModule from './shared/assignmentsShared.module';\nimport StudentAssessAssignmentModule from './studentAssessAssignment/studentAssessAssignment.module';\nimport StudentAssessAssignmentDriveModule from './studentAssessAssignmentDrive/studentAssessAssignmentDrive.module';\nimport StudentAssignmentsModule from './studentAssignments/studentAssignments.module';\nimport TeacherAssessAssignmentModule from './teacherAssessAssignment/teacherAssessAssignment.module';\nimport TeacherAssessAssignmentDriveModule from './teacherAssessAssignmentDrive/teacherAssessAssignmentDrive.module';\nimport TeacherAssessAssignmentStudentModule from './teacherAssessAssignmentStudent/teacherAssessAssignmentStudent.module';\nimport TeacherAssignmentsModule from './teacherAssignments/teacherAssignments.module';\nimport TeacherSetAssignmentObjectivesModule from './teacherSetAssignmentObjectives/teacherSetAssignmentObjectives.module';\n\nexport * from './assignments.scss';\nexport const AssignmentsModule: IModule = angular.module('app.assignments', [\n  AssignmentsSharedModule,\n  StudentAssessAssignmentModule,\n  StudentAssessAssignmentDriveModule,\n  StudentAssignmentsModule,\n  TeacherAssessAssignmentModule,\n  TeacherAssessAssignmentDriveModule,\n  TeacherAssessAssignmentStudentModule,\n  TeacherAssignmentsModule,\n  TeacherSetAssignmentObjectivesModule,\n]);\nexport default AssignmentsModule.name;\n","import { IAttributes, IController, IDirective, IScope, ITimeoutService } from 'angular';\nimport get from 'lodash.get';\nimport { Directive } from '../../../utils/decorators/directive.decorator';\nimport AssignmentsSharedModule from '../assignmentsShared.module';\n\n@Directive({\n  module: AssignmentsSharedModule,\n  selector: 'objectiveKnowledgeRequirements',\n  restrict: 'AE',\n  scope: false,\n})\nexport class ObjectiveKnowledgeRequirementsDirective implements IDirective {\n  constructor(private $timeout: ITimeoutService) {\n    'ngInject';\n  }\n\n  public link(scope: IScope, instanceElement: JQLite, instanceAttributes: IAttributes): void {\n    const controllerAs: string = get(instanceAttributes, 'controllerAs', '$ctrl');\n    const parentController: IController = get(scope, `${controllerAs}`, null);\n    const objectiveIdPath: string = get(instanceAttributes, 'objectiveIdPath', 'objective.objective');\n    const objectiveId: number = get(scope, `${objectiveIdPath}`, null);\n\n    if (parentController === null) {\n      throw `ObjectiveKnowledgeRequirementsDirective: Could not find controller as ${controllerAs}.`;\n    }\n\n    if (objectiveId === null) {\n      throw `ObjectiveKnowledgeRequirementsDirective: Missing property ${controllerAs}.${objectiveIdPath}`;\n    }\n\n    instanceElement.on('click.objectiveKnowledgeRequirements', () => {\n      this.$timeout(() => {\n        parentController.triggerKnowledgeRequirements = !parentController.triggerKnowledgeRequirements;\n        parentController.objectiveKnowledgeRequirements = objectiveId;\n      });\n    });\n\n    scope.$on('$destroy', (): void => {\n      instanceElement.off('click.objectiveKnowledgeRequirements');\n    });\n  }\n}\n","import { IComponentController, INgModelController, IRootElementService } from 'angular';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport { SiblingComponent } from '../../../utils/decorators/sibling-component';\nimport AssignmentsSharedModule from '../assignmentsShared.module';\nimport template from './studentAssignmentTextarea.tpl.html';\nimport style from './studentAssignmentTextarea.scss';\n\n@Component({\n  module: AssignmentsSharedModule,\n  selector: 'student-assignment-textarea',\n  template: template,\n  style: style,\n})\nexport class StudentAssignmentTextareaComponent implements IComponentController {\n  @SiblingComponent() ngModel: INgModelController;\n  @Input({ optional: true }) public isPublished: boolean | undefined;\n  @Input() public label: string;\n  @Input({ optional: true }) public readonly: boolean | undefined;\n\n  constructor(private $element: IRootElementService) {\n    'ngInject';\n\n    this.label = '';\n  }\n\n  public $onInit(): void {\n    if (this.readonly === undefined) {\n      this.readonly = !!this.$element.attr('readonly');\n    }\n\n    this.isPublished = this.isPublished === undefined ? true : this.isPublished;\n  }\n}\n","import { IPromise, IQService } from 'angular';\nimport { StateDeclaration, Transition, TransitionService, StateParams } from '@uirouter/core';\nimport { StateProvider } from '@uirouter/angularjs';\nimport { FetchData } from '../../utils/services/fetchData.service';\n\nexport const StudentAssessAssignmentRouting: Function = ($stateProvider: StateProvider, $transitionsProvider: TransitionService): void => {\n  'ngInject';\n\n  $transitionsProvider.onBefore({ to: 'studentAssessed.**' }, (transition: Transition): any => {\n    const transitionTo: StateDeclaration = transition.to();\n    (transitionTo as any).themeClass = 'sb-theme-green';\n    (transitionTo as any).role = 'student';\n\n    return true;\n  });\n\n  $stateProvider\n    .state('studentAssessed', {\n      component: 'studentAssessAssignment',\n      params: {\n        isModal: null,\n        assignment: null,\n      },\n      resolve: {\n        assignment: ($q: IQService, $stateParams: StateParams, Path: any, FetchData: FetchData, MainMenu: any) => {\n          'ngInject';\n\n          const assignmentPromise: IPromise<any> = $stateParams.assignment ?\n            $q.when($stateParams.assignment) :\n            FetchData.v2.getAssignmentByAlternateLink(Path.getAssignmentId());\n\n          return assignmentPromise\n            .then((assignment: any): IPromise<any> => {\n              MainMenu.saveAssignmentDetails(assignment);\n              return FetchData.getStudentAssignment(assignment.id);\n            })\n            .catch((): IPromise<never> => {\n                MainMenu.saveAssignmentDetails(null);\n                return $q.reject();\n              },\n            );\n        },\n      },\n    });\n};\n","import { IAngularEvent, IComponentController, IFilterService, IRootScopeService } from 'angular';\nimport { StateParams, StateService } from '@uirouter/core';\nimport get from 'lodash.get';\nimport { Events } from '../../common/global-events';\nimport { ListViewType } from '../../shared/enums/listViewType.enum';\nimport { IListViewMenuItem } from '../../shared/models/listViewMenuItem.model';\nimport { ListViewMenuService } from '../../shared/services/listViewMenu/listViewMenu.service';\nimport { LocalStorageService } from '../../shared/services/localStorage/localStorage.service';\nimport { Component } from '../../utils/decorators/component.decorator';\nimport { Input } from '../../utils/decorators/input.decorator';\nimport { FetchData } from '../../utils/services/fetchData.service';\nimport { UserInfo } from '../../utils/services/userInfo.service';\nimport StudentAssessAssignmentModule from './studentAssessAssignment.module';\nimport style from './studentAssessAssignment.scss';\nimport template from './studentAssessAssignment.tpl.html';\n\n@Component({\n  module: StudentAssessAssignmentModule,\n  selector: 'student-assess-assignment',\n  template: template,\n  style: style,\n})\nexport class StudentAssessAssignmentComponent implements IComponentController {\n  @Input() public assignment: any;\n\n  public isModal: boolean;\n  public viewMenuItems: IListViewMenuItem[];\n  public viewMode: ListViewType;\n\n  private isGradeDescriptionVisible: boolean;\n  private isGradeDescriptionEnable: boolean;\n  private readonly storageViewMenuId: string;\n  private readonly storageKeyGradeDescription: string;\n\n  constructor(private $rootScope: IRootScopeService, private $filter: IFilterService,\n              private $stateParams: StateParams, private UserInfo: UserInfo, private FetchData: FetchData,\n              private ListViewMenuService: ListViewMenuService, private $state: StateService,\n              private LocalStorageService: LocalStorageService, private MainMenu: any) {\n    'ngInject';\n\n    this.assignment = null;\n    this.isModal = $stateParams.isModal;\n    this.viewMenuItems = [];\n    this.viewMode = ListViewType.TITLE_ONLY;\n    this.isGradeDescriptionVisible = false;\n    this.isGradeDescriptionEnable = false;\n    this.storageViewMenuId = 'studentStudentAssessed';\n    this.storageKeyGradeDescription = `${this.storageViewMenuId}GradeDescriptionVisible`;\n  }\n\n  public $onInit(): void {\n    this.isGradeDescriptionVisible = this.LocalStorageService.exists(this.storageKeyGradeDescription);\n    this.isGradeDescriptionEnable = get(this, 'assignment.show_grade_texts_for_student', false) && !this.assignment.grade_system.is_counter;\n    this.viewMenuItems = this.ListViewMenuService.getListViewMenu(this.storageViewMenuId);\n    this.viewMode = this.viewMenuItems.find((listViewMenuItem: IListViewMenuItem) => listViewMenuItem.checked)\n      .eventArgs.view;\n  }\n\n  public historyBack(): void {\n    this.MainMenu.saveAssignmentDetails(null);\n    this.$state.go('studentAssignments');\n  }\n\n  public updateObjectiveAssessmentProperty(objective, objectiveAssignment): void {\n    const assignment: any = { id: objectiveAssignment.assignment_id };\n    Object.assign(objective.objective_assessments, { assignment });\n\n    this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n    this.FetchData.v3\n      .updateObjectiveAssessments(this.UserInfo.userId, objective.id, objective.objective_assessments)\n      .finally((): IAngularEvent => this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY));\n  }\n\n  public onClickMenuItem(toolbarMenuItem): void {\n    this.viewMenuItems.forEach((menuItem: IListViewMenuItem) => {\n      Object.assign(menuItem, { checked: false });\n    });\n    Object.assign(toolbarMenuItem, { checked: true });\n    this.ListViewMenuService.saveListViewMenu(this.storageViewMenuId, this.viewMenuItems);\n    this.viewMode = toolbarMenuItem.eventArgs.view;\n  }\n\n  public isTitleVisible(title: string): boolean {\n    return this.viewMode !== ListViewType.DESCRIPTION_ONLY && !!`${title}`.trim().length;\n  }\n\n  public isDescriptionVisible(description: string): boolean {\n    return this.viewMode !== ListViewType.TITLE_ONLY &&\n      !!`${this.$filter<(string) => string>('getFormattedOrEmpty')(description)}`.trim().length;\n  }\n\n  public isAssignmentConfigure(): boolean {\n    return get(this, 'assignment.course_definitions.length', false) && !get(this, 'assignment.result_only', false);\n  }\n\n  public updateDescription(grade: any, objective: any): void {\n    if (grade) {\n      const gradeText: any = objective.grade_texts\n        .find((item: any): boolean => item.grade_id === grade.id);\n\n      objective.gradeText = get(gradeText, 'text', '');\n    } else {\n      objective.gradeText = '';\n    }\n  }\n\n  public isGradeTextVisible(objective): boolean {\n    return this.isGradeDescriptionEnable && this.isGradeDescriptionVisible && objective.gradeText;\n  }\n\n  public showGradeDescription(): void {\n    this.isGradeDescriptionVisible = true;\n    this.LocalStorageService.set(this.storageKeyGradeDescription, 'true');\n  }\n\n  public hideGradeDescription(): void {\n    this.isGradeDescriptionVisible = false;\n    this.LocalStorageService.remove(this.storageKeyGradeDescription);\n  }\n}\n","import { IPromise } from 'angular';\nimport { StateDeclaration, StateParams, TransitionService } from '@uirouter/core';\nimport { StateProvider } from '@uirouter/angularjs';\nimport { TransitionHandler } from '../../shared/models/transitionHandler.model';\nimport { registerOnBeforeTransition } from '../../utils/decorators/registerOnBeforeTransition.decorator';\nimport { FetchData } from '../../utils/services/fetchData.service';\n\nexport const StudentAssessAssignmentDriveRouting: Function = ($stateProvider: StateProvider, $transitionsProvider: TransitionService): void => {\n  'ngInject';\n\n  @registerOnBeforeTransition($transitionsProvider)\n  class ThemeApply extends TransitionHandler {\n    public getCriteria(): any {\n      return { to: 'studentGoogleDrive.**' };\n    }\n\n    public onBefore(transition: any): boolean {\n      const transitionTo: StateDeclaration = transition.to();\n      (transitionTo as any).themeClass = 'sb-theme-green';\n      (transitionTo as any).role = 'student';\n\n      return true;\n    }\n  }\n\n  $stateProvider\n    .state('studentGoogleDrive', {\n      component: 'studentAssessAssignmentDrive',\n      resolve: {\n        assignments: ($state: StateParams, Path: any, FetchData: FetchData): IPromise<any[]> => {\n          'ngInject';\n\n          const assessmentId = Path.getAssignmentAlternateLinkId(true);\n          return Path.getFileId(5)\n            .then(fileId => FetchData.getAssessmentDrive(fileId, assessmentId))\n            .then((assessments: any[]) => {\n              return FetchData.getStudentAssignment(assessments[0].id)\n                .then((studentAssignment: any) => {\n                  return assessments.map((assessment) => Object.assign(assessment, {\n                    show_grade_texts_for_student: studentAssignment.show_grade_texts_for_student,\n                  }));\n                });\n            })\n            .catch(() => $state.target('wrongGoogleDriveFile'));\n        },\n      },\n    });\n};\n","import { IAngularEvent, IComponentController, IFilterService, IRootScopeService } from 'angular';\nimport get from 'lodash.get';\nimport { Events } from '../../common/global-events';\nimport { ListViewType } from '../../shared/enums/listViewType.enum';\nimport { IListViewMenuItem } from '../../shared/models/listViewMenuItem.model';\nimport { ListViewMenuService } from '../../shared/services/listViewMenu/listViewMenu.service';\nimport { LocalStorageService } from '../../shared/services/localStorage/localStorage.service';\nimport { Component } from '../../utils/decorators/component.decorator';\nimport { Input } from '../../utils/decorators/input.decorator';\nimport { FetchData } from '../../utils/services/fetchData.service';\nimport { UserInfo } from '../../utils/services/userInfo.service';\nimport StudentAssessAssignmentDriveModule from './studentAssessAssignmentDrive.module';\nimport style from './studentAssessAssignmentDrive.scss';\nimport template from './studentAssessAssignmentDrive.tpl.html';\n\n@Component({\n  module: StudentAssessAssignmentDriveModule,\n  selector: 'student-assess-assignment-drive',\n  template: template,\n  style: style,\n})\nexport class StudentAssessAssignmentDriveComponent implements IComponentController {\n  @Input() public assignments: any[];\n\n  public viewMenuItems: IListViewMenuItem[];\n  public viewMode: ListViewType;\n  public assignmentSelected: any;\n\n  private isGradeDescriptionVisible: boolean;\n  private isGradeDescriptionEnable: boolean;\n  private readonly storageViewMenuId: string;\n  private readonly storageKeyGradeDescription: string;\n\n  constructor(private $rootScope: IRootScopeService, private $filter: IFilterService,\n              private FetchData: FetchData, private UserInfo: UserInfo,\n              private ListViewMenuService: ListViewMenuService, private LocalStorageService: LocalStorageService) {\n    'ngInject';\n\n    this.assignments = [];\n    this.viewMenuItems = [];\n    this.assignmentSelected = null;\n    this.viewMode = ListViewType.TITLE_ONLY;\n    this.isGradeDescriptionVisible = false;\n    this.isGradeDescriptionEnable = false;\n    this.storageViewMenuId = 'studentStudentGoogleDrive';\n    this.storageKeyGradeDescription = `${this.storageViewMenuId}GradeDescriptionVisible`;\n  }\n\n  public $onInit(): void {\n    this.isGradeDescriptionVisible = this.LocalStorageService.exists(this.storageKeyGradeDescription);\n    this.viewMenuItems = this.ListViewMenuService.getListViewMenu(this.storageViewMenuId);\n    this.viewMode = this.viewMenuItems.find(listViewMenuItem => listViewMenuItem.checked)\n      .eventArgs.view;\n    this.assignmentSelected = this.assignments[0];\n    this.isGradeDescriptionEnable = get(this, 'assignmentSelected.show_grade_texts_for_student', false) && !this.assignmentSelected.grade_system.is_counter;\n  }\n\n  public isSelectedAssignmentConfigure(): boolean {\n    return get(this, 'assignmentSelected.course_definitions.length', false) && !get(this, 'assignmentSelected.resultOnly', false);\n  }\n\n  public updateObjectiveAssessmentProperty(objective: any, objectiveAssignment: any): void {\n    const assignment: any = { id: objectiveAssignment.assignment };\n    Object.assign(objective.objective_assessments, { assignment });\n\n    this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n    this.FetchData.v3\n      .updateObjectiveAssessments(this.UserInfo.userId, objective.id, objective.objective_assessments)\n      .finally((): IAngularEvent => this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY));\n  }\n\n  public onClickMenuItem(toolbarMenuItem: IListViewMenuItem): void {\n    this.viewMenuItems.forEach((menuItem: IListViewMenuItem) => {\n      Object.assign(menuItem, { checked: false });\n    });\n    Object.assign(toolbarMenuItem, { checked: true });\n    this.ListViewMenuService.saveListViewMenu(this.storageViewMenuId, this.viewMenuItems);\n    this.viewMode = toolbarMenuItem.eventArgs.view;\n  }\n\n  public isTitleVisible(title: string): boolean {\n    return this.viewMode !== ListViewType.DESCRIPTION_ONLY && !!`${title}`.trim().length;\n  }\n\n  public isDescriptionVisible(description: string): boolean {\n    return this.viewMode !== ListViewType.TITLE_ONLY &&\n      !!`${this.$filter<(string) => string>('getFormattedOrEmpty')(description)}`.trim().length;\n  }\n\n  public updateDescription(grade: any, objective: any): void {\n    if (grade) {\n      const gradeText: any = objective.grade_texts\n        .find((item: any): boolean => item.grade_id === grade.id);\n\n      objective.gradeText = get(gradeText, 'text', '');\n    } else {\n      objective.gradeText = '';\n    }\n  }\n\n  public isGradeTextVisible(objective): boolean {\n    return this.isGradeDescriptionEnable && this.isGradeDescriptionVisible && objective.gradeText;\n  }\n\n  public showGradeDescription(): void {\n    this.isGradeDescriptionVisible = true;\n    this.LocalStorageService.set(this.storageKeyGradeDescription, 'true');\n  }\n\n  public hideGradeDescription(): void {\n    this.isGradeDescriptionVisible = false;\n    this.LocalStorageService.remove(this.storageKeyGradeDescription);\n  }\n}\n","import {StateProvider} from '@uirouter/angularjs';\nimport {StateDeclaration, StateService, Transition, TransitionService} from '@uirouter/core';\nimport {IPromise} from 'angular';\nimport {AssignmentsService, Assignment} from '../../../../../src/app/student/assignments/state';\n\nexport const StudentAssignmentsRouting: Function = ($stateProvider: StateProvider, $transitionsProvider: TransitionService): void => {\n  'ngInject';\n\n  $transitionsProvider.onBefore({ to: state => state.name.startsWith('studentAssignments') }, (transition: Transition): any => {\n    const transitionTo: StateDeclaration = transition.to();\n    (transitionTo as any).themeClass = 'sb-theme-green';\n    (transitionTo as any).role = 'student';\n\n    return true;\n  });\n\n\n  $stateProvider\n    .state('studentAssignments', {\n      resolve: {\n        assignmentsGroup: (AssignmentsService: AssignmentsService, $state: StateService): IPromise<Assignment[]> => {\n          'ngInject';\n\n          return new Promise(resolve => {\n            AssignmentsService.get().subscribe(assignments => {\n              if (assignments.length) {\n                resolve(assignments);\n              } else {\n                $state.go('studentAssignmentsNotConfigured');\n              }\n            });\n          });\n        },\n      },\n      views: {\n        '@': {\n          component: 'studentAssignments',\n        },\n        'assignments@studentAssignments': {\n          component: 'appAssignments',\n        },\n      },\n    })\n    .state('studentAssignmentsNotConfigured', {\n      views: {\n        '@': {\n          component: 'studentAssignments',\n        },\n        'assignments@studentAssignmentsNotConfigured': {\n          component: 'studentAssignmentsNotConfigured',\n        },\n      }\n    });\n};\n","import { StateService, RawParams } from '@uirouter/core';\nimport { AssignmentsListComponent } from '../../../../../shared/components/assignmentsList/assignmentsList.component';\nimport { IAssignment } from '../../../../../shared/models/assignment.model';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../utils/decorators/input.decorator';\nimport StudentAssignmentsModule from '../../../studentAssignments.module';\nimport style from './studentAssignmentsList.scss';\nimport template from './studentAssignmentsList.tpl.html';\n\n@Component({\n  module: StudentAssignmentsModule,\n  selector: 'student-assignments-list',\n  template: template,\n  style: style,\n})\nexport class StudentAssignmentsListComponent extends AssignmentsListComponent {\n  @Input({ string: true })\n  public label: string;\n  @Input()\n  public assignments: IAssignment[];\n\n  constructor(private $state: StateService) {\n    'ngInject';\n\n    super();\n  }\n\n  public goToAssignmentDetails(assignment: IAssignment): void {\n    const params: RawParams = {\n      assignment,\n      isModal: true,\n    };\n\n    this.$state.go('studentAssessed', params);\n  }\n}\n","import {AssignmentType} from '../../shared/enums/assignmentType.enum';\nimport {Component} from '../../utils/decorators/component.decorator';\nimport StudentAssignmentsModule from './studentAssignments.module';\nimport style from './studentAssignments.scss';\nimport template from './studentAssignments.tpl.html';\nimport {Order} from '@datorama/akita';\nimport {\n  AssignmentFilterItem, AssignmentSort,\n  AssignmentSortItem,\n  AssignmentsQuery,\n  AssignmentsService, AssignmentsUI,\n} from '../../../../../src/app/student/assignments/state';\n\n@Component({\n  module: StudentAssignmentsModule,\n  selector: 'student-assignments',\n  template: template,\n  style: style,\n})\nexport class StudentAssignmentsComponent {\n\n  filters: AssignmentFilterItem[] = [\n    {\n      label: 'assignmentActionMenuFilterWorkUnit',\n      type: AssignmentType.WORK_UNIT,\n    },\n    {\n      label: 'assignmentActionMenuFilterAssignments',\n      type: AssignmentType.STANDARD_ASSIGNMENT,\n    },\n    {\n      label: 'assignmentActionMenuFilterWithoutAssessmentCriterias',\n      type: AssignmentType.WITHOUT_ASSESSMENT_CRITERIAS,\n    },\n  ];\n\n  assignmentsSort: AssignmentSortItem[] = [\n    {\n      by: 'assignment_type',\n      label: 'assignmentsActionMenuSortByTypeAsc',\n      order: Order.ASC,\n    },\n    {\n      by: 'assignment_created',\n      label: 'assignmentsActionMenuSortByCreationDateAsc',\n      order: Order.ASC,\n    },\n    {\n      by: 'assignment_created',\n      label: 'assignmentsActionMenuSortByCreationDateDesc',\n      order: Order.DESC,\n    },\n    {\n      by: 'assessment_last_changed',\n      label: 'assignmentsActionMenuSortByLastChanged',\n      order: Order.DESC,\n    },\n    {\n      by: 'assignment_title',\n      label: 'assignmentsActionMenuSortByNameAsc',\n      order: Order.ASC,\n    },\n  ];\n\n  constructor(protected AssignmentsService: AssignmentsService,\n              protected AssignmentsQuery: AssignmentsQuery,\n              protected NavigationHistory: any,\n              protected StudybeeHandle: any) {\n    'ngInject';\n\n  }\n\n  filter(assignmentFilterItem: AssignmentFilterItem) {\n    const stateUI = this.AssignmentsQuery.getValue().ui;\n    const filterType = assignmentFilterItem.state ? 'state' : 'type';\n    const currentFilters: any[] = stateUI.filters[filterType];\n    let filters: AssignmentsUI['filters'] = {\n      ...stateUI.filters,\n    };\n\n    if (currentFilters.includes(assignmentFilterItem[filterType])) {\n      filters = {\n        ...filters,\n        [filterType]: (filters[filterType] as any[]).filter(value => value !== assignmentFilterItem[filterType]),\n      };\n    } else {\n      filters = {\n        ...filters,\n        [filterType]: [...filters[filterType], assignmentFilterItem[filterType]],\n      };\n    }\n\n    this.AssignmentsService.setFilters(filters);\n  }\n\n  isFilterSelected(assignmentFilterItem: AssignmentFilterItem) {\n    const stateUI = this.AssignmentsQuery.getValue().ui;\n    const filterType = assignmentFilterItem.state ? 'state' : 'type';\n    const currentFilters: any[] = stateUI.filters[filterType];\n\n    return currentFilters.includes(assignmentFilterItem[filterType]);\n  }\n\n  sortAssignments(assignmentSortItem: AssignmentSortItem) {\n    const sort: AssignmentSort = {\n      by: assignmentSortItem.by,\n      order: assignmentSortItem.order,\n    };\n\n    this.AssignmentsService.setSorting(sort);\n  }\n\n  isAssignmentSortSelected(assignmentSortItem: AssignmentSortItem) {\n    const stateSortUI = this.AssignmentsQuery.getValue().ui.sort;\n\n    return stateSortUI.by === assignmentSortItem.by &&\n      stateSortUI.order === assignmentSortItem.order;\n  }\n}\n","import { IComponentController } from 'angular';\nimport { IAssignmentGroupedResponse } from '../../../shared/models/assignmentGroupedResponse.model';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport StudentAssignmentsModule from '../studentAssignments.module';\nimport style from './studentAssignmentsPublished.scss';\nimport template from './studentAssignmentsPublished.tpl.html';\n\n@Component({\n  module: StudentAssignmentsModule,\n  selector: 'student-assignments-published',\n  template: template,\n  style: style,\n})\nexport class StudentAssignmentsPublishedComponent implements IComponentController {\n  @Input()\n  public assignmentsGroup: IAssignmentGroupedResponse;\n\n  constructor() {\n    'ngInject';\n\n    this.assignmentsGroup = {\n      not_assessable: [],\n      assessable: [],\n    };\n  }\n}\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport StudentAssignmentsModule from '../studentAssignments.module';\nimport style from './studentAssignmentsNotConfigured.scss';\nimport template from './studentAssignmentsNotConfigured.tpl.html';\n\n@Component({\n  module: StudentAssignmentsModule,\n  selector: 'student-assignments-not-configured',\n  template: template,\n  style: style,\n})\nexport class StudentAssignmentsNotConfiguredComponent implements IComponentController {\n  constructor() {\n    'ngInject';\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\nimport get from 'lodash.get';\nimport {GroupedVisibilityDialogType} from '../../../shared/enums/groupedVisibilityDialogType.enum.ts';\nimport {GroupedVisibilitySettings} from '../../../shared/models/groupedVisibilitySettings.model.ts';\nimport {ListViewType} from '../../../shared/enums/listViewType.enum';\nimport {AssessmentStatus} from '../../../../../../src/app/shared/models/assessment.model';\nimport {combineQueries} from \"@datorama/akita\";\nimport {filter, map, switchMap} from 'rxjs/operators';\nimport {noop, Subject} from \"rxjs\";\n\nconst SingleCheckbox = require('../../../utils/components/single_checkbox');\nconst AssignmentGroupCheckboxes = require('../../../utils/components/assignment_group_checkboxes');\n\n/**\n * @module TeacherAssessAssignment/Controller\n * @description\n *   Handle Assess Assignment feature for Teacher\n * @param {Object} $scope Angular $scope object\n * @param {Object} $stateParams Angular $stateParams object\n * @param {Object} $mdDialog Angular Material $mdDialog object\n * @param {Object} $mdToast Angular Material $mdToast object\n * @param {Object} Path Path service instance\n * @param {Object} FetchData Fetch Data service instance\n * @param {Object} Updates Updates service instance\n * @param {Object} Debounce Debounce service instance\n * @param {Object} Helpers Helpers service instance\n * @param {Object} LocalHelpers Local Helpers service instance\n * @param {Object} NavigationHistory Navigation History service instance\n * @param {Object} MainMenu Main Menu service instance\n * @param {Object} Mixpanel Mixpanel service instance\n * @param {Object} assignmentsObjectives Resolve from Config Service\n * @param {Object} assignmentsStudents Resolve from Config Service\n */\n\n/*@ngInject*/\nfunction MainCtrl(\n  $scope, $stateParams, $state, $mdDialog, $filter, $timeout, Path, FetchData, Updates, Debounce,\n  Helpers, TeacherAssessAssignmentService, NavigationHistory, MainMenu, Mixpanel,\n  assignmentsObjectives, assignmentsStudents, assignment, GroupedVisibilityService,\n  GroupedVisibilityDialogService, Students, ListViewMenuService, LocalStorageService,\n    AssessmentsService, AssignmentService, AssignmentsQuery, AssessmentsQuery, AssessmentVisibilityDialogService,\n    AssessmentsVisibilityDialogService, AssignmentsService,\n) {\n  const vm = this;\n\n  const courseId = Path.getClassroomId();\n  const storageViewMenuId = 'teacherAssessAssignment';\n\n  vm.unsubscribes = [];\n  vm.showLoading = FetchData.showLoading;\n  vm.savingInProgress = 0;\n  vm.savingIndicatorVisible = false;\n  vm.savingError = false;\n  vm.viewReady = true;\n  vm.storageKeyGradeDescription = `${storageViewMenuId}GradeDescriptionVisible`;\n  vm.isGradeDescriptionVisible = LocalStorageService.exists(vm.storageKeyGradeDescription);\n  vm.AssessmentsService = AssessmentsService;\n  vm.AssignmentListService = AssignmentService;\n  vm.navigationHistory = NavigationHistory;\n\n  // Set default values for Edit Multiple\n  vm.editMultiple = {\n    grade: 'not_changed',\n    visibility: 'not_changed',\n    open: false,\n  };\n  vm.statusMenuItems = [\n    {\n      status: AssessmentStatus.ASSESSMENT_DONE,\n      label: 'teacherAssignmentsAssessmentsStudentMenuAssessed',\n    },\n    {\n      status: AssessmentStatus.ASSESSING,\n      label: 'teacherAssignmentsAssessmentsStudentMenuAssessing',\n    },\n    {\n      status: AssessmentStatus.NOT_ASSESSED,\n      label: 'teacherAssignmentsAssessmentsStudentMenuNotAssessed',\n    },\n  ];\n\n  // array of opened students ids\n  // if state is restored this should contain IDs of students which were opened\n  vm.openedStudents = $stateParams.openedStudents;\n\n  // Get data from API\n  vm.assignmentTitle = assignmentsObjectives.title;\n  vm.gradeSystem = assignmentsObjectives.grade_system;\n  vm.coursesDefinitions = assignmentsObjectives.course_definitions;\n  vm.resultOnly = assignmentsObjectives.result_only;\n  vm.isConfigured = assignmentsObjectives.is_configured && assignmentsObjectives.course_definitions.length;\n  vm.isGradeDescriptionEnable = assignmentsObjectives.enable_grade_texts && !vm.gradeSystem.is_counter;\n  vm.students = assignmentsStudents;\n  vm.viewMenuItems = ListViewMenuService.getListViewMenu(storageViewMenuId);\n  vm.viewMode = vm.viewMenuItems.find(listViewMenuItem => listViewMenuItem.checked)\n    .eventArgs.view;\n\n  const assignment$ = combineQueries([\n    AssignmentsQuery.selectActive().pipe(filter(Boolean)),\n    AssessmentsQuery.selectAll({asObject: true})\n  ]).pipe(\n    map(([assignment, assessments]) => ({\n        ...assignment,\n        assessments: assignment.assessments.map(assessmentID => assessments[assessmentID]),\n      })\n    ))\n    .subscribe(assignment => {\n      vm.assignment = {...assignment};\n      vm.viewReady = false;\n\n      $timeout(() => {\n        vm.updateCourseDefinition();\n        vm.viewReady = true;\n      });\n    });\n\n  vm.debounceFinished$ = new Subject();\n  const debounceFinishedSub = vm.debounceFinished$.subscribe(assessmentID => {\n    vm.AssessmentsService.synchronizeWarningStatus({id: assessmentID}).subscribe(() => {\n      vm.updateLastEditTimestampForAssignment();\n    });\n  });\n\n  vm.unsubscribes.push(() => assignment$.unsubscribe());\n  vm.unsubscribes.push(() => debounceFinishedSub.unsubscribe());\n\n  vm.assignment = assignment;\n\n  $scope.$on('$destroy', () => {\n    this.unsubscribes.forEach(unsubscribe => unsubscribe());\n  });\n  /**\n   * Send changes to API for Objective Assessments\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} students Contains objects where each object represents single student\n   */\n  vm.changeObjectiveAssessments = function (students) {\n    vm.savingInProgress += 1;\n    vm.savingIndicatorVisible = true;\n    vm.savingError = false;\n\n    FetchData.putObjectiveAssessments(students).then((res) => {\n      vm.savingInProgress -= 1;\n      vm.updateObjectiveAssessmentsDates(res);\n    }, () => {\n      vm.savingInProgress -= 1;\n      vm.savingError = true;\n    })\n      .finally(() => students.forEach(student => vm.debounceFinished$.next(student.assessment)));\n  };\n\n  /**\n   * Send changes to API for Assignments Objectives\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} students Contains objects where each object represents single student\n   */\n  vm.changeAssignmentsObjectives = function (students) {\n    vm.savingInProgress += 1;\n    vm.savingIndicatorVisible = true;\n    vm.savingError = false;\n\n    FetchData.putAssignmentsObjectives(assignment.id, students).then((res) => {\n      vm.savingInProgress -= 1;\n      vm.updateAssignmentsObjectivesDates(res);\n    }, () => {\n      vm.savingInProgress -= 1;\n      vm.savingError = true;\n    })\n      .finally(() => students.forEach(student => vm.debounceFinished$.next(student.assessment)));\n  };\n\n  vm.editMultipleAssignmentState = () => {\n    AssessmentsVisibilityDialogService.open(vm.assignment.id).pipe(\n      switchMap(assignmentVisibility => {\n        return AssessmentsService.updateStatusForMany({\n          ...vm.assignment\n        }, assignmentVisibility).pipe(\n          map(() => assignmentVisibility.status)\n        );\n      }),\n    ).subscribe(status => {\n      if (status === AssessmentStatus.ASSESSMENT_DONE) {\n        $state.reload()\n      }\n    });\n  };\n\n  /**\n   * Debounce send changes to API for Objective Assessments\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} students Contains objects where each object represents single student\n   */\n  vm.debounceObjectiveAssessments = Debounce((students) => {\n    vm.changeObjectiveAssessments(students);\n  }, 250);\n\n  /**\n   * Debounce send changes to API for Assignments Objectives\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} students Contains objects where each object represents single student\n   */\n  vm.debounceAssignmentsObjectives = Debounce((students) => {\n    vm.changeAssignmentsObjectives(students);\n  }, 250);\n\n  /**\n   * Choose send method\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} dataToSave Contains objects where each object represents single data to save\n   */\n  vm.matchEndpoint = function (dataToSave) {\n    if (vm.currentEditingMode === 'assessment' || vm.currentEditingMode === 'objectives_feedback' || vm.currentEditingMode === 'objectives_private_notes') {\n      vm.debounceObjectiveAssessments(dataToSave);\n    } else if (vm.currentEditingMode === 'results' || vm.currentEditingMode === 'overall_feedback' || vm.currentEditingMode === 'overall_private_notes') {\n      vm.debounceAssignmentsObjectives(dataToSave);\n    }\n  };\n\n  /**\n   * Update last modified dates for Objective Assessments\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} responseAssessmentsArray Response from the API, contains students information\n   */\n  vm.updateObjectiveAssessmentsDates = function (responseAssessmentsArray) {\n    responseAssessmentsArray.forEach((resAssessment) => {\n      vm.coursesDefinitions.forEach((courseDefinition) => {\n        courseDefinition.students.forEach((student) => {\n          student.objective_assessments.forEach((objectiveAssessment) => {\n            if (resAssessment.id !== objectiveAssessment.id) {\n              return;\n            }\n\n            objectiveAssessment.grade_last_edit = resAssessment.grade_last_edit;\n            objectiveAssessment.feedback_last_edit = resAssessment.feedback_last_edit;\n            objectiveAssessment.private_note_last_edit = resAssessment.private_note_last_edit;\n          });\n        });\n      });\n    });\n  };\n\n  /**\n   * Update last modified dates for Assignments Objectives\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} responseAssessmentsArray Response from the API, contains students information\n   */\n  vm.updateAssignmentsObjectivesDates = function (responseAssessmentsArray) {\n    responseAssessmentsArray.forEach((resAssessment) => {\n      vm.students.forEach((student) => {\n        if (resAssessment.id !== student.id) {\n          return;\n        }\n\n        student.result_last_edit = resAssessment.result_last_edit;\n        student.feedback_last_edit = resAssessment.feedback_last_edit;\n        student.private_note_last_edit = resAssessment.private_note_last_edit;\n      });\n    });\n  };\n\n  /**\n   * Init function\n   * @memberof module:TeacherAssessAssignment/Controller\n   */\n  vm.init = function () {\n    // Check if is modal\n    vm.isModal = $stateParams.isModal;\n\n    if (!vm.isConfigured) {\n      return;\n    }\n\n    // Generate structure for coursesDefinitions\n    vm.generateStructure();\n\n    // Fetch objectives for each student and push them to coursesDefinitions\n    // vm.fetchingObjectives();\n\n    // Set default values\n    if ($stateParams.editingMode) {\n      vm.editingMode = $stateParams.editingMode;\n      vm.currentEditingMode = vm.editingMode;\n    } else if (vm.resultOnly) {\n      vm.editingMode = 'results';\n      vm.currentEditingMode = 'results';\n    } else {\n      vm.editingMode = 'assessment';\n      vm.currentEditingMode = 'assessment';\n    }\n\n    vm.selectedCourseDefinition = vm.getLastSelectedCourseDefinition();\n    vm.openStudentsDetailsInCourse(vm.selectedCourseDefinition);\n    vm.setTextForGradeSystem();\n  };\n\n  vm.setTextForGradeSystem = () => {\n    vm.gradeSystem.grades.forEach((grade) => {\n      const defaultGradeTexts = [{grade_id: grade.id, text: ''}];\n      grade.text = get(vm, 'selectedCourseDefinition.objectives[0].grade_texts', defaultGradeTexts)\n        .find(gradeText => gradeText.grade_id === grade.id).text;\n    });\n  };\n\n  vm.getGradeText = (grade, objective, courseDefinition) => {\n    const defaultGradeTexts = [{grade_id: grade.id, text: ''}];\n    const currentObjective = courseDefinition.objectives\n      .find(_objective => _objective.id === objective.objective);\n\n    return get(currentObjective, 'grade_texts', defaultGradeTexts)\n      .find(gradeText => gradeText.grade_id === grade.id).text;\n  };\n\n  vm.getLastSelectedCourseDefinition = () => {\n    let courseDefinition;\n\n    if ($stateParams.courseDefinitionId) {\n      courseDefinition = vm.coursesDefinitions\n        .find(item => item.id === $stateParams.courseDefinitionId);\n    }\n\n    return courseDefinition || vm.coursesDefinitions[0];\n  };\n\n  /**\n   * Go to previous history entry\n   * @memberof module:TeacherAssessAssignment/Controller\n   */\n  vm.historyBack = function () {\n    if (vm.historyBackClicked) {\n      return;\n    }\n\n    vm.historyBackClicked = true;\n\n    // Clear assignments details\n    MainMenu.saveAssignmentDetails(null);\n\n    NavigationHistory.back();\n  };\n\n  /**\n   * Expands or collapses student entry\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Object} student Student object\n   */\n  vm.toggleStudent = function (student) {\n    const id = student.id;\n    const index = vm.openedStudents.indexOf(id);\n    student.open = !student.open;\n\n    if (student.open) {\n      if (index === -1) {\n        vm.openedStudents.push(id);\n      }\n    } else if (index !== -1) {\n      vm.openedStudents.splice(index, 1);\n    }\n\n    NavigationHistory.updateParams({openedStudents: vm.openedStudents});\n  };\n\n  vm.assignmentCourseChanged = (selectedCourseDefinition = vm.selectedCourseDefinition) => {\n    vm.setTextForGradeSystem();\n    vm.openStudentsDetailsInCourse(selectedCourseDefinition);\n    NavigationHistory.updateParams({courseDefinitionId: selectedCourseDefinition.id});\n    $state.go('.', {courseDefinitionId: selectedCourseDefinition.id});\n  };\n\n  vm.openStudentsDetailsInCourse = (courseDefinition) => {\n    courseDefinition.students.forEach((student) => {\n      student.open = vm.openedStudents.includes(student.id);\n    });\n  };\n\n  /**\n   * Generate structure for vm.coursesDefinitions\n   */\n  vm.generateStructure = function () {\n    vm.coursesDefinitions = vm.coursesDefinitions.filter(courseDefinitionElem => courseDefinitionElem.objectives.length);\n\n    vm.coursesDefinitions.forEach((courseDefinitionElem) => {\n      courseDefinitionElem.students = [];\n\n        vm.students.forEach((courseDefinitionStudentElem) => {\n        const assessment = vm.assignment.assessments.find(assessment => assessment.student_id === courseDefinitionStudentElem.student_id) || {};\n        const student = {\n          id: courseDefinitionStudentElem.student_id,\n          full_name: courseDefinitionStudentElem.student_name,\n          fetching_objectives: true,\n          objective_assessments: [],\n          open: vm.openedStudents.includes(courseDefinitionStudentElem.student_id),\n          status: assessment.status_new || courseDefinitionStudentElem.new_status,\n          warning: assessment.fail_warning,\n        };\n\n        courseDefinitionElem.students.push(student);\n      });\n    });\n  };\n\n  vm.updateCourseDefinition = () => {\n    vm.coursesDefinitions = vm.coursesDefinitions.map(courseDefinition => {\n      const students = courseDefinition.students.map(student => {\n       const assessment = vm.assignment.assessments.find(assessment => assessment.student_id === student.id);\n\n       return {\n         ...student,\n         status: assessment.status_new,\n         warning: assessment.fail_warning,\n       }\n      });\n\n      return {\n        ...courseDefinition,\n        students,\n      }\n    });\n  };\n\n  vm.changeAssessmentStatus = (studentId, status) => {\n    const assessment = vm.assignment.assessments.find(assessment => assessment.student_id === studentId);\n    let updateStatus$;\n    if (status === AssessmentStatus.ASSESSMENT_DONE) {\n      updateStatus$ = AssessmentVisibilityDialogService.open(vm.assignment.id).pipe(\n        switchMap(assessmentVisibilityDialog => {\n          const statusUpdateBody = {\n            ...assessmentVisibilityDialog,\n            status,\n          };\n          return AssessmentsService.updateStatus(vm.assignment.id, assessment, statusUpdateBody);\n        })\n      )\n    } else {\n      updateStatus$ = AssessmentsService.updateStatus(vm.assignment.id, assessment, {status});\n    }\n\n    updateStatus$.subscribe(() => {\n      vm.updateLastEditTimestampForAssignment();\n      if (status === AssessmentStatus.ASSESSMENT_DONE) {\n        $state.reload();\n      }\n    });\n  };\n\n  /**\n   * Fetch objectives for each student and push them to coursesDefinitions\n   */\n  vm.fetchingObjectives = function () {\n    vm.students.forEach((studentElem) => {\n      FetchData.v2.getObjectiveAssessments(assignment.id, studentElem.student_id).then((res) => {\n        vm.coursesDefinitions.forEach((courseDefinitionElem) => {\n          courseDefinitionElem.students.forEach((courseDefinitionStudentElem) => {\n            if (studentElem.student_id !== courseDefinitionStudentElem.id) {\n              return;\n            }\n\n            res.forEach((objectiveElem) => {\n              courseDefinitionElem.objectives.forEach((courseDefinitionObjectiveElem) => {\n                if (objectiveElem.objective !== courseDefinitionObjectiveElem.id) {\n                  return;\n                }\n\n                const objective = Object.assign({}, objectiveElem, {\n                  objective_name: courseDefinitionObjectiveElem.name,\n                  description: courseDefinitionObjectiveElem.description,\n                });\n\n                courseDefinitionStudentElem.objective_assessments.push(objective);\n              });\n            });\n\n            courseDefinitionStudentElem.fetching_objectives = false;\n          });\n        });\n      });\n    });\n  };\n\n  /**\n   * Select student by clicking on student name\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Number} studentId Student ID of clicked student\n   */\n  vm.clickStudent = function (studentId) {\n    const params = {studentId, assignment, courseDefinitionId: vm.selectedCourseDefinition.id};\n    NavigationHistory.go('teacher_assess_assignment_student', params);\n  };\n\n  /**\n   * Load view chosen in currentEditingMode select\n   * @memberof module:TeacherAssessAssignment/Controller\n   */\n  vm.loadView = function () {\n    vm.currentEditingMode = vm.editingMode;\n\n    vm.checkIfAnyCheckboxIsChecked();\n  };\n\n  /**\n   * Check if there is any checkbox selected for Edit Multiple\n   * @memberof module:TeacherAssessAssignment/Controller\n   */\n  vm.checkIfAnyCheckboxIsChecked = function () {\n    let anyCheckboxesChecked = false;\n\n    const objectiveNormalEditing = ['assessment', 'objectives_feedback', 'objectives_private_notes'];\n    const courseNormalEditing = ['results', 'overall_feedback', 'overall_private_notes'];\n\n    if (Helpers.checkIfModeAvailable(vm.currentEditingMode, objectiveNormalEditing)) {\n      anyCheckboxesChecked = vm.assignmentCheckboxesCheckIfAny(vm.coursesDefinitions);\n    } else if (Helpers.checkIfModeAvailable(vm.currentEditingMode, courseNormalEditing)) {\n      anyCheckboxesChecked = vm.checkboxCheckIfAny(vm.students);\n    }\n\n    if (anyCheckboxesChecked) {\n      vm.editMultiple.anyCheckboxChecked = true;\n    } else {\n      vm.editMultiple.anyCheckboxChecked = false;\n    }\n  };\n\n  /**\n   * Check if there is any changes to save in Edit Multiple\n   * @memberof module:TeacherAssessAssignment/Controller\n   */\n  vm.checkEditMultiple = function () {\n    let mode;\n    let changesToSave = false;\n\n    const visibilityNormalEditing = ['assessment', 'objectives_feedback', 'results', 'overall_feedback'];\n    const gradeNormalEditing = ['assessment'];\n    const textNormalEditing = [\n      'results', 'objectives_feedback', 'objectives_private_notes', 'overall_feedback', 'overall_private_notes',\n    ];\n\n    mode = vm.editMultiple;\n\n    if (Helpers.isVisibilityChanges(mode.visibility, vm.currentEditingMode, visibilityNormalEditing) ||\n      Helpers.isGradeChanges(mode.grade, vm.currentEditingMode, gradeNormalEditing) ||\n      Helpers.isTextChanges(mode.textField, vm.currentEditingMode, textNormalEditing)) {\n      changesToSave = true;\n    }\n\n    if (changesToSave === true) {\n      mode.changesToSave = true;\n    } else {\n      mode.changesToSave = false;\n    }\n  };\n\n  /**\n   * Save changes for Edit Multiple\n   * @memberof module:TeacherAssessAssignment/Controller\n   */\n  vm.saveEditMultiple = function () {\n    const selectedItems = TeacherAssessAssignmentService\n      .findSelectedItems(vm.currentEditingMode, vm.coursesDefinitions, vm.students);\n\n    vm.changeMultipleTexts(selectedItems);\n    vm.changeMultipleGrades(selectedItems);\n    vm.changeMultipleVisible(selectedItems);\n\n    vm.matchEndpoint(selectedItems);\n\n    vm.clearEditMultiple();\n\n    vm.updateLastEditTimestampForAssignment();\n\n    if (vm.currentEditingMode === 'objectives_feedback') {\n      Mixpanel.track('feedback_to_student_with_multiedit');\n    }\n  };\n\n  /**\n   * Set defaults values for Edit Multiple and clear changesToSave flag to false\n   * @memberof module:TeacherAssessAssignment/Controller\n   */\n  vm.clearEditMultiple = function () {\n    vm.editMultiple.grade = 'not_changed';\n    vm.editMultiple.visibility = 'not_changed';\n    vm.editMultiple.textMode = 'new_text';\n    vm.editMultiple.textField = '';\n    vm.editMultiple.changesToSave = false;\n  };\n\n  /**\n   * Close Edit Multiple\n   * @memberof module:TeacherAssessAssignment/Controller\n   */\n  vm.closeEditMultiple = function () {\n    vm.editMultiple.open = false;\n  };\n\n  /**\n   * Handle changing text of single item\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Function} savingMethod Function for saving changes\n   * @param {Object} savingItem Object that should be saved\n   * @param {String} eventCode Mixpanel event code\n   */\n  vm.changeSingleText = function (savingMethod, savingItem, eventCode) {\n    Helpers.changeSingleText(savingMethod, savingItem, eventCode);\n    vm.updateLastEditTimestampForAssignment();\n  };\n\n  /**\n   * Handle changing visible of single item\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Function} savingMethod Function for saving changes\n   * @param {Object} savingItem Object that should be saved\n   * @param {Object} editingItem Object that will be editing\n   * @param {String} editingProperty Property that will be editing\n   * @param {String} eventCode Mixpanel event code\n   */\n  vm.changeSingleVisible = function (savingMethod, savingItem, editingItem, editingProperty, eventCode) {\n    Helpers.changeSingleVisible(savingMethod, savingItem, editingItem, editingProperty, eventCode);\n    vm.updateLastEditTimestampForAssignment();\n  };\n\n  /**\n   * Handle changing grade of single item\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Function} savingMethod Function for saving changes\n   * @param {Object} savingItem Object that should be saved\n   * @param {String} eventCode Mixpanel event code\n   */\n  vm.changeSingleGrade = function (savingMethod, savingItem, eventCode) {\n    Helpers.changeSingleGrade(savingMethod, savingItem, eventCode);\n    vm.updateLastEditTimestampForAssignment();\n  };\n\n  /**\n   * Handle changing text of multiple items\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} selectedItems Contains selected items\n   */\n  vm.changeMultipleTexts = function (selectedItems) {\n    let textProperty;\n    let textMode;\n    let textField;\n    let pass;\n    const normalEditing = [\n      'objectives_feedback', 'objectives_private_notes', 'results', 'overall_feedback', 'overall_private_notes',\n    ];\n\n    if (!vm.editMultiple.textField) {\n      return;\n    }\n\n    pass = Helpers.checkIfModeAvailable(vm.currentEditingMode, normalEditing);\n\n    if (!pass) {\n      return;\n    }\n\n    textMode = vm.editMultiple.textMode;\n    textField = vm.editMultiple.textField;\n\n    textProperty = TeacherAssessAssignmentService.findTextPropoerty(vm.currentEditingMode);\n\n    selectedItems.forEach((itemElem) => {\n      const oldValue = itemElem[textProperty];\n      if (textMode === 'new_text') {\n        itemElem[textProperty] = textField;\n      } else if (textMode === 'append_text_first') {\n        itemElem[textProperty] = `${textField} ${oldValue}`;\n      } else if (textMode === 'append_text_last') {\n        itemElem[textProperty] = `${oldValue} ${textField}`;\n      }\n    });\n  };\n\n  /**\n   * Handle changing visible of multiple items\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} selectedItems Contains selected items\n   */\n  vm.changeMultipleVisible = function (selectedItems) {\n    const normalEditing = ['assessment', 'objectives_feedback', 'result', 'overall_feedback'];\n\n    if (vm.editMultiple.visibility === 'not_changed') {\n      return;\n    }\n\n    const pass = Helpers.checkIfModeAvailable(vm.currentEditingMode, normalEditing);\n\n    if (!pass) {\n      return;\n    }\n\n\n    const visibilityMode = vm.editMultiple.visibility;\n\n    const visibilityProperty = TeacherAssessAssignmentService\n      .findVisibilityPropoerty(vm.currentEditingMode);\n\n    selectedItems.forEach((itemElem) => {\n      if (visibilityMode === 'set_visible') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[visibilityProperty] = true;\n      } else if (visibilityMode === 'set_hidden') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[visibilityProperty] = false;\n      }\n    });\n  };\n\n  /**\n   * Handle changing grades of multiple items\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} selectedItems Contains selected items\n   */\n  vm.changeMultipleGrades = function (selectedItems) {\n    let grade;\n    let pass;\n    const normalEditing = ['assessment'];\n\n    if (vm.editMultiple.grade === 'not_changed') {\n      return;\n    }\n\n    pass = Helpers.checkIfModeAvailable(vm.currentEditingMode, normalEditing);\n\n    if (!pass) {\n      return;\n    }\n\n    grade = vm.editMultiple.grade;\n\n    selectedItems.forEach((itemElem) => {\n      if (itemElem.grade_system_is_counter) {\n        return;\n      }\n\n      itemElem.grade_name = grade;\n    });\n  };\n\n  /**\n   * Handle changes dialog\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {String} triggerType Trigger type (changeEditingMode, cancelEditingMode, selectStudent,\n   *   clickStudentInClassroom)\n   * @param {Number} studentId Student ID of clicked student\n   */\n  // TODO Since we are not using a dialog anymore we should rename this function.\n  vm.showChangesDialog = function (triggerType, studentId) {\n    // Without changes\n      if (triggerType === 'changeEditingMode') {\n        NavigationHistory.updateParams({editingMode: vm.editingMode});\n        vm.loadView();\n      }\n      if (triggerType === 'cancelEditingMode') {\n        vm.closeEditMultiple();\n      }\n      if (triggerType === 'selectStudent') {\n        vm.clickStudent(studentId);\n      }\n      if (triggerType === 'clickStudentInClassroom') {\n        NavigationHistory.go('teacher_assess_assignment_student', {studentId, assignment});\n      }\n    vm.clearEditMultiple();\n      return;\n  };\n\n  /**\n   * Open action menu\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Object} $mdOpenMenu Angular Material $mdOpenMenu object\n   * @param {Object} e Event object\n   */\n  vm.openActionMenu = function ($mdOpenMenu, e) {\n    $mdOpenMenu(e);\n  };\n\n  /**\n   * Edit scales and objectives option\n   * @memberof module:TeacherAssessAssignment/Controller\n   */\n  vm.editScalesAndObjectivesOption = function (firstTime = false) {\n    NavigationHistory.go('teacher_set_assignment_objectives', {assignment, firstTime});\n  };\n\n  vm.setVisibility = () => {\n    const groupedVisibilitySettings =\n      new GroupedVisibilitySettings(GroupedVisibilityDialogType.AssignmentView);\n\n    groupedVisibilitySettings.courseDefinitions = [...vm.coursesDefinitions];\n\n    groupedVisibilitySettings.students = groupedVisibilitySettings.courseDefinitions\n      .map(courseDefinition => [...(courseDefinition.students || [])])\n      .flat()\n      .reduce((acc, student) =>\n          (acc.some(_student => _student.id === student.id) ? acc : [...acc, student]),\n        [])\n      .map(student => ({...student, student_name: student.full_name}));\n\n    groupedVisibilitySettings.type = groupedVisibilitySettings.students.length > 1 ?\n      GroupedVisibilityDialogType.AssignmentView :\n      GroupedVisibilityDialogType.AssignmentStudentView;\n\n    GroupedVisibilityDialogService.show(groupedVisibilitySettings).then((groupedVisibility) => {\n      GroupedVisibilityService.patchAssignmentAssessmentsGroupedVisibility(groupedVisibility)\n        .then(() => $state.reload());\n    });\n  };\n\n  vm.onClickMenuItem = (toolbarMenuItem) => {\n    vm.viewMenuItems.forEach((menuItem) => {\n      Object.assign(menuItem, {checked: false});\n    });\n    Object.assign(toolbarMenuItem, {checked: true});\n    ListViewMenuService.saveListViewMenu(storageViewMenuId, vm.viewMenuItems);\n    vm.viewMode = toolbarMenuItem.eventArgs.view;\n  };\n\n  vm.isTitleVisible = (title) =>\n    vm.viewMode !== ListViewType.DESCRIPTION_ONLY && `${title}`.trim().length;\n\n  vm.isDescriptionVisible = (description) =>\n    vm.viewMode !== ListViewType.TITLE_ONLY && `${$filter('getFormattedOrEmpty')(description)}`.trim().length;\n\n  // Listen on Clicked Student in Classroom event (trigger when user click on student link in classroom)\n  // and redirect to students details for clicked student.\n  // Use debounce because clickedStudentInClassroom is trigger twice from unknown reason.\n  $scope.$on('clickedStudentInClassroom', Debounce((e, studentName) => {\n    let studentId = Helpers.findStudentIdByName(vm.students, studentName);\n\n    if (!studentId) {\n      Updates.updateStudents(courseId, true).then((res) => {\n        studentId = Helpers.findStudentIdByName(res, studentName);\n        vm.showChangesDialog('clickStudentInClassroom', studentId);\n      });\n    } else {\n      vm.showChangesDialog('clickStudentInClassroom', studentId);\n    }\n  }, 250));\n\n  vm.updateDescription = (grade, objective, courseDefinition) => {\n    $timeout(() => {\n      if (grade) {\n        objective.gradeText = vm.getGradeText(grade, objective, courseDefinition);\n      } else {\n        objective.gradeText = '';\n      }\n    });\n  };\n\n  vm.getGradeDescription = (objective, courseDefinition) => {\n    const selectedGrade = {text: ''};\n    const currentObjective = courseDefinition.objectives\n      .find(_objective => _objective.id === objective.objective);\n\n    if (currentObjective) {\n      Object.assign(selectedGrade, currentObjective.grade_texts\n        .find(grade => grade.grade_id === objective.grade_id));\n    }\n\n\n    return selectedGrade.text;\n  };\n\n  vm.showGradeDescription = () => {\n    vm.isGradeDescriptionVisible = true;\n    LocalStorageService.set(vm.storageKeyGradeDescription, 'true');\n  };\n\n  vm.hideGradeDescription = () => {\n    vm.isGradeDescriptionVisible = false;\n    LocalStorageService.remove(vm.storageKeyGradeDescription);\n  };\n\n  vm.isGradeTextVisible = objective => {\n    return vm.isGradeDescriptionEnable && vm.isGradeDescriptionVisible && !vm.gradeSystem.is_counter && objective.gradeText;\n  };\n\n  vm.updateLastEditTimestampForAssignment = (id = vm.assignment.id) => {\n    AssignmentsService.update({id});\n  };\n\n  vm.init();\n}\n\nMainCtrl.prototype = Object.assign(MainCtrl.prototype, AssignmentGroupCheckboxes.prototype, SingleCheckbox.prototype);\n\nmodule.exports = MainCtrl;\n","/**\n * Represents a SingleCheckbox.\n * @constructor\n */\nfunction SingleCheckbox() {}\n\n/**\n * Handle click on single checkbox - at the end function trigger checkboxCheckAll\n * @param {Object} singleItem Single item\n * @param {Object} group Single group\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n */\nSingleCheckbox.prototype.checkboxSingle = function(singleItem, group, editMultiple) {\n  singleItem.checked = !singleItem.checked;\n\n  this.checkboxCheckAll(group, editMultiple);\n};\n\n/**\n * Handle click on all checkbox which check or uncheck all checkboxes\n * @param {Array} group Single group\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n */\nSingleCheckbox.prototype.checkboxAll = function(group, editMultiple) {\n  editMultiple.checkboxChecked = !editMultiple.checkboxChecked;\n\n  if (editMultiple.checkboxChecked) {\n    group.forEach(function(student) {\n      student.checked = true;\n    });\n  } else {\n    group.forEach(function(student) {\n      student.checked = false;\n    });\n  }\n};\n\n/**\n * Check if all checkboxes are checked or unchecked\n * @param {Array} group Single group\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n */\nSingleCheckbox.prototype.checkboxCheckAll = function(group, editMultiple) {\n  var allCheckboxChecked = group.every(function (elem, i, arr) {\n    return elem.checked;\n  });\n\n  if (allCheckboxChecked) {\n    editMultiple.checkboxChecked = true;\n  } else {\n    editMultiple.checkboxChecked = false;\n  }\n};\n\n/**\n * Check if any checkboxes are checked\n * @param {Array} group Single group\n */\nSingleCheckbox.prototype.checkboxCheckIfAny = function(group) {\n  var anyCheckboxChecked = false;\n\n  anyCheckboxChecked = group.some(function(student) {\n    return student.checked === true;\n  });\n\n  return anyCheckboxChecked;\n};\n\n/**\n * Clear all checkboxes\n * @param {Array} group Single group\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n */\nSingleCheckbox.prototype.clearCheckbox = function(group, editMultiple) {\n  editMultiple.checkboxChecked = false;\n\n  group.forEach(function(student) {\n    student.checked = false;\n  });\n};\n\nmodule.exports = SingleCheckbox;\n","/**\n * Represents a GroupCheckboxes.\n * @constructor\n */\n\nfunction AssignmentGroupCheckboxes() {}\n/**\n * Handle click on single checkbox - at the end function trigger checkboxesCheckAll\n * @param {Object} singleItem Single item\n * @param {Array} itemsInGroup List of all items in group\n * @param {Object} group Single group\n * @param {Array} allGroups List of all groups\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n */\nAssignmentGroupCheckboxes.prototype.assignmentCheckboxesSingle = function(singleItem, itemsInGroup, group, allGroups, editMultiple) {\n  singleItem.checked = !singleItem.checked;\n\n  var groupCheckboxChecked = itemsInGroup.every(function(elem, i, arr) {\n    return elem.checked;\n  });\n\n  if (groupCheckboxChecked) {\n    group.checked = true;\n  } else {\n    group.checked = false;\n  }\n\n  this.assignmentCheckboxesCheckAll(allGroups, editMultiple);\n};\n\n/**\n * Handle click on group checkbox - at the end function trigger checkboxesCheckAll\n * @param {Array} itemsInGroup List of all items in group\n * @param {Object} group Single group\n * @param {Array} allGroups List of all groups\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n */\nAssignmentGroupCheckboxes.prototype.assignmentCheckboxesGroup = function(itemsInGroup, group, allGroups, editMultiple) {\n  group.checked = !group.checked;\n\n  if (group.checked) {\n    itemsInGroup.forEach(function(elem) {\n      elem.checked = true;\n    });\n  } else {\n    itemsInGroup.forEach(function(elem) {\n      elem.checked = false;\n    });\n  }\n\n  this.assignmentCheckboxesCheckAll(allGroups, editMultiple);\n};\n\n/**\n * Handle click on all checkbox which check or uncheck all checkboxes\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n * @param {Array} allGroups List of all groups\n */\nAssignmentGroupCheckboxes.prototype.assignmentCheckboxesAll = function(editMultiple, allGroups) {\n  editMultiple.checkboxesChecked = !editMultiple.checkboxesChecked;\n\n  if (editMultiple.checkboxesChecked) {\n    allGroups.forEach(function(courseDefinition) {\n      courseDefinition.students.forEach(function(student) {\n        student.checked = true;\n        student.objective_assessments.forEach(function(objective) {\n          objective.checked = true;\n        });\n      });\n    });\n  } else {\n    allGroups.forEach(function(courseDefinition) {\n      courseDefinition.students.forEach(function(student) {\n        student.checked = false;\n        student.objective_assessments.forEach(function(objective) {\n          objective.checked = false;\n        });\n      });\n    });\n  }\n};\n\n/**\n * Check if all checkboxes are checked or unchecked\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n * @param {Array} allGroups List of all groups\n */\nAssignmentGroupCheckboxes.prototype.assignmentCheckboxesCheckAll = function(allGroups, editMultiple) {\n  var allCheckboxChecked = true;\n\n  allGroups.forEach(function(courseDefinition) {\n    courseDefinition.students.forEach(function(student) {\n      if (!student.checked) {\n        allCheckboxChecked = false;\n      }\n    });\n  });\n\n  if (allCheckboxChecked) {\n    editMultiple.checkboxesChecked = true;\n  } else {\n    editMultiple.checkboxesChecked = false;\n  }\n};\n\n/**\n * Check if any checkboxes are checked\n * @param {Array} allGroups List of all groups\n */\nAssignmentGroupCheckboxes.prototype.assignmentCheckboxesCheckIfAny = function(allGroups) {\n  var anyCheckboxChecked = false;\n\n  for (var i = 0; i < allGroups.length; i++) {\n    for (var j = 0; j < allGroups[i].students.length; j++) {\n      anyCheckboxChecked = allGroups[i].students[j].objective_assessments.some(function(objective) {\n        return objective.checked === true;\n      });\n      if (anyCheckboxChecked) { break; }\n    }\n    if (anyCheckboxChecked) { break; }\n  }\n\n  return anyCheckboxChecked;\n};\n\n/**\n * Clear all checkboxes\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n * @param {Array} allGroups List of all groups\n */\nAssignmentGroupCheckboxes.prototype.assignmentClearCheckboxes = function(editMultiple, allGroups) {\n  editMultiple.checkboxesChecked = false;\n\n  allGroups.forEach(function(courseDefinition) {\n    courseDefinition.students.forEach(function(student) {\n      student.checked = false;\n      student.objective_assessments.forEach(function(objective) {\n        objective.checked = false;\n      });\n    });\n  });\n};\n\nmodule.exports = AssignmentGroupCheckboxes;\n","import { Service } from '../../utils/decorators/service.decorator';\nimport TeacherAssessAssignmentModule from './teacherAssessAssignment.module';\n\n@Service({\n  module: TeacherAssessAssignmentModule,\n  name: 'TeacherAssessAssignmentService',\n})\nexport class TeacherAssessAssignmentService {\n  constructor() {\n    'ngInject';\n  }\n\n  public findVisibilityPropoerty(currentEditingMode: string = ''): string {\n    const map = {\n      assessment: 'grade_published',\n      objectives_feedback: 'feedback_published',\n      results: 'result_published',\n      overall_feedback: 'feedback_published',\n    };\n\n    return map[currentEditingMode];\n  }\n\n  public findTextPropoerty(currentEditingMode: string = ''): string {\n    const map: { [prop: string]: string } = {\n      objectives_feedback: 'feedback',\n      overall_feedback: 'feedback',\n      objectives_private_notes: 'private_note',\n      results: 'result',\n      overall_private_notes: 'private_note',\n    };\n\n    return map[currentEditingMode];\n  }\n\n  public findSelectedItems(currentEditingMode: string, coursesDefinitions: any[], students: any[]): any[] {\n    if (['assessment', 'objectives_feedback', 'objectives_private_notes'].includes(currentEditingMode)) {\n      return coursesDefinitions.reduce((accCoursesDefinitions, courseElem): any[] => [\n        ...accCoursesDefinitions,\n        ...courseElem.students.reduce((accStudents, studentElem): any[] => [\n          ...accStudents,\n          ...studentElem.objective_assessments\n            .filter((objectiveElem): boolean => objectiveElem.checked),\n        ], []),\n      ], []);\n    } else if (['results', 'overall_feedback', 'overall_private_notes'].includes(currentEditingMode)) {\n      return students.filter((studentElem): boolean => studentElem.checked);\n    }\n\n    return [];\n  }\n}\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\nimport { ListViewType } from '../../../shared/enums/listViewType.enum';\nimport get from 'lodash.get';\nimport { AssessmentStatus } from '../../../../../../src/app/shared/models/assessment.model';\nimport {combineQueries} from \"@datorama/akita\";\nimport {filter, map, switchMap} from \"rxjs/operators\";\nimport {Subject} from \"rxjs\";\n\nconst AssignmentSingleCheckboxes = require('../../../utils/components/assignment_single_checkbox');\n\n/**\n * @module TeacherAssessAssignmentDrive/Controller\n * @description\n *   Handle Assess Assignment Student feature for Teacher\n * @param {Object} $stateParams Angular $stateParams object\n * @param {Object} $mdDialog Angular Material $mdDialog object\n * @param {Object} Path Path service instance\n * @param {Object} FetchData Fetch Data service instance\n * @param {Object} Debounce Debounce service instance\n * @param {Object} Helpers Helpers service instance\n * @param {Object} TeacherAssessAssignmentDriveService Local Helpers service instance\n * @param {Object} NavigationHistory Navigation History service instance\n * @param {Object} Mixpanel Mixpanel service instance\n * @param {Object} studentAssignments Resolve from Config\n */\n\n/*@ngInject*/\nfunction MainCtrl(\n  $scope, $stateParams, $mdDialog, $filter, $state, $timeout, Path, FetchData, Debounce, Helpers,\n  TeacherAssessAssignmentDriveService, NavigationHistory, Mixpanel, studentAssignments,\n  ListViewMenuService, LocalStorageService, $sce, $compile, AssessmentsService, assignments, assignment,\n  AssignmentsService, AssignmentsQuery, AssignmentService, AssessmentsQuery, AssessmentVisibilityDialogService,\n  AssignmentsStore\n) {\n  const vm = this;\n  const DEBOUNCE_TIME = 250;\n  const DIALOG_QUERY = '[md-component-id=\"studybee\"]';\n  const storageViewMenuId = 'teacherAssessAssignmentDrive';\n  let fileId = null;\n\n  Path.getFileId().then(id => fileId = id);\n\n  vm.AssessmentsService = AssessmentsService;\n  vm.showLoading = FetchData.showLoading;\n  vm.savingInProgress = 0;\n  vm.savingIndicatorVisible = false;\n  vm.savingError = false;\n  vm.viewMenuItems = ListViewMenuService.getListViewMenu(storageViewMenuId);\n  vm.viewMode = vm.viewMenuItems.find(listViewMenuItem => listViewMenuItem.checked)\n    .eventArgs.view;\n  vm.storageKeyGradeDescription = `${storageViewMenuId}GradeDescriptionVisible`;\n  vm.isGradeDescriptionVisible = LocalStorageService.exists(vm.storageKeyGradeDescription);\n  vm.isGradeDescriptionEnable = studentAssignments[0].enable_grade_texts && !studentAssignments[0].grade_system.is_counter;\n  vm.assignment = assignment;\n  vm.selectedStatus = vm.assignment.assessments.find(assessment => assessment.student_id === +studentAssignments[0].student_id).status_new;\n\n  vm.subscriptions = [];\n  vm.subscriptions.push(combineQueries([\n    AssignmentsQuery.selectActive().pipe(filter(Boolean)),\n    AssessmentsQuery.selectAll({asObject: true})\n  ]).pipe(\n    map(([assignment, assessments]) => ({\n        ...assignment,\n        assessments: assignment.assessments.map(assessmentID => assessments[assessmentID]),\n      })\n    ),\n  ).subscribe(assignment => {\n    const studentID = +studentAssignments[0].student_id;\n    vm.assignment = assignment || $stateParams.assignment;\n    vm.assessment = vm.assignment.assessments.find(assessment => assessment.student_id === studentID);\n    vm.selectedStatus = vm.assessment.status_new;\n  }));\n\n  vm.debounceFinished$ = new Subject();\n  vm.subscriptions.push(vm.debounceFinished$.subscribe(() => {\n    vm.AssessmentsService.synchronizeWarningStatus(vm.assessment).subscribe(() => {\n      vm.updateLastEditTimestampForAssignment();\n    });\n  }));\n\n  $scope.$on('$destroy', () => {\n    vm.subscriptions.forEach(subscription => subscription.unsubscribe());\n  });\n\n  // Set default values for Student Edit Multiple\n  vm.studentEditMultiple = {\n    grade: 'not_changed',\n    visibility: 'not_changed',\n    open: false,\n  };\n\n  vm.statusChange = (status) => {\n    const assessment = vm.assignment.assessments.find(assessment => assessment.student_id === +studentAssignments[0].student_id);\n    let updateStatus$;\n\n    if (status === AssessmentStatus.ASSESSMENT_DONE) {\n      vm.selectedStatus = null;\n      setTimeout(() => {\n        vm.selectedStatus = assessment.status_new;\n      });\n      updateStatus$ = AssessmentVisibilityDialogService.open(vm.assignment.id).pipe(\n        switchMap(assessmentVisibilityDialog => {\n          const statusUpdateBody = {\n            ...assessmentVisibilityDialog,\n            status,\n          };\n          return AssessmentsService.updateStatus(vm.assignment.id, assessment, statusUpdateBody);\n        })\n      )\n    } else {\n      updateStatus$ = AssessmentsService.updateStatus(vm.assignment.id, assessment, {status});\n    }\n\n    updateStatus$.subscribe(() => {\n      vm.updateLastEditTimestampForAssignment();\n      if (status === AssessmentStatus.ASSESSMENT_DONE) {\n        $state.transitionTo($state.current, NavigationHistory.getCurrentParams(), {\n          reload: true, inherit: false, notify: false\n        });\n      }\n    });\n  };\n\n  // Get data from API\n  vm.studentAssignments = studentAssignments;\n\n  /**\n   * Send changes to API for Objective Assessments\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Array} objectiveAssessments Contains objects where each object represents objectives\n   */\n  vm.changeObjectiveAssessments = (objectiveAssessments) => {\n    vm.savingInProgress += 1;\n    vm.savingIndicatorVisible = true;\n    vm.savingError = false;\n\n    FetchData\n      .putObjectiveAssessments(objectiveAssessments)\n      .then(\n        (res) => {\n          vm.savingInProgress -= 1;\n          vm.updateObjectiveAssessmentsDates(res);\n        },\n        () => {\n          vm.savingInProgress -= 1;\n        },\n      )\n      .finally(() => vm.debounceFinished$.next());\n  };\n\n  /**\n   * Send changes to API for Assignments Objectives\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Array} assignmentAssessments Contains objects where each object represents assignment\n   * asssessments\n   */\n  vm.changeAssignmentAssessments = (assignmentAssessments) => {\n    vm.savingInProgress += 1;\n    vm.savingIndicatorVisible = true;\n    vm.savingError = false;\n\n    FetchData\n      .putObjectiveAssessmentsDrive(fileId, assignmentAssessments)\n      .then(\n        (res) => {\n          vm.savingInProgress -= 1;\n          vm.updateAssignmentAssessmentsDates(res);\n        },\n        () => {\n          vm.savingInProgress -= 1;\n          vm.savingError = true;\n        },\n      )\n      .finally(() => vm.debounceFinished$.next());\n  };\n\n  /**\n   * Debounce send changes to API for Objective Assessments\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Array} objectiveAssessments Contains objects where each object represents objectives\n   */\n  vm.debounceObjectiveAssessments = Debounce((students) => {\n    vm.changeObjectiveAssessments(students);\n  }, DEBOUNCE_TIME);\n\n  /**\n   * Debounce send changes to API for Assignments Objectives\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Array} assignmentAssessments Contains objects where each object represents assignment\n   * asssessments\n   */\n  vm.debounceAssignmentsObjectives = Debounce((assignmentAssessments) => {\n    vm.changeAssignmentAssessments(assignmentAssessments);\n  }, DEBOUNCE_TIME);\n\n  /**\n   * Choose send method\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Array} objectiveAssessments Contains objects where each object represents objectives\n   */\n  vm.matchEndpoint = (objectiveAssessments) => {\n    vm.debounceObjectiveAssessments(objectiveAssessments);\n  };\n\n\n  /**\n   * Update last modified dates for Objective Assessments\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} responseObjectiveAssessmentsArray Response from the API, contains students\n   * information\n   */\n  vm.updateObjectiveAssessmentsDates = (responseObjectiveAssessmentsArray) => {\n    responseObjectiveAssessmentsArray.forEach((resObjectiveAssessment) => {\n      vm.selectedAssignment.course_definitions.forEach((courseDefinition) => {\n        courseDefinition.objectives.forEach((objective) => {\n          if (resObjectiveAssessment.id === objective.objective_assessments.id) {\n            // eslint-disable-next-line no-param-reassign\n            objective.objective_assessments.grade_last_edit =\n              resObjectiveAssessment.grade_last_edit;\n            // eslint-disable-next-line no-param-reassign\n            objective.objective_assessments.feedback_last_edit =\n              resObjectiveAssessment.feedback_last_edit;\n            // eslint-disable-next-line no-param-reassign\n            objective.objective_assessments.private_note_last_edit =\n              resObjectiveAssessment.private_note_last_edit;\n          }\n        });\n      });\n    });\n  };\n\n  /**\n   * Update last modified dates for Assignment Assessments\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Object} responseAssignmentAssessmentsArray Response from the API, contains student\n   * information\n   */\n  vm.updateAssignmentAssessmentsDates = (responseAssignmentAssessmentsArray) => {\n    vm.selectedAssignment.result_last_edit =\n      responseAssignmentAssessmentsArray.result_last_edit;\n    // eslint-disable-next-line no-param-reassign\n    vm.selectedAssignment.feedback_last_edit =\n      responseAssignmentAssessmentsArray.feedback_last_edit;\n    // eslint-disable-next-line no-param-reassign\n    vm.selectedAssignment.private_note_last_edit =\n      responseAssignmentAssessmentsArray.private_note_last_edit;\n  };\n\n  /**\n   * Init function\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   */\n  vm.init = () => {\n    // Set the appropriate style\n    Helpers.setTheme('.studybee');\n\n    // Set default values\n    if ($stateParams.editingMode) {\n      vm.studentEditingMode = $stateParams.editingMode;\n      vm.currentStudentEditingMode = vm.studentEditingMode;\n    } else {\n      vm.studentEditingMode = 'all';\n      vm.currentStudentEditingMode = 'all';\n    }\n\n    if ($stateParams.assignmentId) {\n      vm.assignmentSelected = $stateParams.assignmentId;\n    } else {\n      vm.assignmentSelected = vm.studentAssignments[0].id;\n    }\n\n    vm.changeAssignment();\n\n    vm.selectedCourseDefinition = vm.getLastSelectedCourseDefinition();\n    vm.setTextForGradeSystem();\n  };\n\n  vm.setTextForGradeSystem = () => {\n    if (vm.gradeSystem) {\n      vm.gradeSystem.grades.forEach((grade) => {\n        const defaultGradeTexts = [{ grade_id: grade.id, text: '' }];\n        grade.text = get(vm, 'selectedCourseDefinition.objectives[0].grade_texts', defaultGradeTexts)\n          .find(gradeText => gradeText.grade_id === grade.id).text;\n      });\n    }\n  };\n\n  vm.getGradeText = (grade, objective, courseDefinition) => {\n    const defaultGradeTexts = [{ grade_id: grade.id, text: '' }];\n    const currentObjective = courseDefinition.objectives\n      .find(_objective => _objective.id === objective.objective_assessments.objective);\n\n    return get(currentObjective, 'grade_texts', defaultGradeTexts)\n      .find(gradeText => gradeText.grade_id === grade.id).text;\n  };\n\n  vm.assignmentCourseChanged = (selectedCourseDefinition = vm.selectedCourseDefinition) => {\n    vm.setTextForGradeSystem();\n    NavigationHistory.updateParams({ courseDefinitionId: selectedCourseDefinition.id });\n    $state.go('.', { courseDefinitionId: selectedCourseDefinition.id });\n  };\n\n  vm.getLastSelectedCourseDefinition = () => {\n    let courseDefinition;\n\n    if ($stateParams.courseDefinitionId) {\n      courseDefinition = vm.selectedAssignment.course_definitions\n        .find(item => item.id === $stateParams.courseDefinitionId);\n    }\n\n    return courseDefinition || vm.selectedAssignment.course_definitions[0];\n  };\n\n  vm.showGradeDescription = () => {\n    vm.isGradeDescriptionVisible = true;\n    LocalStorageService.set(vm.storageKeyGradeDescription, 'true');\n  };\n\n  vm.hideGradeDescription = () => {\n    vm.isGradeDescriptionVisible = false;\n    LocalStorageService.remove(vm.storageKeyGradeDescription);\n  };\n\n  vm.isGradeTextVisible = objective =>\n    vm.isGradeDescriptionEnable && vm.isGradeDescriptionVisible && !vm.gradeSystem.is_counter && objective.gradeText;\n\n  vm.updateDescription = (grade, objective, courseDefinition) => {\n    $timeout(() => {\n      if (grade) {\n        objective.gradeText = vm.getGradeText(grade, objective, courseDefinition);\n      } else {\n        objective.gradeText = '';\n      }\n    });\n  };\n\n  vm.changeAssignment = () => {\n    vm.studentAssignments.forEach((assignment) => {\n      if (+assignment.id === +vm.assignmentSelected) {\n        // Set selected assignment\n        vm.selectedAssignment = assignment;\n        vm.assignmentTitle = assignment.title;\n        vm.gradeSystem = assignment.grade_system;\n        vm.resultOnly = assignment.result_only;\n\n        NavigationHistory.updateParams({ assignmentId: assignment.id });\n        AssignmentsStore.setActive(+assignment.id);\n\n        // Clear checkboxes\n        vm.studentEditMultiple.checkboxChecked = false;\n        assignment.course_definitions.forEach((courseDefinition) => {\n          courseDefinition.objectives.forEach((objective) => {\n            // eslint-disable-next-line no-param-reassign\n            objective.checked = false;\n          });\n        });\n      }\n    });\n\n    if (!vm.gradeSystem) {\n      vm.selectedAssignment = vm.selectedAssignment || vm.getLastSelectedCourseDefinition();\n      const params = {\n        assignment: { ...vm.selectedAssignment, id: vm.selectedAssignment.assignment },\n      };\n      $state.go('teacher_assess_assignment', params);\n    }\n  };\n\n  /**\n   * Load view chosen in currentStudentEditingMode select\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   */\n  vm.loadView = () => {\n    vm.currentStudentEditingMode = vm.studentEditingMode;\n\n    vm.checkIfAnyCheckboxIsChecked();\n  };\n\n  /**\n   * Check if there is any checkbox selected for Student Edit Multiple\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   */\n  vm.checkIfAnyCheckboxIsChecked = () => {\n    const anyCheckboxesChecked = vm\n      .assignmentCheckboxCheckIfAny(vm.selectedAssignment.course_definitions);\n\n    vm.studentEditMultiple.anyCheckboxChecked = !!anyCheckboxesChecked;\n  };\n\n  /**\n   * Check if there is any changes to save in Student Edit Multiple\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   */\n  vm.checkEditMultiple = () => {\n    const visibilityStudentEditing = ['assessment', 'objectives_feedback'];\n    const gradeStudentEditing = ['assessment'];\n    const textStudentEditing = ['objectives_feedback', 'objectives_private_notes'];\n    const mode = vm.studentEditMultiple;\n\n    mode.changesToSave = Helpers.isVisibilityChanges(\n      mode.visibility,\n      vm.currentStudentEditingMode,\n      visibilityStudentEditing) ||\n      Helpers.isGradeChanges(mode.grade, vm.currentStudentEditingMode, gradeStudentEditing) ||\n      Helpers.isTextChanges(mode.textField, vm.currentStudentEditingMode, textStudentEditing);\n  };\n\n  /**\n   * Save changes for Student Edit Multiple\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   */\n  vm.saveEditMultiple = () => {\n    const selectedItems = TeacherAssessAssignmentDriveService\n      .findSelectedItems(vm.currentStudentEditingMode, vm.selectedAssignment);\n    const objectiveAssessments = TeacherAssessAssignmentDriveService.extractObjectiveAssessments(selectedItems);\n\n    vm.changeMultipleTexts(objectiveAssessments);\n    vm.changeMultipleGrades(objectiveAssessments);\n    vm.changeMultipleVisible(objectiveAssessments);\n\n    vm.matchEndpoint(objectiveAssessments);\n\n    vm.clearEditMultiple();\n\n    Mixpanel.track('edit_multiple');\n  };\n\n  /**\n   * Set defaults values for Student Edit Multiple and clear changesToSave flag to false\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   */\n  vm.clearEditMultiple = () => {\n    vm.studentEditMultiple.grade = 'not_changed';\n    vm.studentEditMultiple.visibility = 'not_changed';\n    vm.studentEditMultiple.textMode = 'new_text';\n    vm.studentEditMultiple.textField = '';\n    vm.studentEditMultiple.changesToSave = false;\n  };\n\n  /**\n   * Close Student Edit Multiple\n   * @memberof module:TeacherAssessAssignmentStudent\n   */\n  vm.closeEditMultiple = () => {\n    vm.studentEditMultiple.open = false;\n  };\n\n  /**\n   * Handle changing text of single item\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Function} savingMethod Function for saving changes\n   * @param {Object} savingItem Object that should be saved\n   * @param {String} eventCode Mixpanel event code\n   */\n  vm.changeSingleText = (savingMethod, savingItem, eventCode) => {\n    Helpers.changeSingleText(savingMethod, savingItem, eventCode);\n  };\n\n  /**\n   * Handle changing visible of single item\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Function} savingMethod Function for saving changes\n   * @param {Object} savingItem Object that should be saved\n   * @param {Object} editingItem Object that will be editing\n   * @param {String} editingProperty Property that will be editing\n   * @param {String} eventCode Mixpanel event code\n   */\n  vm.changeSingleVisible = (savingMethod, savingItem, editingItem, editingProperty, eventCode) => {\n    Helpers.changeSingleVisible(savingMethod, savingItem, editingItem, editingProperty, eventCode);\n  };\n\n  /**\n   * Handle changing grade of single item\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Function} savingMethod Function for saving changes\n   * @param {Object} savingItem Object that should be saved\n   * @param {String} eventCode Mixpanel event code\n   */\n  vm.changeSingleGrade = (savingMethod, savingItem, eventCode) => {\n    Helpers.changeSingleGrade(savingMethod, savingItem, eventCode);\n  };\n\n  /**\n   * Handle changing text of multiple items\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Array} selectedItems Contains selected items\n   */\n  vm.changeMultipleTexts = (selectedItems) => {\n    if (!vm.studentEditMultiple.textField) {\n      return;\n    }\n\n    const studentEditing = ['objectives_feedback', 'objectives_private_notes'];\n    const pass = Helpers.checkIfModeAvailable(vm.currentStudentEditingMode, studentEditing);\n\n    if (!pass) {\n      return;\n    }\n\n    const textMode = vm.studentEditMultiple.textMode;\n    const textField = vm.studentEditMultiple.textField;\n\n    const textProperty = TeacherAssessAssignmentDriveService\n      .findTextPropoerty(vm.currentStudentEditingMode);\n\n    selectedItems.forEach((itemElem) => {\n      const oldValue = itemElem[textProperty];\n\n      if (textMode === 'new_text') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[textProperty] = textField;\n      } else if (textMode === 'append_text_first') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[textProperty] = `${textField} ${oldValue}`;\n      } else if (textMode === 'append_text_last') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[textProperty] = `${oldValue}  ${textField}`;\n      }\n    });\n  };\n\n  /**\n   * Handle changing visible of multiple items\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Array} selectedItems Contains selected items\n   */\n  vm.changeMultipleVisible = (selectedItems) => {\n    const studentEditing = ['assessment', 'objectives_feedback'];\n\n    if (vm.studentEditMultiple.visibility === 'not_changed') {\n      return;\n    }\n\n    const pass = Helpers.checkIfModeAvailable(vm.currentStudentEditingMode, studentEditing);\n\n    if (!pass) {\n      return;\n    }\n\n    const visibilityMode = vm.studentEditMultiple.visibility;\n\n    const visibilityProperty = TeacherAssessAssignmentDriveService\n      .findVisibilityPropoerty(vm.currentStudentEditingMode);\n\n    selectedItems.forEach((itemElem) => {\n      if (visibilityMode === 'set_visible') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[visibilityProperty] = true;\n      } else if (visibilityMode === 'set_hidden') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[visibilityProperty] = false;\n      }\n    });\n  };\n\n  /**\n   * Handle changing grades of multiple items\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Array} selectedItems Contains selected items\n   */\n  vm.changeMultipleGrades = (selectedItems) => {\n    const studentEditing = ['assessment'];\n\n    if (vm.studentEditMultiple.grade === 'not_changed') {\n      return;\n    }\n\n    const pass = Helpers.checkIfModeAvailable(vm.currentStudentEditingMode, studentEditing);\n\n    if (!pass) {\n      return;\n    }\n\n    const grade = vm.studentEditMultiple.grade;\n\n    selectedItems.forEach((itemElem) => {\n      if (!itemElem.grade_system_is_counter) {\n        // eslint-disable-next-line no-param-reassign\n        itemElem.grade_name = grade;\n      }\n    });\n  };\n\n  /**\n   * Handle changes dialog (using setTimeout for $scope.$apply function\n   * because it's trigger by $scope.$on and this listener\n   * doesn't trigger $scope.$apply function)\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {String} triggerType Trigger type (cancelEditingMode, changeEditingMode,\n   * clickStudentInClassroom)\n   * @param {Number} studentId Student ID of clicked student\n   */\n  vm.showChangesDialog = (triggerType, studentId) => {\n    // Without changes\n      if (triggerType === 'cancelEditingMode') {\n        vm.clearEditMultiple();\n        vm.closeEditMultiple();\n      }\n      if (triggerType === 'changeEditingMode') {\n        NavigationHistory.updateParams({ editingMode: vm.studentEditingMode });\n        vm.clearEditMultiple();\n        vm.loadView();\n        if (vm.studentEditingMode === 'all') {\n          vm.studentEditMultiple.open = false;\n        }\n      }\n      if (triggerType === 'reloadState') {\n        NavigationHistory.transitionTo('teacher_assess_assignment_drive', { studentId });\n      }\n      return;\n  };\n\n  /**\n   * Open action menu\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Object} $mdOpenMenu Angular Material $mdOpenMenu object\n   * @param {Object} e Event object\n   */\n  vm.openActionMenu = ($mdOpenMenu, e) => {\n    $mdOpenMenu(e);\n  };\n\n  vm.onClickMenuItem = (toolbarMenuItem) => {\n    vm.viewMenuItems.forEach((menuItem) => {\n      Object.assign(menuItem, { checked: false });\n    });\n    Object.assign(toolbarMenuItem, { checked: true });\n    ListViewMenuService.saveListViewMenu(storageViewMenuId, vm.viewMenuItems);\n    vm.viewMode = toolbarMenuItem.eventArgs.view;\n  };\n\n  vm.isTitleVisible = (title) =>\n    vm.viewMode !== ListViewType.DESCRIPTION_ONLY && `${title}`.trim().length;\n\n  vm.isDescriptionVisible = (description) =>\n    vm.viewMode !== ListViewType.TITLE_ONLY && `${$filter('getFormattedOrEmpty')(description)}`.trim().length;\n\n  vm.updateLastEditTimestampForAssignment = (id = vm.assignment.id) => {\n    AssignmentsService.update({id});\n  };\n\n  vm.init();\n}\n\nMainCtrl.prototype = Object.assign(MainCtrl.prototype, AssignmentSingleCheckboxes.prototype);\n\nmodule.exports = MainCtrl;\n","import { Service } from '../../utils/decorators/service.decorator';\nimport TeacherAssessAssignmentDriveModule from './teacherAssessAssignmentDrive.module';\n\n@Service({\n  module: TeacherAssessAssignmentDriveModule,\n  name: 'TeacherAssessAssignmentDriveService',\n})\nexport class TeacherAssessAssignmentDriveService {\n  constructor() {\n    'ngInject';\n  }\n\n  public findVisibilityPropoerty(currentStudentEditingMode: string): string {\n    const map: { [prop: string]: string } = {\n      assessment: 'grade_published',\n      objectives_feedback: 'feedback_published',\n    };\n\n    return map[currentStudentEditingMode];\n  }\n\n  public findTextPropoerty(currentStudentEditingMode: string): string {\n    const map: { [prop: string]: string } = {\n      objectives_feedback: 'feedback',\n      objectives_private_notes: 'private_note',\n    };\n\n    return map[currentStudentEditingMode];\n  }\n\n  public findSelectedItems(currentStudentEditingMode: string, selectedAssignment: any): any[] {\n    if (['assessment', 'objectives_feedback', 'objectives_private_notes'].includes(currentStudentEditingMode)) {\n      return selectedAssignment.course_definitions.reduce((accCoursesDefinitions: any[], courseDefinition: any): any[] =>\n          [\n            ...accCoursesDefinitions,\n            ...courseDefinition.objectives.filter((objectiveElem) => objectiveElem.checked),\n          ],\n        []);\n    }\n\n    return [];\n  }\n\n  public extractObjectiveAssessments(items: any): any[] {\n    return items.map(item => item.objective_assessments);\n  }\n}\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\nimport get from 'lodash.get';\nimport { GroupedVisibilitySettings } from '../../../shared/models/groupedVisibilitySettings.model';\nimport { GroupedVisibilityDialogType } from '../../../shared/enums/groupedVisibilityDialogType.enum';\nimport { ListViewType } from '../../../shared/enums/listViewType.enum';\nimport { AssessmentStatus } from '../../../../../../src/app/shared/models/assessment.model';\nimport {combineQueries} from \"@datorama/akita\";\nimport {map, filter, switchMap} from \"rxjs/operators\";\nimport {noop, Subject} from \"rxjs\";\n\nconst AssignmentSingleCheckboxes = require('../../../utils/components/assignment_single_checkbox');\n\n/**\n * @module TeacherAssessAssignmentStudent/Controller\n * @description\n *   Handle Assess Assignment Student feature for Teacher\n * @param {Object} $scope Angular $scope object\n * @param {Object} $stateParams Angular $stateParams object\n * @param {Object} $mdDialog Angular Material $mdDialog object\n * @param {Object} Path Path service instance\n * @param {Object} FetchData Fetch Data service instance\n * @param {Object} Debounce Debounce service instance\n * @param {Object} Helpers Helpers service instance\n * @param {Object} LocalHelpers Local Helpers service instance\n * @param {Object} NavigationHistory Navigation History service instance\n * @param {Object} MainMenu Main Menu service instance\n * @param {Object} Mixpanel Mixpanel service instance\n * @param {Object} assignmentsObjectives Resolve from Config\n * @param {Object} assignmentsStudents Resolve from Config\n */\n\n/*@ngInject*/\nfunction MainCtrl(\n  $scope, $stateParams, $state, $mdDialog, $filter, $timeout, Path, FetchData, Updates, Debounce,\n  Helpers, TeacherAssessAssignmentStudentService, NavigationHistory, MainMenu, Mixpanel,\n  Students, assignmentsObjectives, assignment, GroupedVisibilityService,\n  GroupedVisibilityDialogService, ListViewMenuService, LocalStorageService, $sce, $compile, AssignmentsService,\n  AssignmentsQuery, AssessmentsService, AssignmentService, AssessmentsQuery, AssessmentVisibilityDialogService,\n) {\n  const vm = this;\n  const courseId = Path.getClassroomId();\n  const DEBOUNCE_TIME = 250;\n  const storageViewMenuId = 'teacherAssessAssignmentStudent';\n\n  vm.AssessmentsService = AssessmentsService;\n  vm.savingInProgress = 0;\n  vm.savingIndicatorVisible = false;\n  vm.savingError = false;\n  vm.storageKeyGradeDescription = `${storageViewMenuId}GradeDescriptionVisible`;\n  vm.isGradeDescriptionVisible = LocalStorageService.exists(vm.storageKeyGradeDescription);\n\n  // Set default values for Student Edit Multiple\n  vm.studentEditMultiple = {\n    grade: 'not_changed',\n    visibility: 'not_changed',\n    open: false,\n  };\n\n  // Get data from API\n  vm.assignmentTitle = assignmentsObjectives.title;\n  vm.gradeSystem = assignmentsObjectives.grade_system;\n  vm.resultOnly = assignmentsObjectives.result_only;\n  vm.isGradeDescriptionEnable = assignmentsObjectives.enable_grade_texts;\n  vm.students = [];\n  Students.getStudentsList().then((students) => vm.students = students);\n  vm.viewMenuItems = ListViewMenuService.getListViewMenu(storageViewMenuId);\n  vm.viewMode = vm.viewMenuItems.find(listViewMenuItem => listViewMenuItem.checked)\n    .eventArgs.view;\n\n  vm.assignment = assignment;\n  vm.subscriptions = [];\n\n  vm.subscriptions.push(combineQueries([\n    AssignmentsQuery.selectActive().pipe(filter(Boolean)),\n    AssessmentsQuery.selectAll({asObject: true})\n  ]).pipe(\n    map(([assignment, assessments]) => ({\n        ...assignment,\n        assessments: assignment.assessments.map(assessmentID => assessments[assessmentID]),\n      })\n    ),\n  ).subscribe(assignment => {\n    const studentID = +vm.studentSelect || $stateParams.studentId;\n    vm.assignment = assignment || $stateParams.assignment;\n    vm.assessment = vm.assignment.assessments.find(assessment => assessment.student_id === studentID);\n    vm.selectedStatus = vm.assessment.status_new;\n  }));\n\n  vm.debounceFinished$ = new Subject();\n  vm.subscriptions.push(vm.debounceFinished$.subscribe(() => {\n    vm.AssessmentsService.synchronizeWarningStatus(vm.assessment).subscribe(() => {\n      vm.updateLastEditTimestampForAssignment();\n    });\n  }));\n\n  $scope.$on('$destroy', () => {\n    vm.subscriptions.forEach(subscription => subscription.unsubscribe());\n  });\n\n  /**\n   * Send changes to API for Objective Assessments\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Array} objectiveAssessments Contains objects where each object represents objectives\n   */\n  vm.changeObjectiveAssessments = (objectiveAssessments) => {\n    vm.savingInProgress += 1;\n    vm.savingIndicatorVisible = true;\n    vm.savingError = false;\n\n    FetchData.putObjectiveAssessments(objectiveAssessments)\n      .then(\n        (res) => {\n          vm.savingInProgress -= 1;\n          vm.updateObjectiveAssessmentsDates(res);\n        },\n        () => {\n          vm.savingInProgress -= 1;\n        },\n      )\n      .finally(() => vm.debounceFinished$.next());\n  };\n\n  vm.statusChange = (status) => {\n    const assessment = vm.assignment.assessments.find(assessment => assessment.student_id === +vm.studentSelect);\n    let updateStatus$;\n\n    if (status === AssessmentStatus.ASSESSMENT_DONE) {\n      vm.selectedStatus = null;\n      setTimeout(() => {\n        vm.selectedStatus = assessment.status_new;\n      });\n      updateStatus$ = AssessmentVisibilityDialogService.open(vm.assignment.id).pipe(\n        switchMap(assessmentVisibilityDialog => {\n          const statusUpdateBody = {\n            ...assessmentVisibilityDialog,\n            status,\n          };\n          return AssessmentsService.updateStatus(vm.assignment.id, assessment, statusUpdateBody);\n        })\n      )\n    } else {\n      updateStatus$ = AssessmentsService.updateStatus(vm.assignment.id, assessment, {status});\n    }\n\n    updateStatus$.subscribe(() => {\n      vm.updateLastEditTimestampForAssignment();\n      if (status === AssessmentStatus.ASSESSMENT_DONE) {\n        $state.transitionTo($state.current, NavigationHistory.getCurrentParams(), {\n          reload: true, inherit: false, notify: false\n        });\n      }\n    });\n  };\n\n  /**\n   * Send changes to API for Assignments Assessments\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Array} assignmentAssessments Contains objects where each object represents assignment\n   * asssessments\n   */\n  vm.changeAssignmentAssessments = (assignmentAssessments) => {\n    vm.savingInProgress += 1;\n    vm.savingIndicatorVisible = true;\n    vm.savingError = false;\n\n    FetchData.v2.putAssignmentAssessments(assignment.id, assignmentAssessments)\n      .then(\n        (res) => {\n          vm.savingInProgress -= 1;\n          vm.updateAssignmentAssessmentsDates(res);\n        },\n        () => {\n          vm.savingInProgress -= 1;\n          vm.savingError = true;\n        },\n      )\n      .finally(() => vm.debounceFinished$.next());\n  };\n\n  /**\n   * Debounce send changes to API for Objective Assessments\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Array} objectiveAssessments Contains objects where each object represents objectives\n   */\n  vm.debounceObjectiveAssessments = Debounce((objectiveAssessments) => {\n    vm.changeObjectiveAssessments(objectiveAssessments);\n  }, DEBOUNCE_TIME);\n\n  /**\n   * Debounce send changes to API for Assignments Assessments\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Array} assignmentAssessments Contains objects where each object represents assignment\n   * asssessments\n   */\n  vm.debounceAssignmentsAssessments = Debounce((assignmentAssessments) => {\n    vm.changeAssignmentAssessments(assignmentAssessments);\n  }, DEBOUNCE_TIME);\n\n  /**\n   * Choose send method\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Array} objectiveAssessments Contains objects where each object represents objectives\n   */\n  vm.matchEndpoint = (objectiveAssessments) => {\n    vm.debounceObjectiveAssessments(objectiveAssessments);\n  };\n\n  /**\n   * Update last modified dates for Objective Assessments\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} responseObjectiveAssessmentsArray Response from the API, contains students\n   * information\n   */\n  vm.updateObjectiveAssessmentsDates = (responseObjectiveAssessmentsArray) => {\n    responseObjectiveAssessmentsArray.forEach((resObjectiveAssessment) => {\n      vm.selectedStudent.course_definitions.forEach((courseDefinition) => {\n        courseDefinition.objectives.forEach((objective) => {\n          if (resObjectiveAssessment.id !== objective.objective_assessments.id) {\n            return;\n          }\n\n          // eslint-disable-next-line no-param-reassign\n          objective.objective_assessments.grade_last_edit =\n            resObjectiveAssessment.grade_last_edit;\n\n          // eslint-disable-next-line no-param-reassign\n          objective.objective_assessments.feedback_last_edit =\n            resObjectiveAssessment.feedback_last_edit;\n\n          // eslint-disable-next-line no-param-reassign\n          objective.objective_assessments.private_note_last_edit =\n            resObjectiveAssessment.private_note_last_edit;\n        });\n      });\n    });\n  };\n\n  /**\n   * Update last modified dates for Assignment Assessments\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} responseAssignmentAssessmentsArray Response from the API, contains students\n   * information\n   */\n  vm.updateAssignmentAssessmentsDates = (responseAssignmentAssessmentsArray) => {\n    vm.selectedStudent.assignmentAssessment.result_last_edit =\n      responseAssignmentAssessmentsArray[0].result_last_edit;\n\n    vm.selectedStudent.assignmentAssessment.feedback_last_edit =\n      responseAssignmentAssessmentsArray[0].feedback_last_edit;\n\n    vm.selectedStudent.assignmentAssessment.private_note_last_edit =\n      responseAssignmentAssessmentsArray[0].private_note_last_edit;\n  };\n\n  /**\n   * Init function\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.init = () => {\n    // Set default values\n    if ($stateParams.editingMode) {\n      vm.studentEditingMode = $stateParams.editingMode;\n      vm.currentStudentEditingMode = vm.studentEditingMode;\n    } else {\n      vm.studentEditingMode = 'all';\n      vm.currentStudentEditingMode = 'all';\n    }\n\n    // Check if user clicked on student name in extension (get student id)\n    // or in classroom (get student name) and return proper value.\n    if ($stateParams.studentId) {\n      vm.studentSelect = $stateParams.studentId;\n    } else if ($stateParams.studentName) {\n      vm.studentSelect = Helpers.findStudentIdByName(vm.students, $stateParams.studentName);\n    }\n\n    // Generate common structure\n    vm.generateStructure();\n\n    // Init change student\n    vm.changeStudent();\n    vm.selectedCourseDefinition = vm.getLastSelectedCourseDefinition();\n    vm.setTextForGradeSystem();\n  };\n\n  vm.setTextForGradeSystem = () => {\n    vm.gradeSystem.grades.forEach((grade) => {\n      const defaultGradeTexts = [{ grade_id: grade.id, text: '' }];\n      grade.text = get(vm, 'selectedCourseDefinition.objectives[0].grade_texts', defaultGradeTexts)\n        .find(gradeText => gradeText.grade_id === grade.id).text;\n    });\n  };\n\n  vm.getGradeText = (grade, objective, courseDefinition) => {\n    const defaultGradeTexts = [{ grade_id: grade.id, text: '' }];\n    const currentObjective = courseDefinition.objectives\n      .find(_objective => _objective.id === objective.objective_assessments.objective);\n\n    return get(currentObjective, 'grade_texts', defaultGradeTexts)\n      .find(gradeText => gradeText.grade_id === grade.id).text;\n  };\n\n  vm.getLastSelectedCourseDefinition = () => {\n    let courseDefinition;\n\n    if ($stateParams.courseDefinitionId) {\n      courseDefinition = vm.selectedStudent.course_definitions\n        .find(item => item.id === $stateParams.courseDefinitionId);\n    }\n\n    return courseDefinition || vm.selectedStudent.course_definitions[0];\n  };\n\n  vm.generateStructure = () => {\n    vm.selectedStudent = {};\n\n    vm.selectedStudent.course_definitions = assignmentsObjectives.course_definitions\n      .filter(courseDefinition =>\n        courseDefinition.objectives.length ? courseDefinition.objectives : null,\n      );\n  };\n\n  /**\n   * Fetch information about assignment assessments\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.fetchAssignmentAssessments = () => {\n    vm.selectedStudent.assignmentAssessment = {};\n    vm.selectedStudent.assignmentAssessmentFetching = true;\n\n    FetchData.v2.getAssignmentAssessments(assignment.id, vm.studentSelect)\n      .then((res) => {\n        vm.selectedStudent.assignmentAssessment = Object\n          .assign({}, vm.selectedStudent.assignmentAssessment, res);\n\n        vm.selectedStudent.assignmentAssessmentFetching = false;\n      });\n  };\n\n  /**\n   * Fetch information about objective assessments\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.fetchObjectiveAssessments = () => {\n    vm.selectedStudent.objectiveAssessmentFetching = true;\n\n    FetchData.v2.getObjectiveAssessments(assignment.id, vm.studentSelect)\n      .then((res) => {\n        vm.selectedStudent.course_definitions.forEach((courseDefinitions) => {\n          courseDefinitions.objectives.forEach((objective) => {\n            res.forEach((resObjective) => {\n              if (objective.id !== resObjective.objective) {\n                return;\n              }\n              // eslint-disable-next-line no-param-reassign\n              objective.objective_assessments = resObjective;\n            });\n          });\n        });\n\n        vm.selectedStudent.objectiveAssessmentFetching = false;\n      });\n  };\n\n  /**\n   * Go to previous history entry\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.historyBack = () => {\n    if (vm.historyBackClicked) {\n      return;\n    }\n\n    vm.historyBackClicked = true;\n\n    // Clear students details\n    MainMenu.saveStudentDetails(null);\n    // reset only when we want to get beck to the assignments list\n    // this is an ugly workaround ......\n    if (NavigationHistory.getPreviousState() &&\n      NavigationHistory.getPreviousState().stateName.startsWith('teacherAssignments')) {\n      MainMenu.saveAssignmentDetails(null);\n    }\n\n    NavigationHistory.back({ courseDefinitionId: vm.selectedCourseDefinition.id });\n  };\n\n  /**\n   * Change selected student using select\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.changeStudent = () => {\n    vm.fetchAssignmentAssessments();\n    vm.fetchObjectiveAssessments();\n    vm.setTextForGradeSystem();\n\n    vm.assessment = vm.assignment.assessments.find(assessment => assessment.student_id === +vm.studentSelect);\n    vm.selectedStatus = vm.assessment.status_new;\n\n    NavigationHistory.updateParams({ studentId: +vm.studentSelect });\n  };\n\n  /**\n   * Load view chosen in currentStudentEditingMode select\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.loadView = () => {\n    vm.currentStudentEditingMode = vm.studentEditingMode;\n    vm.checkIfAnyCheckboxIsChecked();\n  };\n\n  /**\n   * Check if there is any checkbox selected for Student Edit Multiple\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.checkIfAnyCheckboxIsChecked = () => {\n    vm.studentEditMultiple.anyCheckboxChecked =\n      vm.assignmentCheckboxCheckIfAny(vm.selectedStudent.course_definitions);\n  };\n\n  /**\n   * Check if there is any changes to save in Student Edit Multiple\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.checkEditMultiple = () => {\n    const visibilityStudentEditing = ['assessment', 'objectives_feedback'];\n    const gradeStudentEditing = ['assessment'];\n    const textStudentEditing = ['objectives_feedback', 'objectives_private_notes'];\n\n    const mode = vm.studentEditMultiple;\n\n    mode.changesToSave =\n      Helpers.isVisibilityChanges(\n        mode.visibility,\n        vm.currentStudentEditingMode,\n        visibilityStudentEditing) ||\n      Helpers.isGradeChanges(mode.grade, vm.currentStudentEditingMode, gradeStudentEditing) ||\n      Helpers.isTextChanges(mode.textField, vm.currentStudentEditingMode, textStudentEditing);\n  };\n\n  /**\n   * Save changes for Student Edit Multiple\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.saveEditMultiple = () => {\n    const selectedItems = TeacherAssessAssignmentStudentService\n      .findSelectedItems(vm.currentStudentEditingMode, vm.selectedStudent);\n    const objectiveAssessments = TeacherAssessAssignmentStudentService.extractObjectiveAssessments(selectedItems);\n\n    vm.changeMultipleTexts(objectiveAssessments);\n    vm.changeMultipleGrades(objectiveAssessments);\n    vm.changeMultipleVisible(objectiveAssessments);\n\n    vm.matchEndpoint(objectiveAssessments);\n\n    vm.clearEditMultiple();\n\n    Mixpanel.track('edit_multiple');\n  };\n\n  /**\n   * Set defaults values for Student Edit Multiple and clear changesToSave flag to false\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.clearEditMultiple = () => {\n    vm.studentEditMultiple.grade = 'not_changed';\n    vm.studentEditMultiple.visibility = 'not_changed';\n    vm.studentEditMultiple.textMode = 'new_text';\n    vm.studentEditMultiple.textField = '';\n    vm.studentEditMultiple.changesToSave = false;\n  };\n\n  /**\n   * Close Student Edit Multiple\n   * @memberof module:TeacherAssessAssignmentStudent\n   */\n  vm.closeEditMultiple = () => {\n    vm.studentEditMultiple.open = false;\n  };\n\n  /**\n   * Handle changing text of single item\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Function} savingMethod Function for saving changes\n   * @param {Object} savingItem Object that should be saved\n   * @param {String} eventCode Mixpanel event code\n   */\n  vm.changeSingleText = (savingMethod, savingItem, eventCode) => {\n    Helpers.changeSingleText(savingMethod, savingItem, eventCode);\n    vm.updateLastEditTimestampForAssignment();\n  };\n\n  /**\n   * Handle changing visible of single item\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Function} savingMethod Function for saving changes\n   * @param {Object} savingItem Object that should be saved\n   * @param {Object} editingItem Object that will be editing\n   * @param {String} editingProperty Property that will be editing\n   * @param {String} eventCode Mixpanel event code\n   */\n  vm.changeSingleVisible = (savingMethod, savingItem, editingItem, editingProperty, eventCode) => {\n    Helpers.changeSingleVisible(savingMethod, savingItem, editingItem, editingProperty, eventCode);\n  };\n\n  /**\n   * Handle changing grade of single item\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Function} savingMethod Function for saving changes\n   * @param {Object} savingItem Object that should be saved\n   * @param {String} eventCode Mixpanel event code\n   */\n  vm.changeSingleGrade = (savingMethod, savingItem, eventCode) => {\n    Helpers.changeSingleGrade(savingMethod, savingItem, eventCode);\n  };\n\n  /**\n   * Handle changing text of multiple items\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Array} selectedItems Contains selected items\n   */\n  vm.changeMultipleTexts = (selectedItems) => {\n    const studentEditing = ['objectives_feedback', 'objectives_private_notes'];\n\n    if (!vm.studentEditMultiple.textField) {\n      return;\n    }\n\n\n    const pass = Helpers.checkIfModeAvailable(vm.currentStudentEditingMode, studentEditing);\n\n    if (!pass) {\n      return;\n    }\n\n    const textMode = vm.studentEditMultiple.textMode;\n    const textField = vm.studentEditMultiple.textField;\n    const textProperty = TeacherAssessAssignmentStudentService\n      .findTextPropoerty(vm.currentStudentEditingMode);\n\n    selectedItems.forEach((itemElem) => {\n      const oldValue = itemElem[textProperty];\n      if (textMode === 'new_text') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[textProperty] = textField;\n      } else if (textMode === 'append_text_first') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[textProperty] = `${textField} ${oldValue}`;\n      } else if (textMode === 'append_text_last') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[textProperty] = `${oldValue} ${textField}`;\n      }\n    });\n  };\n\n  /**\n   * Handle changing visible of multiple items\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Array} selectedItems Contains selected items\n   */\n  vm.changeMultipleVisible = (selectedItems) => {\n    const studentEditing = ['assessment', 'objectives_feedback'];\n\n    if (vm.studentEditMultiple.visibility === 'not_changed') {\n      return;\n    }\n\n    const pass = Helpers.checkIfModeAvailable(vm.currentStudentEditingMode, studentEditing);\n\n    if (!pass) {\n      return;\n    }\n\n    const visibilityMode = vm.studentEditMultiple.visibility;\n\n    const visibilityProperty = TeacherAssessAssignmentStudentService\n      .findVisibilityPropoerty(vm.currentStudentEditingMode);\n\n    selectedItems.forEach((itemElem) => {\n      if (visibilityMode === 'set_visible') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[visibilityProperty] = true;\n      } else if (visibilityMode === 'set_hidden') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[visibilityProperty] = false;\n      }\n    });\n  };\n\n  /**\n   * Handle changing grades of multiple items\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Array} selectedItems Contains selected items\n   */\n  vm.changeMultipleGrades = (selectedItems) => {\n    const studentEditing = ['assessment'];\n\n    if (vm.studentEditMultiple.grade === 'not_changed') {\n      return;\n    }\n\n    const pass = Helpers.checkIfModeAvailable(vm.currentStudentEditingMode, studentEditing);\n\n    if (!pass) {\n      return;\n    }\n\n    const grade = vm.studentEditMultiple.grade;\n\n    selectedItems.forEach((itemElem) => {\n      if (itemElem.grade_system_is_counter) {\n        return;\n      }\n\n      // eslint-disable-next-line no-param-reassign\n      itemElem.grade_name = grade;\n    });\n  };\n\n  /**\n   * Handle changes dialog (using setTimeout for $scope.$apply function\n   * because it's trigger by $scope.$on and this listener\n   * doesn't trigger $scope.$apply function)\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {String} triggerType Trigger type (cancelEditingMode, changeEditingMode,\n   * clickStudentInClassroom)\n   * @param {Number} studentId Student ID of clicked student\n   */\n  vm.showChangesDialog = (triggerType, studentId) => {\n    // Without changes\n      if (triggerType === 'cancelEditingMode') {\n        vm.clearEditMultiple();\n        vm.closeEditMultiple();\n      }\n      if (triggerType === 'changeEditingMode') {\n        NavigationHistory.updateParams({ editingMode: vm.studentEditingMode });\n        vm.clearEditMultiple();\n        vm.loadView();\n        if (vm.studentEditingMode === 'all') {\n          vm.studentEditMultiple.open = false;\n        }\n      }\n      if (triggerType === 'clickStudentInClassroom') {\n        vm.studentSelect = studentId;\n        vm.changeStudent();\n        $timeout(() => {\n        });\n        vm.closeEditMultiple();\n        vm.clearEditMultiple();\n      }\n      if (triggerType === 'reloadState') {\n        NavigationHistory.go('teacher_assess_assignment_student', { studentId, assignment });\n      }\n      return;\n  };\n\n  /**\n   * Open action menu\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Object} $mdOpenMenu Angular Material $mdOpenMenu object\n   * @param {Object} e Event object\n   */\n  vm.openActionMenu = ($mdOpenMenu, e) => {\n    $mdOpenMenu(e);\n  };\n\n  /**\n   * Go to Assess Course option\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.goToAssessCourseOption = () => {\n    NavigationHistory.go('teacher_assess_course_student', { studentId: vm.studentSelect });\n  };\n\n  vm.assignmentCourseChanged = (selectedCourseDefinition = vm.selectedCourseDefinition) => {\n    vm.setTextForGradeSystem();\n    NavigationHistory.updateParams({ courseDefinitionId: selectedCourseDefinition.id });\n    $state.go('.', { courseDefinitionId: selectedCourseDefinition.id });\n  };\n\n  // Listen on Clicked Student in Classroom event (trigger when user click on student link in\n  // classroom)\n  // and redirect to students details for clicked student.\n  // Use debounce because clickedStudentInClassroom is trigger twice from unknown reason.\n  $scope.$on('clickedStudentInClassroom', Debounce((e, studentName) => {\n    let studentId = Helpers.findStudentIdByName(vm.students, studentName);\n\n    if (!studentId) {\n      Updates.updateStudents(courseId, true).then((res) => {\n        studentId = Helpers.findStudentIdByName(res, studentName);\n        vm.showChangesDialog('reloadState', studentId);\n      });\n    } else {\n      vm.showChangesDialog('clickStudentInClassroom', studentId);\n    }\n  }, DEBOUNCE_TIME));\n\n  vm.init();\n\n  vm.setVisibility = () => {\n    const settings =\n      new GroupedVisibilitySettings(GroupedVisibilityDialogType.AssignmentStudentView);\n\n    settings.students = [this.students.find(student => student.id === vm.studentSelect)];\n    settings.courseDefinitions = assignmentsObjectives.course_definitions\n      .filter(courseDefinition => !!courseDefinition.objectives.length);\n\n    GroupedVisibilityDialogService.show(settings).then((groupedVisibility) => {\n      GroupedVisibilityService.patchAssignmentAssessmentsGroupedVisibility(groupedVisibility)\n        .then(() => $state.reload());\n    });\n  };\n\n  vm.updateDescription = (grade, objective, courseDefinition) => {\n    $timeout(() => {\n      if (grade) {\n        objective.gradeText = vm.getGradeText(grade, objective, courseDefinition);\n      } else {\n        objective.gradeText = '';\n      }\n    });\n  };\n\n  vm.onClickMenuItem = (toolbarMenuItem) => {\n    vm.viewMenuItems.forEach((menuItem) => {\n      Object.assign(menuItem, { checked: false });\n    });\n    Object.assign(toolbarMenuItem, { checked: true });\n    ListViewMenuService.saveListViewMenu(storageViewMenuId, vm.viewMenuItems);\n    vm.viewMode = toolbarMenuItem.eventArgs.view;\n  };\n\n  vm.isTitleVisible = (title) =>\n    vm.viewMode !== ListViewType.DESCRIPTION_ONLY && `${title}`.trim().length;\n\n  vm.isDescriptionVisible = (description) =>\n    vm.viewMode !== ListViewType.TITLE_ONLY && `${$filter('getFormattedOrEmpty')(description)}`.trim().length;\n\n  vm.showGradeDescription = () => {\n    vm.isGradeDescriptionVisible = true;\n    LocalStorageService.set(vm.storageKeyGradeDescription, 'true');\n  };\n\n  vm.hideGradeDescription = () => {\n    vm.isGradeDescriptionVisible = false;\n    LocalStorageService.remove(vm.storageKeyGradeDescription);\n  };\n\n  vm.isGradeTextMenuVisible = () => {\n    return vm.isGradeDescriptionEnable && !vm.gradeSystem.is_counter;\n  };\n\n  vm.isGradeTextVisible = (objective) => {\n    return vm.isGradeTextMenuVisible() && vm.isGradeDescriptionVisible &&\n      !vm.gradeSystem.is_counter && objective.gradeText;\n  };\n\n  vm.updateLastEditTimestampForAssignment = (id = vm.assignment.id) => {\n    AssignmentsService.update({id});\n  };\n}\n\nMainCtrl.prototype = Object.assign(MainCtrl.prototype, AssignmentSingleCheckboxes.prototype);\n\nmodule.exports = MainCtrl;\n","import { Service } from '../../utils/decorators/service.decorator';\nimport TeacherAssessAssignmentStudentModule from './teacherAssessAssignmentStudent.module';\n\n@Service({\n  module: TeacherAssessAssignmentStudentModule,\n  name: 'TeacherAssessAssignmentStudentService',\n})\nexport class TeacherAssessAssignmentStudentService {\n  constructor() {\n    'ngInject';\n  }\n\n  public findVisibilityPropoerty(currentStudentEditingMode: string): string {\n    const map: { [prop: string]: string } = {\n      assessment: 'grade_published',\n      objectives_feedback: 'feedback_published',\n    };\n\n    return map[currentStudentEditingMode];\n  }\n\n  public findTextPropoerty(currentStudentEditingMode: string): string {\n    const map: { [prop: string]: string } = {\n      objectives_feedback: 'feedback',\n      objectives_private_notes: 'private_note',\n    };\n\n    return map[currentStudentEditingMode];\n  }\n\n  public findSelectedItems(currentStudentEditingMode: string, selectedStudent: any): any[] {\n    if (['assessment', 'objectives_feedback', 'objectives_private_notes'].includes(currentStudentEditingMode)) {\n      return selectedStudent.course_definitions.reduce((accCoursesDefinitions: any[], courseDefinition: any): any[] =>\n          [\n            ...accCoursesDefinitions,\n            ...courseDefinition.objectives.filter((objectiveElem) => objectiveElem.checked),\n          ],\n        []);\n    }\n\n    return [];\n  }\n\n  public extractObjectiveAssessments(items: any): any[] {\n    return items.map(item => item.objective_assessments);\n  }\n}\n","import {StateProvider} from '@uirouter/angularjs';\nimport {RawParams, StateDeclaration, StateService, Transition, TransitionService} from '@uirouter/core';\nimport {IPromise} from 'angular';\nimport {Assignment, AssignmentsService, AssignmentsStore} from '../../../../../src/app/teacher/assignments/state';\nimport {TransitionHandler} from '../../shared/models/transitionHandler.model';\nimport {TransitionAuth} from '../../shared/types/transitionAuth.type';\nimport {registerOnBeforeTransition} from '../../utils/decorators/registerOnBeforeTransition.decorator';\n\nexport const TeacherAssignmentsRouting: Function = ($stateProvider: StateProvider, $transitionsProvider: TransitionService): void => {\n  'ngInject';\n\n  @registerOnBeforeTransition($transitionsProvider)\n  class AddToHistoryTeacherAssessAssignmentStudent extends TransitionHandler {\n    public getCriteria(): any {\n      return { to: 'teacher_assess_assignment_student' };\n    }\n\n    public onBefore(transition: Transition): TransitionAuth {\n      const navigationHistory = transition.injector().get('NavigationHistory');\n      const params: RawParams = transition.targetState().params();\n      const isRefresh = transition.$from().name === transition.$to().name;\n\n      if (!isRefresh && (params.studentName || params.studentId)) {\n        navigationHistory.addToHistory('teacher_assess_assignment', {\n          ...params,\n        });\n      }\n\n      return super.onBefore(transition);\n    }\n  }\n\n  @registerOnBeforeTransition($transitionsProvider)\n  class AddToHistoryTeacherSetAssignmentObjectives extends TransitionHandler {\n    public getCriteria(): any {\n      return { to: 'teacher_set_assignment_objectives' };\n    }\n\n    public onBefore(transition: Transition): TransitionAuth {\n      const navigationHistory = transition.injector().get('NavigationHistory');\n      const params: RawParams = transition.targetState().params();\n      const isRefresh = transition.$from().name === transition.$to().name;\n\n      if (!isRefresh && params.assignment && params.isModal) {\n        navigationHistory.addToHistory('teacher_set_assignment_objectives', {\n          ...params,\n        });\n      }\n\n      return super.onBefore(transition);\n    }\n  }\n\n  @registerOnBeforeTransition($transitionsProvider)\n  class AddToHistoryTeacherAssessAssignment extends TransitionHandler {\n    public getCriteria(): any {\n      return { to: 'teacher_assess_assignment' };\n    }\n\n    public onBefore(transition: Transition): TransitionAuth {\n      const navigationHistory = transition.injector().get('NavigationHistory');\n      const params: RawParams = transition.targetState().params();\n      const isRefresh = transition.$from().name === transition.$to().name;\n\n      if (!isRefresh && params.assignment && params.isModal) {\n        navigationHistory.addToHistory('teacher_assess_assignment', {\n          ...params,\n        });\n      }\n\n      return super.onBefore(transition);\n    }\n  }\n\n  @registerOnBeforeTransition($transitionsProvider)\n  class GuardAuth extends TransitionHandler {\n    public getCriteria(): any {\n      return { to: state => state.name.startsWith('teacherAssignments') };\n    }\n\n    public onBefore(transition: Transition): TransitionAuth {\n      const transitionTo: StateDeclaration = transition.to();\n      (transitionTo as any).themeClass = 'sb-theme-green';\n      (transitionTo as any).role = 'teacher';\n\n      return true;\n    }\n  }\n\n  $stateProvider\n    .state('teacherAssignments', {\n      resolve: {\n        assignmentsGroup: (AssignmentsService: AssignmentsService, AssignmentsStore: AssignmentsStore, $state: StateService): IPromise<Assignment[]> => {\n          'ngInject';\n\n          AssignmentsStore.setActive(null);\n          return new Promise(resolve => {\n            AssignmentsService.get().subscribe(assignments => {\n              if (assignments.length) {\n                resolve(assignments);\n              } else {\n                $state.go('teacherAssignmentsNotConfigured');\n              }\n            });\n          });\n        },\n      },\n      views: {\n        '@': {\n          component: 'teacherAssignments',\n        },\n        'assignments@teacherAssignments': {\n          component: 'appAssignments',\n        },\n      },\n    })\n    .state('teacherAssignmentsNotConfigured', {\n      views: {\n        '@': {\n          component: 'teacherAssignments',\n        },\n        'assignments@teacherAssignmentsNotConfigured': {\n          component: 'teacherAssignmentsNotConfigured',\n        },\n      },\n    });\n};\n","import { IComponentController } from 'angular';\nimport { StateService } from '@uirouter/core';\nimport { IAssessment } from '../../../../../shared/models/assessment.model';\nimport { IAssignment } from '../../../../../shared/models/assignment.model';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../utils/decorators/input.decorator';\nimport TeacherAssignmentsModule from '../../../teacherAssignments.module';\nimport style from './teacherAssessmentsList.scss';\nimport template from './teacherAssessmentsList.tpl.html';\n\n@Component({\n  module: TeacherAssignmentsModule,\n  selector: 'teacher-assessments-list',\n  template: template,\n  style: style,\n})\nexport class TeacherAssessmentsListComponent implements IComponentController {\n  @Input()\n  public assignment: IAssignment;\n  @Input()\n  public assessments: IAssessment[];\n\n  constructor(private $state: StateService, private NavigationHistory: any) {\n    'ngInject';\n\n    this.assignment = null;\n    this.assessments = [];\n  }\n\n  public goToAssessAssignment(studentId: number): void {\n    if (this.assignment) {\n      this.$state.go(\n        'teacher_assess_assignment_student',\n        {\n          studentId,\n          assignment: this.assignment,\n        },\n      ).then((): void => {\n        //TODO: remove after refactor teacherAssessAssignmentStudent view\n        this.NavigationHistory\n          .addToHistory('teacher_assess_assignment', {\n            isModal: true,\n            assignment: this.assignment,\n          });\n      });\n    }\n  }\n}\n","import { StateService } from '@uirouter/core';\nimport { AssignmentsListComponent } from '../../../../../shared/components/assignmentsList/assignmentsList.component';\nimport { IAssignment } from '../../../../../shared/models/assignment.model';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../utils/decorators/input.decorator';\nimport TeacherAssignmentsModule from '../../../teacherAssignments.module';\nimport style from './teacherAssignmentsDraftsList.scss';\nimport template from './teacherAssignmentsDraftsList.tpl.html';\n\n@Component({\n  module: TeacherAssignmentsModule,\n  selector: 'teacher-assignments-drafts-list',\n  template: template,\n  style: style,\n})\nexport class TeacherAssignmentsDraftsListComponent extends AssignmentsListComponent {\n  @Input({ string: true })\n  public label: string;\n  @Input()\n  public assignments: IAssignment[];\n\n  constructor(private $state: StateService, private NavigationHistory: any) {\n    'ngInject';\n\n    super();\n  }\n\n  public goToEditAssignmentCriteria(assignment: IAssignment): void {\n    this.$state.go(\n      'teacher_set_assignment_objectives',\n      {\n        assignment,\n        isModal: true,\n      },\n    ).then((): void => {\n      //TODO: remove after refactor teacher_assess_assignment view\n      this.NavigationHistory.addToHistory(\n        'teacher_set_assignment_objectives',\n        {\n          assignment,\n          isModal: true,\n        });\n    });\n  }\n}\n","import { StateService } from '@uirouter/core';\nimport { AssignmentsListComponent } from '../../../../../shared/components/assignmentsList/assignmentsList.component';\nimport { GroupedVisibilityDialogType } from '../../../../../shared/enums/groupedVisibilityDialogType.enum';\nimport { IAssessment } from '../../../../../shared/models/assessment.model';\nimport { IAssignment } from '../../../../../shared/models/assignment.model';\nimport { IGroupedVisibilitySettings } from '../../../../../shared/models/groupedVisibilitySettings.model';\nimport { IStudent } from '../../../../../shared/models/student.model';\nimport { GroupedVisibilityService } from '../../../../../shared/services/groupedVisibility/groupedVisibility.service';\nimport { GroupedVisibilityDialogService } from '../../../../../shared/services/groupedVisibility/groupedVisibilityDialog.service';\nimport { IObserver, Observer } from '../../../../../shared/services/helpers/observer.service';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../utils/decorators/input.decorator';\nimport { Students } from '../../../../../utils/services/students';\nimport TeacherAssignmentsModule, { ITeacherAssignmentsService } from '../../../teacherAssignments.module';\nimport { ITeacherAssignment } from '../../models/assignment.model';\nimport style from './teacherAssignmentsList.scss';\nimport template from './teacherAssignmentsList.tpl.html';\n\n@Component({\n  module: TeacherAssignmentsModule,\n  selector: 'teacher-assignments-list',\n  template: template,\n  style: style,\n})\nexport class TeacherAssignmentsListComponent extends AssignmentsListComponent {\n  @Input({ string: true })\n  public label: string;\n  @Input()\n  public assignments: IAssignment[];\n\n  constructor(private $state: StateService, private Students: Students, private GroupedVisibilityService: GroupedVisibilityService,\n              private GroupedVisibilityDialogService: GroupedVisibilityDialogService, private TeacherAssignmentsService: ITeacherAssignmentsService,\n              private NavigationHistory: any) {\n    'ngInject';\n\n    super();\n  }\n\n  public $onInit(): void {\n    const observer: IObserver<number[]> = new Observer<number[]>(this.onNext.bind(this));\n\n    this.$$unsubscribes.push(this.TeacherAssignmentsService.openedAssignments$.subscribe(observer));\n  }\n\n  public toggleOpen(assignment: ITeacherAssignment): void {\n    this.TeacherAssignmentsService.toggleAssignment(assignment);\n  }\n\n  public goToAssessAssignment(assignment: IAssignment): void {\n    this.$state.go(\n      'teacher_assess_assignment',\n      {\n        assignment,\n        isModal: true,\n      },\n    ).then((): void => {\n      //TODO: remove after refactor teacher_assess_assignment view\n      this.NavigationHistory.addToHistory(\n        'teacher_assess_assignment',\n        {\n          assignment,\n          isModal: true,\n        });\n    });\n  }\n\n  public goToChangeVisibility(assignment: IAssignment): void {\n    this.TeacherAssignmentsService.changeVisibility(assignment);\n  }\n\n  public goToEditAssignmentCriteria(assignment: IAssignment): void {\n    this.$state.go(\n      'teacher_set_assignment_objectives',\n      {\n        assignment,\n        isModal: true,\n      },\n    ).then((): void => {\n      //TODO: remove after refactor teacher_assess_assignment view\n      this.NavigationHistory.addToHistory(\n        'teacher_set_assignment_objectives',\n        {\n          assignment,\n          isModal: true,\n        });\n    });\n  }\n\n  private onNext(): void {\n    this.assignments = this.TeacherAssignmentsService.updateAssignmentsOpenState(this.assignments);\n  }\n}\n","import {Component} from '../../utils/decorators/component.decorator';\nimport TeacherAssignmentsModule from './teacherAssignments.module';\nimport style from './teacherAssignments.scss';\nimport template from './teacherAssignments.tpl.html';\nimport {\n  AssignmentFilterItem,\n  AssignmentSort,\n  AssignmentSortItem,\n  AssignmentsQuery,\n  AssignmentsService,\n  AssignmentState,\n  AssignmentsUI,\n  AssignmentType\n} from '../../../../../src/app/teacher/assignments/state';\nimport {Order} from '@datorama/akita';\nimport {\n  AssessmentSort,\n  AssessmentSortItem,\n  AssessmentsQuery,\n  AssessmentsService\n} from '../../../../../src/app/teacher/assignments/assignment/assessments/state';\n\n@Component({\n  module: TeacherAssignmentsModule,\n  selector: 'teacher-assignments',\n  template: template,\n  style: style,\n})\nexport class TeacherAssignmentsComponent {\n\n  filters: AssignmentFilterItem[] = [\n    {\n      label: 'assignmentActionMenuFilterWorkUnit',\n      type: AssignmentType.WORK_UNIT,\n    },\n    {\n      label: 'assignmentActionMenuFilterAssignments',\n      type: AssignmentType.STANDARD_ASSIGNMENT,\n    },\n    {\n      label: 'assignmentActionMenuFilterWithoutAssessmentCriterias',\n      type: AssignmentType.WITHOUT_ASSESSMENT_CRITERIAS,\n    },\n    null,\n    {\n      label: 'publishedStatus',\n      state: AssignmentState.PUBLISHED,\n    },\n    {\n      label: 'draftsStatus',\n      state: AssignmentState.DRAFT,\n    },\n  ];\n\n  assignmentsSort: AssignmentSortItem[] = [\n    {\n      by: 'assignment_type',\n      label: 'assignmentsActionMenuSortByTypeAsc',\n      order: Order.ASC,\n    },\n    {\n      by: 'assignment_created',\n      label: 'assignmentsActionMenuSortByCreationDateAsc',\n      order: Order.ASC,\n    },\n    {\n      by: 'assignment_created',\n      label: 'assignmentsActionMenuSortByCreationDateDesc',\n      order: Order.DESC,\n    },\n    {\n      by: 'assessment_last_changed',\n      label: 'assignmentsActionMenuSortByLastChanged',\n      order: Order.DESC,\n    },\n    {\n      by: 'title',\n      label: 'assignmentsActionMenuSortByNameAsc',\n      order: Order.ASC,\n    },\n  ];\n\n  assessmentsSort: AssessmentSortItem[] = [\n    {\n      by: 'student_name',\n      label: 'studentsActionMenuSortByFirstNameAsc',\n      order: Order.ASC,\n    },\n    {\n      by: 'status_new',\n      label: 'studentsActionMenuSortByAssessmentDoneAsc',\n      order: Order.ASC,\n    },\n    {\n      by: 'status_new',\n      label: 'studentsActionMenuSortByNotAssessedAsc',\n      order: Order.DESC,\n    },\n  ];\n\n  constructor(protected AssignmentsService: AssignmentsService,\n              protected AssignmentsQuery: AssignmentsQuery,\n              protected AssessmentsService: AssessmentsService,\n              protected AssessmentsQuery: AssessmentsQuery,\n              protected NavigationHistory: any,\n              protected AssessmentVisibilityDialogService: any,\n              protected AssessmentsVisibilityDialogService: any,\n              protected GroupedVisibilityDialogService: any,\n              protected StudybeeHandle: any) {\n    'ngInject';\n  }\n\n  filter(assignmentFilterItem: AssignmentFilterItem) {\n    const stateUI = this.AssignmentsQuery.getValue().ui;\n    const filterType = assignmentFilterItem.state ? 'state' : 'type';\n    const currentFilters: any[] = stateUI.filters[filterType];\n    let filters: AssignmentsUI['filters'] = {\n      ...stateUI.filters,\n    };\n\n    if (currentFilters.includes(assignmentFilterItem[filterType])) {\n      filters = {\n        ...filters,\n        [filterType]: (filters[filterType] as any[]).filter(value => value !== assignmentFilterItem[filterType]),\n      };\n    } else {\n      filters = {\n        ...filters,\n        [filterType]: [...filters[filterType], assignmentFilterItem[filterType]],\n      };\n    }\n\n    this.AssignmentsService.setFilters(filters);\n  }\n\n  isFilterSelected(assignmentFilterItem: AssignmentFilterItem) {\n    const stateUI = this.AssignmentsQuery.getValue().ui;\n    const filterType = assignmentFilterItem.state ? 'state' : 'type';\n    const currentFilters: any[] = stateUI.filters[filterType];\n\n    return currentFilters.includes(assignmentFilterItem[filterType]);\n  }\n\n  sortAssignments(assignmentSortItem: AssignmentSortItem) {\n    const sort: AssignmentSort = {\n      by: assignmentSortItem.by,\n      order: assignmentSortItem.order,\n    };\n\n    this.AssignmentsService.setSorting(sort);\n  }\n\n  isAssignmentSortSelected(assignmentSortItem: AssignmentSortItem) {\n    const stateSortUI = this.AssignmentsQuery.getValue().ui.sort;\n\n    return stateSortUI.by === assignmentSortItem.by &&\n      stateSortUI.order === assignmentSortItem.order;\n  }\n\n  sortAssessments(assessmentSortItem: AssessmentSortItem) {\n    const sort: AssessmentSort = {\n      by: assessmentSortItem.by,\n      order: assessmentSortItem.order,\n    };\n\n    this.AssessmentsService.setSorting(sort);\n  }\n\n  isAssessmentSortSelected(assessmentSortItem: AssessmentSortItem) {\n    const stateSortUI = this.AssessmentsQuery.getValue().ui.sort;\n\n    return stateSortUI.by === assessmentSortItem.by && stateSortUI.order === assessmentSortItem.order;\n  }\n}\n","import { Params } from '@angular/router';\nimport { AssignmentState } from '../../shared/enums/assignmentStateType.enum';\nimport { AssignmentType } from '../../shared/enums/assignmentType.enum';\nimport { GroupedVisibilityDialogType } from '../../shared/enums/groupedVisibilityDialogType.enum';\nimport { IAssessment } from '../../shared/models/assessment.model';\nimport { IAssignment } from '../../shared/models/assignment.model';\nimport { IGroupedVisibilitySettings } from '../../shared/models/groupedVisibilitySettings.model';\nimport { IStudent } from '../../shared/models/student.model';\nimport { GroupedVisibilityService } from '../../shared/services/groupedVisibility/groupedVisibility.service';\nimport { GroupedVisibilityDialogService } from '../../shared/services/groupedVisibility/groupedVisibilityDialog.service';\nimport { BehaviourSubject, IBehaviourSubject } from '../../shared/services/helpers/behaviourSubject.service';\nimport { ILocalStorageService } from '../../shared/services/localStorage/localStorage.service';\nimport { Service } from '../../utils/decorators/service.decorator';\nimport { Students } from '../../utils/services/students';\nimport { AssignmentOrder } from './shared/enums/assignmentOrder';\nimport { ITeacherAssignment } from './shared/models/assignment.model';\nimport TeacherAssignmentsModule from './teacherAssignments.module';\n\nexport interface ITeacherAssignmentsService {\n  openedAssignments$: IBehaviourSubject<number[]>;\n  closeAssignment(assignment: ITeacherAssignment): void;\n  openAssignment(assignment: ITeacherAssignment): void;\n  toggleAssignment(assignment: ITeacherAssignment): any;\n  updateAssignmentsOpenState(assignmentsGroups: ITeacherAssignment[]): ITeacherAssignment[];\n  changeVisibility(assignment: IAssignment): void;\n  getRequestParams(): Params;\n}\n\n@Service({\n  module: TeacherAssignmentsModule,\n  name: 'TeacherAssignmentsService',\n})\nexport class TeacherAssignmentsService implements ITeacherAssignmentsService {\n  public openedAssignments$: IBehaviourSubject<number[]>;\n\n  constructor(protected Path: any,\n              protected FetchData: any,\n              protected Students: Students,\n              protected LocalStorageService: ILocalStorageService,\n              protected GroupedVisibilityDialogService: GroupedVisibilityDialogService,\n              protected GroupedVisibilityService: GroupedVisibilityService) {\n    'ngInject';\n\n    this.openedAssignments$ = new BehaviourSubject<number[]>([]);\n  }\n\n  public closeAssignment(assignment: ITeacherAssignment): ITeacherAssignment {\n    const openedAssignments: number[] = this.openedAssignments$\n      .getValue()\n      .filter((_assignmentId: number): boolean => _assignmentId !== assignment.id);\n\n    this.openedAssignments$.next(openedAssignments);\n\n    return Object.assign({}, assignment, { $$open: false });\n  }\n\n  public openAssignment(assignment: ITeacherAssignment): ITeacherAssignment {\n    const openedAssignments: number[] = [\n      ...this.openedAssignments$.getValue(),\n      assignment.id,\n    ];\n\n    this.openedAssignments$.next(openedAssignments);\n\n    return Object.assign({}, assignment, { $$open: true });\n  }\n\n  public toggleAssignment(assignment: ITeacherAssignment): ITeacherAssignment {\n    return assignment.$$open ? this.closeAssignment(assignment) : this.openAssignment(assignment);\n  }\n\n  public updateAssignmentsOpenState(assignments: ITeacherAssignment[]): ITeacherAssignment[] {\n    return assignments.map((assignment: ITeacherAssignment): ITeacherAssignment => {\n      const $$open: boolean = this.openedAssignments$.getValue().includes(assignment.id);\n\n      return Object.assign({}, assignment, { $$open });\n    });\n  }\n\n  public changeVisibility(assignment: IAssignment): PromiseLike<void> {\n    return Promise.all([\n      this.FetchData.v3.fetchAssignmentAssessments(this.Path.getClassroomId(), assignment.id),\n      this.Students.getStudentsList(),\n    ])\n      .then((responses: any[]): PromiseLike<void> => {\n        const assignmentsObjectives = responses[0];\n        const assessmentStudentId: number[] = assignment.assessments.map((assessment: IAssessment): number => assessment.student_id);\n        const students: IStudent[] = responses[1]\n          .filter((student: IStudent): boolean => assessmentStudentId.includes(student.id));\n        const settings: IGroupedVisibilitySettings = {\n          students,\n          courseDefinitions: assignmentsObjectives.course_definitions.filter((courseDefinition) => !!courseDefinition.objectives.length),\n          type: students.length > 1 ? GroupedVisibilityDialogType.AssignmentView : GroupedVisibilityDialogType.AssignmentStudentView,\n        };\n\n        return this.GroupedVisibilityDialogService.show(settings).then((groupedVisibility) => {\n          this.GroupedVisibilityService.patchAssignmentAssessmentsGroupedVisibility(groupedVisibility, assignment);\n        });\n      });\n  }\n\n  public getRequestParams(): Params {\n    const savedOrdering: AssignmentOrder = this.LocalStorageService.get('teacherAssignmentsOrdering') as AssignmentOrder;\n    const savedStates: AssignmentState[] = this.LocalStorageService.getArray<AssignmentState>('teacherAssignmentsStates');\n    const savedFilters: AssignmentType[] = this.LocalStorageService.getArray<AssignmentType>('teacherAssignmentsFiltering');\n\n    const ordering = savedOrdering || AssignmentOrder.ASC_TYPE;\n    const states = savedStates || [AssignmentState.PUBLISHED, AssignmentState.DRAFT];\n    const filters = savedFilters ||\n      [AssignmentType.WORK_UNIT, AssignmentType.STANDARD_ASSIGNMENT, AssignmentType.WITHOUT_ASSESSMENT_CRITERIAS];\n\n    return { ordering, states, filters };\n  }\n}\n","import { IRootScopeService } from 'angular';\nimport { StateService } from '@uirouter/core';\nimport { Events } from '../../../common/global-events';\nimport TeacherCourseProgressModule from '../../../components/course-progress/teacher-course-progress/teacher-course-progress.module';\nimport { UnsubscribableComponent } from '../../../shared/components/abstracts/unsubscribable.component';\nimport { IAssignmentGroupedResponse } from '../../../shared/models/assignmentGroupedResponse.model';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport style from './teacherAssignmentsDrafts.scss';\nimport template from './teacherAssignmentsDrafts.tpl.html';\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'teacher-assignments-drafts',\n  template: template,\n  style: style,\n})\nexport class TeacherAssignmentsDraftsComponent extends UnsubscribableComponent {\n  @Input()\n  public assignmentsGroup: IAssignmentGroupedResponse;\n\n  constructor(private $rootScope: IRootScopeService, private $state: StateService) {\n    'ngInject';\n\n    super();\n    this.assignmentsGroup = {\n      assessable: [],\n      not_assessable: [],\n    };\n  }\n\n  public $onInit(): void {\n    this.$$unsubscribes.push(this.$rootScope\n      .$on(Events.UPDATED_ASSIGNMENTS, () => this.$state.reload()));\n  }\n}\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport TeacherAssignmentsModule from '../teacherAssignments.module';\nimport style from './teacherAssignmentsNotConfigured.scss';\nimport template from './teacherAssignmentsNotConfigured.tpl.html';\n\n@Component({\n  module: TeacherAssignmentsModule,\n  selector: 'teacher-assignments-not-configured',\n  template: template,\n  style: style,\n})\nexport class TeacherAssignmentsNotConfiguredComponent implements IComponentController {\n  constructor() {\n    'ngInject';\n  }\n}\n","import { IRootScopeService } from 'angular';\nimport { StateService } from '@uirouter/core';\nimport { Events } from '../../../common/global-events';\nimport { UnsubscribableComponent } from '../../../shared/components/abstracts/unsubscribable.component';\nimport { IAssignmentGroupedResponse } from '../../../shared/models/assignmentGroupedResponse.model';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport TeacherAssignmentsModule from '../teacherAssignments.module';\nimport style from './teacherAssignmentsPublished.scss';\nimport template from './teacherAssignmentsPublished.tpl.html';\n\n@Component({\n  module: TeacherAssignmentsModule,\n  selector: 'teacher-assignments-published',\n  template: template,\n  style: style,\n})\nexport class TeacherAssignmentsPublishedComponent extends UnsubscribableComponent {\n  @Input()\n  public assignmentsGroup: IAssignmentGroupedResponse;\n\n  constructor(private $rootScope: IRootScopeService, private $state: StateService) {\n    'ngInject';\n\n    super();\n    this.assignmentsGroup = {\n      assessable: [],\n      not_assessable: []\n    };\n  }\n\n  public $onInit(): void {\n    this.$$unsubscribes.push(this.$rootScope\n      .$on(Events.UPDATED_ASSIGNMENTS, () => this.$state.reload()));\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport get from 'lodash.get';\nimport xor from 'lodash.xor';\nimport isEmpty from 'lodash.isempty';\nimport isEqual from 'lodash.isequal';\nimport { AssignConfirmationType } from './shared/enum/assignConfirmationType.enum.ts';\nimport { ListViewType } from '../../shared/enums/listViewType.enum.ts';\nimport { AssignmentType } from '../../shared/enums/assignmentType.enum.ts';\nimport { getTranslation } from '../../../../../react_src/i18n';\n\n/**\n * @module TeacherSetAssignmentObjectives/Controller\n * @description\n *   Handle Assign Objectives to Assignment for Teacher\n * @param $stateParams\n * @param $mdToast\n * @param {Object} $mdDialog Angular Material $mdDialog object\n * @param {Object} Path Path service instance\n * @param {Object} FetchData Fetch Data service instance\n * @param Updates\n * @param {Object} Debounce Debounce service instance\n * @param {Object} NavigationHistory Navigation History service instance\n * @param {Object} MainMenu Main Menu service instance\n * @param {Object} Mixpanel Mixpanel service instance\n * @param StudybeeHandle\n * @param {Object} assignmentInformation Resolve from Config Service\n * @param gradeSystems\n */\n\nexport function TeacherSetAssignmentObjectiveCtrl($state, $timeout,\n  $stateParams, $mdToast, $mdDialog, $filter, Path, FetchData, Updates, Debounce,\n  NavigationHistory, Mixpanel, MainMenu, StudybeeHandle, assignmentInformation,\n  gradeSystems, TeacherSetAssignmentObjectivesService, ListViewMenuService, AssignmentsStore) {\n  'ngInject';\n\n  const vm = this;\n\n  const courseId = Path.getClassroomId();\n\n  const { assignment } = $stateParams;\n  const storageViewMenuId = 'teacherSetAssignment';\n\n  vm.isFirstTime = get($stateParams, 'firstTime', false);\n\n  // Get data from API\n  vm.assignment = assignmentInformation;\n\n  vm.gradeTextSettings = {\n    isEnable: vm.assignment.enable_grade_texts,\n    isEnableForStudents: vm.assignment.show_grade_texts_for_student,\n  };\n\n  // vm.assignmentTitle = assignmentInformation.title;\n  vm.gradeSystems = gradeSystems;\n  vm.courseDefinitions = assignmentInformation.course_definitions;\n  vm.resultOnly = assignmentInformation.result_only;\n  vm.viewMenuItems = ListViewMenuService.getListViewMenu(storageViewMenuId);\n  vm.viewMode = vm.viewMenuItems.find((listViewMenuItem) => listViewMenuItem.checked)\n    .eventArgs.view;\n  vm.lastSelectedScaleId = null;\n  vm.state = {\n    type: {\n      previous: {},\n      get change() {\n        return get(vm, 'selectedType.type', 0) !== get(this, 'previous.type', -1);\n      },\n      get isEmpty() {\n        return isEmpty(vm.selectedType);\n      },\n    },\n    scale: {\n      previous: {},\n      get change() {\n        return get(vm, 'scaleSelect.id', 0) !== get(this, 'previous.id', 0);\n      },\n    },\n    objectives: {\n      previous: [],\n      get change() {\n        return !!xor(vm.getSelectedObjectivesId(), this.previous).length;\n      },\n    },\n    counters: {\n      previous: {},\n      get change() {\n        return get(vm, 'scaleSelect.is_counter', false) && !isEqual(get(this, 'previous'), vm.getFlatObjectivesCounters());\n      },\n    },\n    gradeTextSettings: {\n      previous: {},\n      get change() {\n        if (this.previous.enable_grade_texts !== vm.assignment.enable_grade_texts) {\n          return true;\n        } if (vm.assignment.enable_grade_texts) {\n          return this.previous.show_grade_texts_for_student !== vm.assignment.show_grade_texts_for_student;\n        }\n      },\n    },\n  };\n  vm.typeOfAssignments = [\n    {\n      description: 'teacherAssignmentObjectivesTypeOfAssignmentWorkUnitDesc',\n      label: 'teacherAssignmentObjectivesTypeOfAssignmentWorkUnitLabel',\n      type: AssignmentType.WORK_UNIT,\n    },\n    {\n      description: 'teacherAssignmentObjectivesTypeOfAssignmentAssignmentDesc',\n      label: 'teacherAssignmentObjectivesTypeOfAssignmentAssignmentLabel',\n      type: AssignmentType.STANDARD_ASSIGNMENT,\n    },\n  ];\n  vm.selectedType = {\n\n    ...vm.typeOfAssignments\n      .find((typeOfAssignment) => typeOfAssignment.type === assignment.assignment_type),\n  };\n\n  /**\n   * Init function\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.init = function () {\n    // Create list of selected elements that is used to compare changes\n    vm.createListOfSelected();\n    vm.setDefaultGradeSystem();\n    vm.setState();\n\n    $timeout(() => {\n      vm.validationForm.$setSubmitted();\n    }, 0);\n  };\n\n  vm.setState = () => {\n    vm.state.scale.previous = { ...vm.scaleSelect };\n    vm.state.objectives.previous = [...vm.getSelectedObjectivesId()];\n    vm.state.type.previous = { ...vm.selectedType };\n    vm.state.counters.previous = vm.getFlatObjectivesCounters();\n    vm.state.gradeTextSettings.previous = {\n\n      enable_grade_texts: vm.assignment.enable_grade_texts,\n      show_grade_texts_for_student: vm.assignment.show_grade_texts_for_student,\n    };\n  };\n\n  vm.getConfirmationType = () => {\n    const currentState = [];\n\n    if (vm.state.scale.change) {\n      currentState.push(AssignConfirmationType.GRADE_SYSTEM);\n    }\n\n    if (vm.state.objectives.change) {\n      currentState.push(AssignConfirmationType.OBJECTIVES);\n    }\n\n    if (vm.state.type.change) {\n      currentState.push(AssignConfirmationType.ASSIGNMENT_TYPE);\n    }\n\n    if (vm.state.counters.change) {\n      currentState.push(AssignConfirmationType.CHANGE_COUNTER_VALUE);\n    }\n\n    if (vm.state.gradeTextSettings.change) {\n      currentState.push(AssignConfirmationType.GRADE_TEXT_SETTINGS);\n    }\n\n    return currentState;\n  };\n\n  vm.updateGradeTextSettings = () => {\n    vm.assignment.enable_grade_texts = vm.gradeTextSettings.isEnable;\n    vm.assignment.show_grade_texts_for_student = vm.gradeTextSettings.isEnable && vm.gradeTextSettings.isEnableForStudents;\n  };\n\n  vm.onClickMenuItem = (toolbarMenuItem) => {\n    vm.viewMenuItems.forEach((menuItem) => {\n      Object.assign(menuItem, { checked: false });\n    });\n    Object.assign(toolbarMenuItem, { checked: true });\n    ListViewMenuService.saveListViewMenu(storageViewMenuId, vm.viewMenuItems);\n    vm.viewMode = toolbarMenuItem.eventArgs.view;\n  };\n\n  vm.isTitleVisible = (title) => vm.viewMode !== ListViewType.DESCRIPTION_ONLY && `${title}`.trim().length;\n\n  vm.isDescriptionVisible = (description) => vm.viewMode !== ListViewType.TITLE_ONLY && `${$filter('getFormattedOrEmpty')(description)}`.trim().length;\n\n  vm.getAssignmentTypePlaceholder = () => get(vm, 'selectedType.label', 'teacherAssignmentObjectivesTypeOfAssignment');\n\n  /**\n   * Go to previous history entry\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.historyBack = function () {\n    if (vm.historyBackClicked) {\n      return;\n    }\n\n    if (NavigationHistory.getPreviousState()\n      && NavigationHistory.getPreviousState().stateName.startsWith('teacherAssignments')) {\n      MainMenu.saveAssignmentDetails(null);\n    }\n\n    vm.historyBackClicked = true;\n    NavigationHistory.back();\n  };\n\n  /**\n   * Set default grade system if there is no assigned yet\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.setDefaultGradeSystem = function () {\n    if (vm.resultOnly) {\n      return;\n    }\n\n    const gradeSystemId = TeacherSetAssignmentObjectivesService.getStoredGradeSystemId();\n    let preSelectedGradeSystem;\n    let selectedGradeSystem;\n    let defaultGradeSystem;\n\n    vm.gradeSystems.forEach((gradeSystem) => {\n      if (gradeSystemId === gradeSystem.id) {\n        preSelectedGradeSystem = gradeSystem;\n      }\n\n      if (vm.assignment.grade_system === gradeSystem.id) {\n        selectedGradeSystem = gradeSystem;\n      }\n\n      if (gradeSystem.is_main && !defaultGradeSystem) {\n        defaultGradeSystem = gradeSystem;\n      }\n    });\n\n    // Resolution of selection:\n    // Previously selected > First system with is_main selected > first system in list > none\n    vm.scaleSelect = (selectedGradeSystem || preSelectedGradeSystem || defaultGradeSystem || vm.gradeSystems[0] || {});\n    vm.scaleSelect.is_chosen = true;\n    vm.lastSelectedScaleId = vm.scaleSelect.id;\n    vm.state.scale.previous = vm.scaleSelect;\n    vm.scaleSelect.grade_texts_present = get(vm, 'scaleSelect.grade_texts_present', true);\n  };\n\n  vm.isSaveButtonDisabled = () => vm.state.type.isEmpty || !vm.getConfirmationType().length;\n\n  /**\n   * Create list of selected objectives which is used to restore objectives\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.createListOfSelected = function () {\n    vm.selectedObjectives = vm.courseDefinitions\n      .filter((el) => el.is_chosen)\n      .map((el) => el.id);\n  };\n\n  vm.getSelectedObjectivesId = () => vm.courseDefinitions\n    .reduce((acc, courseDefinition) => [...acc, ...courseDefinition.objectives], [])\n    .filter((objective) => objective.is_chosen)\n    .map((objective) => objective.id);\n\n  vm.getFlatObjectivesCounters = () => vm.courseDefinitions.reduce((accCD, courseDefinitionElem) => [...accCD, ...courseDefinitionElem.objectives\n    .reduce((accO, objectiveElem) => {\n      if (objectiveElem.is_chosen) {\n        return [...accO, ...objectiveElem.max_counter_grades];\n      }\n\n      return accO;\n    }, [])], []);\n\n  /**\n   * Check if it is init scale select and return if it is\n   * Otherway close all objectives and run valid changes\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.changeScale = function () {\n    vm.courseDefinitions.forEach((courseDefinitionElem) => {\n      courseDefinitionElem.objectives.forEach((objectiveElem) => {\n        // Close all objectives\n        objectiveElem.open = false;\n\n        // If selected scale is result only,\n        // uncheck all objectives and clear max counter grades\n        if (vm.scaleSelect === 'result_only') {\n          objectiveElem.is_chosen = false;\n          objectiveElem.max_counter_grades = [];\n        }\n      });\n    });\n\n    vm.validChanges();\n  };\n\n  /**\n   * Toggle objective and run valid changes\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.toggleObjective = function (objective) {\n    objective.is_chosen = !objective.is_chosen;\n\n    vm.validChanges();\n  };\n\n  /**\n   * Valid counters and set Changes to Save flag\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.validChanges = function () {\n    vm.changesToSave = false;\n    let isSelectedObjective = false;\n    let validCounters = true;\n    const countersTest = /^[0-9]{1,2}$/;\n\n    // If selected scale is result only, set changesToSave to true and return\n    if (vm.scaleSelect === 'result_only') {\n      vm.changesToSave = true;\n      return;\n    }\n\n    vm.courseDefinitions.forEach((courseDefinitionElem) => {\n      courseDefinitionElem.objectives.forEach((objectiveElem) => {\n        if (!objectiveElem.is_chosen) {\n          return;\n        }\n\n        isSelectedObjective = true;\n\n        objectiveElem.max_counter_grades.forEach((counterElem) => {\n          if (!countersTest.test(counterElem)) {\n            validCounters = false;\n          }\n        });\n      });\n    });\n\n    // Return if there is no selected scale or if there is no selected objective\n    if (!vm.scaleSelect || !isSelectedObjective) {\n      return;\n    }\n\n    // Check changesToSave\n    if (vm.scaleSelect.is_counter && validCounters) {\n      vm.changesToSave = true;\n    } else if (!vm.scaleSelect.is_counter) {\n      vm.changesToSave = true;\n    }\n  };\n\n  /**\n   * Save changes - if any objective is removed than display confirmation\n   * modal other way just save changes\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.saveChanges = function () {\n    let removedItems = false;\n\n    vm.courseDefinitions.forEach((courseDefinitionElem) => {\n      courseDefinitionElem.objectives.forEach((objectiveElem) => {\n        vm.selectedObjectives.forEach((selectedObjectiveElem) => {\n          if (selectedObjectiveElem === objectiveElem.id && !objectiveElem.is_chosen) {\n            removedItems = true;\n          }\n        });\n      });\n    });\n\n    if (vm.scaleSelect) {\n      TeacherSetAssignmentObjectivesService.setStoredGradeSystemId(vm.scaleSelect.id);\n    }\n\n    vm.assignConfirmation();\n    Mixpanel.track('assigned_objectives');\n  };\n\n  /**\n   * Create settings and send changes to API for assigned objectives to assignment\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.assignObjectives = Debounce(() => {\n    const settings = {\n      grade_system: vm.scaleSelect.id,\n      assignment_objectives: [],\n      result_only: vm.scaleSelect === 'result_only',\n      studybee_type: vm.selectedType.type,\n      enable_grade_texts: get(vm, 'assignment.enable_grade_texts'),\n      show_grade_texts_for_student: get(vm, 'assignment.show_grade_texts_for_student'),\n    };\n\n    vm.courseDefinitions.forEach((courseDefinitionElem) => {\n      courseDefinitionElem.objectives.forEach((objectiveElem) => {\n        if (!objectiveElem.is_chosen) {\n          return;\n        }\n\n        // Create temporary object\n        const selectedObjective = {\n          objective: objectiveElem.id,\n          max_counter_grades: objectiveElem.max_counter_grades,\n        };\n\n        // Fill empty values with 0\n        for (let i = 0; i <= 9; i++) {\n          if (!selectedObjective.max_counter_grades[i]) {\n            selectedObjective.max_counter_grades[i] = 0;\n          }\n        }\n\n        settings.assignment_objectives.push(selectedObjective);\n      });\n    });\n\n    FetchData.patchAssignedObjectivesToAssignment(assignment.id, settings)\n      .then(() => {\n        Updates.updateAssignments(courseId, true)\n          .then(() => {\n            vm.changesToSave = false;\n            vm.lastSelectedScaleId = vm.scaleSelect.id;\n            vm.createListOfSelected();\n            vm.assignSuccess();\n            AssignmentsStore.setHasCache(false);\n            vm.isFirstTime = false;\n          });\n      });\n  }, 500);\n\n  /**\n   * Show assign confirm modal\n   * CAUTION: Display warning message only when user change grade system.\n   * In other cases data is NOT deleted but set into inactive/archived mode.\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.assignConfirmation = function (confirmationType = vm.getConfirmationType()) {\n    if (!vm.isFirstTime && confirmationType.includes(AssignConfirmationType.GRADE_SYSTEM)) {\n      $mdDialog.show({\n        parent: angular.element(document.querySelectorAll('[md-component-id=\"studybee\"]')),\n        templateUrl: 'assignments/teacherSetAssignmentObjectives/views/dialogs/assign_confirmation.html',\n        controller() {\n          this.text = 'assignGradeConfirmationModalText';\n          this.closeDialog = () => $mdDialog.hide();\n          this.confirmChanges = () => {\n            vm.assignObjectives();\n            $mdDialog.hide();\n          };\n        },\n        controllerAs: 'ac',\n      });\n    } else {\n      vm.assignObjectives();\n    }\n  };\n\n  /**\n   * Show assign success modal\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.assignSuccess = function () {\n    // this is the part of the merix's RP and I'll rewrite it later\n    if ($stateParams.hideExtensionOnAssign) {\n      StudybeeHandle.studybeeClose();\n      NavigationHistory.transitionTo('teacherAssignments');\n      MainMenu.setSelectedMenuStateName('teacherAssignments');\n\n      $mdToast.show({\n        templateUrl: 'utils/views/toast.html',\n        parent: $('body'),\n        hideDelay: 3000,\n        position: 'bottom right',\n        controller() {\n          this.information = getTranslation('savedObjectivesToAssignmentToast');\n        },\n        controllerAs: 'to',\n      });\n    } else {\n      $mdDialog.show({\n        parent: angular.element(document.querySelectorAll('[md-component-id=\"studybee\"]')),\n        templateUrl: 'assignments/teacherSetAssignmentObjectives/views/dialogs/assign_success.html',\n        controller() {\n          vm.setState();\n          this.closeDialog = function () {\n            $mdDialog.hide();\n          };\n        },\n        controllerAs: 'as',\n      });\n    }\n  };\n\n\n  vm.init();\n}\n","export enum AssignConfirmationType {\n  ASSIGNMENT_TYPE,\n  CHANGE_COUNTER_VALUE,\n  GRADE_SYSTEM,\n  GRADE_TEXT_SETTINGS,\n  OBJECTIVES,\n}\n","import { IPromise } from 'angular';\nimport { StateProvider } from '@uirouter/angularjs';\n\nexport const TeacherSetAssignmentObjectivesRouting: Function = ($stateProvider: StateProvider): void => {\n  'ngInject';\n\n  $stateProvider\n    .state('teacher_set_assignment_objectives', {\n      role: 'teacher',\n      templateUrl: 'assignments/teacherSetAssignmentObjectives/views/main.html',\n      themeClass: 'sb-theme-green',\n      controller: 'teacherSetAssignmentObjectivesCtrl',\n      controllerAs: 'vm',\n      params: {\n        hideExtensionOnAssign: null,\n        assignment: null,\n        firstTime: false,\n      },\n      resolve: {\n        assignmentInformation($stateParams, Path, FetchData): IPromise<any> {\n          'ngInject';\n\n          return FetchData.getAssignedObjectivesToAssignment($stateParams.assignment.id).then(response => {\n            return response;\n          });\n        },\n        gradeSystems($stateParams, Path, FetchData): IPromise<any> {\n          'ngInject';\n\n          return FetchData.v2.getGradeSystems(Path.getClassroomId(), $stateParams.assignment.id);\n        },\n      },\n    } as any);\n};\n","import { IComponentController, INgModelController } from 'angular';\nimport { IGradeTextVisibilitySettings } from '../../../../../shared/models/gradeTextVisibilitySettings.model';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../utils/decorators/input.decorator';\nimport { SiblingComponent } from '../../../../../utils/decorators/sibling-component';\nimport TeacherSetAssignmentObjectivesModule from '../../../teacherSetAssignmentObjectives.module';\nimport template from './objectiveGradeTextVisibilitySettings.tpl.html';\nimport style from './objectiveGradeTextVisibilitySettings.scss';\n\n@Component({\n  module: TeacherSetAssignmentObjectivesModule,\n  selector: 'objective-grade-text-visibility-settings',\n  template: template,\n  style: style,\n})\nexport class ObjectiveGradeTextVisibilitySettingsComponent implements IComponentController {\n\n  @SiblingComponent() private ngModel: INgModelController;\n  @Input({ optional: true }) private ngDisabled: boolean;\n\n  constructor() {\n    'ngInject';\n\n    this.ngDisabled = false;\n  }\n\n  public update($viewValue: IGradeTextVisibilitySettings): void {\n    this.ngModel.$setViewValue(Object.assign({}, $viewValue));\n  }\n}\n","import { Service } from '../../utils/decorators/service.decorator';\nimport TeacherSetAssignmentObjectivesModule from './teacherSetAssignmentObjectives.module';\n\nexport interface ITeacherSetAssignmentObjectivesService {\n  getStoredGradeSystemId(): number;\n  setStoredGradeSystemId(id: string | number): void;\n}\n\n@Service({\n  module: TeacherSetAssignmentObjectivesModule,\n  name: 'TeacherSetAssignmentObjectivesService'\n})\nexport class TeacherSetAssignmentObjectivesService implements ITeacherSetAssignmentObjectivesService {\n  static localStorageGradeSystemIdKey: string = 'gradeSystemId';\n\n  constructor() {\n    'ngInject';\n  }\n\n  public getStoredGradeSystemId(): number {\n    return +(localStorage.getItem(TeacherSetAssignmentObjectivesService.localStorageGradeSystemIdKey));\n  }\n\n  public setStoredGradeSystemId(id: string | number): void {\n    localStorage.setItem(\n      TeacherSetAssignmentObjectivesService.localStorageGradeSystemIdKey,\n      `${id}`,\n    );\n  }\n}\n","import React, {useState, useContext, useEffect} from 'react';\nimport {createMuiTheme, ThemeProvider} from '@material-ui/core/styles';\nimport AssignmentList from './topics_and_assignments/assignmentsList';\nimport {createApi} from './api';\nimport NetworkErrorToast from './components/networkErrorToast';\nimport SaveToast from './components/saveToast';\nimport {colors} from './theme';\nimport {\n  checkIfMyTab,\n  getAssignmentSortingMethod,\n  getFromLocalStorage,\n  getStudentSortingMethod,\n  GlobalContext, setAssignmentSortingMethod,\n  setStudentSortingMethod, setToLocalStorage,\n} from './utils';\nimport {useWindowDimensions} from './hooks';\nimport ObjectiveDescription from './components/objectiveDescription';\nimport CourseOverview from './course-overview';\nimport {ReactComponent as StudyBeeHandle} from './images/handlebg.svg';\nimport ErrorBoundary from './errorBoundry';\nimport VisibilityDialog from './topics_and_assignments/visibilityDialog';\nimport Drawer from './components/drawer';\nimport {getClassroomId} from './path';\nimport SyncToast from './components/syncToast';\nimport {getTranslation} from './i18n';\nimport NewAssignmentDialog from \"./newAssignmentDialog\";\nimport svLocale from \"moment/locale/sv\";\nimport moment from \"moment\";\nimport AddSchoolDialog from \"./components/addSchoolDialog\";\nimport SelectPrimarySchoolDialog from \"./components/selectPrimarySchoolDialog\";\nimport ClassroomNavigation from \"./classroomNavigation\";\n\nlet language = 'en';\nif (window.navigator.languages) {\n  // eslint-disable-next-line prefer-destructuring\n  language = window.navigator.languages[0];\n} else {\n  language = window.navigator.userLanguage || window.navigator.language;\n}\n\n// is there a need to support eg. en-Us and en-Gb? How?\n// eslint-disable-next-line prefer-destructuring\nlanguage = language.split('-')[0];\n\nif (language === 'sv') {\n  moment.locale('sv', [svLocale]);\n}\n\nconst App = (props) => {\n  const {\n    data, ctrl, view = 'assignments', student = false,\n  } = props;\n\n\n  if (view === 'newsAssignmentPopup') {\n    return <NewAssignmentDialog/>;\n  }\n\n  const {\n    NavigationHistory: navigation,\n    AssessmentVisibilityDialogService: ChangeVisibilityDialog,\n    AssessmentsVisibilityDialogService: ChangeAssessmentsDialog,\n    GroupedVisibilityDialogService: ChangeVisibilityManyDialog,\n    StudybeeHandle: handle,\n  } = ctrl;\n\n  const {studybeeClose, studybeeOpen} = handle;\n\n  const {toggleMenu} = data;\n  return (\n    <GlobalContext.Provider\n      value={{\n        navigation,\n        toggleMenu,\n        ChangeVisibilityDialog, // Change visibility after assess set to ASSESSMENT_DONE\n        ChangeVisibilityManyDialog, // Change visibility for many students\n        ChangeAssessmentsDialog, // Change assessment for many students, what happens to visibility?\n        studybeeClose,\n        studybeeOpen,\n      }}\n    >\n      <ReactApp view={view} student={student}/>\n    </GlobalContext.Provider>\n  );\n};\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: colors.green,\n    },\n    secondary: {\n      main: colors.primary,\n    },\n  },\n});\n\nlet context;\nconst ReactApp = (props) => {\n  const {view, student} = props;\n  context = useContext(GlobalContext);\n  const [networkTraffic, setNetworkTraffic] = useState(false);\n  const [networkError, setNetworkError] = useState(false);\n  const [showObjectiveDetails, setShowObjectiveDetails] = useState();\n  const dimensions = useWindowDimensions();\n  const [currentView, setCurrentView] = useState(view);\n  const [sortingMethod, setSortingMethod] = useState('firstName');\n  const [assignmentSort, setAssignmentSort] = useState(false);\n  const [visibilityDialogData, setVisibilityDialogData] = useState();\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [showAddSchool, setShowAddSchool] = useState();\n  const [showSelectPrimarySchool, setShowSelectPrimarySchool] = useState();\n  const [user, setUser] = useState();\n  const [classroom, setClassroom] = useState();\n  const [syncText, setSyncText] = useState();\n\n  context.setNetworkTraffic = setNetworkTraffic;\n  context.setNetworkError = setNetworkError;\n  context.height = showObjectiveDetails\n    ? dimensions.height - 300\n    : dimensions.height;\n\n  const Api = createApi(\n    (m) => context.setNetworkTraffic(m),\n    (e) => context.setNetworkError(e),\n  );\n\n  context.openDrawer = () => {\n    setDrawerOpen(true);\n  };\n\n  const updateUser = async () => {\n    const u = await context.Api.getUserInfo();\n    setUser(u?.data?.userInfo);\n  };\n\n  const updateClassroom = async () => {\n    const response = await context.Api.getClassroom(`\n    id\n    name\n    school_id\n    `, student.id);\n    setClassroom(response?.data?.classroom);\n  };\n\n  useEffect(async () => {\n    if (!showAddSchool && !showSelectPrimarySchool) {\n      await updateClassroom();\n      await updateUser();\n    }\n  }, [showAddSchool, showSelectPrimarySchool]);\n\n  context.networkTraffic = networkTraffic;\n  context.classroom = classroom\n  context.Api = Api;\n  context.showObjectiveDetails = setShowObjectiveDetails;\n  context.setShowAddSchool = setShowAddSchool;\n  context.showAddSchool = showAddSchool;\n  context.setShowSelectPrimarySchool = setShowSelectPrimarySchool;\n  context.isStudent = student;\n  context.sortingMethod = sortingMethod;\n  context.assignmentSortMethod = assignmentSort;\n  context.setAssignmentSortMethod = (method) => {\n    setAssignmentSortingMethod(method);\n    setAssignmentSort(method);\n  };\n  context.user = user;\n  context.setVisibilityDialogData = setVisibilityDialogData;\n  context.setSortingMethod = (method) => {\n    setStudentSortingMethod(method);\n    setSortingMethod(method);\n  };\n\n  useEffect(() => {\n    setToLocalStorage('currentView', currentView);\n  }, [currentView]);\n\n  const changeToAssignmentView = [\n    'connectNewAssignment',\n    'assignmentDriveSelected',\n    'studentSelected',\n    'assignmentSelected',\n  ];\n  const storageListener = async (change) => {\n    const myTab = await checkIfMyTab();\n    if (!myTab) {\n      return;\n    }\n\n    if (Object.keys(change).find((k) => changeToAssignmentView.find((c) => c === k))) {\n      setCurrentView('assignments');\n      const v = await getFromLocalStorage('currentView');\n      if (v !== 'assignments') {\n        context.navigation.transitionTo('teacherAssignments', {});\n      }\n    }\n  };\n\n  const listenForChanges = () => {\n    if (!process.env.REACT_APP_STANDALONE) {\n      chrome.storage.onChanged.addListener(storageListener);\n    }\n  };\n\n  useEffect(async () => {\n    await updateClassroom();\n    if (!student) {\n      listenForChanges();\n    }\n    const method = await getStudentSortingMethod();\n    setSortingMethod(method);\n    const aMethod = await getAssignmentSortingMethod();\n    setAssignmentSort(aMethod);\n    await updateUser();\n  }, []);\n\n  const navigate = (newView) => {\n    if (newView === 'courseRequirements') {\n      context.navigation.go(student ? 'studentCourseManagement' : 'teacherCourseManagement', {course: getClassroomId()});\n      setCurrentView('courseManagement');\n    } else if (newView === 'courseOverview' && student) {\n      context.navigation.go('student-course-progress', {course: getClassroomId()});\n      setCurrentView(newView);\n    } else {\n      setCurrentView(newView);\n    }\n  };\n\n  return (\n    <ErrorBoundary Api={Api}>\n      <ThemeProvider theme={theme}>\n        <ClassroomNavigation reload={() => {console.log('reload not used atm');}} closeStudyBee={context.studybeeClose}/>\n        <div style={{border: '0px solid', overflow: 'hidden', height: '100%'}}>\n          <NetworkErrorToast networkError={networkError}/>\n          <SaveToast networkTraffic={networkTraffic}/>\n          <SyncToast text={syncText} setText={setSyncText}/>\n          {currentView === 'assignments' && <AssignmentList/>}\n          {currentView === 'courseOverview' && <CourseOverview/>}\n          {showObjectiveDetails && (<ObjectiveDescription objectiveId={showObjectiveDetails}/>)}\n          {visibilityDialogData && <VisibilityDialog {...visibilityDialogData} />}\n          {showAddSchool && <AddSchoolDialog/>}\n          {showSelectPrimarySchool && <SelectPrimarySchoolDialog/>}\n          {!process.env.REACT_APP_STANDALONE && (\n            <div\n              style={{\n                position: 'absolute',\n                left: '-24px',\n                top: '50%',\n                marginTop: '-25px',\n              }}\n            >\n              <StudyBeeHandle\n                style={{\n                  height: '52px',\n                }}\n              />\n              <div\n                style={{\n                  display: 'flex',\n                  position: 'absolute',\n                  top: 0,\n                  left: 1,\n                  right: 0,\n                  bottom: 8,\n                  alignItems: 'center',\n                  justifyContent: 'content',\n                  cursor: 'pointer',\n                }}\n                onClick={context.studybeeClose}\n              >\n                <img\n                  src={`chrome-extension://${chrome.runtime.id}/images/icon-128.png`}\n                  style={{width: '25px', height: '25px'}}\n                />\n              </div>\n            </div>\n          )}\n          {drawerOpen\n          && <Drawer\n            student={student}\n            onNavigate={navigate}\n            selected={currentView}\n            onRefresh={async () => {\n              await Api.syncAssignments();\n              await Api.syncStudents();\n              setSyncText(getTranslation('assignmentsAndStudentsUpdatedToast'));\n              const v = currentView;\n              setCurrentView(null);\n              setTimeout(() => {\n                setCurrentView(v);\n              }, 1);\n            }}\n            close={() => {\n              setDrawerOpen(false);\n            }}/>}\n        </div>\n      </ThemeProvider>\n    </ErrorBoundary>\n  );\n};\n\nexport default App;\n","export default {\n  spacings: {\n    smallest: 4,\n    small: 8,\n    large: 16,\n    largest: 24,\n  },\n};\n","import { colors } from './index';\n\nconst dialogStyle = {\n  contentStyle: {\n    background: colors.white,\n    padding: '20px',\n    borderRadius: '8px',\n    border: `1px solid ${colors.borderColor}`,\n    boxShadow: '0px 5px 10px rgba(0,0,0,0.1)',\n  },\n  overlayStyle: { background: 'transparent', border: `1px solid ${colors.borderColor}` },\n  arrowStyle: { color: colors.white },\n};\n\nexport default { dialogStyle };\n","const Quill = require('quill');\n\nlet app;\n\n// declare ngQuill module\napp = angular.module('ngQuill', []);\n\napp.provider('ngQuillConfig', function () {\n  const config = {\n    // formats list\n    formats: [\n      'bold',\n      'italic',\n    ],\n    // default translations\n    translations: {\n      bold: 'Bold',\n      italic: 'Italic',\n    },\n  };\n\n  this.$get = function () {\n    return config;\n  };\n});\n\napp.service('ngQuillService', [\n  'ngQuillConfig', function (ngQuillConfig) {\n    // validate formats\n    this.validateFormats = function (checkFormats) {\n      return checkFormats.filter(format => ngQuillConfig.formats.indexOf(format) !== -1);\n    };\n  },\n]);\n\napp.component('ngQuillEditor', {\n  bindings: {\n    toolbarEntries: '@?',\n    toolbar: '@?',\n    save: '@?',\n    required: '@?editorRequired',\n    readOnly: '<?',\n    errorClass: '@?',\n    ngModel: '<',\n    callback: '&?',\n    name: '@?',\n  },\n  require: {\n    ngModelController: 'ngModel',\n  },\n  restrict: 'E',\n  templateUrl: 'ngQuill/template.html',\n  controller($scope, $element, $timeout, ngQuillService, ngQuillConfig) {\n    'ngInject';\n\n    const config = {\n      save: this.save || 'html',\n      readOnly: this.readOnly || false,\n      formats: this.toolbarEntries ? ngQuillService.validateFormats(this.toolbarEntries.split(' ')) : ngQuillConfig.formats,\n    };\n    let changed = false;\n    let editor;\n    let settingWithEditor = false;\n\n    this.hasFocus = false;\n\n    const setClass = function () {\n      // if editor content length <= 1 and content is required -> add custom error clas and ng-invalid\n      if (this.required && (!this.modelLength || this.modelLength <= 1)) {\n        $element.addClass('ng-invalid');\n        $element.removeClass('ng-valid');\n        // if form was reseted and input field set to empty\n        if (this.errorClass && changed && $element.hasClass('ng-dirty')) {\n          $element.children().addClass(this.errorClass);\n        }\n      } else { // set to valid\n        $element.removeClass('ng-invalid');\n        $element.addClass('ng-valid');\n        if (this.errorClass) {\n          $element.children().removeClass(this.errorClass);\n        }\n      }\n    }.bind(this);\n\n    const setChanges = function (changes) {\n      // toggle readOnly\n      if (changes.readOnly && changes.readOnly.currentValue !== changes.readOnly.previousValue) {\n        editor.editor[changes.readOnly.currentValue ? 'disable' : 'enable']();\n      }\n\n      // set initial value\n      if (changes.ngModel && changes.ngModel.currentValue !== changes.ngModel.previousValue) {\n        if (config.save === 'text') {\n          return editor.setText(changes.ngModel.currentValue || '');\n        }\n        if (config.save === 'contents') {\n          return editor.setContents(changes.ngModel.currentValue || '');\n        }\n        return editor.setHTML(changes.ngModel.currentValue || '');\n      }\n    };\n\n    // set required flag (if text editor is required)\n    this.required = this.required && this.required === 'true';\n\n    // default translations\n    this.dict = ngQuillConfig.translations;\n\n    this.shouldShow = function (formats) {\n      return formats.some(format => config.formats.indexOf(format) !== -1);\n    };\n\n    this.$onChanges = function (changes) {\n      // initial bindings\n      if (!editor) {\n        var deregister = $scope.$on('editorCreated', () => {\n          deregister();\n\n          setChanges(changes);\n        });\n\n        return;\n      }\n\n      if (settingWithEditor) {\n        return;\n      }\n\n      setChanges(changes);\n    };\n\n    this.$onInit = function () {\n      // init editor\n      editor = new Quill($element[0].querySelector('.advanced-wrapper .editor-container'), config);\n\n      // mark model as touched if editor lost focus\n      editor.on('selection-change', (range) => {\n        if (range) {\n          return;\n        }\n        $timeout(() => {\n          this.ngModelController.$setTouched();\n        });\n      });\n\n      // add toolbar afterwards.\n      if (this.toolbar && this.toolbar === 'true') {\n        // $timeout is need to wait for template render\n        $timeout(() => {\n          editor.addModule('toolbar', {\n            container: $element[0].querySelector('.advanced-wrapper .toolbar-container'),\n          });\n          this.toolbarCreated = true;\n          this.showToolbar = this.hasOwnProperty('showToolbar') ? this.showToolbar : true;\n        }, 500);\n      }\n\n      // provide event to get informed when editor is created -> pass editor object.\n      $timeout(() => {\n        $scope.$emit('editorCreated', editor, this.name);\n\n        // additional creation callback\n        if (this.callback) {\n          this.callback({\n            editor,\n            name: this.name,\n          });\n        }\n\n        // clear history of undo manager to avoid removing inital model value via ctrl + z\n        editor.getModule('undo-manager').clear();\n      });\n\n      // Update model on textchange\n      $timeout(() => {\n        editor.on('text-change', () => {\n          const oldChange = changed;\n          changed = true;\n\n          settingWithEditor = true;\n\n          $timeout(() => {\n            let setValue;\n\n            // Calculate content length\n            this.modelLength = editor.getLength();\n\n            // Check if error class should be set\n            if (oldChange) {\n              setClass();\n            }\n\n            if (config.save === 'text') {\n              setValue = editor.getText();\n            } else if (config.save === 'contents') {\n              setValue = editor.getContents();\n            } else {\n              setValue = editor.getHTML();\n            }\n\n            // Set new model value\n            if (editor.getLength() === 0) {\n              this.ngModelController.$setViewValue('');\n            } else {\n              this.ngModelController.$setViewValue(setValue);\n            }\n\n            settingWithEditor = false;\n          });\n        });\n      });\n\n      $element.focusout(() => {\n        $timeout(() => this.hasFocus = false);\n      });\n\n      $element.focusin(() => {\n        $timeout(() => this.hasFocus = true);\n      });\n\n      // Clean-up\n      $element.on('$destroy', () => {\n        editor.destroy();\n      });\n    };\n  },\n});\n\napp.run([\n  '$templateCache', function ($templateCache) {\n    // put template in template cache\n    return $templateCache.put('ngQuill/template.html',\n      `\n<div\n  id=\"content-container\"\n  ng-class=\"{ 'focus': $ctrl.hasFocus }\">\n  <div\n    class=\"advanced-wrapper\"\n    flex\n    layout=\"row\">\n    <div class=\"editor-container\"></div>\n    <input type=\"text\"\n           ng-model=\"$ctrl.modelLength\"\n           ng-if=\"$ctrl.required\"\n           ng-hide=\"true\"\n           ng-pattern=\"/^([2-9]|[1-9][0-9]+)$/\">\n    <div\n      class=\"toolbar\n             toolbar-container\"\n      ng-if=\"$ctrl.toolbar\"\n      ng-show=\"$ctrl.toolbarCreated && $ctrl.showToolbar\">\n      <span\n        class=\"ql-format-group\"\n        ng-if=\"$ctrl.shouldShow(['bold', 'italic'])\">\n        <md-button\n          class=\"md-icon-button\n                 sb-btn-one-margin\n                 ql-format-button\n                 ql-bold\"\n          aria-label=\"{{$ctrl.dict.bold}}\"\n          ng-if=\"$ctrl.shouldShow(['bold'])\">\n          <md-icon>format_bold</md-icon>\n        </md-button>\n        <md-button\n          class=\"md-icon-button\n                 sb-btn-one-margin\n                 ql-format-button\n                 ql-italic\"\n          aria-label=\"{{$ctrl.dict.italic}}\"\n          ng-if=\"$ctrl.shouldShow(['italic'])\">\n          <md-icon>format_italic</md-icon>\n        </md-button>\n      </span>\n    </div>\n  </div>\n</div>`);\n  },\n]);\n","var map = {\n\t\"./app.html\": 436,\n\t\"./assignments/shared/studentAssignmentTextarea/studentAssignmentTextarea.tpl.html\": 694,\n\t\"./assignments/studentAssessAssignment/studentAssessAssignment.tpl.html\": 696,\n\t\"./assignments/studentAssessAssignmentDrive/studentAssessAssignmentDrive.tpl.html\": 698,\n\t\"./assignments/studentAssignments/shared/components/studentAssignmentsList/studentAssignmentsList.tpl.html\": 699,\n\t\"./assignments/studentAssignments/studentAssignments.tpl.html\": 700,\n\t\"./assignments/studentAssignments/studentAssignmentsNotConfigured/studentAssignmentsNotConfigured.tpl.html\": 702,\n\t\"./assignments/studentAssignments/studentAssignmentsPublished/studentAssignmentsPublished.tpl.html\": 701,\n\t\"./assignments/teacherAssessAssignment/views/dialogs/changes_dialog.html\": 1275,\n\t\"./assignments/teacherAssessAssignment/views/main.html\": 1276,\n\t\"./assignments/teacherAssessAssignment/views/partials/assessment.html\": 1277,\n\t\"./assignments/teacherAssessAssignment/views/partials/batch_editing.html\": 1278,\n\t\"./assignments/teacherAssessAssignment/views/partials/not_configured.html\": 1279,\n\t\"./assignments/teacherAssessAssignment/views/partials/objectives_feedback.html\": 1280,\n\t\"./assignments/teacherAssessAssignment/views/partials/objectives_private_notes.html\": 1281,\n\t\"./assignments/teacherAssessAssignment/views/partials/objectives_self_assessment.html\": 1282,\n\t\"./assignments/teacherAssessAssignment/views/partials/overall_feedback.html\": 1283,\n\t\"./assignments/teacherAssessAssignment/views/partials/overall_private_notes.html\": 1284,\n\t\"./assignments/teacherAssessAssignment/views/partials/results.html\": 1285,\n\t\"./assignments/teacherAssessAssignmentDrive/views/dialogs/changes_dialog.html\": 1286,\n\t\"./assignments/teacherAssessAssignmentDrive/views/main.html\": 1287,\n\t\"./assignments/teacherAssessAssignmentDrive/views/partials/student_batch_editing.html\": 1288,\n\t\"./assignments/teacherAssessAssignmentDrive/views/partials/student_drive_all.html\": 1289,\n\t\"./assignments/teacherAssessAssignmentDrive/views/partials/student_view_all.html\": 1290,\n\t\"./assignments/teacherAssessAssignmentDrive/views/partials/student_view_assessment.html\": 1291,\n\t\"./assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_feedback.html\": 1292,\n\t\"./assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_priavte_notes.html\": 1293,\n\t\"./assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_self_assessment.html\": 1294,\n\t\"./assignments/teacherAssessAssignmentStudent/views/dialogs/changes_dialog.html\": 1295,\n\t\"./assignments/teacherAssessAssignmentStudent/views/main.html\": 1296,\n\t\"./assignments/teacherAssessAssignmentStudent/views/partials/student_batch_editing.html\": 1297,\n\t\"./assignments/teacherAssessAssignmentStudent/views/partials/student_classroom_all.html\": 1298,\n\t\"./assignments/teacherAssessAssignmentStudent/views/partials/student_view_all.html\": 1299,\n\t\"./assignments/teacherAssessAssignmentStudent/views/partials/student_view_assessment.html\": 1300,\n\t\"./assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_feedback.html\": 1301,\n\t\"./assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_priavte_notes.html\": 1302,\n\t\"./assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_self_assessment.html\": 1303,\n\t\"./assignments/teacherAssignments/shared/components/teacherAssessmentsList/teacherAssessmentsList.tpl.html\": 707,\n\t\"./assignments/teacherAssignments/shared/components/teacherAssignmentsDraftsList/teacherAssignmentsDraftsList.tpl.html\": 708,\n\t\"./assignments/teacherAssignments/shared/components/teacherAssignmentsList/teacherAssignmentsList.tpl.html\": 709,\n\t\"./assignments/teacherAssignments/teacherAssignments.tpl.html\": 710,\n\t\"./assignments/teacherAssignments/teacherAssignmentsDrafts/teacherAssignmentsDrafts.tpl.html\": 711,\n\t\"./assignments/teacherAssignments/teacherAssignmentsNotConfigured/teacherAssignmentsNotConfigured.tpl.html\": 712,\n\t\"./assignments/teacherAssignments/teacherAssignmentsPublished/teacherAssignmentsPublished.tpl.html\": 713,\n\t\"./assignments/teacherSetAssignmentObjectives/shared/components/objectiveGradeTextVisibilitySettings/objectiveGradeTextVisibilitySettings.tpl.html\": 715,\n\t\"./assignments/teacherSetAssignmentObjectives/views/dialogs/assign_confirmation.html\": 1304,\n\t\"./assignments/teacherSetAssignmentObjectives/views/dialogs/assign_success.html\": 1305,\n\t\"./assignments/teacherSetAssignmentObjectives/views/main.html\": 1306,\n\t\"./assignments/teacherSetAssignmentObjectives/views/partials/objectives.html\": 1307,\n\t\"./common/components/accordion/accordion.html\": 1308,\n\t\"./common/components/accordion/accordionFooter/accordionFooter.html\": 1309,\n\t\"./common/components/accordion/accordionHeader/accordionHeader.html\": 1310,\n\t\"./common/components/accordion/accordionHeader/accordionHeaderMenu/accordionHeaderMenu.tpl.html\": 512,\n\t\"./common/components/breadcrumbs/breadcrumbs.tpl.html\": 513,\n\t\"./common/components/longTextTooltip/longTextTooltip.html\": 1311,\n\t\"./common/dialogs/hint-dialog.html\": 1312,\n\t\"./components/course-progress/common/components/assessmentDetails/assessmentDetails.html\": 1313,\n\t\"./components/course-progress/common/components/assessmentStatusPreview/assessmentStatusPreview.html\": 1314,\n\t\"./components/course-progress/common/components/courseSummary/courseSummary.html\": 1315,\n\t\"./components/course-progress/common/components/shareAssessmentsWithColleagues/shareAssessmentsWithColleagues.html\": 1316,\n\t\"./components/course-progress/common/components/studentProfile/studentProfile.html\": 1317,\n\t\"./components/course-progress/common/components/studentProfile/studentProfileDetails/studentProfileDetails.html\": 1318,\n\t\"./components/course-progress/common/components/studentProfile/studentProfilePhoto/studentProfilePhoto.html\": 1319,\n\t\"./components/course-progress/common/components/studentProgressInput/studentProgressInput.html\": 1320,\n\t\"./components/course-progress/common/dialogs/exportStudentsResults/exportStudentsResultsDialogConfirmation.html\": 1321,\n\t\"./components/course-progress/common/dialogs/exportStudentsResults/exportStudentsResultsDialogFail.html\": 1322,\n\t\"./components/course-progress/common/dialogs/exportStudentsResults/exportStudentsResultsDialogSuccess.html\": 1323,\n\t\"./components/course-progress/common/dialogs/shareAssessmentsWithColleagues/shareAssessmentsWithColleagues.html\": 1324,\n\t\"./components/course-progress/common/dialogs/studentDetailsEdit/studentDetailsEditDialog.html\": 1325,\n\t\"./components/course-progress/student-course-progress/course-details/course-details.html\": 1326,\n\t\"./components/course-progress/student-course-progress/course-details/objectives-list/objectives-list.html\": 1327,\n\t\"./components/course-progress/student-course-progress/coursesList/courseListItem/courseListItem.html\": 1328,\n\t\"./components/course-progress/student-course-progress/coursesList/coursesList.html\": 1329,\n\t\"./components/course-progress/student-course-progress/coursesList/coursesListEmpty/coursesListEmpty.html\": 1330,\n\t\"./components/course-progress/student-course-progress/student-course-progress.html\": 1331,\n\t\"./components/course-progress/student-course-progress/student-objective-details/student-assignments-list/student-assignments-list.html\": 1332,\n\t\"./components/course-progress/student-course-progress/student-objective-details/student-objective-details.html\": 1333,\n\t\"./components/course-progress/teacher-course-progress/assignmentOverviewDetails/assignmentOverviewDetails.tpl.html\": 647,\n\t\"./components/course-progress/teacher-course-progress/assignmentOverviewDetails/assignmentOverviewObjectivesList/assignmentOverviewObjectivesList.tpl.html\": 652,\n\t\"./components/course-progress/teacher-course-progress/objective-details/assignments-list/assignments-list.html\": 1334,\n\t\"./components/course-progress/teacher-course-progress/objective-details/objective-details.html\": 1335,\n\t\"./components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetails.html\": 1336,\n\t\"./components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetailsSection/studentCoursesDetailsSection.html\": 1337,\n\t\"./components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentOverviewContent/assignmentOverviewContent.tpl.html\": 654,\n\t\"./components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentOverviewStatus/assignmentOverviewStatus.tpl.html\": 655,\n\t\"./components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentsOverview.tpl.html\": 653,\n\t\"./components/course-progress/teacher-course-progress/studentDetails/objectivesList/coverageMatrixGrid/coverageMatrixGrid.tpl.html\": 658,\n\t\"./components/course-progress/teacher-course-progress/studentDetails/objectivesList/coverageMatrixGrid/gradePrognosis/gradePrognosis.tpl.html\": 662,\n\t\"./components/course-progress/teacher-course-progress/studentDetails/objectivesList/coverageMatrixGridHeader/coverageMatrixGridHeader.tpl.html\": 659,\n\t\"./components/course-progress/teacher-course-progress/studentDetails/objectivesList/listViewSwich/listViewSwitch.tpl.html\": 660,\n\t\"./components/course-progress/teacher-course-progress/studentDetails/objectivesList/listViewSwich/listViewSwitchDialog.tpl.html\": 661,\n\t\"./components/course-progress/teacher-course-progress/studentDetails/objectivesList/objectivesList.tpl.html\": 656,\n\t\"./components/course-progress/teacher-course-progress/studentDetails/studentDetails.html\": 1338,\n\t\"./components/course-progress/teacher-course-progress/students-list/studentsList.html\": 1339,\n\t\"./components/course-progress/teacher-course-progress/teacher-course-progress.html\": 1340,\n\t\"./components/courseManagement/common/components/objective-details.html\": 1341,\n\t\"./components/courseManagement/common/dialogs/change-property-doublecheck-warning.html\": 1342,\n\t\"./components/courseManagement/common/dialogs/change-property-warning.html\": 1343,\n\t\"./components/courseManagement/common/dialogs/confirmation.html\": 1344,\n\t\"./components/courseManagement/common/dialogs/create-objective.html\": 1345,\n\t\"./components/courseManagement/common/dialogs/curriculum-details.html\": 1346,\n\t\"./components/courseManagement/common/dialogs/curriculum-library.html\": 1347,\n\t\"./components/courseManagement/common/dialogs/delete-course.html\": 1348,\n\t\"./components/courseManagement/common/dialogs/delete-objective.html\": 1349,\n\t\"./components/courseManagement/common/dialogs/edit-curriculum.html\": 1350,\n\t\"./components/courseManagement/common/dialogs/make-curriculum-private.html\": 1351,\n\t\"./components/courseManagement/common/dialogs/make-curriculum-public.html\": 1352,\n\t\"./components/courseManagement/common/dialogs/remove-curriculum-form-library.html\": 1353,\n\t\"./components/courseManagement/common/dialogs/rename-course.html\": 1354,\n\t\"./components/courseManagement/common/dialogs/rename-curriculum.html\": 1355,\n\t\"./components/courseManagement/common/dialogs/save-curriculum-to-library.html\": 1356,\n\t\"./components/courseManagement/common/dialogs/search-curriculum.html\": 1357,\n\t\"./components/courseManagement/common/dialogs/wrong-curriculum-setup.html\": 1358,\n\t\"./components/courseManagement/shared/cmEmptyObjectivesList/cmEmptyObjectivesList.tpl.html\": 693,\n\t\"./components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentCourseDetails.tpl.html\": 681,\n\t\"./components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectives.tpl.html\": 682,\n\t\"./components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectivesList/cmStudentObjectivesList.tpl.html\": 683,\n\t\"./components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectivesToolbar/cmStudentObjectivesToolbar.tpl.html\": 684,\n\t\"./components/courseManagement/studentCourseManagement/cmStudentCoursesList/cmStudentCoursesList.tpl.html\": 680,\n\t\"./components/courseManagement/studentCourseManagement/studentCourseManagement.tpl.html\": 679,\n\t\"./components/courseManagement/teacherCourseManagement/cmCurriculumLibrary/cmCurriculumLibrary.tpl.html\": 687,\n\t\"./components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherCourseDetails.tpl.html\": 688,\n\t\"./components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectives.tpl.html\": 689,\n\t\"./components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectivesList/cmTeacherObjectivesList.tpl.html\": 690,\n\t\"./components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectivesToolbar/cmTeacherObjectivesToolbar.tpl.html\": 691,\n\t\"./components/courseManagement/teacherCourseManagement/cmTeacherCoursesList/cmTeacherCoursesList.tpl.html\": 692,\n\t\"./components/courseManagement/teacherCourseManagement/teacherCourseManagement.tpl.html\": 686,\n\t\"./components/user-inactive/user-inactive.html\": 1359,\n\t\"./shared/components/assignObjectivesPopup/assignObjectivesPopup.tpl.html\": 674,\n\t\"./shared/components/assignmentCourseSelect/assignmentCourseSelect.tpl.html\": 668,\n\t\"./shared/components/assignmentGradeText/assignmentGradeText.tpl.html\": 669,\n\t\"./shared/components/assignmentIconType/assignmentIconType.tpl.html\": 671,\n\t\"./shared/components/assignmentStatusIcon/assignmentStatusIcon.tpl.html\": 673,\n\t\"./shared/components/assignmentsList/assignmentsList.tpl.html\": 672,\n\t\"./shared/components/groupedVisibility/groupedVisibility.tpl.html\": 675,\n\t\"./shared/components/helpButton/helpButton.tpl.html\": 676,\n\t\"./shared/components/material/mdSelectAll/mdSelectAll.tpl.html\": 667,\n\t\"./shared/upgrades/autocomplete/autocomplete.tpl.html\": 678,\n\t\"./userSetup/commons/dialogs/changeEducationalSystem.html\": 1360,\n\t\"./userSetup/commons/dialogs/saveInfo.html\": 1361,\n\t\"./userSetup/commons/dialogs/whatNowInfo.html\": 1362,\n\t\"./userSetup/components/userSetup/userSetup.html\": 1363,\n\t\"./userSetup/components/userSetupAgreement/userSetupAgreement.html\": 1364,\n\t\"./userSetup/components/userSetupAgreementMissing/userSetupAgreementMissing.html\": 1365,\n\t\"./userSetup/components/userSetupCheck/userSetupCheck.html\": 1366,\n\t\"./userSetup/components/userSetupCheck/userSetupCheckInvalid/userSetupCheckInvalid.html\": 1367,\n\t\"./userSetup/components/userSetupCheck/userSetupCheckProgress/userSetupCheckProgress.html\": 1368,\n\t\"./userSetup/components/userSetupCheck/userSetupCheckValid/userSetupCheckValid.html\": 1369,\n\t\"./userSetup/components/userSetupComplete/userSetupComplete.html\": 1370,\n\t\"./userSetup/components/userSetupRegisterSchool/userSetupRegisterSchool.tpl.html\": 666,\n\t\"./userSetup/components/userSetupSchoolSelect/userSetupSchoolSelect.tpl.html\": 665,\n\t\"./userSetup/components/userSetupSettings/userSetupSettings.html\": 1371,\n\t\"./userSetup/components/userSetupSlides/userSetupSlides.html\": 1372,\n\t\"./utils/views/backend_info.html\": 1373,\n\t\"./utils/views/counters.html\": 1374,\n\t\"./utils/views/knowledge_requirements.html\": 1375,\n\t\"./utils/views/loading_state.html\": 1376,\n\t\"./utils/views/main_menu.html\": 1377,\n\t\"./utils/views/noLearningObjectives.html\": 1378,\n\t\"./utils/views/not_configured_state.html\": 1379,\n\t\"./utils/views/not_logged_state.html\": 1380,\n\t\"./utils/views/sum_counters.html\": 1381,\n\t\"./utils/views/toast.html\": 1382,\n\t\"./utils/views/wrong_google_drive_file.html\": 1383,\n\t\"./utils/views/wrong_user_state.html\": 1384\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1274;","var path = 'assignments/teacherAssessAssignment/views/dialogs/changes_dialog.html';\nvar html = \"<md-dialog>\\n    <md-toolbar class=\\\"sb-toolbar\\\">\\n        <div class=\\\"md-toolbar-tools\\\">\\n            <h2 localize>__MSG_saveChangesModalTitle__</h2>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-dialog-content layout-padding>\\n        <p localize>__MSG_saveChangesModalText__</p>\\n    </md-dialog-content>\\n\\n    <md-dialog-actions layout=\\\"row\\\">\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"cd.cancel()\\\"\\n            localize>\\n            __MSG_cancelBtn__\\n        </md-button>\\n\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"cd.dontSave()\\\"\\n            localize>\\n            __MSG_dontSaveBtn__\\n        </md-button>\\n\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"cd.save()\\\"\\n            ng-if=\\\"cd.allowToSave\\\"\\n            localize>\\n            __MSG_saveBtn__\\n        </md-button>\\n    </md-dialog-actions>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignment/views/main.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div class=\\\"teacher-assignments teacher-assess-assignment\\\"\\n    layout=\\\"column\\\"\\n    layout-fill\\n    ng-if=\\\"vm.isConfigured\\\">\\n<!--  <course-student-list vm=\\\"vm\\\"/>-->\\n    <md-toolbar\\n        flex=\\\"nogrow\\\"\\n        class=\\\"sb-toolbar\\\">\\n        <div\\n            layout=\\\"row\\\"\\n            layout-align=\\\"start center\\\"\\n            class=\\\"md-toolbar-tools\\\">\\n\\n            <menu-toggle ng-show=\\\"!vm.editMultiple.open\\\"\\n                ng-if=\\\"!vm.isModal\\\">\\n            </menu-toggle>\\n\\n            <md-button ng-show=\\\"!vm.editMultiple.open\\\"\\n                class=\\\"md-icon-button\\\"\\n                aria-label=\\\"__MSG_goBackBtn__\\\"\\n                ng-click=\\\"vm.historyBack()\\\"\\n                ng-if=\\\"vm.isModal\\\"\\n                localize>\\n                 <md-icon>\\n                     arrow_back\\n                 </md-icon>\\n            </md-button>\\n\\n            <div ng-show=\\\"!vm.editMultiple.open\\\"\\n                flex\\n                layout=\\\"column\\\"\\n                layout-align=\\\"center start\\\">\\n                <p\\n                    class=\\\"sb-toolbar-page-name\\\"\\n                    localize>\\n                    __MSG_assessAssignmentPage___\\n                </p>\\n                <p class=\\\"sb-toolbar-title\\\">{{ ::vm.assignmentTitle }}</p>\\n            </div>\\n          <div\\n            layout=\\\"row\\\"\\n            ng-show=\\\"vm.editMultiple.open\\\">\\n            <md-button\\n              class=\\\"sb-btn-nlrm\\\"\\n              aria-label=\\\"__MSG_exitBtnBatchEditing__\\\"\\n              ng-click=\\\"vm.showChangesDialog('cancelEditingMode')\\\"\\n              localize>\\n              __MSG_exitBtnBatchEditing__\\n            </md-button>\\n          </div>\\n          <div flex=\\\"auto\\\" ng-show=\\\"vm.editMultiple.open\\\"></div>\\n          <div layout=\\\"row\\\"  flex=\\\"none\\\">\\n<!--          <help-button ng-if=\\\"::vm.isConfigured\\\" link=\\\"teacherAssignmentClassHelpButtonUrl\\\"></help-button>-->\\n<!--          <help-button ng-if=\\\"::!vm.isConfigured\\\" link=\\\"teacherAssessAssignmentNotConfiguredHelpButtonUrl\\\"></help-button>-->\\n          <md-menu >\\n            <md-button\\n              aria-label=\\\"__MSG_actionMenuBtn__\\\"\\n              class=\\\"md-icon-button\\\"\\n              ng-click=\\\"vm.openActionMenu($mdOpenMenu, $event)\\\"\\n              localize>\\n              <md-icon>\\n                more_vert\\n              </md-icon>\\n            </md-button>\\n\\n            <md-menu-content class=\\\"assignment auto-height\\\">\\n              <md-menu-label>\\n                {{ ::'teacherAssignmentToolbarMenuLearningObjectiveLabel' | localize }}\\n              </md-menu-label>\\n              <md-menu-item ng-repeat=\\\"toolbarMenuItem in ::vm.viewMenuItems track by toolbarMenuItem.id\\\">\\n                <md-button ng-click=\\\"vm.onClickMenuItem(toolbarMenuItem);\\\">\\n                  <md-icon ng-visible=\\\"toolbarMenuItem.checked\\\">check</md-icon>\\n                  {{ ::toolbarMenuItem.label | localize }}\\n                </md-button>\\n              </md-menu-item>\\n              <md-menu-label ng-show=\\\"::vm.isGradeDescriptionEnable\\\">\\n                {{ ::'teacherAssignmentToolbarMenuGradeTextLabel' | localize }}\\n              </md-menu-label>\\n              <md-menu-item ng-show=\\\"::vm.isGradeDescriptionEnable\\\" ng-disabled=\\\"vm.editMultiple.open\\\">\\n                <md-button ng-click=\\\"vm.showGradeDescription()\\\">\\n                  <md-icon ng-visible=\\\"vm.isGradeDescriptionVisible\\\">check</md-icon>\\n                  {{ ::'teacherAssignmentToolbarMenuItemShowGradeTextLabel' | localize }}\\n                </md-button>\\n              </md-menu-item>\\n              <md-menu-item ng-show=\\\"::vm.isGradeDescriptionEnable\\\" ng-disabled=\\\"vm.editMultiple.open\\\">\\n                <md-button ng-click=\\\"vm.hideGradeDescription()\\\">\\n                  <md-icon ng-visible=\\\"!vm.isGradeDescriptionVisible\\\">check</md-icon>\\n                  {{ ::'teacherAssignmentToolbarMenuItemHideGradeTextLabel' | localize }}\\n                </md-button>\\n              </md-menu-item>\\n              <md-menu-divider></md-menu-divider>\\n              <md-menu-item>\\n                <md-button ng-click=\\\"vm.editMultipleAssignmentState()\\\" ng-disabled=\\\"vm.editMultiple.open\\\">\\n                  {{ ::'teacherAssignmentsAssessmentSetAssessmentForManyStudents' | localize }}\\n                </md-button>\\n              </md-menu-item>\\n              <md-menu-divider></md-menu-divider>\\n              <md-menu-item>\\n                <md-button ng-click=\\\"vm.setVisibility()\\\" localize ng-disabled=\\\"vm.editMultiple.open\\\">\\n                  __MSG_setVisibilityMenuItem__\\n                </md-button>\\n              </md-menu-item>\\n\\n              <md-menu-item>\\n                <md-button\\n                  ng-click=\\\"vm.editMultiple.open = !vm.editMultiple.open\\\"\\n                  ng-disabled=\\\"vm.currentEditingMode === 'objectives_self_assessment' || vm.editMultiple.open\\\"\\n                  localize>\\n                  __MSG_editMultipleBtn__\\n                </md-button>\\n              </md-menu-item>\\n              <md-menu-divider></md-menu-divider>\\n              <md-menu-item>\\n                <md-button ng-click=\\\"vm.editScalesAndObjectivesOption()\\\" localize ng-disabled=\\\"vm.editMultiple.open\\\">\\n                  __MSG_editScalesAndObjectivesOption__\\n                </md-button>\\n              </md-menu-item>\\n            </md-menu-content>\\n          </md-menu>\\n          </div>\\n        </div>\\n\\n\\n\\n        <div\\n            layout=\\\"row\\\"\\n            layout-align=\\\"{{ vm.editMultiple.open ? 'space-between center' : 'start center' }}\\\"\\n            class=\\\"md-toolbar-tools\\n                   md-toolbar-tools-bottom\\\">\\n            <md-input-container class=\\\"sb-toolbar-select\\n                                       sb-assessment-type\\\">\\n                <md-select\\n                    aria-label=\\\"__MSG_modeSelect__\\\"\\n                    ng-model=\\\"vm.editingMode\\\"\\n                    ng-change=\\\"vm.showChangesDialog('changeEditingMode')\\\"\\n                    localize>\\n                    <md-optgroup label=\\\"divider\\\">\\n                        <md-option value=\\\"assessment\\\" ng-disabled=\\\"vm.resultOnly\\\" localize>\\n                            __MSG_assessmentMode__\\n                        </md-option>\\n                        <md-option value=\\\"objectives_feedback\\\" ng-disabled=\\\"vm.resultOnly\\\" localize>\\n                            __MSG_objectivesFeedbackMode__\\n                        </md-option>\\n                        <md-option value=\\\"objectives_private_notes\\\" ng-disabled=\\\"vm.resultOnly\\\" localize>\\n                            __MSG_objectivesPrivateNotesMode__\\n                        </md-option>\\n                        <md-option value=\\\"objectives_self_assessment\\\" ng-disabled=\\\"vm.resultsOnly\\\" localize>\\n                            __MSG_teacherSelfAssessmentLabel__\\n                        </md-option>\\n                    </md-optgroup>\\n                    <md-optgroup label=\\\"divider\\\">\\n                        <md-option\\n                            value=\\\"results\\\"\\n                            localize>\\n                            __MSG_resultsMode__\\n                        </md-option>\\n                        <md-option\\n                            value=\\\"overall_feedback\\\"\\n                            localize>\\n                            __MSG_overallFeedbackMode__\\n                        </md-option>\\n                        <md-option\\n                            value=\\\"overall_private_notes\\\"\\n                            localize>\\n                            __MSG_overallPrivateNotesMode__\\n                        </md-option>\\n                    </md-optgroup>\\n                </md-select>\\n            </md-input-container>\\n        </div>\\n    </md-toolbar>\\n\\n    <loader type=\\\"double\\\"></loader>\\n\\n    <div\\n        flex=\\\"nogrow\\\"\\n        class=\\\"sb-sticky\\n               sb-sticky-max-height\\\">\\n        <div\\n            class=\\\"sb-secondary-color-background\\\"\\n            ng-include=\\\"'assignments/teacherAssessAssignment/views/partials/batch_editing.html'\\\"\\n            slide-toggle=\\\"vm.editMultiple.open\\\">\\n        </div>\\n    </div>\\n\\n    <md-content\\n        sticky-subheader\\n        save-scroll\\n        flex\\n        class=\\\"sb-hidden-x-scroll secondary-bg\\\">\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignment/views/partials/assessment.html'\\\"\\n            ng-if=\\\"vm.currentEditingMode === 'assessment'\\\">\\n        </div>\\n\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignment/views/partials/objectives_feedback.html'\\\"\\n            ng-if=\\\"vm.currentEditingMode === 'objectives_feedback'\\\">\\n        </div>\\n\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignment/views/partials/objectives_private_notes.html'\\\"\\n            ng-if=\\\"vm.currentEditingMode === 'objectives_private_notes'\\\">\\n        </div>\\n\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignment/views/partials/objectives_self_assessment.html'\\\"\\n            ng-if=\\\"vm.currentEditingMode === 'objectives_self_assessment'\\\">\\n        </div>\\n\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignment/views/partials/results.html'\\\"\\n            ng-if=\\\"vm.currentEditingMode === 'results'\\\">\\n        </div>\\n\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignment/views/partials/overall_feedback.html'\\\"\\n            ng-if=\\\"vm.currentEditingMode === 'overall_feedback'\\\">\\n        </div>\\n\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignment/views/partials/overall_private_notes.html'\\\"\\n            ng-if=\\\"vm.currentEditingMode === 'overall_private_notes'\\\">\\n        </div>\\n    </md-content>\\n</div>\\n\\n<div\\n    layout=\\\"column\\\"\\n    ng-include=\\\"'assignments/teacherAssessAssignment/views/partials/not_configured.html'\\\"\\n    layout-fill\\n    ng-if=\\\"!vm.isConfigured\\\">\\n</div>\\n\\n<knowledge-requirements\\n    trigger=\\\"vm.triggerKnowledgeRequirements\\\"\\n    objective-id=\\\"vm.objectiveKnowledgeRequirements\\\">\\n</knowledge-requirements>\\n\\n<div\\n    class=\\\"sb-saving-indicator\\\"\\n    ng-show=\\\"vm.savingIndicatorVisible\\\">\\n    <span\\n        class=\\\"error\\\"\\n        ng-show=\\\"vm.savingError\\\"\\n        localize>\\n        __MSG_errorStatusIndicator__\\n    </span>\\n    <span\\n        ng-show=\\\"!vm.savingError && vm.savingInProgress > 0\\\"\\n        localize>\\n        __MSG_savingStatusIndicator__\\n    </span>\\n    <span\\n        ng-show=\\\"!vm.savingError && vm.savingInProgress === 0\\\"\\n        localize>\\n        __MSG_savedStatusIndicator__\\n    </span>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignment/views/partials/assessment.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div class=\\\"teacher-assess-assignment_view_assessment\\\">\\n\\n  <div ng-repeat=\\\"courseDefinition in vm.coursesDefinitions track by courseDefinition.id\\\">\\n<!--    <course-student-list-->\\n<!--      course-definition=\\\"courseDefinition\\\"-->\\n<!--      assignment=\\\"vm.assignment\\\"-->\\n<!--      navigation=\\\"vm.navigationHistory\\\"-->\\n<!--      vm=\\\"vm\\\"-->\\n<!--    ></course-student-list>-->\\n\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n    <md-card>\\n    <div layout=\\\"column\\\"\\n         ng-repeat=\\\"student in courseDefinition.students track by student.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start center\\\"\\n           class=\\\"sb-parent-item sb-pl-16 sb-ptb-8\\\">\\n        <md-checkbox\\n          flex=\\\"none\\\"\\n          layout-align=\\\"start center\\\"\\n          class=\\\"sb-checkbox-reset md-primary\\\"\\n          aria-label=\\\"__MSG_studentCheckbox__\\\"\\n          ng-click=\\\"vm.assignmentCheckboxesGroup(student.objective_assessments, student, vm.coursesDefinitions, vm.editMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n          ng-checked=\\\"student.checked\\\"\\n          ng-show=\\\"vm.editMultiple.open\\\"\\n          localize>\\n        </md-checkbox>\\n\\n        <p\\n          flex\\n          class=\\\"sb-parent-item-name sb-item-clickable\\\"\\n          ng-click=\\\"vm.showChangesDialog('selectStudent', student.id)\\\">\\n          <app-assessment-status-icon [status]=\\\"student\\\" ng-hide=\\\"vm.editMultiple.open\\\"></app-assessment-status-icon>\\n                <span class=\\\"sb-parent-item-without-info\\\">\\n                    {{ ::student.full_name }}\\n                </span>\\n        </p>\\n\\n        <md-button\\n          flex=\\\"none\\\"\\n          class=\\\"md-icon-button sb-btn-icon-small button-toggle\\\"\\n          aria-label=\\\"__MSG_toggleBtn__\\\"\\n          ng-click=\\\"vm.toggleStudent(student)\\\"\\n          ng-if=\\\"!student.fetching_objectives\\\"\\n          localize>\\n          <md-icon\\n            class=\\\"sb-icon-open\\\"\\n            ng-class=\\\"{open: student.open}\\\">\\n            keyboard_arrow_down\\n          </md-icon>\\n        </md-button>\\n        <md-progress-circular class=\\\"sb-progress-circular\\\"\\n                              ng-if=\\\"student.fetching_objectives\\\"\\n                              md-mode=\\\"indeterminate\\\"\\n                              md-diameter=\\\"24px\\\"></md-progress-circular>\\n        <md-menu class=\\\"student-menu\\\" ng-hide=\\\"vm.editMultiple.open\\\">\\n          <md-button class=\\\"md-icon-button\\\"\\n                     ng-click=\\\"$mdMenu.open($event)\\\">\\n            <md-icon>more_vert</md-icon>\\n          </md-button>\\n          <md-menu-content class=\\\"assignment-status-menu-content\\\" >\\n            <md-menu-item ng-repeat=\\\"menuItem in vm.statusMenuItems track by menuItem.status\\\">\\n              <md-button ng-click=\\\"vm.changeAssessmentStatus(student.id, menuItem.status)\\\">\\n                <app-assessment-status-icon [status]=\\\"menuItem\\\"></app-assessment-status-icon>\\n                {{ menuItem.label | localize }}\\n              </md-button>\\n            </md-menu-item>\\n          </md-menu-content>\\n        </md-menu>\\n      </div>\\n\\n\\n      <div slide-toggle=\\\"student.open\\\"\\n           class=\\\"sb-child-item\\\">\\n        <div class=\\\"objective last-modify-parent\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"start start\\\"\\n             ng-repeat=\\\"objective in student.objective_assessments track by objective.id\\\">\\n          <md-checkbox\\n            flex=\\\"none\\\"\\n            class=\\\"sb-checkbox-reset md-primary\\\"\\n            aria-label=\\\"__MSG_objectiveCheckbox__\\\"\\n            ng-click=\\\"vm.assignmentCheckboxesSingle(objective, student.objective_assessments, student, vm.coursesDefinitions, vm.editMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n            ng-checked=\\\"objective.checked\\\"\\n            ng-show=\\\"vm.editMultiple.open\\\"\\n            localize>\\n          </md-checkbox>\\n\\n          <div flex\\n               layout=\\\"column\\\">\\n            <div class=\\\"assessment\\\">\\n              <div layout=\\\"column\\\"\\n                   layout-align=\\\"start stretch\\\">\\n                <div class=\\\"grade-info-wrapper\\\"\\n                     controller-as=\\\"vm\\\"\\n                     objective-knowledge-requirements>\\n                  <long-text-tooltip text=\\\"::objective.objective_name\\\"\\n                                     ng-if=\\\"vm.isTitleVisible(objective.objective_name)\\\">\\n                    <span class=\\\"assessment-name\\\">{{ ::objective.objective_name }}</span>\\n                  </long-text-tooltip>\\n\\n                </div>\\n                <div class=\\\"assessment-description\\\"\\n                     ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                     ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n              </div>\\n            </div>\\n\\n            <div layout=\\\"row\\\"\\n                 layout-align=\\\"start end\\\">\\n              <single-slider\\n                class=\\\"sb-nouislider flex last-modified-trigger\\\"\\n                grade-system=\\\"vm.gradeSystem\\\"\\n                auto-width=\\\"true\\\"\\n                ng-model=\\\"objective.grade_name\\\"\\n                ng-update=\\\"vm.updateDescription(event, objective, courseDefinition)\\\"\\n                ng-change=\\\"vm.changeSingleGrade(vm.debounceObjectiveAssessments, [objective], 'objective_slider')\\\"\\n                ng-if=\\\"!vm.gradeSystem.is_counter\\\">\\n              </single-slider>\\n\\n              <counters\\n                class=\\\"counters last-modified-trigger\\\"\\n                grade-system=\\\"vm.gradeSystem\\\"\\n                ng-model=\\\"objective.counter_grades\\\"\\n                assignment=\\\"objective\\\"\\n                saving-method=\\\"vm.changeObjectiveAssessments\\\"\\n                ng-if=\\\"vm.gradeSystem.is_counter\\\">\\n              </counters>\\n\\n              <div flex=\\\"nogrow\\\"\\n                   layout=\\\"column\\\"\\n                   layout-align=\\\"end center\\\">\\n\\n                <md-button class=\\\"md-icon-button visibility\\\"\\n                           flex=\\\"none\\\"\\n                           aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                           ng-click=\\\"vm.changeSingleVisible(vm.changeObjectiveAssessments, [objective], objective, 'grade_published', 'visibility')\\\"\\n                           localize>\\n                  <md-icon ng-class=\\\"{ 'sb-icon-green': objective.grade_published }\\\">\\n                    {{ objective.grade_published ? 'visibility' : 'visibility_off' }}\\n                  </md-icon>\\n                </md-button>\\n              </div>\\n\\n            </div>\\n            <span class=\\\"sb-child-item-with-date last-modify-tag\\\">{{ objective.grade_last_edit | LastModified }}</span>\\n            <assignment-grade-text text=\\\"objective.gradeText\\\"\\n                                   ng-show=\\\"vm.isGradeTextVisible(objective)\\\">\\n            </assignment-grade-text>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </md-card>\\n  </div>\\n\\n  <div\\n    class=\\\"sb-pall-16\\\"\\n    ng-if=\\\"!vm.students.length\\\"\\n    localize>\\n    __MSG_noStudentsYet__\\n  </div>\\n\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignment/views/partials/batch_editing.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div layout=\\\"column\\\" class=\\\"sb-plr-16\\\">\\n    <div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n        <md-checkbox\\n            flex=\\\"none\\\"\\n            class=\\\"sb-checkbox-reset md-primary\\\"\\n            aria-label=\\\"__MSG_selectAllCheckbox__\\\"\\n            ng-click=\\\"vm.assignmentCheckboxesAll(vm.editMultiple, vm.coursesDefinitions); vm.checkIfAnyCheckboxIsChecked()\\\"\\n            ng-checked=\\\"vm.editMultiple.checkboxesChecked\\\"\\n            ng-show=\\\"vm.currentEditingMode == 'assessment' || vm.currentEditingMode == 'objectives_feedback' || vm.currentEditingMode == 'objectives_private_notes'\\\"\\n            localize>\\n        </md-checkbox>\\n\\n        <md-checkbox\\n            flex=\\\"none\\\"\\n            class=\\\"sb-checkbox-reset md-primary\\\"\\n            aria-label=\\\"__MSG_selectAllCheckbox__\\\"\\n            ng-click=\\\"vm.checkboxAll(vm.students, vm.editMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n            ng-checked=\\\"vm.editMultiple.checkboxChecked\\\"\\n            ng-show=\\\"vm.currentEditingMode == 'results'|| vm.currentEditingMode == 'overall_feedback' || vm.currentEditingMode == 'overall_private_notes'\\\"\\n            localize>\\n        </md-checkbox>\\n\\n        <p flex\\n            class=\\\"select-all-label\\\"\\n            localize>__MSG_selectAllCheckbox__</p>\\n\\n        <md-input-container\\n            class=\\\"sb-select-reset\\\"\\n            ng-show=\\\"vm.currentEditingMode == 'results' || vm.currentEditingMode == 'objectives_feedback' || vm.currentEditingMode == 'objectives_private_notes' || vm.currentEditingMode == 'overall_feedback' || vm.currentEditingMode == 'overall_private_notes'\\\">\\n            <md-select\\n                aria-label=\\\"__MSG_textSelect__\\\"\\n                ng-model=\\\"vm.editMultiple.textMode\\\"\\n                ng-init=\\\"vm.editMultiple.textMode = 'new_text'\\\"\\n                localize>\\n                <md-option value=\\\"new_text\\\" localize>__MSG_newTextOption__</md-option>\\n                <md-option value=\\\"append_text_first\\\" localize>__MSG_appendTextFirstOption__</md-option>\\n                <md-option value=\\\"append_text_last\\\" localize>__MSG_appendTextLastOption__</md-option>\\n            </md-select>\\n        </md-input-container>\\n\\n        <md-menu class=\\\"sb-btn-batchediting-vis\\\"\\n                 flex=\\\"none\\\"\\n                 md-position-mode=\\\"target-right target\\\"\\n                 ng-visible=\\\"vm.show\\\">\\n            <md-button class=\\\"md-icon-button\\\"\\n                       aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                       ng-click=\\\"$mdOpenMenu($event)\\\"\\n                       ng-disabled=\\\"true\\\"\\n                       localize>\\n                <md-icon\\n                    md-menu-align-target\\n                    ng-show=\\\"vm.editMultiple.visibility === 'not_changed'\\\">\\n                    visibility\\n                </md-icon>\\n\\n                <md-icon\\n                    md-menu-align-target\\n                    class=\\\"sb-icon-green\\\"\\n                    ng-show=\\\"vm.editMultiple.visibility === 'set_visible'\\\">\\n                    visibility\\n                </md-icon>\\n\\n                <md-icon\\n                    md-menu-align-target\\n                    class=\\\"md-warn\\\"\\n                    ng-show=\\\"vm.editMultiple.visibility === 'set_hidden'\\\">\\n                    visibility_off\\n                </md-icon>\\n            </md-button>\\n\\n            <md-menu-content width=\\\"3\\\">\\n                <md-menu-item>\\n                    <md-button\\n                        ng-click=\\\"vm.editMultiple.visibility = 'not_changed'; vm.checkEditMultiple()\\\">\\n                        <div layout=\\\"row\\\" flex>\\n                            <md-icon>visibility</md-icon>\\n                            <p flex localize>__MSG_notChangeVisibilityBtn__</p>\\n                        </div>\\n                    </md-button>\\n                </md-menu-item>\\n\\n                <md-menu-item>\\n                    <md-button\\n                        ng-click=\\\"vm.editMultiple.visibility = 'set_visible'; vm.checkEditMultiple()\\\">\\n                        <div layout=\\\"row\\\" flex>\\n                            <md-icon class=\\\"sb-icon-green\\\">visibility</md-icon>\\n                            <p flex localize>__MSG_setVisibleBtn__</p>\\n                        </div>\\n                    </md-button>\\n                </md-menu-item>\\n\\n                <md-menu-item>\\n                    <md-button\\n                        ng-click=\\\"vm.editMultiple.visibility = 'set_hidden'; vm.checkEditMultiple()\\\">\\n                        <div layout=\\\"row\\\" flex>\\n                            <md-icon class=\\\"md-warn\\\">visibility_off</md-icon>\\n                            <p flex localize>__MSG_setHiddenBtn__</p>\\n                        </div>\\n                    </md-button>\\n                </md-menu-item>\\n            </md-menu-content>\\n        </md-menu>\\n    </div>\\n\\n    <div layout=\\\"column\\\"\\n         ng-show=\\\"vm.currentEditingMode != 'assessment' || !vm.gradeSystem.is_counter\\\">\\n        <single-slider\\n            class=\\\"sb-nouislider batch-editing flex sb-ptb-8\\\"\\n            grade-system=\\\"vm.gradeSystem\\\"\\n            ng-model=\\\"vm.editMultiple.grade\\\"\\n            ng-change=\\\"vm.checkEditMultiple()\\\"\\n            ng-show=\\\"vm.currentEditingMode == 'assessment' || vm.currentEditingMode == 'course_grade'\\\"\\n            ng-if=\\\"!vm.gradeSystem.is_counter\\\"\\n            data-batchediting=\\\"true\\\">\\n        </single-slider>\\n\\n        <md-input-container\\n            flex\\n            md-no-float\\n            class=\\\"sb-hide-errors\\\"\\n            ng-show=\\\"vm.currentEditingMode == 'results' || vm.currentEditingMode == 'objectives_feedback' || vm.currentEditingMode == 'objectives_private_notes' || vm.currentEditingMode == 'overall_feedback' || vm.currentEditingMode == 'overall_private_notes'\\\">\\n            <textarea\\n                md-detect-hidden=\\\"true\\\"\\n                aria-label=\\\"__MSG_objectiveFeedbackInput__\\\"\\n                placeholder=\\\"\\\"\\n                ng-model=\\\"vm.editMultiple.textField\\\"\\n                ng-change=\\\"vm.checkEditMultiple()\\\"\\n                localize>\\n            </textarea>\\n        </md-input-container>\\n\\n      <div layout=\\\"row\\\"\\n           flex layout-align=\\\"end\\\">\\n        <md-progress-circular\\n          md-diameter=\\\"20\\\"\\n          class=\\\"sb-progress-circular-batch-editing\\\"\\n          ng-disabled=\\\"!vm.savingInProgress\\\"\\n          ng-hide=\\\"!vm.savingInProgress\\\">\\n        </md-progress-circular>\\n      <md-button align=\\\"right\\\"\\n        class=\\\"sb-btn-nlrm\\\"\\n        aria-label=\\\"__MSG_applyBtnBatchEditing__\\\"\\n        ng-click=\\\"vm.saveEditMultiple()\\\"\\n        ng-disabled=\\\"!vm.editMultiple.changesToSave || !vm.editMultiple.anyCheckboxChecked\\\"\\n        localize>\\n        __MSG_applyBtnBatchEditing__\\n      </md-button>\\n      </div>\\n\\n    </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignment/views/partials/not_configured.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div layout=\\\"column\\\" layout-fill ng-if=\\\"!vm.isSelectedStudent\\\">\\n    <md-toolbar flex=\\\"nogrow\\\" class=\\\"sb-toolbar\\\">\\n        <div layout=\\\"row\\\" layout-align=\\\"start center\\\" class=\\\"md-toolbar-tools\\\">\\n            <menu-toggle\\n                ng-if=\\\"!vm.isModal\\\">\\n            </menu-toggle>\\n\\n            <md-button\\n                class=\\\"md-icon-button\\\"\\n                aria-label=\\\"__MSG_goBackBtn__\\\"\\n                ng-click=\\\"vm.historyBack()\\\"\\n                ng-if=\\\"vm.isModal\\\"\\n                localize>\\n                 <md-icon>\\n                     arrow_back\\n                 </md-icon>\\n            </md-button>\\n\\n            <div flex layout=\\\"column\\\" layout-align=\\\"center start\\\">\\n                <p class=\\\"sb-toolbar-page-name\\\" localize>__MSG_notConfiguredPage__</p>\\n                <p class=\\\"sb-toolbar-title\\\">{{ ::vm.assignmentTitle }}</p>\\n            </div>\\n\\n<!--          <help-button link=\\\"teacherAssignmentStreamNotConfiguredHelpButtonUrl\\\"></help-button>-->\\n\\n            <md-menu>\\n                <md-button\\n                    aria-label=\\\"__MSG_actionMenuBtn__\\\"\\n                    class=\\\"md-icon-button\\\"\\n                    ng-click=\\\"vm.openActionMenu($mdOpenMenu, $event)\\\"\\n                    localize>\\n                    <md-icon>\\n                        more_vert\\n                    </md-icon>\\n                </md-button>\\n\\n                <md-menu-content width=\\\"3\\\">\\n                    <md-menu-item>\\n                        <md-button\\n                            ng-click=\\\"vm.editScalesAndObjectivesOption(true)\\\"\\n                            localize>\\n                            __MSG_editScalesAndObjectivesOption__\\n                        </md-button>\\n                    </md-menu-item>\\n                </md-menu-content>\\n            </md-menu>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-progress-linear\\n        flex=\\\"nogrow\\\"\\n        class=\\\"sb-progress-linear sb-progress-linear-single-toolbar\\\"\\n        ng-show=\\\"vm.showLoading()\\\"\\n        md-mode=\\\"indeterminate\\\">\\n    </md-progress-linear>\\n\\n    <md-content flex layout=\\\"column\\\" layout-align=\\\"start center\\\" class=\\\"sb-hidden-x-scroll sb-pall-16\\\">\\n      <div flex layout=\\\"column\\\">\\n      <p class=\\\"sb-pall-16 no-objectives\\\" localize>__MSG_assessAssignmentNotConfigured__</p>\\n        <md-button\\n            class=\\\"sb-btn md-raised md-primary md-button md-ink-ripple\\\"\\n            ng-click=\\\"vm.editScalesAndObjectivesOption(true)\\\"\\n            localize>\\n            __MSG_editScalesAndObjectivesOption__\\n        </md-button>\\n      </div>\\n    </md-content>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignment/views/partials/objectives_feedback.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div class=\\\"teacher-assess-assignment_view_assessment\\\"\\n     layout=\\\"column\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.coursesDefinitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n\\n  <md-card>\\n    <div layout=\\\"column\\\"\\n         ng-repeat=\\\"student in courseDefinition.students track by student.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start center\\\"\\n           class=\\\"sb-parent-item sb-pl-16 sb-ptb-8\\\">\\n        <md-checkbox\\n          flex=\\\"none\\\"\\n          class=\\\"sb-checkbox-reset md-primary\\\"\\n          aria-label=\\\"__MSG_studentCheckbox__\\\"\\n          ng-click=\\\"vm.assignmentCheckboxesGroup(student.objective_assessments, student, vm.coursesDefinitions, vm.editMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n          ng-checked=\\\"student.checked\\\"\\n          ng-show=\\\"vm.editMultiple.open\\\"\\n          localize>\\n        </md-checkbox>\\n\\n        <p\\n          flex\\n          class=\\\"sb-parent-item-name sb-item-clickable\\\"\\n          ng-click=\\\"vm.showChangesDialog('selectStudent', student.id)\\\">\\n          <app-assessment-status-icon [status]=\\\"student\\\" ng-hide=\\\"vm.editMultiple.open\\\"></app-assessment-status-icon>\\n                <span class=\\\"sb-parent-item-without-info\\\">\\n                    {{ ::student.full_name }}\\n                </span>\\n        </p>\\n\\n        <md-button\\n          flex=\\\"none\\\"\\n          class=\\\"md-icon-button sb-btn-icon-small button-toggle\\\"\\n          aria-label=\\\"__MSG_toggleBtn__\\\"\\n          ng-click=\\\"vm.toggleStudent(student)\\\"\\n          ng-if=\\\"!student.fetching_objectives\\\"\\n          localize>\\n          <md-icon\\n            class=\\\"sb-icon-open\\\"\\n            ng-class=\\\"{open: student.open}\\\">\\n            keyboard_arrow_down\\n          </md-icon>\\n        </md-button>\\n\\n        <md-progress-circular class=\\\"sb-progress-circular\\\"\\n                              ng-if=\\\"student.fetching_objectives\\\"\\n                              md-mode=\\\"indeterminate\\\"\\n                              md-diameter=\\\"24px\\\"></md-progress-circular>\\n\\n        <md-menu class=\\\"student-menu\\\" ng-hide=\\\"vm.editMultiple.open\\\">\\n          <md-button class=\\\"md-icon-button\\\"\\n                     ng-click=\\\"$mdMenu.open($event)\\\">\\n            <md-icon>more_vert</md-icon>\\n          </md-button>\\n          <md-menu-content>\\n            <md-menu-item ng-repeat=\\\"menuItem in vm.statusMenuItems track by menuItem.status\\\">\\n              <md-button ng-click=\\\"vm.changeAssessmentStatus(student.id, menuItem.status)\\\">\\n                <app-assessment-status-icon [status]=\\\"menuItem\\\"></app-assessment-status-icon>\\n                {{ menuItem.label | localize }}\\n              </md-button>\\n            </md-menu-item>\\n          </md-menu-content>\\n        </md-menu>\\n      </div>\\n\\n      <div slide-toggle=\\\"student.open\\\"\\n           class=\\\"sb-child-item\\\">\\n        <div class=\\\"objective last-modify-parent\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"start start\\\"\\n             ng-repeat=\\\"objective in student.objective_assessments track by objective.id\\\">\\n          <md-checkbox\\n            flex=\\\"none\\\"\\n            class=\\\"sb-checkbox-reset md-primary\\\"\\n            aria-label=\\\"__MSG_objectiveCheckbox__\\\"\\n            ng-click=\\\"vm.assignmentCheckboxesSingle(objective, student.objective_assessments, student, vm.coursesDefinitions, vm.editMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n            ng-checked=\\\"objective.checked\\\"\\n            ng-show=\\\"vm.editMultiple.open\\\"\\n            localize>\\n          </md-checkbox>\\n\\n          <div flex\\n               layout=\\\"column\\\">\\n            <div class=\\\"assessment\\\">\\n              <div layout=\\\"column\\\"\\n                   layout-align=\\\"start stretch\\\">\\n                <div class=\\\"grade-info-wrapper\\\"\\n                     controller-as=\\\"vm\\\"\\n                     objective-knowledge-requirements>\\n                  <long-text-tooltip text=\\\"::objective.objective_name\\\"\\n                                     ng-if=\\\"vm.isTitleVisible(objective.objective_name)\\\">\\n                    <span class=\\\"assessment-name\\\">{{ ::objective.objective_name }}</span>\\n                  </long-text-tooltip>\\n\\n                </div>\\n                <div class=\\\"assessment-description\\\"\\n                     ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                     ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n              </div>\\n            </div>\\n\\n            <div layout=\\\"row\\\"\\n                 layout-align=\\\"start start\\\">\\n              <md-input-container md-no-float=\\\"false\\\"\\n                                  flex\\n                                  class=\\\"sb-truncate-gray sb-hide-errors notes-input last-modified-trigger\\\">\\n                        <textarea\\n                          md-detect-hidden=\\\"true\\\"\\n                          aria-label=\\\"__MSG_objectiveFeedbackInput__\\\"\\n                          placeholder=\\\"__MSG_objectiveFeedbackInput__\\\"\\n                          ng-model=\\\"objective.feedback\\\"\\n                          mixpanel-text-event=\\\"feedback_to_student_on_objective\\\"\\n                          ng-change=\\\"vm.changeSingleText(vm.debounceObjectiveAssessments, [objective])\\\"\\n                          localize>\\n                        </textarea>\\n              </md-input-container>\\n\\n              <div flex=\\\"nogrow\\\"\\n                   layout=\\\"column\\\"\\n                   layout-align=\\\"end center\\\">\\n\\n                <md-button class=\\\"md-icon-button visibility\\\"\\n                           flex=\\\"none\\\"\\n                           aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                           ng-click=\\\"vm.changeSingleVisible(vm.changeObjectiveAssessments, [objective], objective, 'grade_published', 'visibility')\\\"\\n                           localize>\\n                  <md-icon ng-class=\\\"{ 'sb-icon-green': objective.grade_published }\\\">\\n                    {{ objective.grade_published ? 'visibility' : 'visibility_off' }}\\n                  </md-icon>\\n                </md-button>\\n              </div>\\n            </div>\\n            <span class=\\\"sb-child-item-with-date last-modify-tag\\\">{{ objective.feedback_last_edit | LastModified }}</span>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </md-card>\\n  </div>\\n</div>\\n\\n<div\\n  class=\\\"sb-pall-16\\\"\\n  ng-if=\\\"!vm.students.length\\\"\\n  localize>\\n  __MSG_noStudentsYet__\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignment/views/partials/objectives_private_notes.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div class=\\\"teacher-assess-assignment_view_assessment\\\"\\n     layout=\\\"column\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.coursesDefinitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n<md-card>\\n    <div layout=\\\"column\\\"\\n         ng-repeat=\\\"student in courseDefinition.students track by student.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start center\\\"\\n           class=\\\"sb-parent-item sb-pl-16 sb-ptb-8\\\">\\n        <md-checkbox\\n          flex=\\\"none\\\"\\n          class=\\\"sb-checkbox-reset md-primary\\\"\\n          aria-label=\\\"__MSG_studentCheckbox__\\\"\\n          ng-click=\\\"vm.assignmentCheckboxesGroup(student.objective_assessments, student, vm.coursesDefinitions, vm.editMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n          ng-checked=\\\"student.checked\\\"\\n          ng-show=\\\"vm.editMultiple.open\\\"\\n          localize>\\n        </md-checkbox>\\n\\n        <p\\n          flex\\n          class=\\\"sb-parent-item-name sb-item-clickable\\\"\\n          ng-click=\\\"vm.showChangesDialog('selectStudent', student.id)\\\">\\n          <app-assessment-status-icon [status]=\\\"student\\\" ng-hide=\\\"vm.editMultiple.open\\\"></app-assessment-status-icon>\\n                <span class=\\\"sb-parent-item-without-info\\\">\\n                    {{ ::student.full_name }}\\n                </span>\\n        </p>\\n\\n        <md-button\\n          flex=\\\"none\\\"\\n          class=\\\"md-icon-button sb-btn-icon-small button-toggle\\\"\\n          aria-label=\\\"__MSG_toggleBtn__\\\"\\n          ng-click=\\\"vm.toggleStudent(student)\\\"\\n          ng-if=\\\"!student.fetching_objectives\\\"\\n          localize>\\n          <md-icon\\n            class=\\\"sb-icon-open\\\"\\n            ng-class=\\\"{open: student.open}\\\">\\n            keyboard_arrow_down\\n          </md-icon>\\n        </md-button>\\n\\n        <md-progress-circular class=\\\"sb-progress-circular\\\"\\n                              ng-if=\\\"student.fetching_objectives\\\"\\n                              md-mode=\\\"indeterminate\\\"\\n                              md-diameter=\\\"24px\\\"></md-progress-circular>\\n\\n        <md-menu class=\\\"student-menu\\\" ng-hide=\\\"vm.editMultiple.open\\\">\\n          <md-button class=\\\"md-icon-button\\\"\\n                     ng-click=\\\"$mdMenu.open($event)\\\">\\n            <md-icon>more_vert</md-icon>\\n          </md-button>\\n          <md-menu-content>\\n            <md-menu-item ng-repeat=\\\"menuItem in vm.statusMenuItems track by menuItem.status\\\">\\n              <md-button ng-click=\\\"vm.changeAssessmentStatus(student.id, menuItem.status)\\\">\\n                <app-assessment-status-icon [status]=\\\"menuItem\\\"></app-assessment-status-icon>\\n                {{ menuItem.label | localize }}\\n              </md-button>\\n            </md-menu-item>\\n          </md-menu-content>\\n        </md-menu>\\n      </div>\\n\\n      <div slide-toggle=\\\"student.open\\\"\\n           class=\\\"sb-child-item\\\">\\n        <div class=\\\"objective last-modify-parent\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"start start\\\"\\n             ng-repeat=\\\"objective in student.objective_assessments track by objective.id\\\">\\n          <md-checkbox\\n            flex=\\\"none\\\"\\n            class=\\\"sb-checkbox-reset md-primary\\\"\\n            aria-label=\\\"__MSG_objectiveCheckbox__\\\"\\n            ng-click=\\\"vm.assignmentCheckboxesSingle(objective, student.objective_assessments, student, vm.coursesDefinitions, vm.editMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n            ng-checked=\\\"objective.checked\\\"\\n            ng-show=\\\"vm.editMultiple.open\\\"\\n            localize>\\n          </md-checkbox>\\n\\n          <div flex\\n               layout=\\\"column\\\">\\n            <div class=\\\"assessment\\\">\\n              <!--ng-class=\\\"{ 'with-description': vm.isDescriptionVisible(objective.description) }\\\"-->\\n              <!--ng-click=\\\"vm.triggerKnowledgeRequirements = !vm.triggerKnowledgeRequirements; vm.objectiveKnowledgeRequirements = objective.objective\\\">-->\\n              <div layout=\\\"column\\\"\\n                   layout-align=\\\"start stretch\\\">\\n                <div class=\\\"grade-info-wrapper\\\"\\n                     controller-as=\\\"vm\\\"\\n                     objective-knowledge-requirements>\\n                  <long-text-tooltip text=\\\"::objective.objective_name\\\"\\n                                     ng-if=\\\"vm.isTitleVisible(objective.objective_name)\\\">\\n                    <span class=\\\"assessment-name\\\">{{ ::objective.objective_name }}</span>\\n                  </long-text-tooltip>\\n\\n                </div>\\n                <div class=\\\"assessment-description\\\"\\n                     ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                     ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n              </div>\\n            </div>\\n            <div layout=\\\"row\\\"\\n                 layout-align=\\\"start start\\\">\\n            <md-input-container md-no-float=\\\"false\\\"\\n                                flex\\n                                class=\\\"sb-truncate-gray sb-hide-errors last-modified-trigger notes-input\\\">\\n\\n              <textarea\\n                md-detect-hidden=\\\"true\\\"\\n                aria-label=\\\"__MSG_objectivePrivateNoteInput__\\\"\\n                placeholder=\\\"__MSG_objectivePrivateNoteInput__\\\"\\n                ng-model=\\\"objective.private_note\\\"\\n                ng-change=\\\"vm.changeSingleText(vm.debounceObjectiveAssessments, [objective], 'private_note')\\\"\\n                localize>\\n              </textarea>\\n              <div flex layout=\\\"row\\\" layout-align=\\\"end none\\\">\\n                <span class=\\\"sb-child-item-with-date last-modify-tag\\\">{{ objective.private_note_last_edit | LastModified }}</span>\\n              </div>\\n            </md-input-container>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n</md-card>\\n  </div>\\n</div>\\n\\n<div\\n  class=\\\"sb-pall-16\\\"\\n  ng-if=\\\"!vm.students.length\\\"\\n  localize>\\n  __MSG_noStudentsYet__\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignment/views/partials/objectives_self_assessment.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div class=\\\"teacher-assess-assignment_view_assessment\\\"\\n     layout=\\\"column\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.coursesDefinitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n<md-card>\\n    <div layout=\\\"column\\\"\\n         ng-repeat=\\\"student in courseDefinition.students track by student.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start center\\\"\\n           class=\\\"sb-parent-item sb-pl-16 sb-ptb-8\\\">\\n        <p\\n          flex\\n          class=\\\"sb-parent-item-name sb-item-clickable\\\"\\n          ng-click=\\\"vm.showChangesDialog('selectStudent', student.id)\\\">\\n          <app-assessment-status-icon ng-visible=\\\"vm.viewReady\\\" [status]=\\\"student\\\"></app-assessment-status-icon>\\n                <span class=\\\"sb-parent-item-without-info\\\">\\n                    {{ ::student.full_name }}\\n                </span>\\n        </p>\\n\\n        <md-button\\n          flex=\\\"none\\\"\\n          class=\\\"md-icon-button sb-btn-icon-small button-toggle\\\"\\n          aria-label=\\\"__MSG_toggleBtn__\\\"\\n          ng-click=\\\"vm.toggleStudent(student)\\\"\\n          ng-if=\\\"!student.fetching_objectives\\\"\\n          localize>\\n          <md-icon\\n            class=\\\"sb-icon-open\\\"\\n            ng-class=\\\"{open: student.open}\\\">\\n            keyboard_arrow_down\\n          </md-icon>\\n        </md-button>\\n\\n        <md-progress-circular class=\\\"sb-progress-circular\\\"\\n                              ng-if=\\\"student.fetching_objectives\\\"\\n                              md-mode=\\\"indeterminate\\\"\\n                              md-diameter=\\\"24px\\\"></md-progress-circular>\\n\\n        <md-menu class=\\\"student-menu\\\">\\n          <md-button class=\\\"md-icon-button\\\"\\n                     ng-click=\\\"$mdMenu.open($event)\\\">\\n            <md-icon>more_vert</md-icon>\\n          </md-button>\\n          <md-menu-content>\\n            <md-menu-item ng-repeat=\\\"menuItem in vm.statusMenuItems track by menuItem.status\\\">\\n              <md-button ng-click=\\\"vm.changeAssessmentStatus(student.id, menuItem.status)\\\">\\n                <app-assessment-status-icon [status]=\\\"menuItem\\\"></app-assessment-status-icon>\\n                {{ menuItem.label | localize }}\\n              </md-button>\\n            </md-menu-item>\\n          </md-menu-content>\\n        </md-menu>\\n      </div>\\n\\n      <div slide-toggle=\\\"student.open\\\"\\n           class=\\\"sb-child-item\\\">\\n        <div\\n          layout=\\\"row\\\"\\n          layout-align=\\\"start start\\\"\\n          class=\\\"objective last-modify-parent\\\"\\n          ng-repeat=\\\"objective in student.objective_assessments track by objective.id\\\">\\n          <div flex\\n               layout=\\\"column\\\">\\n            <div class=\\\"assessment\\\">\\n              <div layout=\\\"column\\\"\\n                   layout-align=\\\"start stretch\\\">\\n                <div class=\\\"grade-info-wrapper\\\"\\n                     controller-as=\\\"vm\\\"\\n                     objective-knowledge-requirements>\\n                  <long-text-tooltip text=\\\"::objective.objective_name\\\"\\n                                     ng-if=\\\"vm.isTitleVisible(objective.objective_name)\\\">\\n                    <span class=\\\"assessment-name\\\">{{ ::objective.objective_name }}</span>\\n                  </long-text-tooltip>\\n\\n                </div>\\n                <div class=\\\"assessment-description\\\"\\n                     ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                     ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n              </div>\\n            </div>\\n            <div layout=\\\"row\\\"\\n                 layout-align=\\\"start start\\\">\\n            <md-input-container md-no-float=\\\"false\\\"\\n                                flex\\n                                class=\\\"sb-truncate-gray sb-hide-errors notes-input last-modified-trigger\\\">\\n              <textarea\\n                md-detect-hidden=\\\"true\\\"\\n                aria-label=\\\"__MSG_teacherSelfAssessmentLabel__\\\"\\n                placeholder=\\\"__MSG_teacherSelfAssessmentLabel__\\\"\\n                ng-model=\\\"objective.self_assessment\\\"\\n                readonly\\n                localize>\\n                        </textarea>\\n            </md-input-container>\\n            </div>\\n            <div flex layout=\\\"row\\\" layout-align=\\\"end none\\\">\\n              <span class=\\\"sb-child-item-with-date float last-modify-tag\\\">{{ objective.self_assessment_last_edit | LastModified }}</span>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n</md-card>\\n  </div>\\n</div>\\n\\n<div\\n  class=\\\"sb-pall-16\\\"\\n  ng-if=\\\"!vm.students.length\\\"\\n  localize>\\n  __MSG_noStudentsYet__\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignment/views/partials/overall_feedback.html';\nvar html = \"<md-card class=\\\"teacher-assess-assignment_view_assessment sb-parent-item sb-parent-item-no-border sb-pl-16 sb-ptb-8\\\"\\n  layout=\\\"row\\\"\\n  layout-align=\\\"start start\\\"\\n  ng-repeat=\\\"student in ::vm.students track by student.student_id\\\"\\n  ng-if=\\\"vm.students.length\\\">\\n  <md-checkbox\\n    flex=\\\"none\\\"\\n    class=\\\"sb-checkbox-reset-full md-primary\\\"\\n    aria-label=\\\"__MSG_studentCheckbox__\\\"\\n    ng-click=\\\"vm.checkboxSingle(student, vm.students, vm.editMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n    ng-checked=\\\"student.checked\\\"\\n    ng-show=\\\"vm.editMultiple.open\\\"\\n    localize>\\n  </md-checkbox>\\n\\n  <div flex\\n       layout=\\\"column\\\"\\n       class=\\\"last-modify-parent\\\">\\n    <p\\n      class=\\\"sb-parent-item-name-overall sb-item-clickable\\\"\\n      ng-click=\\\"vm.clickStudent(student.student_id)\\\">\\n      <span class=\\\"sb-parent-item-without-info\\\">{{ ::student.student_name }}</span>\\n    </p>\\n\\n    <div layout=\\\"row\\\"\\n         layout-align=\\\"start start\\\">\\n      <md-input-container md-no-float=\\\"false\\\"\\n                          flex\\n                          class=\\\"sb-hide-errors notes-input last-modified-trigger\\\">\\n            <textarea\\n              md-detect-hidden=\\\"true\\\"\\n              aria-label=\\\"__MSG_overallFeedbackInput__\\\"\\n              placeholder=\\\"__MSG_overallFeedbackInput__\\\"\\n              ng-model=\\\"student.feedback\\\"\\n              ng-change=\\\"vm.changeSingleText(vm.debounceAssignmentsObjectives, [student], 'feedback_to_student_on_overall_assignment')\\\"\\n              localize>\\n            </textarea>\\n      </md-input-container>\\n\\n      <div flex=\\\"nogrow\\\"\\n           layout=\\\"column\\\"\\n           layout-align=\\\"start center\\\">\\n        <md-button class=\\\"md-icon-button visibility\\\"\\n                   flex=\\\"none\\\"\\n                   aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                   ng-click=\\\"vm.changeSingleVisible(vm.changeAssignmentsObjectives, [student], student, 'result_published', 'visibility')\\\"\\n                   localize>\\n          <md-icon ng-class=\\\"{ 'sb-icon-green': student.feedback_published }\\\">\\n            {{ student.feedback_published ? 'visibility' : 'visibility_off' }}\\n          </md-icon>\\n        </md-button>\\n      </div>\\n    </div>\\n    <span class=\\\"sb-child-item-with-date last-modify-tag\\\">{{ student.feedback_last_edit | LastModified }}</span>\\n  </div>\\n</md-card>\\n\\n<md-card\\n  class=\\\"sb-pall-16\\\"\\n  ng-if=\\\"!vm.students.length\\\"\\n  localize>\\n  __MSG_noStudentsYet__\\n</md-card>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignment/views/partials/overall_private_notes.html';\nvar html = \"<md-card class=\\\"teacher-assess-assignment_view_assessment sb-parent-item sb-parent-item-no-border sb-pl-16 sb-ptb-8\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"start start\\\"\\n     ng-repeat=\\\"student in ::vm.students track by student.student_id\\\"\\n     ng-if=\\\"vm.students.length\\\">\\n  <md-checkbox\\n    flex=\\\"none\\\"\\n    class=\\\"sb-checkbox-reset-full md-primary\\\"\\n    aria-label=\\\"__MSG_studentCheckbox__\\\"\\n    ng-click=\\\"vm.checkboxSingle(student, vm.students, vm.editMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n    ng-checked=\\\"student.checked\\\"\\n    ng-show=\\\"vm.editMultiple.open\\\"\\n    localize>\\n  </md-checkbox>\\n\\n  <div class=\\\"last-modify-parent\\\"\\n       flex\\n       layout=\\\"column\\\">\\n    <p\\n      class=\\\"sb-parent-item-name-overall sb-item-clickable\\\"\\n      ng-click=\\\"vm.clickStudent(student.student_id)\\\">\\n      <span class=\\\"sb-parent-item-without-info\\\">{{ ::student.student_name }}</span>\\n    </p>\\n\\n    <div layout=\\\"row\\\"\\n         layout-align=\\\"start end\\\">\\n      <md-input-container md-no-float=\\\"false\\\"\\n                          flex\\n                          class=\\\"sb-hide-errors notes-input last-modified-trigger\\\">\\n        <textarea md-detect-hidden=\\\"true\\\"\\n                  aria-label=\\\"__MSG_overallPrivateNoteInput__\\\"\\n                  placeholder=\\\"__MSG_overallPrivateNoteInput__\\\"\\n                  ng-model=\\\"student.private_note\\\"\\n                  ng-change=\\\"vm.changeSingleText(vm.debounceAssignmentsObjectives, [student], 'overall_private_note')\\\"\\n                  localize>\\n            </textarea>\\n        <div flex layout=\\\"row\\\" layout-align=\\\"end none\\\">\\n          <span class=\\\"sb-child-item-with-date last-modify-tag\\\">{{ student.private_note_last_edit | LastModified }}</span>\\n        </div>\\n      </md-input-container>\\n    </div>\\n  </div>\\n</md-card>\\n\\n<md-card\\n  class=\\\"sb-pall-16\\\"\\n  ng-if=\\\"!vm.students.length\\\"\\n  localize>\\n  __MSG_noStudentsYet__\\n</md-card>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignment/views/partials/results.html';\nvar html = \"<md-card class=\\\"teacher-assess-assignment_view_assessment sb-parent-item sb-parent-item-no-border sb-pl-16 sb-ptb-8\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"start start\\\"\\n     ng-repeat=\\\"student in ::vm.students track by student.student_id\\\"\\n     ng-if=\\\"vm.students.length\\\">\\n  <md-checkbox\\n    flex=\\\"none\\\"\\n    class=\\\"sb-checkbox-reset-full md-primary\\\"\\n    aria-label=\\\"__MSG_studentCheckbox__\\\"\\n    ng-click=\\\"vm.checkboxSingle(student, vm.students, vm.editMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n    ng-checked=\\\"student.checked\\\"\\n    ng-show=\\\"vm.editMultiple.open\\\"\\n    localize>\\n  </md-checkbox>\\n\\n  <div class=\\\"last-modify-parent\\\"\\n       flex\\n       layout=\\\"column\\\">\\n    <p\\n      class=\\\"sb-parent-item-name-overall sb-item-clickable\\\"\\n      ng-click=\\\"vm.clickStudent(student.student_id)\\\">\\n      <span class=\\\"sb-parent-item-without-info\\\">{{ ::student.student_name }}</span>\\n    </p>\\n\\n    <div layout=\\\"row\\\"\\n         layout-align=\\\"start start\\\">\\n      <md-input-container md-no-float=\\\"false\\\"\\n                          flex\\n                          class=\\\"sb-hide-errors notes-input last-modified-trigger\\\">\\n            <textarea\\n              md-detect-hidden=\\\"true\\\"\\n              aria-label=\\\"__MSG_resultsInput__\\\"\\n              placeholder=\\\"__MSG_resultsInput__\\\"\\n              ng-model=\\\"student.result\\\"\\n              ng-change=\\\"vm.changeSingleText(vm.debounceAssignmentsObjectives, [student], 'result')\\\"\\n              localize>\\n            </textarea>\\n      </md-input-container>\\n\\n      <div flex=\\\"nogrow\\\"\\n           layout=\\\"column\\\"\\n           layout-align=\\\"start center\\\">\\n        <md-button class=\\\"md-icon-button visibility\\\"\\n                   flex=\\\"none\\\"\\n                   aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                   ng-click=\\\"vm.changeSingleVisible(vm.changeAssignmentsObjectives, [student], student, 'result_published', 'visibility')\\\"\\n                   localize>\\n          <md-icon ng-class=\\\"{ 'sb-icon-green': student.result_published }\\\">\\n            {{ student.result_published ? 'visibility' : 'visibility_off' }}\\n          </md-icon>\\n        </md-button>\\n      </div>\\n    </div>\\n    <span class=\\\"sb-child-item-with-date last-modify-tag\\\">{{ student.result_last_edit | LastModified }}</span>\\n  </div>\\n</md-card>\\n\\n<md-card\\n  class=\\\"sb-pall-16\\\"\\n  ng-if=\\\"!vm.students.length\\\"\\n  localize>\\n  __MSG_noStudentsYet__\\n</md-card>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentDrive/views/dialogs/changes_dialog.html';\nvar html = \"<md-dialog>\\n    <md-toolbar class=\\\"sb-toolbar\\\">\\n        <div class=\\\"md-toolbar-tools\\\">\\n            <h2 localize>__MSG_saveChangesModalTitle__</h2>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-dialog-content layout-padding>\\n        <p localize>__MSG_saveChangesModalText__</p>\\n    </md-dialog-content>\\n\\n    <md-dialog-actions layout=\\\"row\\\">\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"cd.cancel()\\\"\\n            localize>\\n            __MSG_cancelBtn__\\n        </md-button>\\n\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"cd.dontSave()\\\"\\n            localize>\\n            __MSG_dontSaveBtn__\\n        </md-button>\\n\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"cd.save()\\\"\\n            ng-if=\\\"cd.allowToSave\\\"\\n            localize>\\n            __MSG_saveBtn__\\n        </md-button>\\n    </md-dialog-actions>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentDrive/views/main.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div class=\\\"teacher-assignments teacher-assess-assignment-student\\\"\\n    layout=\\\"column\\\"\\n    layout-fill>\\n    <md-toolbar\\n        flex=\\\"nogrow\\\"\\n        class=\\\"sb-toolbar\\\">\\n        <div layout=\\\"row\\\"\\n             layout-align=\\\"space-between start\\\">\\n          <div\\n              layout=\\\"column\\\"\\n              layout-align=\\\"center start\\\"\\n              class=\\\"md-toolbar-tools\\\"\\n              ng-show=\\\"!vm.studentEditMultiple.open\\\">\\n              <p class=\\\"sb-toolbar-title\\\">{{ ::vm.selectedAssignment.student_name }}</p>\\n\\n              <md-input-container class=\\\"sb-toolbar-select\\n                                         sb-select-toolbar-20\\n                                         sb-select-toolbar-up\\\">\\n                  <md-select\\n                      aria-label=\\\"__MSG_assignmentSelected__\\\"\\n                      ng-model=\\\"vm.assignmentSelected\\\"\\n                      ng-change=\\\"vm.changeAssignment()\\\"\\n                      localize>\\n                      <md-option\\n                          value=\\\"{{ ::assignment.id }}\\\"\\n                          ng-repeat=\\\"assignment in vm.studentAssignments\\\">\\n                          {{ ::assignment.assignment_title }}\\n                      </md-option>\\n                  </md-select>\\n              </md-input-container>\\n          </div>\\n\\n          <div\\n            layout=\\\"row\\\"\\n            layout-align=\\\"start center\\\"\\n            ng-show=\\\"vm.studentEditMultiple.open\\\">\\n            <md-button\\n              class=\\\"sb-btn-nlrm\\\"\\n              aria-label=\\\"__MSG_exitBtnBatchEditing__\\\"\\n              ng-click=\\\"vm.showChangesDialog('cancelEditingMode')\\\"\\n              localize>\\n              __MSG_exitBtnBatchEditing__\\n            </md-button>\\n          </div>\\n          <div flex ng-show=\\\"vm.studentEditMultiple.open\\\"></div>\\n\\n          <div layout=\\\"row\\\" flex=\\\"none\\\" layout-align=\\\"end center\\\">\\n<!--            <help-button link=\\\"teacherAssignmentsDriveSingleStudentEditHeaderHelpButtonUrl\\\"></help-button>-->\\n            <md-menu>\\n              <md-button\\n                aria-label=\\\"__MSG_actionMenuBtn__\\\"\\n                class=\\\"md-icon-button\\\"\\n                ng-click=\\\"vm.openActionMenu($mdOpenMenu, $event)\\\"\\n                localize>\\n                <md-icon>\\n                  more_vert\\n                </md-icon>\\n              </md-button>\\n\\n              <md-menu-content class=\\\"assignment auto-height\\\">\\n                <md-menu-label>\\n                  {{ ::'teacherAssignmentToolbarMenuLearningObjectiveLabel' | localize }}\\n                </md-menu-label>\\n                <md-menu-item ng-repeat=\\\"toolbarMenuItem in ::vm.viewMenuItems track by toolbarMenuItem.id\\\">\\n                  <md-button ng-click=\\\"vm.onClickMenuItem(toolbarMenuItem);\\\">\\n                    <md-icon ng-visible=\\\"toolbarMenuItem.checked\\\">check</md-icon>\\n                    {{ ::toolbarMenuItem.label | localize }}\\n                  </md-button>\\n                </md-menu-item>\\n                <md-menu-label  ng-show=\\\"::vm.isGradeDescriptionEnable\\\">\\n                  {{ ::'teacherAssignmentToolbarMenuGradeTextLabel' | localize }}\\n                </md-menu-label>\\n                <md-menu-item ng-show=\\\"::vm.isGradeDescriptionEnable\\\">\\n                  <md-button ng-click=\\\"vm.showGradeDescription();\\\">\\n                    <md-icon ng-visible=\\\"vm.isGradeDescriptionVisible\\\">check</md-icon>\\n                    {{ ::'teacherAssignmentToolbarMenuItemShowGradeTextLabel' | localize }}\\n                  </md-button>\\n                </md-menu-item>\\n                <md-menu-item ng-show=\\\"::vm.isGradeDescriptionEnable\\\">\\n                  <md-button ng-click=\\\"vm.hideGradeDescription();\\\">\\n                    <md-icon ng-visible=\\\"!vm.isGradeDescriptionVisible\\\">check</md-icon>\\n                    {{ ::'teacherAssignmentToolbarMenuItemHideGradeTextLabel' | localize }}\\n                  </md-button>\\n                </md-menu-item>\\n                <md-menu-divider></md-menu-divider>\\n                <md-menu-item>\\n                  <md-button\\n                    ng-click=\\\"vm.studentEditMultiple.open = true\\\"\\n                    ng-disabled=\\\"vm.currentStudentEditingMode == 'all' ||\\n                                           vm.currentStudentEditingMode == 'objectives_self_assessment' || vm.studentEditMultiple.open\\\"\\n                    localize>\\n                    __MSG_editMultipleBtn__\\n                  </md-button>\\n                </md-menu-item>\\n              </md-menu-content>\\n            </md-menu>\\n          </div>\\n        </div>\\n\\n\\n\\n        <div\\n            layout=\\\"row\\\"\\n            layout-align=\\\"space-between center\\\"\\n            class=\\\"md-toolbar-tools\\n                   md-toolbar-tools-bottom\\\">\\n            <md-input-container class=\\\"sb-toolbar-select\\n                                       sb-assessment-type\\\">\\n                <md-select\\n                    aria-label=\\\"__MSG_modeSelect__\\\"\\n                    ng-model=\\\"vm.studentEditingMode\\\"\\n                    ng-change=\\\"vm.showChangesDialog('changeEditingMode')\\\"\\n                    localize>\\n                    <md-option\\n                        value=\\\"all\\\"\\n                        localize>\\n                        __MSG_allMode__\\n                    </md-option>\\n                    <md-option\\n                        value=\\\"assessment\\\"\\n                        ng-disabled=\\\"vm.resultOnly\\\"\\n                        localize>\\n                        __MSG_assessmentMode__\\n                    </md-option>\\n                    <md-option\\n                        value=\\\"objectives_feedback\\\"\\n                        ng-disabled=\\\"vm.resultOnly\\\"\\n                        localize>\\n                        __MSG_objectivesFeedbackMode__\\n                    </md-option>\\n                    <md-option\\n                        value=\\\"objectives_private_notes\\\"\\n                        ng-disabled=\\\"vm.resultOnly\\\"\\n                        localize>\\n                        __MSG_objectivesPrivateNotesMode__\\n                    </md-option>\\n                    <md-option\\n                        value=\\\"objectives_self_assessment\\\"\\n                        ng-disabled=\\\"vm.resultOnly\\\"\\n                        localize>\\n                        __MSG_teacherSelfAssessmentLabel__\\n                    </md-option>\\n                </md-select>\\n            </md-input-container>\\n\\n          <app-assessment-state-select ng-hide=\\\"vm.studentEditMultiple.open\\\"\\n                                       [status]=\\\"vm.selectedStatus\\\"\\n                                        [warning]=\\\"vm.assessment.fail_warning\\\"\\n                                        (status-change)=\\\"vm.statusChange($event)\\\" ></app-assessment-state-select>\\n        </div>\\n    </md-toolbar>\\n\\n    <loader type=\\\"double\\\"></loader>\\n\\n    <div\\n        flex=\\\"nogrow\\\"\\n        class=\\\"sb-sticky\\n               sb-sticky-max-height\\\">\\n        <div\\n            class=\\\"sb-secondary-color-background\\\"\\n            ng-include=\\\"'assignments/teacherAssessAssignmentDrive/views/partials/student_batch_editing.html'\\\"\\n            slide-toggle=\\\"vm.studentEditMultiple.open\\\">\\n        </div>\\n    </div>\\n\\n    <md-content\\n        sticky-subheader\\n        flex\\n        class=\\\"sb-hidden-x-scroll secondary-bg\\\">\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignmentDrive/views/partials/student_view_all.html'\\\"\\n            ng-if=\\\"vm.currentStudentEditingMode === 'all'\\\">\\n        </div>\\n\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignmentDrive/views/partials/student_view_assessment.html'\\\"\\n            ng-if=\\\"vm.currentStudentEditingMode === 'assessment'\\\">\\n        </div>\\n\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_feedback.html'\\\"\\n            ng-if=\\\"vm.currentStudentEditingMode === 'objectives_feedback'\\\">\\n        </div>\\n\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_priavte_notes.html'\\\"\\n            ng-if=\\\"vm.currentStudentEditingMode === 'objectives_private_notes'\\\">\\n        </div>\\n\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_self_assessment.html'\\\"\\n            ng-if=\\\"vm.currentStudentEditingMode === 'objectives_self_assessment'\\\">\\n        </div>\\n    </md-content>\\n</div>\\n\\n<knowledge-requirements\\n    trigger=\\\"vm.triggerKnowledgeRequirements\\\"\\n    objective-id=\\\"vm.objectiveKnowledgeRequirements\\\">\\n</knowledge-requirements>\\n\\n<div\\n    class=\\\"sb-saving-indicator\\\"\\n    ng-show=\\\"vm.savingIndicatorVisible\\\">\\n    <span\\n        class=\\\"error\\\"\\n        ng-show=\\\"vm.savingError\\\"\\n        localize>\\n        __MSG_errorStatusIndicator__\\n    </span>\\n    <span\\n        ng-show=\\\"!vm.savingError && vm.savingInProgress > 0\\\"\\n        localize>\\n        __MSG_savingStatusIndicator__\\n    </span>\\n    <span\\n        ng-show=\\\"!vm.savingError && vm.savingInProgress === 0\\\"\\n        localize>\\n        __MSG_savedStatusIndicator__\\n    </span>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentDrive/views/partials/student_batch_editing.html';\nvar html = \"<div layout=\\\"column\\\" class=\\\"sb-plr-16\\\">\\n  <div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n    <md-checkbox\\n      flex=\\\"none\\\"\\n      class=\\\"sb-checkbox-reset md-primary\\\"\\n      aria-label=\\\"__MSG_selectAllCheckbox__\\\"\\n      ng-click=\\\"vm.assignmentCheckboxAll(vm.selectedAssignment.course_definitions, vm.studentEditMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n      ng-checked=\\\"vm.studentEditMultiple.checkboxChecked\\\"\\n      ng-show=\\\"vm.currentStudentEditingMode == 'assessment' || vm.currentStudentEditingMode == 'objectives_feedback' || vm.currentStudentEditingMode == 'objectives_private_notes'\\\"\\n      localize>\\n    </md-checkbox>\\n\\n    <p flex localize>__MSG_selectAllCheckbox__</p>\\n\\n    <md-input-container\\n      class=\\\"sb-select-reset\\\"\\n      ng-show=\\\"vm.currentStudentEditingMode == 'objectives_feedback' || vm.currentStudentEditingMode == 'objectives_private_notes'\\\">\\n      <md-select\\n        aria-label=\\\"__MSG_textSelect__\\\"\\n        ng-model=\\\"vm.studentEditMultiple.textMode\\\"\\n        ng-init=\\\"vm.studentEditMultiple.textMode = 'new_text'\\\"\\n        localize>\\n        <md-option value=\\\"new_text\\\" localize>__MSG_newTextOption__</md-option>\\n        <md-option value=\\\"append_text_first\\\" localize>__MSG_appendTextFirstOption__</md-option>\\n        <md-option value=\\\"append_text_last\\\" localize>__MSG_appendTextLastOption__</md-option>\\n      </md-select>\\n    </md-input-container>\\n\\n    <md-menu\\n      flex=\\\"none\\\"\\n      md-position-mode=\\\"target-right target\\\"\\n      class=\\\"sb-btn-batchediting-vis\\\"\\n      ng-visible=\\\"vm.show\\\">\\n      <md-button\\n        class=\\\"md-icon-button\\\"\\n        aria-label=\\\"__MSG_visibilityBtn__\\\"\\n        ng-click=\\\"$mdOpenMenu($event)\\\"\\n        ng-disabled=\\\"true\\\"\\n        localize>\\n        <md-icon\\n          md-menu-align-target\\n          ng-show=\\\"vm.studentEditMultiple.visibility === 'not_changed'\\\">\\n          visibility\\n        </md-icon>\\n\\n        <md-icon\\n          md-menu-align-target\\n          class=\\\"sb-icon-green\\\"\\n          ng-show=\\\"vm.studentEditMultiple.visibility === 'set_visible'\\\">\\n          visibility\\n        </md-icon>\\n\\n        <md-icon\\n          md-menu-align-target\\n          class=\\\"md-warn\\\"\\n          ng-show=\\\"vm.studentEditMultiple.visibility === 'set_hidden'\\\">\\n          visibility_off\\n        </md-icon>\\n      </md-button>\\n\\n      <md-menu-content width=\\\"3\\\">\\n        <md-menu-item>\\n          <md-button\\n            ng-click=\\\"vm.studentEditMultiple.visibility = 'not_changed'; vm.checkEditMultiple()\\\">\\n            <div layout=\\\"row\\\" flex>\\n              <md-icon>visibility</md-icon>\\n              <p flex localize>__MSG_notChangeVisibilityBtn__</p>\\n            </div>\\n          </md-button>\\n        </md-menu-item>\\n\\n        <md-menu-item>\\n          <md-button\\n            ng-click=\\\"vm.studentEditMultiple.visibility = 'set_visible'; vm.checkEditMultiple()\\\">\\n            <div layout=\\\"row\\\" flex>\\n              <md-icon class=\\\"sb-icon-green\\\">visibility</md-icon>\\n              <p flex localize>__MSG_setVisibleBtn__</p>\\n            </div>\\n          </md-button>\\n        </md-menu-item>\\n\\n        <md-menu-item>\\n          <md-button\\n            ng-click=\\\"vm.studentEditMultiple.visibility = 'set_hidden'; vm.checkEditMultiple()\\\">\\n            <div layout=\\\"row\\\" flex>\\n              <md-icon class=\\\"md-warn\\\">visibility_off</md-icon>\\n              <p flex localize>__MSG_setHiddenBtn__</p>\\n            </div>\\n          </md-button>\\n        </md-menu-item>\\n      </md-menu-content>\\n    </md-menu>\\n  </div>\\n\\n  <div layout=\\\"column\\\" ng-show=\\\"vm.currentStudentEditingMode != 'assessment' || !vm.gradeSystem.is_counter\\\">\\n    <single-slider\\n      class=\\\"sb-nouislider batch-editing flex sb-ptb-8\\\"\\n      grade-system=\\\"vm.gradeSystem\\\"\\n      ng-model=\\\"vm.studentEditMultiple.grade\\\"\\n      ng-change=\\\"vm.checkEditMultiple()\\\"\\n      ng-show=\\\"vm.currentStudentEditingMode == 'assessment'\\\"\\n      ng-if=\\\"!vm.gradeSystem.is_counter\\\"\\n      data-batchediting=\\\"true\\\">\\n    </single-slider>\\n\\n    <md-input-container\\n      flex\\n      md-no-float\\n      class=\\\"sb-hide-errors\\\"\\n      ng-show=\\\"vm.currentStudentEditingMode == 'objectives_feedback' || vm.currentStudentEditingMode == 'objectives_private_notes'\\\">\\n            <textarea\\n              md-detect-hidden=\\\"true\\\"\\n              aria-label=\\\"__MSG_objectiveFeedbackInput__\\\"\\n              placeholder=\\\"\\\"\\n              ng-model=\\\"vm.studentEditMultiple.textField\\\"\\n              ng-change=\\\"vm.checkEditMultiple()\\\"\\n              localize>\\n            </textarea>\\n    </md-input-container>\\n    <div layout=\\\"row\\\"\\n         flex layout-align=\\\"end\\\">\\n      <md-progress-circular\\n        md-diameter=\\\"20\\\"\\n        class=\\\"sb-progress-circular-batch-editing\\\"\\n        ng-disabled=\\\"!vm.savingInProgress\\\"\\n        ng-hide=\\\"!vm.savingInProgress\\\">\\n      </md-progress-circular>\\n    <md-button\\n      class=\\\"sb-btn-nlrm\\\"\\n      aria-label=\\\"__MSG_applyBtnBatchEditing__\\\"\\n      ng-click=\\\"vm.saveEditMultiple()\\\"\\n      ng-disabled=\\\"!vm.studentEditMultiple.changesToSave || !vm.studentEditMultiple.anyCheckboxChecked\\\"\\n      localize>\\n      __MSG_applyBtnBatchEditing__\\n    </md-button>\\n    </div>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentDrive/views/partials/student_drive_all.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div class=\\\"sb-section-offset teacher-assess-assignment-student_classroom_all\\\"\\n     layout=\\\"column\\\">\\n  <md-subheader aria-label=\\\"__MSG_overallResultHeaderTeacher__\\\" class=\\\"md-no-sticky course-name\\\" localize>__MSG_overallResultHeaderTeacher__</md-subheader>\\n  <md-card>\\n  <div layout=\\\"column\\\"\\n       flex\\n       class=\\\"sb-child-item-row  last-modify-parent objective\\\">\\n\\n    <div flex\\n         layout=\\\"row\\\">\\n      <md-input-container flex\\n                          class=\\\"sb-hide-errors result-input last-modified-trigger\\\">\\n        <label localize>__MSG_resultsInput__</label>\\n\\n        <textarea\\n          md-detect-hidden=\\\"true\\\"\\n          aria-label=\\\"__MSG_resultsInput__\\\"\\n          ng-model=\\\"vm.selectedAssignment.result\\\"\\n          ng-change=\\\"vm.changeSingleText(vm.debounceAssignmentsObjectives, vm.selectedAssignment, 'result')\\\"\\n          localize>\\n        </textarea>\\n      </md-input-container>\\n\\n      <div flex=\\\"nogrow\\\"\\n           layout=\\\"column\\\"\\n           layout-align=\\\"start center\\\"\\n          class=\\\"sb-pt-8\\\">\\n\\n        <md-button class=\\\"md-icon-button visibility\\\"\\n                   flex=\\\"none\\\"\\n                   aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                   ng-click=\\\"vm.changeSingleVisible(vm.changeAssignmentAssessments, vm.selectedAssignment, vm.selectedAssignment, 'result_published', 'visibility')\\\"\\n                   localize>\\n          <md-icon ng-class=\\\"{ 'sb-icon-green': vm.selectedAssignment.result_published }\\\">\\n            {{ vm.selectedAssignment.result_published ? 'visibility' : 'visibility_off' }}\\n          </md-icon>\\n        </md-button>\\n      </div>\\n    </div>\\n    <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">{{ vm.selectedAssignment.result_last_edit | LastModified }}</span>\\n  </div>\\n\\n  <div layout=\\\"column\\\"\\n        flex\\n       class=\\\"sb-child-item-row last-modify-parent objective\\\">\\n    <div flex\\n         layout=\\\"row\\\">\\n      <md-input-container flex\\n                          class=\\\"sb-hide-errors overall-feedback-input last-modified-trigger\\\">\\n        <label localize>__MSG_overallFeedbackInput__</label>\\n\\n        <textarea\\n          md-detect-hidden=\\\"true\\\"\\n          aria-label=\\\"__MSG_overallFeedbackInput__\\\"\\n          ng-model=\\\"vm.selectedAssignment.feedback\\\"\\n          mixpanel-text-event=\\\"feedback_to_student_on_overall_assignment\\\"\\n          ng-change=\\\"vm.changeSingleText(vm.debounceAssignmentsObjectives, vm.selectedAssignment, 'overall_feedback')\\\"\\n          localize>\\n            </textarea>\\n      </md-input-container>\\n      <div flex=\\\"nogrow\\\"\\n           layout=\\\"column\\\"\\n           layout-align=\\\"start center\\\"\\n           class=\\\"sb-pt-8\\\">\\n        <md-button\\n          flex=\\\"none\\\"\\n          class=\\\"md-icon-button visibility\\\"\\n          aria-label=\\\"__MSG_visibilityBtn__\\\"\\n          ng-click=\\\"vm.changeSingleVisible(vm.changeAssignmentAssessments, vm.selectedAssignment, vm.selectedAssignment, 'feedback_published', 'visibility')\\\"\\n          localize>\\n          <md-icon ng-class=\\\"{ 'sb-icon-green': vm.selectedAssignment.feedback_published }\\\">\\n            {{ vm.selectedAssignment.feedback_published ? 'visibility' : 'visibility_off' }}\\n          </md-icon>\\n        </md-button>\\n      </div>\\n    </div>\\n    <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">{{ vm.selectedAssignment.feedback_last_edit | LastModified }}</span>\\n  </div>\\n\\n  <div layout=\\\"column\\\"\\n       class=\\\"sb-child-item-row last-modify-parent objective\\\">\\n\\n    <md-input-container flex\\n                        class=\\\"sb-hide-errors last-modified-trigger\\\">\\n      <label localize>__MSG_overallPrivateNoteInput__</label>\\n      <textarea\\n        md-detect-hidden=\\\"true\\\"\\n        aria-label=\\\"__MSG_overallPrivateNoteInput__\\\"\\n        ng-model=\\\"vm.selectedAssignment.private_note\\\"\\n        ng-change=\\\"vm.changeSingleText(vm.debounceAssignmentsObjectives, vm.selectedAssignment, 'overall_private_note')\\\"\\n        localize>\\n            </textarea>\\n    </md-input-container>\\n    <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">{{ vm.selectedAssignment.private_note_last_edit | LastModified }}</span>\\n  </div>\\n  </md-card>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentDrive/views/partials/student_view_all.html';\nvar html = \"<div class=\\\"teacher-assess-assignment-student_view_all\\\"\\n     layout=\\\"column\\\">\\n  <div\\n    ng-include=\\\"'assignments/teacherAssessAssignmentDrive/views/partials/student_drive_all.html'\\\">\\n  </div>\\n  <div ng-repeat=\\\"courseDefinition in vm.selectedAssignment.course_definitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n\\n    <md-card class=\\\"objective\\\"\\n         layout=\\\"column\\\"\\n         ng-repeat=\\\"objective in courseDefinition.objectives track by objective.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start start\\\"\\n           class=\\\"sb-parent-item last-modify-parent\\\">\\n        <div flex\\n             layout=\\\"column\\\">\\n          <div flex\\n               class=\\\"assessment\\\">\\n            <div layout=\\\"column\\\"\\n                 layout-align=\\\"start stretch\\\">\\n              <div class=\\\"grade-info-wrapper\\\"\\n                   controller-as=\\\"vm\\\"\\n                   objective-id-path=\\\"objective.id\\\"\\n                   objective-knowledge-requirements>\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"assessment-name\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n\\n              </div>\\n              <div class=\\\"assessment-description\\\"\\n                   ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                   ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n            </div>\\n          </div>\\n\\n          <div layout=\\\"row\\\"\\n               layout-align=\\\"start end\\\">\\n            <single-slider\\n              class=\\\"sb-nouislider\\n                            flex\\n                            last-modified-trigger\\\"\\n              grade-system=\\\"vm.gradeSystem\\\"\\n              auto-width=\\\"true\\\"\\n              ng-model=\\\"objective.objective_assessments.grade_name\\\"\\n              ng-update=\\\"vm.updateDescription(event, objective, courseDefinition)\\\"\\n              ng-change=\\\"vm.changeSingleGrade(vm.debounceObjectiveAssessments, [objective.objective_assessments], 'objective_slider')\\\"\\n              ng-if=\\\"!vm.gradeSystem.is_counter && !vm.selectedStudent.objectiveAssessmentFetching\\\">\\n            </single-slider>\\n\\n            <counters\\n              class=\\\"counters last-modified-trigger\\\"\\n              grade-system=\\\"vm.gradeSystem\\\"\\n              ng-model=\\\"objective.objective_assessments.counter_grades\\\"\\n              assignment=\\\"objective.objective_assessments\\\"\\n              saving-method=\\\"vm.changeObjectiveAssessments\\\"\\n              ng-if=\\\"vm.gradeSystem.is_counter && !vm.selectedStudent.objectiveAssessmentFetching\\\">\\n            </counters>\\n\\n            <div flex=\\\"nogrow\\\"\\n                 layout=\\\"column\\\"\\n                 layout-align=\\\"end center\\\">\\n\\n              <md-progress-circular class=\\\"sb-progress-circular\\\"\\n                                    ng-if=\\\"vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                                    md-mode=\\\"indeterminate\\\"\\n                                    md-diameter=\\\"24px\\\"></md-progress-circular>\\n\\n              <md-button class=\\\"md-icon-button visibility\\\"\\n                         flex=\\\"none\\\"\\n                         aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                         ng-click=\\\"vm.changeSingleVisible(vm.changeObjectiveAssessments, [objective.objective_assessments], objective.objective_assessments, 'grade_published', 'visibility')\\\"\\n                         ng-if=\\\"!vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                         localize>\\n                <md-icon ng-class=\\\"{ 'sb-icon-green': objective.objective_assessments.grade_published }\\\">\\n                  {{ objective.objective_assessments.grade_published ? 'visibility' : 'visibility_off' }}\\n                </md-icon>\\n              </md-button>\\n            </div>\\n          </div>\\n          <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">{{ objective.objective_assessments.grade_last_edit | LastModified }}</span>\\n          <assignment-grade-text text=\\\"objective.gradeText\\\"\\n                                 ng-show=\\\"vm.isGradeTextVisible(objective)\\\">\\n          </assignment-grade-text>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"sb-child-item-row last-modify-parent\\\"\\n           layout=\\\"column\\\">\\n<div layout=\\\"row\\\">\\n        <md-input-container\\n          flex\\n          class=\\\"sb-hide-errors\\n                         last-modified-trigger\\\">\\n          <label localize>__MSG_objectiveFeedbackInput__</label>\\n\\n          <textarea\\n            md-detect-hidden=\\\"true\\\"\\n            aria-label=\\\"__MSG_objectiveFeedbackInput__\\\"\\n            ng-model=\\\"objective.objective_assessments.feedback\\\"\\n            mixpanel-text-event=\\\"feedback_to_student_on_objective\\\"\\n            ng-change=\\\"vm.changeSingleText(vm.debounceObjectiveAssessments, [objective.objective_assessments])\\\"\\n            localize>\\n                  </textarea>\\n        </md-input-container>\\n\\n        <div flex=\\\"nogrow\\\"\\n             layout=\\\"column\\\"\\n             layout-align=\\\"start center\\\">\\n          <md-button class=\\\"md-icon-button visibility\\\"\\n                     flex=\\\"none\\\"\\n                     aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                     ng-click=\\\"vm.changeSingleVisible(vm.changeObjectiveAssessments, [objective.objective_assessments], objective.objective_assessments, 'feedback_published', 'visibility')\\\"\\n                     localize>\\n            <md-icon ng-class=\\\"{ 'sb-icon-green': objective.objective_assessments.feedback_published }\\\">\\n              {{ objective.objective_assessments.feedback_published ? 'visibility' : 'visibility_off' }}\\n            </md-icon>\\n          </md-button>\\n        </div>\\n      </div>\\n        <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n          {{ objective.objective_assessments.feedback_last_edit | LastModified }}\\n        </span>\\n      </div>\\n      <div  flex\\n            class=\\\"sb-child-item-row last-modify-parent\\\"\\n            layout=\\\"column\\\">\\n\\n        <md-input-container class=\\\"sb-hide-errors last-modified-trigger\\\"\\n                            flex>\\n          <label localize>__MSG_objectivePrivateNoteInput__</label>\\n          <textarea\\n            md-detect-hidden=\\\"true\\\"\\n            aria-label=\\\"__MSG_objectivePrivateNoteInput__\\\"\\n            ng-model=\\\"objective.objective_assessments.private_note\\\"\\n            ng-change=\\\"vm.changeSingleText(vm.debounceObjectiveAssessments, [objective.objective_assessments], 'private_note')\\\"\\n            localize>\\n                  </textarea>\\n        </md-input-container>\\n        <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n          {{ objective.objective_assessments.private_note_last_edit | LastModified }}\\n        </span>\\n      </div>\\n\\n      <div class=\\\"sb-child-item-row last-modify-parent\\\"\\n           layout=\\\"column\\\" flex>\\n        <md-input-container class=\\\"sb-hide-errors last-modified-trigger\\\" flex>\\n          <label localize>__MSG_teacherSelfAssessmentLabel__</label>\\n          <textarea\\n            md-detect-hidden=\\\"true\\\"\\n            ng-model=\\\"objective.objective_assessments.self_assessment\\\"\\n            readonly\\n            localize>\\n                  </textarea>\\n        </md-input-container>\\n        <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n          {{ objective.objective_assessments.self_assessment_last_edit | LastModified }}\\n        </span>\\n      </div>\\n    </md-card>\\n  </div>\\n</div>\\n\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentDrive/views/partials/student_view_assessment.html';\nvar html = \"<div class=\\\"teacher-assess-assignment-student_view_assessment\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.selectedAssignment.course_definitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n    <md-card class=\\\"objective\\\"\\n         layout=\\\"column\\\"\\n         ng-repeat=\\\"objective in courseDefinition.objectives track by objective.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start start\\\"\\n           class=\\\"sb-parent-item last-modify-parent\\\">\\n        <md-checkbox\\n          flex=\\\"none\\\"\\n          class=\\\"sb-checkbox-reset-full md-primary\\\"\\n          aria-label=\\\"__MSG_objectiveCheckbox__\\\"\\n          ng-click=\\\"vm.assignmentCheckboxSingle(objective, vm.selectedStudent.course_definitions, vm.studentEditMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n          ng-checked=\\\"objective.checked\\\"\\n          ng-show=\\\"vm.studentEditMultiple.open\\\"\\n          localize>\\n        </md-checkbox>\\n\\n        <div flex\\n             layout=\\\"column\\\">\\n          <div class=\\\"assessment\\\"\\n               flex>\\n            <div layout=\\\"column\\\"\\n                 layout-align=\\\"start stretch\\\">\\n              <div class=\\\"grade-info-wrapper\\\"\\n                   controller-as=\\\"vm\\\"\\n                   objective-id-path=\\\"objective.id\\\"\\n                   objective-knowledge-requirements>\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"assessment-name\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n\\n              </div>\\n              <div class=\\\"assessment-description\\\"\\n                   ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                   ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n            </div>\\n          </div>\\n\\n          <div layout=\\\"row\\\"\\n               layout-align=\\\"start end\\\">\\n            <single-slider\\n              class=\\\"sb-nouislider flex last-modified-trigger\\\"\\n              grade-system=\\\"vm.gradeSystem\\\"\\n              auto-width=\\\"true\\\"\\n              ng-model=\\\"objective.objective_assessments.grade_name\\\"\\n              ng-update=\\\"vm.updateDescription(event, objective, courseDefinition)\\\"\\n              ng-change=\\\"vm.changeSingleGrade(vm.debounceObjectiveAssessments, [objective.objective_assessments], 'objective_slider')\\\"\\n              ng-if=\\\"!vm.gradeSystem.is_counter && !vm.selectedStudent.objectiveAssessmentFetching\\\">\\n            </single-slider>\\n\\n            <counters\\n              class=\\\"counters last-modified-trigger\\\"\\n              grade-system=\\\"vm.gradeSystem\\\"\\n              ng-model=\\\"objective.objective_assessments.counter_grades\\\"\\n              assignment=\\\"objective.objective_assessments\\\"\\n              saving-method=\\\"vm.changeObjectiveAssessments\\\"\\n              ng-if=\\\"vm.gradeSystem.is_counter && !vm.selectedStudent.objectiveAssessmentFetching\\\">\\n            </counters>\\n\\n            <div flex=\\\"nogrow\\\"\\n                 layout=\\\"column\\\"\\n                 layout-align=\\\"end center\\\">\\n              <md-progress-circular\\n                class=\\\"sb-progress-circular\\\"\\n                ng-if=\\\"vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                md-mode=\\\"indeterminate\\\"\\n                md-diameter=\\\"24px\\\"></md-progress-circular>\\n\\n              <md-button\\n                flex=\\\"none\\\"\\n                class=\\\"md-icon-button visibility\\\"\\n                aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                ng-click=\\\"vm.changeSingleVisible(vm.changeObjectiveAssessments, [objective.objective_assessments], objective.objective_assessments, 'grade_published', 'visibility')\\\"\\n                ng-if=\\\"!vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                localize>\\n                <md-icon ng-class=\\\"{ 'sb-icon-green': objective.objective_assessments.grade_published }\\\">\\n                  {{ objective.objective_assessments.grade_published ? 'visibility' : 'visibility_off' }}\\n                </md-icon>\\n              </md-button>\\n            </div>\\n          </div>\\n          <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n                  {{ objective.objective_assessments.grade_last_edit | LastModified }}\\n          </span>\\n          <assignment-grade-text text=\\\"objective.gradeText\\\"\\n                                 ng-show=\\\"vm.isGradeTextVisible(objective)\\\">\\n          </assignment-grade-text>\\n        </div>\\n      </div>\\n    </md-card>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_feedback.html';\nvar html = \"<div class=\\\"teacher-assess-assignment-student_view_objectives_feedback\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.selectedAssignment.course_definitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n\\n    <md-card class=\\\"objective\\\"\\n         layout=\\\"column\\\"\\n         ng-repeat=\\\"objective in courseDefinition.objectives track by objective.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start start\\\"\\n           class=\\\"sb-parent-item last-modify-parent\\\">\\n        <md-checkbox\\n          flex=\\\"none\\\"\\n          class=\\\"sb-checkbox-reset-full md-primary\\\"\\n          aria-label=\\\"__MSG_objectiveCheckbox__\\\"\\n          ng-click=\\\"vm.assignmentCheckboxSingle(objective, vm.selectedStudent.course_definitions, vm.studentEditMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n          ng-checked=\\\"objective.checked\\\"\\n          ng-show=\\\"vm.studentEditMultiple.open\\\"\\n          localize>\\n        </md-checkbox>\\n\\n        <div flex\\n             layout=\\\"column\\\">\\n          <div flex\\n               class=\\\"assessment\\\">\\n            <div layout=\\\"column\\\"\\n                 layout-align=\\\"start stretch\\\">\\n              <div class=\\\"grade-info-wrapper\\\"\\n                   controller-as=\\\"vm\\\"\\n                   objective-id-path=\\\"objective.id\\\"\\n                   objective-knowledge-requirements>\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"assessment-name\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n\\n              </div>\\n              <div class=\\\"assessment-description\\\"\\n                   ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                   ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n            </div>\\n          </div>\\n          <div layout=\\\"row\\\"\\n               layout-align=\\\"start start\\\">\\n            <md-input-container md-no-float=\\\"false\\\"\\n                                flex\\n                                class=\\\"sb-hide-errors notes-input last-modified-trigger\\\">\\n                    <textarea\\n                      md-detect-hidden=\\\"true\\\"\\n                      aria-label=\\\"__MSG_objectiveFeedbackInput__\\\"\\n                      placeholder=\\\"__MSG_objectiveFeedbackInput__\\\"\\n                      ng-model=\\\"objective.objective_assessments.feedback\\\"\\n                      mixpanel-text-event=\\\"feedback_to_student_on_objective\\\"\\n                      ng-change=\\\"vm.changeSingleText(vm.debounceObjectiveAssessments, [objective.objective_assessments])\\\"\\n                      localize>\\n                    </textarea>\\n            </md-input-container>\\n            <div flex=\\\"nogrow\\\"\\n                 layout=\\\"column\\\"\\n                 layout-align=\\\"start center\\\">\\n              <md-progress-circular\\n                class=\\\"sb-progress-circular\\\"\\n                ng-if=\\\"vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                md-mode=\\\"indeterminate\\\"\\n                md-diameter=\\\"24px\\\"></md-progress-circular>\\n\\n              <md-button class=\\\"md-icon-button visibility\\\"\\n                         flex=\\\"none\\\"\\n                         aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                         ng-click=\\\"vm.changeSingleVisible(vm.changeObjectiveAssessments, [objective.objective_assessments], objective.objective_assessments, 'feedback_published', 'visibility')\\\"\\n                         ng-if=\\\"!vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                         localize>\\n                <md-icon ng-class=\\\"{ 'sb-icon-green': objective.objective_assessments.feedback_published }\\\">\\n                  {{ objective.objective_assessments.feedback_published ? 'visibility' : 'visibility_off' }}\\n                </md-icon>\\n              </md-button>\\n            </div>\\n          </div>\\n          <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n                {{ objective.objective_assessments.feedback_last_edit | LastModified }}\\n          </span>\\n        </div>\\n      </div>\\n    </md-card>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_priavte_notes.html';\nvar html = \"<div class=\\\"teacher-assess-assignment-student_view_objectives_private_note\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.selectedAssignment.course_definitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n\\n    <md-card class=\\\"objective\\\"\\n         layout=\\\"column\\\"\\n         ng-repeat=\\\"objective in courseDefinition.objectives track by objective.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start start\\\"\\n           class=\\\"sb-parent-item last-modify-parent\\\">\\n        <md-checkbox\\n          flex=\\\"none\\\"\\n          class=\\\"sb-checkbox-reset-full md-primary\\\"\\n          aria-label=\\\"__MSG_objectiveCheckbox__\\\"\\n          ng-click=\\\"vm.assignmentCheckboxSingle(objective, vm.selectedStudent.course_definitions, vm.studentEditMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n          ng-checked=\\\"objective.checked\\\"\\n          ng-show=\\\"vm.studentEditMultiple.open\\\"\\n          localize>\\n        </md-checkbox>\\n\\n        <div flex\\n             layout=\\\"column\\\">\\n          <div flex\\n               class=\\\"assessment\\\">\\n            <div layout=\\\"column\\\"\\n                 layout-align=\\\"start stretch\\\">\\n              <div class=\\\"grade-info-wrapper\\\"\\n                   controller-as=\\\"vm\\\"\\n                   objective-id-path=\\\"objective.id\\\"\\n                   objective-knowledge-requirements>\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"assessment-name\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n\\n              </div>\\n              <div class=\\\"assessment-description\\\"\\n                   ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                   ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n            </div>\\n          </div>\\n\\n          <md-input-container md-no-float=\\\"false\\\"\\n                              flex\\n                              class=\\\"sb-hide-errors notes-input last-modified-trigger\\\">\\n            <textarea\\n              md-detect-hidden=\\\"true\\\"\\n              aria-label=\\\"__MSG_objectivePrivateNoteInput__\\\"\\n              placeholder=\\\"__MSG_objectivePrivateNoteInput__\\\"\\n              ng-model=\\\"objective.objective_assessments.private_note\\\"\\n              ng-change=\\\"vm.changeSingleText(vm.debounceObjectiveAssessments, [objective.objective_assessments], 'private_note')\\\"\\n              localize>\\n                    </textarea>\\n          </md-input-container>\\n\\n          <md-progress-circular class=\\\"sb-progress-circular\\\"\\n                                ng-if=\\\"vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                                md-mode=\\\"indeterminate\\\"\\n                                md-diameter=\\\"24px\\\"></md-progress-circular>\\n          <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">{{ objective.objective_assessments.private_note_last_edit | LastModified }}</span>\\n        </div>\\n      </div>\\n    </md-card>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_self_assessment.html';\nvar html = \"<div class=\\\"teacher-assess-assignment-student_view_objectives_self_assessment\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.selectedAssignment.course_definitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n\\n    <md-card class=\\\"objective\\\"\\n         layout=\\\"column\\\"\\n         ng-repeat=\\\"objective in courseDefinition.objectives track by objective.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start end\\\"\\n           class=\\\"sb-parent-item last-modify-parent\\\">\\n        <div\\n          flex\\n          layout=\\\"column\\\">\\n\\n          <div flex\\n               class=\\\"assessment\\\">\\n            <div layout=\\\"column\\\"\\n                 layout-align=\\\"start stretch\\\">\\n              <div class=\\\"grade-info-wrapper\\\"\\n                   controller-as=\\\"vm\\\"\\n                   objective-id-path=\\\"objective.id\\\"\\n                   objective-knowledge-requirements>\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"assessment-name\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n\\n              </div>\\n              <div class=\\\"assessment-description\\\"\\n                   ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                   ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n            </div>\\n          </div>\\n\\n          <md-input-container class=\\\"sb-hide-errors notes-input last-modified-trigger\\\"\\n                              md-no-float=\\\"false\\\"\\n                              flex>\\n            <textarea\\n              md-detect-hidden=\\\"true\\\"\\n              aria-label=\\\"__MSG_teacherSelfAssessmentLabel__\\\"\\n              placeholder=\\\"__MSG_teacherSelfAssessmentLabel__\\\"\\n              ng-model=\\\"objective.objective_assessments.self_assessment\\\"\\n              readonly\\n              localize>\\n                    </textarea>\\n          </md-input-container>\\n        </div>\\n\\n        <md-progress-circular\\n          class=\\\"sb-progress-circular\\\"\\n          ng-if=\\\"vm.selectedStudent.objectiveAssessmentFetching\\\"\\n          md-mode=\\\"indeterminate\\\"\\n          md-diameter=\\\"24px\\\"></md-progress-circular>\\n        <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n          {{ objective.objective_assessments.self_assessment_last_edit | LastModified }}\\n        </span>\\n      </div>\\n    </md-card>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentStudent/views/dialogs/changes_dialog.html';\nvar html = \"<md-dialog>\\n    <md-toolbar class=\\\"sb-toolbar\\\">\\n        <div class=\\\"md-toolbar-tools\\\">\\n            <h2 localize>__MSG_saveChangesModalTitle__</h2>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-dialog-content layout-padding>\\n        <p localize>__MSG_saveChangesModalText__</p>\\n    </md-dialog-content>\\n\\n    <md-dialog-actions layout=\\\"row\\\">\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"cd.cancel()\\\"\\n            localize>\\n            __MSG_cancelBtn__\\n        </md-button>\\n\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"cd.dontSave()\\\"\\n            localize>\\n            __MSG_dontSaveBtn__\\n        </md-button>\\n\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"cd.save()\\\"\\n            ng-if=\\\"cd.allowToSave\\\"\\n            localize>\\n            __MSG_saveBtn__\\n        </md-button>\\n    </md-dialog-actions>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentStudent/views/main.html';\nvar html = \"<div class=\\\"teacher-assignments teacher-assess-assignment-student secondary-bg\\\"\\n      layout=\\\"column\\\"\\n      layout-fill>\\n<!--  <assignment-objectives-list vm=\\\"vm\\\" />-->\\n      <md-toolbar\\n          flex=\\\"nogrow\\\"\\n          class=\\\"sb-toolbar\\\">\\n          <div\\n              layout=\\\"row\\\"\\n              layout-align=\\\"start center\\\"\\n              class=\\\"md-toolbar-tools\\\">\\n              <md-button ng-show=\\\"!vm.studentEditMultiple.open\\\"\\n                  flex=\\\"none\\\"\\n                  class=\\\"md-icon-button\\\"\\n                  aria-label=\\\"__MSG_goBackBtn__\\\"\\n                  ng-click=\\\"vm.historyBack()\\\"\\n                  localize>\\n                  <md-icon>\\n                      arrow_back\\n                  </md-icon>\\n              </md-button>\\n\\n              <div ng-show=\\\"!vm.studentEditMultiple.open\\\"\\n                  flex\\n                  layout=\\\"column\\\"\\n                  layout-align=\\\"center start\\\">\\n                  <md-input-container class=\\\"sb-toolbar-select\\n                                             sb-select-toolbar-20\\\">\\n                      <md-select\\n                          aria-label=\\\"__MSG_studentSelect__\\\"\\n                          ng-model=\\\"vm.studentSelect\\\"\\n                          ng-change=\\\"vm.changeStudent()\\\"\\n                          localize>\\n                          <md-option\\n                              value=\\\"{{ ::student.id }}\\\"\\n                              ng-repeat=\\\"student in vm.students\\\">\\n                              {{ ::student.student_name }}\\n                          </md-option>\\n                      </md-select>\\n                  </md-input-container>\\n\\n                  <p class=\\\"sb-toolbar-subtitle\\\">{{ ::vm.assignmentTitle }}</p>\\n              </div>\\n            <div\\n              layout=\\\"row\\\"\\n              flex\\n              ng-show=\\\"vm.studentEditMultiple.open\\\">\\n              <md-button\\n                class=\\\"sb-btn-nlrm\\\"\\n                aria-label=\\\"__MSG_exitBtnBatchEditing__\\\"\\n                ng-click=\\\"vm.showChangesDialog('cancelEditingMode')\\\"\\n                localize>\\n                __MSG_exitBtnBatchEditing__\\n              </md-button>\\n            </div>\\n            <div flex ng-show=\\\"vm.studentEditMultiple.open\\\"></div>\\n            <div layout=\\\"row\\\" flex=\\\"none\\\" layout-align=\\\"end center\\\">\\n<!--              <help-button link=\\\"teacherAssignmentStudentHelpButtonUrl\\\"></help-button>-->\\n            <md-menu>\\n              <md-button\\n                aria-label=\\\"__MSG_actionMenuBtn__\\\"\\n                class=\\\"md-icon-button\\\"\\n                ng-click=\\\"vm.openActionMenu($mdOpenMenu, $event)\\\"\\n                localize>\\n                <md-icon>\\n                  more_vert\\n                </md-icon>\\n              </md-button>\\n\\n              <md-menu-content class=\\\"assignment auto-height\\\">\\n                <md-menu-label>\\n                  {{ ::'teacherAssignmentToolbarMenuLearningObjectiveLabel' | localize }}\\n                </md-menu-label>\\n                <md-menu-item ng-repeat=\\\"toolbarMenuItem in ::vm.viewMenuItems track by toolbarMenuItem.id\\\">\\n                  <md-button ng-click=\\\"vm.onClickMenuItem(toolbarMenuItem);\\\">\\n                    <md-icon ng-visible=\\\"toolbarMenuItem.checked\\\">check</md-icon>\\n                    {{ ::toolbarMenuItem.label | localize }}\\n                  </md-button>\\n                </md-menu-item>\\n                <md-menu-label ng-show=\\\"::vm.isGradeDescriptionEnable\\\">\\n                  {{ ::'teacherAssignmentToolbarMenuGradeTextLabel' | localize }}\\n                </md-menu-label>\\n                <md-menu-item ng-show=\\\"::vm.isGradeDescriptionEnable\\\">\\n                  <md-button ng-click=\\\"vm.showGradeDescription();\\\">\\n                    <md-icon ng-visible=\\\"vm.isGradeDescriptionVisible\\\">check</md-icon>\\n                    {{ ::'teacherAssignmentToolbarMenuItemShowGradeTextLabel' | localize }}\\n                  </md-button>\\n                </md-menu-item>\\n                <md-menu-item ng-show=\\\"::vm.isGradeDescriptionEnable\\\">\\n                  <md-button ng-click=\\\"vm.hideGradeDescription();\\\">\\n                    <md-icon ng-visible=\\\"!vm.isGradeDescriptionVisible\\\">check</md-icon>\\n                    {{ ::'teacherAssignmentToolbarMenuItemHideGradeTextLabel' | localize }}\\n                  </md-button>\\n                </md-menu-item>\\n                <md-menu-divider></md-menu-divider>\\n                <md-menu-item >\\n                  <md-button ng-click=\\\"vm.setVisibility()\\\" localize ng-disabled=\\\"vm.studentEditMultiple.open\\\">\\n                    __MSG_setVisibilityMenuItem__\\n                  </md-button>\\n                </md-menu-item>\\n                <md-menu-item>\\n                  <md-button\\n\\n                    ng-click=\\\"vm.studentEditMultiple.open = true\\\"\\n                    ng-disabled=\\\"vm.currentStudentEditingMode == 'all' ||\\n                                           vm.currentStudentEditingMode === 'objectives_self_assessment' || vm.studentEditMultiple.open\\\"\\n                    localize>\\n                    __MSG_editMultipleBtn__\\n                  </md-button>\\n                </md-menu-item>\\n\\n                <md-menu-item ng-if=\\\"vm.isClassroomInstance\\\">\\n                  <md-button\\n                    ng-click=\\\"vm.goToAssessCourseOption()\\\"\\n                    localize>\\n                    __MSG_assessCourseBtn__\\n                  </md-button>\\n                </md-menu-item>\\n              </md-menu-content>\\n            </md-menu>\\n            </div>\\n          </div>\\n\\n          <div\\n              layout=\\\"row\\\"\\n              layout-align=\\\"space-between center\\\"\\n              class=\\\"md-toolbar-tools\\n                     md-toolbar-tools-bottom\\\">\\n              <md-input-container class=\\\"sb-toolbar-select\\n                                         sb-assessment-type\\\">\\n                  <md-select\\n                      aria-label=\\\"__MSG_modeSelect__\\\"\\n                      ng-model=\\\"vm.studentEditingMode\\\"\\n                      ng-change=\\\"vm.showChangesDialog('changeEditingMode')\\\"\\n                      localize>\\n                      <md-option\\n                          value=\\\"all\\\"\\n                          localize>\\n                          __MSG_allMode__\\n                      </md-option>\\n                      <md-option\\n                          value=\\\"assessment\\\"\\n                          ng-disabled=\\\"vm.resultOnly\\\"\\n                          localize>\\n                          __MSG_assessmentMode__\\n                      </md-option>\\n                      <md-option\\n                          value=\\\"objectives_feedback\\\"\\n                          ng-disabled=\\\"vm.resultOnly\\\"\\n                          localize>\\n                          __MSG_objectivesFeedbackMode__\\n                      </md-option>\\n                      <md-option\\n                          value=\\\"objectives_private_notes\\\"\\n                          ng-disabled=\\\"vm.resultOnly\\\"\\n                          localize>\\n                          __MSG_objectivesPrivateNotesMode__\\n                      </md-option>\\n                      <md-option\\n                          value=\\\"objectives_self_assessment\\\"\\n                          ng-disabled=\\\"vm.resultOnly\\\"\\n                          localize>\\n                          __MSG_teacherSelfAssessmentLabel__\\n                      </md-option>\\n                  </md-select>\\n              </md-input-container>\\n            <app-assessment-state-select ng-hide=\\\"vm.studentEditMultiple.open\\\" [status]=\\\"vm.selectedStatus\\\"\\n                                         [warning]=\\\"vm.assessment.fail_warning\\\"\\n                                         (status-change)=\\\"vm.statusChange($event)\\\" ></app-assessment-state-select>\\n          </div>\\n      </md-toolbar>\\n\\n  <loader type=\\\"double\\\"></loader>\\n\\n      <div\\n          flex=\\\"nogrow\\\"\\n          class=\\\"sb-sticky\\n                 sb-sticky-max-height\\\">\\n          <div\\n              class=\\\"sb-secondary-color-background\\\"\\n              ng-include=\\\"'assignments/teacherAssessAssignmentStudent/views/partials/student_batch_editing.html'\\\"\\n              slide-toggle=\\\"vm.studentEditMultiple.open\\\">\\n          </div>\\n      </div>\\n\\n      <md-content\\n          sticky-subheader\\n          flex\\n          class=\\\"sb-hidden-x-scroll secondary-bg\\\">\\n          <div\\n            ng-include=\\\"'assignments/teacherAssessAssignmentStudent/views/partials/student_view_all.html'\\\"\\n            ng-if=\\\"vm.currentStudentEditingMode === 'all'\\\">\\n          </div>\\n\\n          <div\\n              ng-include=\\\"'assignments/teacherAssessAssignmentStudent/views/partials/student_view_assessment.html'\\\"\\n              ng-if=\\\"vm.currentStudentEditingMode === 'assessment'\\\">\\n          </div>\\n\\n          <div\\n              ng-include=\\\"'assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_feedback.html'\\\"\\n              ng-if=\\\"vm.currentStudentEditingMode === 'objectives_feedback'\\\">\\n          </div>\\n\\n          <div\\n              ng-include=\\\"'assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_priavte_notes.html'\\\"\\n              ng-if=\\\"vm.currentStudentEditingMode === 'objectives_private_notes'\\\">\\n          </div>\\n\\n          <div\\n              ng-include=\\\"'assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_self_assessment.html'\\\"\\n              ng-if=\\\"vm.currentStudentEditingMode === 'objectives_self_assessment'\\\">\\n          </div>\\n      </md-content>\\n  </div>\\n\\n  <knowledge-requirements\\n      trigger=\\\"vm.triggerKnowledgeRequirements\\\"\\n      objective-id=\\\"vm.objectiveKnowledgeRequirements\\\">\\n  </knowledge-requirements>\\n\\n  <div class=\\\"sb-saving-indicator\\\" ng-show=\\\"vm.savingIndicatorVisible\\\">\\n    <span class=\\\"error\\\" ng-show=\\\"vm.savingError\\\" localize>\\n      __MSG_errorStatusIndicator__\\n    </span>\\n    <span ng-show=\\\"!vm.savingError && vm.savingInProgress > 0\\\" localize>\\n      __MSG_savingStatusIndicator__\\n    </span>\\n    <span ng-show=\\\"!vm.savingError && vm.savingInProgress === 0\\\" localize>\\n      __MSG_savedStatusIndicator__\\n    </span>\\n  </div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentStudent/views/partials/student_batch_editing.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div layout=\\\"column\\\" class=\\\"sb-plr-16\\\">\\n    <div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n        <md-checkbox\\n            flex=\\\"none\\\"\\n            class=\\\"sb-checkbox-reset md-primary\\\"\\n            aria-label=\\\"__MSG_selectAllCheckbox__\\\"\\n            ng-click=\\\"vm.assignmentCheckboxAll(vm.selectedStudent.course_definitions, vm.studentEditMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n            ng-checked=\\\"vm.studentEditMultiple.checkboxChecked\\\"\\n            ng-show=\\\"vm.currentStudentEditingMode == 'assessment' || vm.currentStudentEditingMode == 'objectives_feedback' || vm.currentStudentEditingMode == 'objectives_private_notes'\\\"\\n            localize>\\n        </md-checkbox>\\n\\n        <p flex localize>__MSG_selectAllCheckbox__</p>\\n\\n        <md-input-container\\n            class=\\\"sb-select-reset\\\"\\n            ng-show=\\\"vm.currentStudentEditingMode == 'objectives_feedback' || vm.currentStudentEditingMode == 'objectives_private_notes'\\\">\\n            <md-select\\n                aria-label=\\\"__MSG_textSelect__\\\"\\n                ng-model=\\\"vm.studentEditMultiple.textMode\\\"\\n                ng-init=\\\"vm.studentEditMultiple.textMode = 'new_text'\\\"\\n                localize>\\n                <md-option value=\\\"new_text\\\" localize>__MSG_newTextOption__</md-option>\\n                <md-option value=\\\"append_text_first\\\" localize>__MSG_appendTextFirstOption__</md-option>\\n                <md-option value=\\\"append_text_last\\\" localize>__MSG_appendTextLastOption__</md-option>\\n            </md-select>\\n        </md-input-container>\\n\\n        <md-menu\\n            flex=\\\"none\\\"\\n            md-position-mode=\\\"target-right target\\\"\\n            class=\\\"sb-btn-batchediting-vis\\\"\\n            ng-visible=\\\"vm.show\\\">\\n            <md-button\\n                class=\\\"md-icon-button\\\"\\n                aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                ng-click=\\\"$mdOpenMenu($event)\\\"\\n                ng-disabled=\\\"true\\\"\\n                localize>\\n                <md-icon\\n                    md-menu-align-target\\n                    ng-show=\\\"vm.studentEditMultiple.visibility === 'not_changed'\\\">\\n                    visibility\\n                </md-icon>\\n\\n                <md-icon\\n                    md-menu-align-target\\n                    class=\\\"sb-icon-green\\\"\\n                    ng-show=\\\"vm.studentEditMultiple.visibility === 'set_visible'\\\">\\n                    visibility\\n                </md-icon>\\n\\n                <md-icon\\n                    md-menu-align-target\\n                    class=\\\"md-warn\\\"\\n                    ng-show=\\\"vm.studentEditMultiple.visibility === 'set_hidden'\\\">\\n                    visibility_off\\n                </md-icon>\\n            </md-button>\\n\\n            <md-menu-content width=\\\"3\\\">\\n                <md-menu-item>\\n                    <md-button\\n                        ng-click=\\\"vm.studentEditMultiple.visibility = 'not_changed'; vm.checkEditMultiple()\\\">\\n                        <div layout=\\\"row\\\" flex>\\n                            <md-icon>visibility</md-icon>\\n                            <p flex localize>__MSG_notChangeVisibilityBtn__</p>\\n                        </div>\\n                    </md-button>\\n                </md-menu-item>\\n\\n                <md-menu-item>\\n                    <md-button\\n                        ng-click=\\\"vm.studentEditMultiple.visibility = 'set_visible'; vm.checkEditMultiple()\\\">\\n                        <div layout=\\\"row\\\" flex>\\n                            <md-icon class=\\\"sb-icon-green\\\">visibility</md-icon>\\n                            <p flex localize>__MSG_setVisibleBtn__</p>\\n                        </div>\\n                    </md-button>\\n                </md-menu-item>\\n\\n                <md-menu-item>\\n                    <md-button\\n                        ng-click=\\\"vm.studentEditMultiple.visibility = 'set_hidden'; vm.checkEditMultiple()\\\">\\n                        <div layout=\\\"row\\\" flex>\\n                            <md-icon class=\\\"md-warn\\\">visibility_off</md-icon>\\n                            <p flex localize>__MSG_setHiddenBtn__</p>\\n                        </div>\\n                    </md-button>\\n                </md-menu-item>\\n            </md-menu-content>\\n        </md-menu>\\n    </div>\\n\\n    <div layout=\\\"column\\\" ng-show=\\\"vm.currentStudentEditingMode != 'assessment' || !vm.gradeSystem.is_counter\\\">\\n        <single-slider\\n            class=\\\"sb-nouislider batch-editing flex sb-ptb-8\\\"\\n            grade-system=\\\"vm.gradeSystem\\\"\\n            ng-model=\\\"vm.studentEditMultiple.grade\\\"\\n            ng-change=\\\"vm.checkEditMultiple()\\\"\\n            ng-show=\\\"vm.currentStudentEditingMode == 'assessment'\\\"\\n            ng-if=\\\"!vm.gradeSystem.is_counter\\\"\\n            data-batchediting=\\\"true\\\">\\n        </single-slider>\\n\\n        <md-input-container\\n            flex\\n            md-no-float\\n            class=\\\"sb-hide-errors\\\"\\n            ng-show=\\\"vm.currentStudentEditingMode == 'objectives_feedback' || vm.currentStudentEditingMode == 'objectives_private_notes'\\\">\\n            <textarea\\n                md-detect-hidden=\\\"true\\\"\\n                aria-label=\\\"__MSG_objectiveFeedbackInput__\\\"\\n                placeholder=\\\"\\\"\\n                ng-model=\\\"vm.studentEditMultiple.textField\\\"\\n                ng-change=\\\"vm.checkEditMultiple()\\\"\\n                localize>\\n            </textarea>\\n        </md-input-container>\\n      <div layout=\\\"row\\\"\\n           flex layout-align=\\\"end\\\">\\n        <md-progress-circular\\n          md-diameter=\\\"20\\\"\\n          class=\\\"sb-progress-circular-batch-editing\\\"\\n          ng-disabled=\\\"!vm.savingInProgress\\\"\\n          ng-hide=\\\"!vm.savingInProgress\\\">\\n        </md-progress-circular>\\n      <md-button\\n        class=\\\"sb-btn-nlrm\\\"\\n        aria-label=\\\"__MSG_applyBtnBatchEditing__\\\"\\n        ng-click=\\\"vm.saveEditMultiple()\\\"\\n        ng-disabled=\\\"!vm.studentEditMultiple.changesToSave || !vm.studentEditMultiple.anyCheckboxChecked\\\"\\n        localize>\\n        __MSG_applyBtnBatchEditing__\\n      </md-button>\\n      </div>\\n    </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentStudent/views/partials/student_classroom_all.html';\nvar html = \"<div class=\\\"sb-section-offset teacher-assess-assignment-student_classroom_all\\\"\\n     layout=\\\"column\\\">\\n  <md-subheader aria-label=\\\"__MSG_overallResultHeaderTeacher__\\\" class=\\\"md-no-sticky course-name\\\" localize>__MSG_overallResultHeaderTeacher__</md-subheader>\\n  <md-card>\\n  <div layout=\\\"column\\\"\\n        flex\\n       class=\\\"sb-child-item-row  last-modify-parent objective\\\">\\n\\n    <div flex\\n         layout=\\\"row\\\">\\n      <md-input-container flex\\n                          class=\\\"sb-hide-errors result-input last-modified-trigger\\\">\\n        <label localize>__MSG_resultsInput__</label>\\n\\n        <textarea\\n          md-detect-hidden=\\\"true\\\"\\n          aria-label=\\\"__MSG_resultsInput__\\\"\\n          ng-model=\\\"vm.selectedStudent.assignmentAssessment.result\\\"\\n          ng-change=\\\"vm.changeSingleText(vm.debounceAssignmentsAssessments, [vm.selectedStudent.assignmentAssessment], 'result')\\\"\\n          localize>\\n        </textarea>\\n      </md-input-container>\\n\\n      <div flex=\\\"nogrow\\\"\\n           layout=\\\"column\\\"\\n           layout-align=\\\"start center\\\"\\n            class=\\\"sb-pt-8\\\">\\n        <md-button class=\\\"md-icon-button visibility\\\"\\n                   flex=\\\"none\\\"\\n                   aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                   ng-click=\\\"vm.changeSingleVisible(vm.debounceAssignmentsAssessments, [vm.selectedStudent.assignmentAssessment], vm.selectedStudent.assignmentAssessment, 'result_published', 'visibility')\\\"\\n                   localize>\\n          <md-icon ng-class=\\\"{ 'sb-icon-green': vm.selectedStudent.assignmentAssessment.result_published }\\\">\\n            {{ vm.selectedStudent.assignmentAssessment.result_published ? 'visibility' : 'visibility_off' }}\\n          </md-icon>\\n        </md-button>\\n      </div>\\n    </div>\\n    <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">{{ vm.selectedStudent.assignmentAssessment.result_last_edit | LastModified }}</span>\\n  </div>\\n\\n  <div layout=\\\"column\\\"\\n       flex\\n       class=\\\"sb-child-item-row last-modify-parent objective\\\">\\n\\n    <div flex\\n         layout=\\\"row\\\">\\n      <md-input-container flex\\n                          class=\\\"sb-hide-errors overall-feedback-input last-modified-trigger\\\">\\n        <label localize>__MSG_overallFeedbackInput__</label>\\n\\n        <textarea\\n          md-detect-hidden=\\\"true\\\"\\n          aria-label=\\\"__MSG_overallFeedbackInput__\\\"\\n          ng-model=\\\"vm.selectedStudent.assignmentAssessment.feedback\\\"\\n          mixpanel-text-event=\\\"feedback_to_student_on_overall_assignment\\\"\\n          ng-change=\\\"vm.changeSingleText(vm.debounceAssignmentsAssessments, [vm.selectedStudent.assignmentAssessment])\\\"\\n          localize>\\n            </textarea>\\n      </md-input-container>\\n      <div flex=\\\"nogrow\\\"\\n           layout=\\\"column\\\"\\n           layout-align=\\\"start center\\\"\\n           class=\\\"sb-pt-8\\\">\\n        <md-button\\n          flex=\\\"none\\\"\\n          class=\\\"md-icon-button visibility\\\"\\n          aria-label=\\\"__MSG_visibilityBtn__\\\"\\n          ng-click=\\\"vm.changeSingleVisible(vm.debounceAssignmentsAssessments, [vm.selectedStudent.assignmentAssessment], vm.selectedStudent.assignmentAssessment, 'feedback_published', 'visibility')\\\"\\n          localize>\\n          <md-icon ng-class=\\\"{ 'sb-icon-green': vm.selectedStudent.assignmentAssessment.feedback_published }\\\">\\n            {{ vm.selectedStudent.assignmentAssessment.feedback_published ? 'visibility' : 'visibility_off' }}\\n          </md-icon>\\n        </md-button>\\n      </div>\\n    </div>\\n    <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">{{ vm.selectedStudent.assignmentAssessment.feedback_last_edit | LastModified }}</span>\\n  </div>\\n\\n  <div layout=\\\"column\\\"\\n       class=\\\"sb-child-item-row last-modify-parent objective\\\">\\n\\n    <md-input-container flex\\n                        class=\\\"sb-hide-errors last-modified-trigger\\\">\\n      <label localize>__MSG_overallPrivateNoteInput__</label>\\n      <textarea\\n        md-detect-hidden=\\\"true\\\"\\n        aria-label=\\\"__MSG_overallPrivateNoteInput__\\\"\\n        ng-model=\\\"vm.selectedStudent.assignmentAssessment.private_note\\\"\\n        ng-change=\\\"vm.changeSingleText(vm.debounceAssignmentsAssessments, [vm.selectedStudent.assignmentAssessment], 'overall_private_note')\\\"\\n        localize>\\n            </textarea>\\n    </md-input-container>\\n    <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">{{ vm.selectedStudent.assignmentAssessment.private_note_last_edit | LastModified }}</span>\\n  </div>\\n  </md-card>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentStudent/views/partials/student_view_all.html';\nvar html = \"<div class=\\\"teacher-assess-assignment-student_view_all\\\"\\n     layout=\\\"column\\\">\\n<!--  <assignment-objectives-list vm=\\\"vm\\\"/>-->\\n    <div\\n    ng-include=\\\"'assignments/teacherAssessAssignmentStudent/views/partials/student_classroom_all.html'\\\"\\n    ng-if=\\\"!vm.selectedStudent.assignmentAssessmentFetching\\\">\\n  </div>\\n  <div ng-repeat=\\\"courseDefinition in vm.selectedStudent.course_definitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n    <md-card class=\\\"objective\\\"\\n         layout=\\\"column\\\"\\n         ng-repeat=\\\"objective in courseDefinition.objectives track by objective.id\\\">\\n\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start start\\\"\\n           class=\\\"sb-parent-item last-modify-parent\\\">\\n        <div flex\\n             layout=\\\"column\\\">\\n          <div flex\\n               class=\\\"assessment\\\">\\n            <div layout=\\\"column\\\"\\n                 layout-align=\\\"start stretch\\\">\\n              <div class=\\\"grade-info-wrapper\\\"\\n                   controller-as=\\\"vm\\\"\\n                   objective-id-path=\\\"objective.id\\\"\\n                   objective-knowledge-requirements>\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"assessment-name\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n\\n              </div>\\n              <div class=\\\"assessment-description\\\"\\n                   ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                   ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n            </div>\\n          </div>\\n\\n          <div layout=\\\"row\\\"\\n               layout-align=\\\"start end\\\">\\n            <single-slider\\n              class=\\\"sb-nouislider\\n                            flex\\n                            last-modified-trigger\\\"\\n              grade-system=\\\"vm.gradeSystem\\\"\\n              auto-width=\\\"true\\\"\\n              ng-model=\\\"objective.objective_assessments.grade_name\\\"\\n              ng-update=\\\"vm.updateDescription(event, objective, courseDefinition)\\\"\\n              ng-change=\\\"vm.changeSingleGrade(vm.debounceObjectiveAssessments, [objective.objective_assessments], 'objective_slider')\\\"\\n              ng-if=\\\"!vm.gradeSystem.is_counter && !vm.selectedStudent.objectiveAssessmentFetching\\\">\\n            </single-slider>\\n\\n            <counters\\n              class=\\\"counters last-modified-trigger\\\"\\n              grade-system=\\\"vm.gradeSystem\\\"\\n              ng-model=\\\"objective.objective_assessments.counter_grades\\\"\\n              assignment=\\\"objective.objective_assessments\\\"\\n              saving-method=\\\"vm.changeObjectiveAssessments\\\"\\n              ng-if=\\\"vm.gradeSystem.is_counter && !vm.selectedStudent.objectiveAssessmentFetching\\\">\\n            </counters>\\n\\n            <div flex=\\\"nogrow\\\"\\n                 layout=\\\"column\\\"\\n                 layout-align=\\\"end center\\\">\\n              <md-progress-circular class=\\\"sb-progress-circular\\\"\\n                                    ng-if=\\\"vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                                    md-mode=\\\"indeterminate\\\"\\n                                    md-diameter=\\\"24px\\\"></md-progress-circular>\\n\\n              <md-button class=\\\"md-icon-button visibility\\\"\\n                         flex=\\\"none\\\"\\n                         aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                         ng-click=\\\"vm.changeSingleVisible(vm.changeObjectiveAssessments, [objective.objective_assessments], objective.objective_assessments, 'grade_published', 'visibility')\\\"\\n                         ng-if=\\\"!vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                         localize>\\n                <md-icon ng-class=\\\"{ 'sb-icon-green': objective.objective_assessments.grade_published }\\\">\\n                  {{ objective.objective_assessments.grade_published ? 'visibility' : 'visibility_off' }}\\n                </md-icon>\\n              </md-button>\\n            </div>\\n          </div>\\n          <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">{{ objective.objective_assessments.grade_last_edit | LastModified }}</span>\\n          <assignment-grade-text text=\\\"objective.gradeText\\\"\\n                                 ng-show=\\\"vm.isGradeTextVisible(objective)\\\">\\n          </assignment-grade-text>\\n        </div>\\n      </div>\\n\\n\\n\\n<div flex\\n     layout=\\\"column\\\"\\n     class=\\\"sb-child-item-row last-modify-parent\\\">\\n      <div layout=\\\"row\\\">\\n\\n        <md-input-container\\n          flex\\n          class=\\\"sb-hide-errors last-modified-trigger\\\">\\n          <label localize>__MSG_objectiveFeedbackInput__</label>\\n\\n          <textarea\\n            md-detect-hidden=\\\"true\\\"\\n            aria-label=\\\"__MSG_objectiveFeedbackInput__\\\"\\n            ng-model=\\\"objective.objective_assessments.feedback\\\"\\n            mixpanel-text-event=\\\"feedback_to_student_on_objective\\\"\\n            ng-change=\\\"vm.changeSingleText(vm.debounceObjectiveAssessments, [objective.objective_assessments])\\\"\\n            localize>\\n                  </textarea>\\n        </md-input-container>\\n\\n        <div flex=\\\"nogrow\\\"\\n             layout=\\\"column\\\"\\n             layout-align=\\\"start center\\\"\\n        class=\\\"sb-pt-8\\\">\\n          <md-button class=\\\"md-icon-button visibility\\\"\\n                     flex=\\\"none\\\"\\n                     aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                     ng-click=\\\"vm.changeSingleVisible(vm.changeObjectiveAssessments, [objective.objective_assessments], objective.objective_assessments, 'feedback_published', 'visibility')\\\"\\n                     localize>\\n            <md-icon ng-class=\\\"{ 'sb-icon-green': objective.objective_assessments.feedback_published }\\\">\\n              {{ objective.objective_assessments.feedback_published ? 'visibility' : 'visibility_off' }}\\n            </md-icon>\\n          </md-button>\\n          </div>\\n      </div>\\n\\n  <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n    {{ objective.objective_assessments.feedback_last_edit | LastModified }}\\n  </span>\\n\\n</div>\\n\\n      <div flex\\n           layout=\\\"column\\\"\\n           class=\\\"sb-child-item-row last-modify-parent\\\">\\n\\n        <md-input-container class=\\\"sb-hide-errors last-modified-trigger\\\" flex>\\n          <label localize>__MSG_objectivePrivateNoteInput__</label>\\n          <textarea\\n            md-detect-hidden=\\\"true\\\"\\n            aria-label=\\\"__MSG_objectivePrivateNoteInput__\\\"\\n            ng-model=\\\"objective.objective_assessments.private_note\\\"\\n            ng-change=\\\"vm.changeSingleText(vm.debounceObjectiveAssessments, [objective.objective_assessments], 'private_note')\\\"\\n            localize>\\n          </textarea>\\n        </md-input-container>\\n        <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n          {{ objective.objective_assessments.private_note_last_edit | LastModified }}\\n        </span>\\n      </div>\\n\\n      <div class=\\\"sb-child-item-row last-modify-parent\\\"\\n           layout=\\\"column\\\" flex>\\n        <md-input-container class=\\\"sb-hide-errors last-modified-trigger\\\" flex>\\n          <label localize>__MSG_teacherSelfAssessmentLabel__</label>\\n          <textarea\\n            md-detect-hidden=\\\"true\\\"\\n            ng-model=\\\"objective.objective_assessments.self_assessment\\\"\\n            readonly\\n            localize>\\n          </textarea>\\n        </md-input-container>\\n        <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n            {{ objective.objective_assessments.self_assessment_last_edit | LastModified }}\\n        </span>\\n      </div>\\n    </md-card>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentStudent/views/partials/student_view_assessment.html';\nvar html = \"<div class=\\\"teacher-assess-assignment-student_view_assessment\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.selectedStudent.course_definitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n    <md-card class=\\\"objective\\\"\\n         layout=\\\"column\\\"\\n         ng-repeat=\\\"objective in courseDefinition.objectives track by objective.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start start\\\"\\n           class=\\\"sb-parent-item last-modify-parent\\\">\\n        <md-checkbox\\n          flex=\\\"none\\\"\\n          class=\\\"sb-checkbox-reset-full md-primary\\\"\\n          aria-label=\\\"__MSG_objectiveCheckbox__\\\"\\n          ng-click=\\\"vm.assignmentCheckboxSingle(objective, vm.selectedStudent.course_definitions, vm.studentEditMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n          ng-checked=\\\"objective.checked\\\"\\n          ng-show=\\\"vm.studentEditMultiple.open\\\"\\n          localize>\\n        </md-checkbox>\\n\\n        <div flex\\n             layout=\\\"column\\\">\\n          <div class=\\\"assessment\\\"\\n               flex>\\n            <div layout=\\\"column\\\"\\n                 layout-align=\\\"start stretch\\\">\\n              <div class=\\\"grade-info-wrapper\\\"\\n                   controller-as=\\\"vm\\\"\\n                   objective-id-path=\\\"objective.id\\\"\\n                   objective-knowledge-requirements>\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"assessment-name\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n\\n              </div>\\n              <div class=\\\"assessment-description\\\"\\n                   ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                   ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n            </div>\\n          </div>\\n\\n          <div layout=\\\"row\\\"\\n               layout-align=\\\"start end\\\">\\n            <single-slider\\n              class=\\\"sb-nouislider flex last-modified-trigger\\\"\\n              grade-system=\\\"vm.gradeSystem\\\"\\n              auto-width=\\\"true\\\"\\n              ng-model=\\\"objective.objective_assessments.grade_name\\\"\\n              ng-update=\\\"vm.updateDescription(event, objective, courseDefinition)\\\"\\n              ng-change=\\\"vm.changeSingleGrade(vm.debounceObjectiveAssessments, [objective.objective_assessments], 'objective_slider')\\\"\\n              ng-if=\\\"!vm.gradeSystem.is_counter && !vm.selectedStudent.objectiveAssessmentFetching\\\">\\n            </single-slider>\\n\\n            <counters\\n              class=\\\"counters last-modified-trigger\\\"\\n              grade-system=\\\"vm.gradeSystem\\\"\\n              ng-model=\\\"objective.objective_assessments.counter_grades\\\"\\n              assignment=\\\"objective.objective_assessments\\\"\\n              saving-method=\\\"vm.changeObjectiveAssessments\\\"\\n              ng-if=\\\"vm.gradeSystem.is_counter && !vm.selectedStudent.objectiveAssessmentFetching\\\">\\n            </counters>\\n\\n            <div flex=\\\"nogrow\\\"\\n                 layout=\\\"column\\\"\\n                 layout-align=\\\"end center\\\">\\n              <md-progress-circular\\n                class=\\\"sb-progress-circular\\\"\\n                ng-if=\\\"vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                md-mode=\\\"indeterminate\\\"\\n                md-diameter=\\\"24px\\\"></md-progress-circular>\\n\\n              <md-button\\n                flex=\\\"none\\\"\\n                class=\\\"md-icon-button visibility\\\"\\n                aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                ng-click=\\\"vm.changeSingleVisible(vm.changeObjectiveAssessments, [objective.objective_assessments], objective.objective_assessments, 'grade_published', 'visibility')\\\"\\n                ng-if=\\\"!vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                localize>\\n                <md-icon ng-class=\\\"{ 'sb-icon-green': objective.objective_assessments.grade_published }\\\">\\n                  {{ objective.objective_assessments.grade_published ? 'visibility' : 'visibility_off' }}\\n                </md-icon>\\n              </md-button>\\n            </div>\\n          </div>\\n          <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n                  {{ objective.objective_assessments.grade_last_edit | LastModified }}\\n          </span>\\n          <assignment-grade-text text=\\\"objective.gradeText\\\"\\n                                 ng-show=\\\"vm.isGradeTextVisible(objective)\\\">\\n          </assignment-grade-text>\\n        </div>\\n      </div>\\n    </md-card>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_feedback.html';\nvar html = \"<div class=\\\"teacher-assess-assignment-student_view_objectives_feedback\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.selectedStudent.course_definitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n\\n    <md-card class=\\\"objective\\\"\\n         layout=\\\"column\\\"\\n         ng-repeat=\\\"objective in courseDefinition.objectives track by objective.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start start\\\"\\n           class=\\\"sb-parent-item last-modify-parent\\\">\\n        <md-checkbox\\n          flex=\\\"none\\\"\\n          class=\\\"sb-checkbox-reset-full md-primary\\\"\\n          aria-label=\\\"__MSG_objectiveCheckbox__\\\"\\n          ng-click=\\\"vm.assignmentCheckboxSingle(objective, vm.selectedStudent.course_definitions, vm.studentEditMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n          ng-checked=\\\"objective.checked\\\"\\n          ng-show=\\\"vm.studentEditMultiple.open\\\"\\n          localize>\\n        </md-checkbox>\\n\\n        <div flex\\n             layout=\\\"column\\\">\\n          <div flex\\n               class=\\\"assessment\\\">\\n            <div layout=\\\"column\\\"\\n                 layout-align=\\\"start stretch\\\">\\n              <div class=\\\"grade-info-wrapper\\\"\\n                   controller-as=\\\"vm\\\"\\n                   objective-id-path=\\\"objective.id\\\"\\n                   objective-knowledge-requirements>\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"assessment-name\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n\\n              </div>\\n              <div class=\\\"assessment-description\\\"\\n                   ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                   ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n            </div>\\n          </div>\\n          <div layout=\\\"row\\\"\\n               layout-align=\\\"start start\\\">\\n            <md-input-container md-no-float=\\\"false\\\"\\n                                flex\\n                                class=\\\"sb-hide-errors notes-input last-modified-trigger\\\">\\n                    <textarea\\n                      md-detect-hidden=\\\"true\\\"\\n                      aria-label=\\\"__MSG_objectiveFeedbackInput__\\\"\\n                      placeholder=\\\"__MSG_objectiveFeedbackInput__\\\"\\n                      ng-model=\\\"objective.objective_assessments.feedback\\\"\\n                      mixpanel-text-event=\\\"feedback_to_student_on_objective\\\"\\n                      ng-change=\\\"vm.changeSingleText(vm.debounceObjectiveAssessments, [objective.objective_assessments])\\\"\\n                      localize>\\n                    </textarea>\\n            </md-input-container>\\n            <div flex=\\\"nogrow\\\"\\n                 layout=\\\"column\\\"\\n                 layout-align=\\\"start center\\\">\\n              <md-progress-circular\\n                class=\\\"sb-progress-circular\\\"\\n                ng-if=\\\"vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                md-mode=\\\"indeterminate\\\"\\n                md-diameter=\\\"24px\\\"></md-progress-circular>\\n\\n              <md-button class=\\\"md-icon-button visibility\\\"\\n                         flex=\\\"none\\\"\\n                         aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                         ng-click=\\\"vm.changeSingleVisible(vm.changeObjectiveAssessments, [objective.objective_assessments], objective.objective_assessments, 'feedback_published', 'visibility')\\\"\\n                         ng-if=\\\"!vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                         localize>\\n                <md-icon ng-class=\\\"{ 'sb-icon-green': objective.objective_assessments.feedback_published }\\\">\\n                  {{ objective.objective_assessments.feedback_published ? 'visibility' : 'visibility_off' }}\\n                </md-icon>\\n              </md-button>\\n            </div>\\n          </div>\\n          <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n                  {{ objective.objective_assessments.feedback_last_edit | LastModified }}\\n          </span>\\n        </div>\\n      </div>\\n    </md-card>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_priavte_notes.html';\nvar html = \"<div class=\\\"teacher-assess-assignment-student_view_objectives_private_note\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.selectedStudent.course_definitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n    <md-card class=\\\"objective\\\"\\n         layout=\\\"column\\\"\\n         ng-repeat=\\\"objective in courseDefinition.objectives track by objective.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start start\\\"\\n           class=\\\"sb-parent-item last-modify-parent\\\">\\n        <md-checkbox\\n          flex=\\\"none\\\"\\n          class=\\\"sb-checkbox-reset-full md-primary\\\"\\n          aria-label=\\\"__MSG_objectiveCheckbox__\\\"\\n          ng-click=\\\"vm.assignmentCheckboxSingle(objective, vm.selectedStudent.course_definitions, vm.studentEditMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n          ng-checked=\\\"objective.checked\\\"\\n          ng-show=\\\"vm.studentEditMultiple.open\\\"\\n          localize>\\n        </md-checkbox>\\n\\n        <div flex\\n             layout=\\\"column\\\">\\n          <div flex\\n               class=\\\"assessment\\\">\\n            <div layout=\\\"column\\\"\\n                 layout-align=\\\"start stretch\\\">\\n              <div class=\\\"grade-info-wrapper\\\"\\n                   controller-as=\\\"vm\\\"\\n                   objective-id-path=\\\"objective.id\\\"\\n                   objective-knowledge-requirements>\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"assessment-name\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n\\n              </div>\\n              <div class=\\\"assessment-description\\\"\\n                   ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                   ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n            </div>\\n          </div>\\n\\n          <md-input-container md-no-float=\\\"false\\\"\\n                              flex\\n                              class=\\\"sb-hide-errors notes-input last-modified-trigger\\\">\\n            <textarea\\n              md-detect-hidden=\\\"true\\\"\\n              aria-label=\\\"__MSG_objectivePrivateNoteInput__\\\"\\n              placeholder=\\\"__MSG_objectivePrivateNoteInput__\\\"\\n              ng-model=\\\"objective.objective_assessments.private_note\\\"\\n              ng-change=\\\"vm.changeSingleText(vm.debounceObjectiveAssessments, [objective.objective_assessments], 'private_note')\\\"\\n              localize>\\n                    </textarea>\\n          </md-input-container>\\n\\n          <md-progress-circular class=\\\"sb-progress-circular\\\"\\n                                ng-if=\\\"vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                                md-mode=\\\"indeterminate\\\"\\n                                md-diameter=\\\"24px\\\"></md-progress-circular>\\n          <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n            {{ objective.objective_assessments.private_note_last_edit | LastModified }}\\n          </span>\\n        </div>\\n      </div>\\n    </md-card>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_self_assessment.html';\nvar html = \"<div class=\\\"teacher-assess-assignment-student_view_objectives_self_assessment\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.selectedStudent.course_definitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n    <md-card class=\\\"objective\\\"\\n         layout=\\\"column\\\"\\n         ng-repeat=\\\"objective in courseDefinition.objectives track by objective.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start start\\\"\\n           class=\\\"sb-parent-item last-modify-parent\\\">\\n        <div\\n          flex\\n          layout=\\\"column\\\">\\n\\n          <div flex\\n               class=\\\"assessment\\\">\\n            <div layout=\\\"column\\\"\\n                 layout-align=\\\"start stretch\\\">\\n              <div class=\\\"grade-info-wrapper\\\"\\n                   controller-as=\\\"vm\\\"\\n                   objective-id-path=\\\"objective.id\\\"\\n                   objective-knowledge-requirements>\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"assessment-name\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n\\n              </div>\\n              <div class=\\\"assessment-description\\\"\\n                   ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                   ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n            </div>\\n          </div>\\n\\n          <md-input-container class=\\\"sb-hide-errors notes-input last-modified-trigger\\\"\\n                              md-no-float=\\\"false\\\"\\n                              flex>\\n            <textarea\\n              md-detect-hidden=\\\"true\\\"\\n              aria-label=\\\"__MSG_teacherSelfAssessmentLabel__\\\"\\n              placeholder=\\\"__MSG_teacherSelfAssessmentLabel__\\\"\\n              ng-model=\\\"objective.objective_assessments.self_assessment\\\"\\n              readonly\\n              localize>\\n                    </textarea>\\n          </md-input-container>\\n          <md-progress-circular\\n            class=\\\"sb-progress-circular\\\"\\n            ng-if=\\\"vm.selectedStudent.objectiveAssessmentFetching\\\"\\n            md-mode=\\\"indeterminate\\\"\\n            md-diameter=\\\"24px\\\"></md-progress-circular>\\n          <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n          {{ objective.objective_assessments.self_assessment_last_edit | LastModified }}\\n        </span>\\n        </div>\\n      </div>\\n    </md-card>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherSetAssignmentObjectives/views/dialogs/assign_confirmation.html';\nvar html = \"<md-dialog>\\n    <md-toolbar class=\\\"sb-toolbar\\\">\\n        <div class=\\\"md-toolbar-tools\\\">\\n            <h2 localize>__MSG_assignConfirmationModalTitle__</h2>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-dialog-content layout-padding>\\n        <p ng-bind-html=\\\"::ac.text | localize\\\"></p>\\n    </md-dialog-content>\\n\\n    <md-dialog-actions layout=\\\"row\\\">\\n        <md-button\\n            ng-click=\\\"ac.closeDialog()\\\"\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            localize>\\n            __MSG_closeBtn__\\n        </md-button>\\n\\n        <md-button\\n            ng-click=\\\"ac.confirmChanges()\\\"\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            localize>\\n            __MSG_assignBtn__\\n        </md-button>\\n    </md-dialog-actions>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherSetAssignmentObjectives/views/dialogs/assign_success.html';\nvar html = \"<md-dialog>\\n    <md-toolbar class=\\\"sb-toolbar\\\">\\n        <div class=\\\"md-toolbar-tools\\\">\\n            <h2 localize>__MSG_assignObjectivesModalTitle__</h2>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-dialog-content layout-padding>\\n        <p localize>__MSG_assignObjectivesModalText__</p>\\n    </md-dialog-content>\\n\\n    <md-dialog-actions layout=\\\"row\\\">\\n        <md-button\\n            ng-click=\\\"as.closeDialog()\\\"\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            localize>\\n            __MSG_closeBtn__\\n        </md-button>\\n    </md-dialog-actions>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherSetAssignmentObjectives/views/main.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div class=\\\"teacher-set-assignment-objectives\\\"\\n     layout=\\\"column\\\"\\n     layout-fill>\\n  <md-toolbar flex=\\\"nogrow\\\"\\n              class=\\\"sb-toolbar\\\">\\n    <div\\n      layout=\\\"row\\\"\\n      layout-align=\\\"start center\\\"\\n      class=\\\"md-toolbar-tools\\\">\\n      <md-button\\n        flex=\\\"none\\\"\\n        class=\\\"md-icon-button\\\"\\n        aria-label=\\\"__MSG_goBackBtn__\\\"\\n        ng-click=\\\"vm.historyBack()\\\"\\n        localize>\\n        <md-icon>\\n          close\\n        </md-icon>\\n      </md-button>\\n\\n      <div flex\\n           layout=\\\"column\\\"\\n           layout-align=\\\"center start\\\">\\n        <p class=\\\"sb-toolbar-page-name\\\"\\n           localize>__MSG_assignObjectivesToAssignmentPage__</p>\\n        <p class=\\\"sb-toolbar-title\\\">{{ ::vm.assignment.title }}</p>\\n      </div>\\n      <div class=\\\"view-menu\\\"\\n           flex=\\\"nogrow\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"end center\\\">\\n<!--        <help-button link=\\\"teacherAssignmentAssignObjectiveHelpButtonUrl\\\"></help-button>-->\\n        <md-menu>\\n          <md-button\\n            aria-label=\\\"__MSG_actionMenuBtn__\\\"\\n            class=\\\"md-icon-button\\\"\\n            ng-click=\\\"$mdMenu.open($event)\\\"\\n            localize>\\n            <md-icon>\\n              more_vert\\n            </md-icon>\\n          </md-button>\\n          <md-menu-content class=\\\"assignment\\\">\\n            <md-menu-label>\\n              {{ ::'teacherAssignmentToolbarMenuLearningObjectiveLabel' | localize }}\\n            </md-menu-label>\\n            <md-menu-item ng-repeat=\\\"toolbarMenuItem in ::vm.viewMenuItems track by toolbarMenuItem.id\\\">\\n              <md-button ng-click=\\\"vm.onClickMenuItem(toolbarMenuItem);\\\">\\n                <md-icon ng-visible=\\\"toolbarMenuItem.checked\\\">check</md-icon>\\n                {{ ::toolbarMenuItem.label | localize }}\\n              </md-button>\\n            </md-menu-item>\\n          </md-menu-content>\\n        </md-menu>\\n      </div>\\n    </div>\\n\\n    <div\\n      layout=\\\"row\\\"\\n      layout-align=\\\"end center\\\"\\n      class=\\\"md-toolbar-tools md-toolbar-tools-bottom\\\">\\n      <md-button\\n        aria-label=\\\"__MSG_assignBtn__\\\"\\n        ng-click=\\\"vm.saveChanges()\\\"\\n        ng-disabled=\\\"vm.isSaveButtonDisabled()\\\"\\n        localize>\\n        __MSG_saveBtn__\\n      </md-button>\\n    </div>\\n  </md-toolbar>\\n\\n  <loader type=\\\"double\\\"></loader>\\n\\n  <div class=\\\"sb-plr-16 sb-pt-8\\\"\\n       flex=\\\"nogrow\\\"\\n       ng-form=\\\"vm.validationForm\\\">\\n    <md-input-container class=\\\"sb-input-full-width\\\">\\n      <label localize>__MSG_teacherAssignmentObjectivesTypeOfAssignment__</label>\\n\\n      <md-select ng-model=\\\"vm.selectedType\\\"\\n                 ng-model-options=\\\"{ trackBy: '$value.type' }\\\"\\n                 md-selected-text=\\\"vm.getAssignmentTypePlaceholder() | localize\\\"\\n                 ng-required=\\\"true\\\">\\n        <md-option class=\\\"type-of-assignments\\\"\\n                   ng-repeat=\\\"typeOfAssignment in ::vm.typeOfAssignments track by typeOfAssignment.type\\\"\\n                   ng-value=\\\"typeOfAssignment\\\">\\n          {{ ::typeOfAssignment.label | localize }}\\n          <div class=\\\"description\\\">{{ ::typeOfAssignment.description | localize }}</div>\\n        </md-option>\\n      </md-select>\\n    </md-input-container>\\n  </div>\\n\\n  <div flex=\\\"nogrow\\\"\\n       class=\\\"sb-plr-16 sb-pt-8\\\">\\n    <md-input-container class=\\\"sb-input-full-width\\\">\\n      <label localize>__MSG_scaleSelect__</label>\\n\\n      <md-select\\n        aria-label=\\\"__MSG_scaleSelect__\\\"\\n        ng-model=\\\"vm.scaleSelect\\\"\\n        ng-model-options=\\\"{ trackBy: '$value.id' }\\\"\\n        ng-change=\\\"vm.changeScale()\\\"\\n        localize>\\n        <md-option\\n          ng-repeat=\\\"gradeSystem in ::vm.gradeSystems track by gradeSystem.id\\\"\\n          ng-value=\\\"::gradeSystem\\\"\\n          ng-selected=\\\"gradeSystem.is_chosen && !vm.resultOnly\\\">\\n          {{ gradeSystem.name }}\\n        </md-option>\\n\\n        <md-option\\n          value=\\\"result_only\\\"\\n          ng-selected=\\\"vm.resultOnly\\\"\\n          localize>\\n          __MSG_ResultOnlyOption__\\n        </md-option>\\n      </md-select>\\n    </md-input-container>\\n  </div>\\n  <div class=\\\"sb-pt-8\\\"\\n       flex=\\\"nogrow\\\"\\n       ng-hide=\\\"vm.scaleSelect.is_counter || !vm.scaleSelect.grade_texts_present\\\">\\n    <objective-grade-text-visibility-settings ng-model=\\\"vm.gradeTextSettings\\\"\\n                                              ng-change=\\\"vm.updateGradeTextSettings()\\\"\\n                                              ng-disabled=\\\"!vm.scaleSelect.grade_texts_present\\\"></objective-grade-text-visibility-settings>\\n  </div>\\n\\n  <md-content sticky-subheader\\n              flex\\n              class=\\\"sb-hidden-x-scroll\\\">\\n    <div\\n      ng-include=\\\"'assignments/teacherSetAssignmentObjectives/views/partials/objectives.html'\\\">\\n    </div>\\n  </md-content>\\n</div>\\n\\n<knowledge-requirements\\n  trigger=\\\"vm.triggerKnowledgeRequirements\\\"\\n  objective-id=\\\"vm.objectiveKnowledgeRequirements\\\">\\n</knowledge-requirements>\\n\\n<div hint\\n     class=\\\"sb-hint\\\"\\n     data-cookie-name=\\\"tearcherSetAssignmentObjectives\\\">\\n  <div class=\\\"sb-hint-scrollable\\\">\\n    <p class=\\\"sb-hint-text\\\"\\n       localize>__MSG_teacherSetAssignmentObjectivesHint__</p>\\n    <p class=\\\"sb-hint-close\\\">\\n      <button class=\\\"sb-btn-no-background md-primary sb-hint-close\\\"\\n              localize>__MSG_acceptHint__\\n      </button>\\n    </p>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherSetAssignmentObjectives/views/partials/objectives.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div class=\\\"teacher-set-assignment-objectives_view_objectives secondary-bg\\\">\\n  <div layout=\\\"column\\\"\\n      ng-repeat=\\\"courseDefinition in ::vm.courseDefinitions track by courseDefinition.id\\\"\\n      ng-if=\\\"vm.scaleSelect !== 'result_only'\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n<md-card>\\n      <div\\n          layout=\\\"column\\\"\\n          ng-repeat=\\\"objective in ::courseDefinition.objectives track by objective.id\\\"\\n          ng-if=\\\"courseDefinition.objectives.length\\\">\\n          <div layout=\\\"row\\\" layout-align=\\\"start center\\\" class=\\\"sb-parent-item sb-pl-16\\\">\\n              <md-checkbox\\n                  flex=\\\"none\\\"\\n                  class=\\\"sb-checkbox-reset md-primary\\\"\\n                  aria-label=\\\"__MSG_objectiveCheckbox__\\\"\\n                  ng-checked=\\\"objective.is_chosen\\\"\\n                  ng-click=\\\"vm.toggleObjective(objective)\\\"\\n                  localize>\\n              </md-checkbox>\\n\\n            <div flex\\n                 class=\\\"sb-parent-item-name sb-objective-clickable\\\"\\n                 ng-click=\\\"vm.triggerKnowledgeRequirements = !vm.triggerKnowledgeRequirements; vm.objectiveKnowledgeRequirements = objective.id\\\">\\n              <div layout=\\\"column\\\"\\n                   layout-align=\\\"start stretch\\\">\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"title\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n                <div class=\\\"description\\\"\\n                     ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                     ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n\\n              </div>\\n            </div>\\n\\n              <md-button\\n                  flex=\\\"none\\\"\\n                  class=\\\"md-icon-button sb-btn-icon-small\\\"\\n                  aria-label=\\\"__MSG_toggleBtn__\\\"\\n                  ng-click=\\\"objective.open = !objective.open\\\"\\n                  ng-show=\\\"vm.scaleSelect.is_counter\\\"\\n                  localize>\\n                  <md-icon\\n                      class=\\\"sb-icon-open\\\"\\n                      ng-class=\\\"{open: objective.open}\\\">\\n                      keyboard_arrow_down\\n                  </md-icon>\\n              </md-button>\\n          </div>\\n\\n          <div slide-toggle=\\\"objective.open\\\" layout=\\\"column\\\" class=\\\"sb-child-item sb-pall-16\\\">\\n              <md-input-container\\n                  flex\\n                  class=\\\"sb-hide-errors\\\"\\n                  ng-repeat=\\\"grade in vm.scaleSelect.grades\\\"\\n                  ng-if=\\\"vm.scaleSelect.is_counter\\\">\\n                  <label>\\n                      <span localize>__MSG_maxPointsInput__</span>\\n                      {{ ::grade.label }}\\n                  </label>\\n\\n                  <input\\n                      type=\\\"number\\\"\\n                      ng-pattern=\\\"/^[0-9]{1,2}$/\\\"\\n                      ng-required=\\\"true\\\"\\n                      ng-model=\\\"objective.max_counter_grades[$index]\\\"\\n                      ng-change=\\\"vm.validChanges()\\\">\\n              </md-input-container>\\n          </div>\\n      </div>\\n</md-card>\\n      <md-card\\n          layout=\\\"column\\\"\\n          ng-if=\\\"!courseDefinition.objectives.length\\\">\\n          <div layout=\\\"row\\\" layout-align=\\\"start center\\\" class=\\\"sb-parent-item sb-pl-16\\\" localize>\\n              __MSG_noObjectivesYet__\\n          </div>\\n      </md-card>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'common/components/accordion/accordion.html';\nvar html = \"<header class=\\\"accordion-header\\\"\\n        ng-transclude=\\\"header\\\">\\n  <accordion-header></accordion-header>\\n</header>\\n<content class=\\\"accordion-container\\\"\\n         flex\\n         layout=\\\"column\\\"\\n         layout-align=\\\"start stretch\\\">\\n  <md-content class=\\\"accordion-content\\\"\\n              ng-if=\\\"$ctrl.visible\\\"\\n              ng-transclude>\\n  </md-content>\\n  <footer class=\\\"accordion-footer\\\"\\n          ng-if=\\\"$ctrl.visible\\\"\\n          ng-transclude=\\\"footer\\\"></footer>\\n</content>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'common/components/accordion/accordionFooter/accordionFooter.html';\nvar html = \"<div class=\\\"accordion-footer\\\"\\n     ng-transclude></div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'common/components/accordion/accordionHeader/accordionHeader.html';\nvar html = \"<div class=\\\"accordion-header\\\"\\n     ng-class=\\\"{open: $ctrl.accordion.open}\\\">\\n  <div class=\\\"accordion-header-title\\\"\\n       layout=\\\"row\\\"\\n       layot-align=\\\"space-between center\\\"\\n       ng-transclude></div>\\n  <div class=\\\"accordion-header-toggle\\\"\\n       layout=\\\"row\\\"\\n       layot-align=\\\"center center\\\"\\n       ng-click=\\\"$ctrl.accordion.toggle()\\\"\\n       ng-hide=\\\"$ctrl.accordion.disabled\\\">\\n    <md-icon class=\\\"accordion-header-toggle__icon\\\">keyboard_arrow_up</md-icon>\\n  </div>\\n  <div class=\\\"accordion-header-menu\\\"\\n       layout=\\\"row\\\"\\n       layout-align=\\\"center center\\\"\\n       ng-transclude=\\\"menu\\\">\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'common/components/longTextTooltip/longTextTooltip.html';\nvar html = \"<ng-transclude></ng-transclude>\\n<md-tooltip class=\\\"md-fling\\\"\\n            md-direction=\\\"{{ $ctrl.direction }}\\\"\\n            md-z-index=\\\"1014\\\"\\n            md-visible=\\\"$ctrl.visible\\\"\\n            ng-if=\\\"!$ctrl.disabled && $ctrl.showTooltip\\\">\\n    {{$ctrl.text|localize}}\\n</md-tooltip>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'common/dialogs/hint-dialog.html';\nvar html = \"<md-dialog\\n    class=\\\"dialog__small\\\">\\n    <md-dialog-content>\\n        <div\\n            class=\\\"dialog__small--title\\\"\\n            localize>\\n            {{ $ctrl.headerText }}\\n        </div>\\n\\n        <div\\n            flex=\\\"100\\\"\\n            class=\\\"dialog__small--input-content\\\"\\n            flex=\\\"95\\\">\\n            {{ $ctrl.contentText }}\\n        </div>\\n\\n        <div\\n            class=\\\"dialog__small--button--container\\\"\\n            layout=\\\"row\\\"\\n            layout-align=\\\"end center\\\">\\n            <md-button\\n                class=\\\"sb-btn-no-background\\n                       md-primary\\n                       sb-btn-no-min-width\\\"\\n                ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                localize>\\n                __MSG_acceptHint__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/components/assessmentDetails/assessmentDetails.html';\nvar html = \"<div ng-if=\\\"$ctrl.assessment.open\\\"\\n     ng-class=\\\"::{'sb-list-dropdown': !$ctrl.simpleView}\\\">\\n  <div layout=\\\"column\\\"\\n       layout-align=\\\"stretch\\\">\\n\\n    <div ng-class=\\\"::{'sb-list-dropdown__inner': !$ctrl.simpleView}\\\">\\n\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"left\\\"\\n           ng-if=\\\"$ctrl.assessment.grade_system.is_counter && $ctrl.assessment.counter_grades\\\"\\n           ng-mouseenter=\\\"$ctrl.counterGradeHovered = true\\\"\\n           ng-mouseleave=\\\"$ctrl.counterGradeHovered = false\\\">\\n        <div flex=\\\"95\\\">\\n                    <span class=\\\"md-body-1\\\"\\n                          localize>\\n                        __MSG_courseProgressAssessmentLabel__\\n                    </span>\\n          <div class=\\\"counter-grade-container\\\"\\n               flex\\n               layout=\\\"row\\\"\\n               layout-align=\\\"start center\\\">\\n            <counter-grade-editable label=\\\"grade.circle_label\\\"\\n                                    grade=\\\"$ctrl.assessment.counter_grades[$index]\\\"\\n                                    max-grade=\\\"::$ctrl.assessment.grade_system.max_counter_grades[$index]\\\"\\n                                    on-update=\\\"$ctrl.counterGradeChange(grade, $index)\\\"\\n                                    read-only=\\\"::$ctrl.readOnly || $ctrl.disabled\\\"\\n                                    ng-repeat=\\\"grade in ::$ctrl.gradeSystem.grades track by $index\\\">\\n            </counter-grade-editable>\\n            <partial-last-update date=\\\"$ctrl.assessment.grade_last_edit\\\"\\n                                 visible=\\\"$ctrl.counterGradeHovered\\\"\\n                                 ng-if=\\\"::$ctrl.teacherAccount\\\"></partial-last-update>\\n          </div>\\n        </div>\\n        <md-button class=\\\"md-icon-button sb-btn-icon-small sb-ico__visibility\\\"\\n                   aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                   flex=\\\"5\\\"\\n                   ng-click=\\\"$ctrl.toggleAssessmentGradePublished()\\\"\\n                   ng-if=\\\"::!$ctrl.readOnly\\\"\\n                   ng-disabled=\\\"::$ctrl.disabled\\\"\\n                   localize>\\n          <md-icon class=\\\"sb-icon-small sb-icon-green\\\"\\n                   ng-show=\\\"$ctrl.assessment.grade_published\\\">\\n            visibility\\n          </md-icon>\\n\\n          <md-icon class=\\\"sb-icon-small\\\"\\n                   ng-show=\\\"!$ctrl.assessment.grade_published\\\">\\n            visibility_off\\n          </md-icon>\\n        </md-button>\\n      </div>\\n\\n\\n      <div class=\\\"sb-assessment-details__current-grade\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"center start\\\"\\n           ng-if=\\\"$ctrl.isGradeVisible\\\"\\n           ng-mouseenter=\\\"$ctrl.assessmentGradeHovered = true\\\"\\n           ng-mouseleave=\\\"$ctrl.assessmentGradeHovered = false\\\">\\n        <div flex=\\\"95\\\">\\n                    <span class=\\\"md-body-1\\\"\\n                          localize>\\n                        __MSG_courseProgressCurrentGradeLabel__\\n                    </span>\\n          <grade-editable grade=\\\"$ctrl.assessment.grade\\\"\\n                          grade-system=\\\"::$ctrl.gradeSystem\\\"\\n                          read-only=\\\"::$ctrl.readOnly || $ctrl.disabled\\\"\\n                          mixpanel-update-event=\\\"{{::$ctrl.mixpanelGradeEvent}}\\\"\\n                          on-grade-update=\\\"$ctrl.gradeUpdate(grade)\\\"\\n                          on-grade-change=\\\"$ctrl.gradeChange(grade)\\\"\\n                          ng-if=\\\"$ctrl.componentInitialized\\\">\\n          </grade-editable>\\n          <partial-last-update date=\\\"$ctrl.assessment.grade_last_edit\\\"\\n                               visible=\\\"$ctrl.assessmentGradeHovered\\\"\\n                               ng-if=\\\"::$ctrl.teacherAccount\\\"></partial-last-update>\\n        </div>\\n        <md-button class=\\\"md-icon-button sb-btn-icon-small sb-ico__visibility\\\"\\n                   flex=\\\"5\\\"\\n                   aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                   ng-click=\\\"$ctrl.toggleAssessmentGradePublished()\\\"\\n                   ng-if=\\\"::!$ctrl.readOnly\\\"\\n                   ng-disabled=\\\"::$ctrl.disabled\\\"\\n                   localize>\\n          <md-icon class=\\\"sb-icon-small sb-icon-green\\\"\\n                   ng-show=\\\"$ctrl.assessment.grade_published\\\">\\n            visibility\\n          </md-icon>\\n\\n          <md-icon class=\\\"sb-icon-small\\\"\\n                   ng-show=\\\"!$ctrl.assessment.grade_published\\\">\\n            visibility_off\\n          </md-icon>\\n        </md-button>\\n        <div flex=\\\"5\\\"\\n             ng-if=\\\"::$ctrl.readOnly\\\"></div>\\n      </div>\\n\\n      <grade-description assessment=\\\"$ctrl.assessment\\\"\\n                         ng-if=\\\"$ctrl.isGradeTextsVisible\\\">\\n      </grade-description>\\n\\n      <div class=\\\"sb-assessment-details__target-grade\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"center start\\\"\\n           ng-if=\\\"::$ctrl.isTargetGradeVisible\\\"\\n           ng-mouseenter=\\\"$ctrl.targetGradeHovered = true\\\"\\n           ng-mouseleave=\\\"$ctrl.targetGradeHovered = false\\\">\\n        <div flex=\\\"95\\\">\\n                    <span class=\\\"md-body-1\\\"\\n                          flex-auto\\n                          localize>\\n                        __MSG_courseProgressTargetGradeLabel__\\n                    </span>\\n          <grade-editable grade=\\\"$ctrl.assessment.target_grade\\\"\\n                          grade-system=\\\"::$ctrl.gradeSystem\\\"\\n                          read-only=\\\"::$ctrl.readOnly || $ctrl.disabled\\\"\\n                          is-target-grade=\\\"true\\\"\\n                          on-grade-update=\\\"$ctrl.targetGradeUpdate(grade)\\\"\\n                          on-grade-change=\\\"$ctrl.targetGradeChange(grade)\\\"\\n                          ng-if=\\\"$ctrl.componentInitialized\\\">\\n          </grade-editable>\\n          <partial-last-update date=\\\"$ctrl.assessment.target_grade_last_edit\\\"\\n                               visible=\\\"$ctrl.targetGradeHovered\\\"\\n                               ng-if=\\\"::$ctrl.teacherAccount\\\"></partial-last-update>\\n        </div>\\n\\n        <md-button flex=\\\"5\\\"\\n                   class=\\\"md-icon-button sb-btn-icon-small sb-ico__visibility\\\"\\n                   aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                   ng-click=\\\"$ctrl.toggleAssessmentTargetGradePublished()\\\"\\n                   ng-if=\\\"!$ctrl.readOnly\\\"\\n                   ng-disabled=\\\"::$ctrl.disabled\\\"\\n                   localize>\\n          <md-icon class=\\\"sb-icon-small sb-icon-green\\\"\\n                   ng-show=\\\"$ctrl.assessment.target_grade_published\\\">\\n            visibility\\n          </md-icon>\\n\\n          <md-icon class=\\\"sb-icon-small\\\"\\n                   ng-show=\\\"!$ctrl.assessment.target_grade_published\\\">\\n            visibility_off\\n          </md-icon>\\n        </md-button>\\n        <div flex=\\\"5\\\"\\n             ng-if=\\\"$ctrl.readOnly\\\"></div>\\n      </div>\\n\\n      <div class=\\\"sb-assessment-details__feedback\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"center start\\\"\\n           ng-if=\\\"!$ctrl.readOnly || ($ctrl.readOnly && $ctrl.assessment.feedback)\\\"\\n           ng-mouseenter=\\\"$ctrl.feedbackHovered = true\\\"\\n           ng-mouseleave=\\\"$ctrl.feedbackHovered = false\\\">\\n        <md-input-container class=\\\"md-block\\\"\\n                            flex=\\\"95\\\">\\n          <label localize>\\n            __MSG_courseProgressFeedbackLabel__\\n          </label>\\n          <textarea mixpanel-text-event=\\\"{{::$ctrl.mixpanelFeedbackEvent}}\\\"\\n                    md-detect-hidden=\\\"true\\\"\\n                    ng-disabled=\\\"::$ctrl.readOnly || $ctrl.disabled\\\"\\n                    ng-model=\\\"$ctrl.assessment.feedback\\\"\\n                    ng-model-options='::{ debounce: 500 }'\\n                    ng-change=\\\"$ctrl.updateAssessmentProperty()\\\">\\n                    </textarea>\\n          <partial-last-update date=\\\"$ctrl.assessment.feedback_last_edit\\\"\\n                               visible=\\\"$ctrl.feedbackHovered\\\"\\n                               ng-if=\\\"::$ctrl.teacherAccount\\\"></partial-last-update>\\n        </md-input-container>\\n\\n        <md-button class=\\\"md-icon-button sb-btn-icon-small sb-ico__visibility\\\"\\n                   flex=\\\"5\\\"\\n                   aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                   ng-click=\\\"$ctrl.toggleAssessmentFeedbackPublished()\\\"\\n                   ng-if=\\\"::!$ctrl.readOnly\\\"\\n                   ng-disabled=\\\"::$ctrl.disabled\\\"\\n                   localize>\\n          <md-icon class=\\\"sb-icon-small sb-icon-green\\\"\\n                   ng-show=\\\"$ctrl.assessment.feedback_published\\\">\\n            visibility\\n          </md-icon>\\n\\n          <md-icon class=\\\"sb-icon-small\\\"\\n                   ng-show=\\\"!$ctrl.assessment.feedback_published\\\">\\n            visibility_off\\n          </md-icon>\\n        </md-button>\\n        <div flex=\\\"5\\\"\\n             ng-if=\\\"$ctrl.readOnly\\\"></div>\\n      </div>\\n\\n      <div class=\\\"sb-assessment-details__private-note\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"center start\\\"\\n           ng-if=\\\"$ctrl.isPrivateNoteVisible \\\"\\n           ng-mouseenter=\\\"$ctrl.privateNoteHovered = true\\\"\\n           ng-mouseleave=\\\"$ctrl.privateNoteHovered = false\\\">\\n        <md-input-container class=\\\"md-block\\\"\\n                            flex=\\\"95\\\">\\n          <label localize>\\n            __MSG_courseProgressPrivateNoteLabel__\\n          </label>\\n          <textarea md-detect-hidden=\\\"true\\\"\\n                    ng-model=\\\"$ctrl.assessment.private_note\\\"\\n                    ng-model-options='::{ debounce: 1000 }'\\n                    ng-change=\\\"$ctrl.updateAssessmentProperty()\\\"\\n                    ng-disabled=\\\"::$ctrl.disabled\\\">\\n                    </textarea>\\n          <partial-last-update date=\\\"$ctrl.assessment.private_note_last_edit\\\"\\n                               visible=\\\"$ctrl.privateNoteHovered\\\"\\n                               ng-if=\\\"::$ctrl.teacherAccount\\\"></partial-last-update>\\n        </md-input-container>\\n        <div flex=\\\"5\\\"></div>\\n      </div>\\n\\n      <div class=\\\"sb-assessment-details__student-self-assessment\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"center start\\\"\\n           ng-if=\\\"(!$ctrl.teacherAccount && $ctrl.showStudentSelfAssessment) ||\\n                       ($ctrl.showStudentSelfAssessment && $ctrl.assessment.self_assessment)\\\"\\n           ng-mouseenter=\\\"$ctrl.selfAssessmentHovered = true\\\"\\n           ng-mouseleave=\\\"$ctrl.selfAssessmentHovered = false\\\">\\n        <md-input-container class=\\\"md-block\\\"\\n                            flex=\\\"95\\\">\\n          <label ng-if=\\\"::$ctrl.teacherAccount\\\"\\n                 localize>\\n            __MSG_teacherSelfAssessmentLabel__\\n          </label>\\n          <label ng-if=\\\"::!$ctrl.teacherAccount\\\"\\n                 localize>\\n            __MSG_studentSelfAssessmentLabel__\\n          </label>\\n          <textarea mixpanel-text-event=\\\"{{::$ctrl.mixpanelSelfAssessmentEvent}}\\\"\\n                    md-detect-hidden=\\\"true\\\"\\n                    ng-disabled=\\\"::$ctrl.teacherAccount || $ctrl.disabled\\\"\\n                    ng-model=\\\"$ctrl.assessment.self_assessment\\\"\\n                    ng-model-options='::{ debounce: 1000 }'\\n                    ng-change=\\\"$ctrl.updateAssessmentProperty()\\\">\\n                    </textarea>\\n          <partial-last-update date=\\\"$ctrl.assessment.self_assessment_last_edit\\\"\\n                               visible=\\\"$ctrl.selfAssessmentHovered\\\"\\n                               ng-if=\\\"::$ctrl.teacherAccount\\\"></partial-last-update>\\n        </md-input-container>\\n        <div flex=\\\"5\\\"></div>\\n      </div>\\n\\n      <div ng-if=\\\"::$ctrl.isOverallAssessmentSectionVisible\\\"\\n           flex>\\n                <span class=\\\"md-body-1\\\"\\n                      localize>\\n                    __MSG_courseGradeMode__\\n                </span>\\n        <div class=\\\"sb-assessment-details__overall_result\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"start start\\\"\\n             ng-if=\\\"$ctrl.teacherAccount || $ctrl.assignment.result_published\\\"\\n             ng-mouseenter=\\\"$ctrl.overallResultHovered = true\\\"\\n             ng-mouseleave=\\\"$ctrl.overallResultHovered = false\\\">\\n          <md-input-container class=\\\"md-block\\\"\\n                              flex=\\\"95\\\">\\n            <label localize>\\n              __MSG_resultsMode__\\n            </label>\\n            <textarea mixpanel-text-event=\\\"{{::$ctrl.mixpanelSelfAssessmentEvent}}\\\"\\n                      md-detect-hidden=\\\"true\\\"\\n                      ng-disabled=\\\"::!$ctrl.teacherAccount || $ctrl.disabled\\\"\\n                      ng-model=\\\"$ctrl.assignment.result\\\"\\n                      ng-model-options='::{ debounce: 1000 }'\\n                      ng-change=\\\"$ctrl.onAssignmentChange({assignment: $ctrl.assignment })\\\">\\n                    </textarea>\\n            <partial-last-update ng-if=\\\"::$ctrl.teacherAccount\\\"\\n                                 date=\\\"$ctrl.assignment.result_last_edit\\\"\\n                                 visible=\\\"$ctrl.overallResultHovered\\\"></partial-last-update>\\n          </md-input-container>\\n          <md-button class=\\\"md-icon-button sb-btn-icon-small sb-ico__visibility\\\"\\n                     aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                     flex=\\\"5\\\"\\n                     ng-click=\\\"$ctrl.onResultPublishChange()\\\"\\n                     ng-if=\\\"::$ctrl.teacherAccount\\\"\\n                     ng-disabled=\\\"::$ctrl.disabled\\\"\\n                     localize>\\n            <md-icon class=\\\"sb-icon-small sb-icon-green\\\"\\n                     ng-show=\\\"$ctrl.assignment.result_published\\\">\\n              visibility\\n            </md-icon>\\n\\n            <md-icon class=\\\"sb-icon-small\\\"\\n                     ng-show=\\\"!$ctrl.assignment.result_published\\\">\\n              visibility_off\\n            </md-icon>\\n          </md-button>\\n        </div>\\n        <div class=\\\"sb-assessment-details__overall_feedback\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"start start\\\"\\n             ng-if=\\\"$ctrl.isOverallFeedbackAvailable\\\"\\n             ng-mouseenter=\\\"$ctrl.overallFeedbackHovered = true\\\"\\n             ng-mouseleave=\\\"$ctrl.overallFeedbackHovered = false\\\">\\n          <md-input-container class=\\\"md-block\\\"\\n                              flex=\\\"95\\\">\\n            <label localize>\\n              __MSG_overallFeedbackInput__\\n            </label>\\n            <textarea mixpanel-text-event=\\\"{{::$ctrl.mixpanelSelfAssessmentEvent}}\\\"\\n                      md-detect-hidden=\\\"true\\\"\\n                      ng-disabled=\\\"::!$ctrl.teacherAccount || $ctrl.disabled\\\"\\n                      ng-model=\\\"$ctrl.assignment.feedback\\\"\\n                      ng-model-options='::{ debounce: 1000 }'\\n                      ng-change=\\\"$ctrl.onAssignmentChange({assignment: $ctrl.assignment })\\\">\\n                    </textarea>\\n            <partial-last-update date=\\\"$ctrl.assignment.feedback_last_edit\\\"\\n                                 visible=\\\"$ctrl.overallFeedbackHovered\\\"\\n                                 ng-if=\\\"::$ctrl.teacherAccount\\\"></partial-last-update>\\n          </md-input-container>\\n          <md-button class=\\\"md-icon-button sb-btn-icon-small sb-ico__visibility\\\"\\n                     aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                     flex=\\\"5\\\"\\n                     ng-click=\\\"$ctrl.onFeedbackPublishChange()\\\"\\n                     ng-if=\\\"::$ctrl.teacherAccount\\\"\\n                     ng-disabled=\\\"$ctrl.disabled\\\"\\n                     localize>\\n            <md-icon class=\\\"sb-icon-small sb-icon-green\\\"\\n                     ng-show=\\\"$ctrl.assignment.feedback_published\\\">\\n              visibility\\n            </md-icon>\\n\\n            <md-icon class=\\\"sb-icon-small\\\"\\n                     ng-show=\\\"!$ctrl.assignment.feedback_published\\\">\\n              visibility_off\\n            </md-icon>\\n          </md-button>\\n        </div>\\n        <div class=\\\"sb-assessment-details__overall_teacher_note\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"start start\\\"\\n             ng-if=\\\"::$ctrl.teacherAccount && $ctrl.assessment.teacher_in_class\\\"\\n             ng-mouseenter=\\\"$ctrl.overallTeacherNoteHovered = true\\\"\\n             ng-mouseleave=\\\"$ctrl.overallTeacherNoteHovered = false\\\">\\n          <md-input-container class=\\\"md-block\\\"\\n                              flex=\\\"95\\\">\\n            <label localize>\\n              __MSG_overallPrivateNoteInput__\\n            </label>\\n            <textarea mixpanel-text-event=\\\"{{::$ctrl.mixpanelSelfAssessmentEvent}}\\\"\\n                      md-detect-hidden=\\\"true\\\"\\n                      ng-model=\\\"$ctrl.assignment.private_note\\\"\\n                      ng-model-options='::{ debounce: 1000 }'\\n                      ng-change=\\\"$ctrl.onAssignmentChange({ assignment: $ctrl.assignment })\\\"\\n                      ng-disabled=\\\"$ctrl.disabled\\\">\\n                    </textarea>\\n            <partial-last-update date=\\\"$ctrl.assignment.private_note_last_edit\\\"\\n                                 visible=\\\"$ctrl.overallTeacherNoteHovered\\\"\\n                                 ng-if=\\\"::$ctrl.teacherAccount\\\"></partial-last-update>\\n          </md-input-container>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"sb-course-assessment__empty-info\\\"\\n         ng-show=\\\"::$ctrl.isEmpty\\\"\\n         ng-bind-html=\\\"::$ctrl.emptyMsg | localize\\\">\\n    </div>\\n\\n    <div class=\\\"sb-list-dropdown__footer\\\"\\n         layout-align=\\\"center start space-around\\\"\\n         ng-if=\\\"::!$ctrl.simpleView\\\">\\n<!--      <md-button class=\\\"sb-button\\\"-->\\n<!--                 ng-if=\\\"::!$ctrl.detailsButtonDisable\\\"-->\\n<!--                 ng-click=\\\"$ctrl.onNavigateToDetails($ctrl.assessment)\\\"-->\\n<!--                 localize>-->\\n<!--        __MSG_goToDetailsBtn__-->\\n<!--      </md-button>-->\\n      <md-button class=\\\"sb-button sb-button--right\\\"\\n                 ng-click=\\\"$ctrl.onAssessmentClose($ctrl.assessment)\\\"\\n                 localize>\\n        __MSG_closeBtn__\\n      </md-button>\\n    </div>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/components/assessmentStatusPreview/assessmentStatusPreview.html';\nvar html = \"<div class=\\\"layout-row-flex\\\"\\n    layout=\\\"row\\\"\\n    layout-align=\\\"end center\\\">\\n\\n    <last-update date=\\\"$ctrl.assessment.last_update\\\"></last-update>\\n\\n    <span\\n        class=\\\"sb-course-assessment__self-assessment\\n               sb-course-assessment__meta-item\\n               sb-course-assessment__meta-item--sm\\\"\\n        ng-visible=\\\"$ctrl.hasStudentsSelfAssessment\\\">\\n        <span>\\n            <md-tooltip\\n                class=\\\"md-fling\\\"\\n                md-direction=\\\"top\\\"\\n                md-z-index=\\\"1010\\\"\\n                localize>\\n                __MSG_courseProgressStudentSelfAssessmentTooltip__\\n            </md-tooltip>\\n            <span class=\\\"sb-ico sb-ico__self-assessment\\\"></span>\\n        </span>\\n    </span>\\n\\n    <span\\n        class=\\\"sb-course-assessment__meta-note\\n               sb-course-assessment__meta-item\\n               sb-course-assessment__meta-item--sm\\\"\\n        ng-visible=\\\"$ctrl.hasTeacherNote\\\">\\n        <md-tooltip\\n            class=\\\"md-fling\\\"\\n            md-direction=\\\"top\\\"\\n            md-z-index=\\\"1010\\\"\\n            localize>\\n            __MSG_courseProgressPrivateNoteAvailableTooltip__\\n        </md-tooltip>\\n        <span class=\\\"sb-ico sb-ico__note\\\"></span>\\n    </span>\\n\\n    <span class=\\\"sb-course-assessment__meta-feedback\\n                 sb-course-assessment__meta-item\\n                 sb-course-assessment__meta-item--sm\\\"\\n          ng-visible=\\\"$ctrl.hasFeedback\\\">\\n        <md-tooltip\\n            class=\\\"md-fling\\\"\\n            md-direction=\\\"top\\\"\\n            md-z-index=\\\"1010\\\"\\n            localize>\\n            __MSG_courseProgressFeedbackAvailableTooltip__\\n        </md-tooltip>\\n        <span\\n            class=\\\"sb-ico sb-ico__feedback\\\"\\n            ng-if=\\\"!$ctrl.isFeedbackVisible\\\"></span>\\n        <span\\n            class=\\\"sb-ico sb-ico__feedback\\\"\\n            ng-if=\\\"$ctrl.isFeedbackVisible\\\">\\n            <md-icon class=\\\"sb-ico sb-ico__small-eye\\\">visibility</md-icon>\\n        </span>\\n    </span>\\n\\n    <span class=\\\"sb-course-assessment__meta-goal\\n                 sb-course-assessment__meta-item\\n                 sb-course-assessment__meta-item--sm\\\"\\n          ng-if=\\\"$ctrl.showTargetGrade && $ctrl.assessment.target_grade\\\">\\n        <md-tooltip\\n            md-direction=\\\"top\\\"\\n            md-z-index=\\\"1010\\\"\\n            class=\\\"md-fling sb-tooltip--align-position--small-item\\\"\\n            localize>\\n            __MSG_courseProgressTargetGoalAvailableTooltip__\\n        </md-tooltip>\\n        {{ $ctrl.assessment.target_grade.circle_label }}\\n        <md-icon\\n            class=\\\"sb-ico sb-ico__small-eye\\\"\\n            ng-show=\\\"$ctrl.assessment.target_grade_published\\\">\\n            visibility\\n        </md-icon>\\n    </span>\\n\\n\\n    <!-- this is for normal grade -->\\n    <span\\n        class=\\\"sb-course-assessment__meta-grade__container normal-grade\\\"\\n        ng-class=\\\"{'sb-course-assessment__meta-grade__container--counter-list': $ctrl.assessment.counter_grades}\\\"\\n        ng-if=\\\"!$ctrl.assessment.grade_system.is_counter || !$ctrl.assessment.counter_grades\\\">\\n        <span class=\\\"sb-course-assessment__meta-grade\\n                   sb-course-assessment__meta-item\\n                   sb-course-assessment__meta-item--sm\\\">\\n            <md-tooltip\\n                md-direction=\\\"top\\\"\\n                class=\\\"md-fling sb-tooltip--align-position\\\"\\n                md-z-index=\\\"1010\\\"\\n                ng-if=\\\"$ctrl.assessment.grade\\\">\\n                {{ $ctrl.assessment.grade_system.name }}\\n            </md-tooltip>\\n            <span\\n                class=\\\"sb-course-assessment__meta-grade--text\\\"\\n                ng-style=\\\"{\\n                    color: $ctrl.showTargetGrade ? '' : $ctrl.assessment.grade.color,\\n                    background: $ctrl.showTargetGrade ? $ctrl.assessment.grade.color : ''\\n                }\\\">\\n                {{ $ctrl.assessment.grade.circle_label }}\\n            </span>\\n            <md-icon\\n                class=\\\"sb-ico sb-ico__small-eye\\n                       sb-course-assessment__meta-grade__visibility-icon\\\"\\n                ng-class=\\\"{'sb-course-assessment__meta-grade__visibility-icon__color-background':\\n                            $ctrl.showTargetGrade}\\\"\\n                ng-show=\\\"$ctrl.assessment.grade_published && $ctrl.showVisibility && $ctrl.assessment.grade\\\">\\n                visibility\\n            </md-icon>\\n        </span>\\n    </span>\\n\\n    <!-- this one is only for counter grades -->\\n    <span\\n        class=\\\"sb-course-assessment__meta-grade__container\\\"\\n        ng-if=\\\"$ctrl.assessment.grade_system.is_counter && $ctrl.assessment.counter_grades\\\">\\n        <span\\n            class=\\\"sb-course-assessment__meta-grade\\n                   sb-course-assessment__meta-grade--sm\\n                   sb-course-assessment__meta-item\\n                   sb-course-assessment__meta-grade--expanded\\n                   sb-course-assessment__meta-item--sm\\\"\\n            ng-class=\\\"($ctrl.assessment.grade_system.is_counter) ? 'sb-counter-grade-item' : ''\\\">\\n            <md-icon\\n                class=\\\"sb-ico sb-ico__small-eye\\n                       counter-assesment-grade\\n                       sb-course-assessment__meta-grade__visibility-icon\\\"\\n                ng-show=\\\"$ctrl.assessment.grade_published && $ctrl.showVisibility\\\">\\n                visibility\\n            </md-icon>\\n            <div\\n                class=\\\"layout-row-flex\\\"\\n                layout=\\\"row\\\"\\n                layout-align=\\\"center center\\\">\\n                <counter-grade-preview\\n                    ng-repeat=\\\"grade in $ctrl.gradeSystem.grades track by $index\\\"\\n                    label=\\\"grade.circle_label\\\"\\n                    grade=\\\"$ctrl.assessment.counter_grades[$index]\\\"\\n                    max-grade=\\\"$ctrl.assessment.grade_system.max_counter_grades[$index]\\\">\\n                </counter-grade-preview>\\n            </div>\\n        </span>\\n    </span>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/components/courseSummary/courseSummary.html';\nvar html = \"<div class=\\\"course-summary-wrapper course-summary-wrapper__last-modified\\\"\\n     ng-visible=\\\"::$ctrl.course.last_update\\\">\\n    <span class=\\\"course-summary-tooltip-handler course-summary-item course-summary-item__last-modified\\\">\\n        {{ ::$ctrl.course.last_update | LastModified }}\\n        <md-tooltip class=\\\"md-fling\\\"\\n                    md-direction=\\\"top\\\"\\n                    md-z-index=\\\"1014\\\"\\n                    ng-if=\\\"::$ctrl.course.last_update\\\">{{::'courseProgressLastEditTooltip' | localize}}\\n        </md-tooltip>\\n    </span>\\n</div>\\n<div class=\\\"course-summary-wrapper\\\"\\n     ng-visible=\\\"::$ctrl.course.private_note\\\">\\n    <md-icon class=\\\"course-summary-item\\\">description\\n        <md-tooltip class=\\\"md-fling\\\"\\n                    md-direction=\\\"top\\\"\\n                    md-z-index=\\\"1014\\\"\\n                    ng-if=\\\"::$ctrl.course.private_note\\\">{{::'courseProgressPrivateNoteAvailableTooltip' | localize }}\\n        </md-tooltip>\\n    </md-icon>\\n</div>\\n<div class=\\\"course-summary-wrapper\\\"\\n     ng-visible=\\\"::$ctrl.course.feedback\\\">\\n    <md-icon class=\\\"nested-icon course-summary-item\\\">feedback\\n        <md-icon ng-if=\\\"::$ctrl.course.feedback_published\\\">remove_red_eye</md-icon>\\n        <md-tooltip class=\\\"md-fling\\\"\\n                    md-direction=\\\"top\\\"\\n                    md-z-index=\\\"1014\\\"\\n                    ng-if=\\\"::$ctrl.course.feedback\\\">{{::'courseProgressFeedbackAvailableTooltip' | localize }}\\n        </md-tooltip>\\n    </md-icon>\\n</div>\\n<div class=\\\"course-summary-wrapper\\\"\\n     ng-visible=\\\"::$ctrl.course.target_grade\\\">\\n    <md-icon class=\\\"nested-icon course-summary-item course-summary-item__target-grade\\\"\\n             md-font-set=\\\"roboto\\\">{{::$ctrl.course.target_grade.circle_label}}\\n        <md-icon ng-if=\\\"::$ctrl.course.target_grade_published\\\">remove_red_eye</md-icon>\\n        <md-tooltip class=\\\"md-fling\\\"\\n                    md-direction=\\\"top\\\"\\n                    md-z-index=\\\"1014\\\"\\n                    ng-if=\\\"::$ctrl.course.target_grade\\\">{{::'courseProgressTargetGradeLabel' | localize }}</md-tooltip>\\n    </md-icon>\\n</div>\\n<div class=\\\"course-summary-wrapper\\\"\\n     ng-visible=\\\"::$ctrl.course.grade\\\">\\n    <md-icon class=\\\"nested-icon course-summary-item\\\"\\n             md-font-set=\\\"roboto\\\"\\n             ng-style=\\\"::{'color': $ctrl.course.grade.color}\\\">{{::$ctrl.course.grade.circle_label}}\\n        <md-icon ng-if=\\\"::$ctrl.course.grade_published\\\">remove_red_eye</md-icon>\\n        <md-tooltip class=\\\"md-fling\\\"\\n                    md-direction=\\\"top\\\"\\n                    md-z-index=\\\"1014\\\"\\n                    ng-if=\\\"::$ctrl.course.grade\\\">{{::$ctrl.course.grade_system.name}}</md-tooltip>\\n    </md-icon>\\n</div>\\n\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/components/shareAssessmentsWithColleagues/shareAssessmentsWithColleagues.html';\nvar html = \"<md-card class=\\\"share-assessments-with-colleagues--add\\\">\\n  <md-card-content class=\\\"share-assessments-with-colleagues--add-content\\\">\\n    <form class=\\\"share-assessments-with-colleagues--add-content-form\\\"\\n          name=\\\"$ctrl.shareAssessmentWithColleaguesForm\\\"\\n          novalidate>\\n      <md-input-container class=\\\"md-block\\\"\\n                          md-no-float>\\n        <input class=\\\"share-assessments-with-colleagues--add-content-form-input\\\"\\n               type=\\\"text\\\"\\n               placeholder=\\\"{{::'shareAssessmentInputPlaceholder' | localize}}\\\"\\n               name=\\\"email\\\"\\n               ng-model=\\\"$ctrl.email\\\"\\n               ng-model-options=\\\"{ updateOn: 'default blur', debounce: { blur: 0, '*': 1000 } }\\\"\\n               ng-pattern=\\\"$ctrl.emailPattern\\\"\\n               ng-keyup=\\\"$ctrl.onKeyUp($event)\\\">\\n        <div ng-messages=\\\"$ctrl.shareAssessmentWithColleaguesForm.email.$error\\\">\\n          <div class=\\\"ng-animate\\\"\\n               ng-message=\\\"pattern\\\"\\n               localize>__MSG_invalidEmailAddress__\\n          </div>\\n          <div class=\\\"ng-animate\\\"\\n               ng-message=\\\"unique\\\"\\n               localize>__MSG_notUniqueEmailAddress__\\n          </div>\\n        </div>\\n      </md-input-container>\\n    </form>\\n    <md-button class=\\\"md-icon-button share-assessments-with-colleagues--add-content-button\\\"\\n               ng-disabled=\\\"!$ctrl.isFormValid()\\\">\\n      <md-icon class=\\\"share-assessments-with-colleagues--add-content-button-icon\\\"\\n               ng-click=\\\"$ctrl.addColleagueEmail()\\\">add_circle\\n      </md-icon>\\n    </md-button>\\n  </md-card-content>\\n</md-card>\\n\\n<md-subheader localize>\\n  __MSG_colleaguesThatHaveAccessToYourAssessments__\\n</md-subheader>\\n<md-card class=\\\"share-assessments-with-colleagues-list\\\"\\n         ng-show=\\\"$ctrl.colleaguesEmails.length\\\">\\n  <md-card-content>\\n    <md-list class=\\\"md-no-proxy md-with-secondary\\\">\\n      <md-list-item class=\\\"share-assessments-with-colleagues-list-item\\\"\\n                    ng-repeat=\\\"colleagueEmail in $ctrl.colleaguesEmails track by colleagueEmail.id\\\">\\n        <div class=\\\"md-list-item-text share-assessments-with-colleagues-list-item-text\\\">\\n          {{::colleagueEmail.email}}\\n          <div class=\\\"share-assessments-with-colleagues-list-item-error\\\"\\n               ng-hide=\\\"::colleagueEmail.isValid\\\"\\n               localize>\\n            __MSG_notStudyBeeEmail__\\n          </div>\\n        </div>\\n        <md-button class=\\\"md-icon-button md-secondary share-assessments-with-colleagues-list-item-button\\\"\\n                   ng-click=\\\"$ctrl.removeColleagueEmail(colleagueEmail)\\\">\\n          <md-icon class=\\\"share-assessments-with-colleagues-list-item-button-icon\\\">remove_circle</md-icon>\\n        </md-button>\\n      </md-list-item>\\n    </md-list>\\n  </md-card-content>\\n</md-card>\\n\\n<h1 class=\\\"share-assessments-with-colleagues-list-empty\\\"\\n    ng-hide=\\\"$ctrl.colleaguesEmails.length\\\"\\n    localize>\\n  __MSG_emptySharedAssessmentList__\\n</h1>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/components/studentProfile/studentProfile.html';\nvar html = \"<div flex\\n     layout=\\\"row\\\"\\n     ng-if=\\\"$ctrl.student\\\">\\n    <student-profile-photo src=\\\"::$ctrl.student.photo_url\\\"></student-profile-photo>\\n    <student-profile-details student=\\\"$ctrl.student\\\"></student-profile-details>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/components/studentProfile/studentProfileDetails/studentProfileDetails.html';\nvar html = \"<header flex\\n        layout=\\\"column\\\"\\n        ng-if=\\\"!$ctrl.pending\\\">\\n    <long-text-tooltip text=\\\"::$ctrl.student.student_name\\\">\\n        <h1 class=\\\"student-profile-details-name\\\">\\n            {{ ::$ctrl.student.student_name }}\\n        </h1>\\n    </long-text-tooltip>\\n    <long-text-tooltip text=\\\"::$ctrl.student.email\\\"\\n                       ng-if=\\\"::$ctrl.student.email\\\">\\n        <h2 class=\\\"student-profile-details-meta email\\\">\\n            E-mail: {{ ::$ctrl.student.email }}\\n        </h2>\\n    </long-text-tooltip>\\n    <long-text-tooltip text=\\\"$ctrl.student.klass\\\"\\n                       ng-disabled=\\\"!$ctrl.student.klass\\\"\\n                       ng-show=\\\"$ctrl.student.klass\\\">\\n        <h2 class=\\\"student-profile-details-meta class\\\">\\n            {{ ::'class' | localize }}: {{ $ctrl.student.klass }}\\n        </h2>\\n    </long-text-tooltip>\\n    <long-text-tooltip text=\\\"$ctrl.student.tutor\\\"\\n                       ng-disabled=\\\"!$ctrl.student.tutor\\\"\\n                       ng-show=\\\"$ctrl.student.tutor\\\">\\n        <h2 class=\\\"student-profile-details-meta tutor\\\">\\n            {{ ::'tutor' | localize }}: {{ $ctrl.student.tutor }}\\n        </h2>\\n    </long-text-tooltip>\\n</header>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/components/studentProfile/studentProfilePhoto/studentProfilePhoto.html';\nvar html = \"<div class=\\\"sb-photo-placeholder\\\"\\n     flex-auto>\\n    <img ng-src=\\\"{{ ::$ctrl.src }}\\\"\\n         ng-show=\\\"::$ctrl.src\\\">\\n    <md-icon class=\\\"sb-icon__big--no-photo\\\"\\n             ng-show=\\\"::!$ctrl.src\\\">\\n        account_circle\\n    </md-icon>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/components/studentProgressInput/studentProgressInput.html';\nvar html = \"<div class=\\\"student-progress-input\\\"\\n     flex\\n     layout=\\\"row\\\"\\n     layout-align=\\\"start center\\\">\\n    <md-input-container class=\\\"md-block\\\"\\n                        flex=\\\"95\\\">\\n        <label localize>\\n            {{ ::$ctrl.label }}\\n        </label>\\n        <textarea mixpanel-text-event=\\\"{{$ctrl.mixpanelFeedbackEvent}}\\\"\\n                  md-detect-hidden=\\\"true\\\"\\n                  ng-disabled=\\\"::$ctrl.disabled\\\"\\n                  ng-model=\\\"$ctrl.value\\\"\\n                  ng-model-options='{ debounce: 500 }'\\n                  ng-change=\\\"$ctrl.triggerOnChange()\\\">\\n                                    </textarea>\\n        <div class=\\\"student-progress-input-details\\\"\\n             flex\\n             layout=\\\"row\\\"\\n             layout-align=\\\"end center\\\"\\n             ng-if=\\\"::$ctrl.isTeacher\\\">\\n            <div class=\\\"student-progress-input-details__editor\\\">{{ $ctrl.editBy }}</div>\\n            <div class=\\\"student-progress-input-details__date\\\">{{ $ctrl.lastEdit | LastModified }}</div>\\n        </div>\\n    </md-input-container>\\n\\n    <md-button class=\\\"md-icon-button sb-btn-icon-small sb-ico__visibility\\\"\\n               aria-label=\\\"__MSG_visibilityBtn__\\\"\\n               flex=\\\"5\\\"\\n               ng-click=\\\"$ctrl.onClick()\\\"\\n               ng-if=\\\"::$ctrl.isPublished !== null && $ctrl.isTeacher\\\"\\n               localize>\\n        <md-icon class=\\\"sb-icon-small\\\"\\n                 ng-if=\\\"!$ctrl.isPublished\\\">visibility_off</md-icon>\\n        <md-icon class=\\\"sb-icon-small sb-icon-green\\\"\\n                 ng-if=\\\"$ctrl.isPublished\\\">visibility</md-icon>\\n    </md-button>\\n    <div class=\\\"student-progress-input__placeholder\\\"\\n         flex=\\\"5\\\"\\n         ng-if=\\\"::$ctrl.isPublished === null\\\"></div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/dialogs/exportStudentsResults/exportStudentsResultsDialogConfirmation.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content class=\\\"sb-dialog-content\\\">\\n        <div class=\\\"dialog__small--title\\\"\\n             localize>\\n            __MSG_exportingTo__\\n        </div>\\n        <p class=\\\"dialog__small--text\\\">\\n            <span localize>__MSG_exportAllStudentsToGDConfirmation__</span>\\n        </p>\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"space-between\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-href=\\\"{{::dialog.link}}\\\"\\n                       localize>\\n                __MSG_openGoogleDrive__\\n            </md-button>\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"dialog.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_okBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/dialogs/exportStudentsResults/exportStudentsResultsDialogFail.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content class=\\\"sb-dialog-content\\\">\\n        <div class=\\\"dialog__small--title\\\"\\n             localize>\\n            __MSG_exportFailed__\\n        </div>\\n        <p class=\\\"dialog__small--text\\\">\\n            <span localize>__MSG_exportAllStudentsToGDFail__</span>\\n        </p>\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"flex-end\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"dialog.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_okBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/dialogs/exportStudentsResults/exportStudentsResultsDialogSuccess.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content class=\\\"sb-dialog-content\\\">\\n        <div class=\\\"dialog__small--title\\\"\\n             localize>\\n            __MSG_exportSuccess__\\n        </div>\\n        <p class=\\\"dialog__small--text\\\">\\n            <span localize>__MSG_exportAllStudentsToGDSuccess__</span>\\n        </p>\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"space-between\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-href=\\\"{{::dialog.link}}\\\"\\n                       localize>\\n                __MSG_openGoogleDrive__\\n            </md-button>\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"dialog.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_okBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/dialogs/shareAssessmentsWithColleagues/shareAssessmentsWithColleagues.html';\nvar html = \"<md-dialog class=\\\"share-assessments-with-colleagues\\\"\\n           flex=\\\"66\\\"\\n           aria-label=\\\"List dialog\\\">\\n  <md-toolbar class=\\\"sb-toolbar share-assessments-with-colleagues--header\\\"\\n              flex\\n              layout=\\\"row\\\"\\n              layout-align=\\\"space-between center\\\">\\n    <md-button class=\\\"md-icon-button\\\"\\n               ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n               flex=\\\"none\\\">\\n      <md-icon>\\n        close\\n      </md-icon>\\n    </md-button>\\n\\n    <span class=\\\"sb-toolbar-title\\\"\\n          flex\\n          localize>\\n            __MSG_shareAssessmentsWithColleagues__\\n        </span>\\n\\n<!--    <help-button link=\\\"teacherStudentProgressShareAssessmentsDialogHelpUrl\\\"></help-button>-->\\n  </md-toolbar>\\n  <md-dialog-content>\\n    <md-content class=\\\"md-padding\\\"\\n                layout=\\\"column\\\">\\n      <md-card class=\\\"share-assessments-with-colleagues--help-card\\\"\\n               layout=\\\"row\\\">\\n        <md-card-title-media>\\n          <md-icon class=\\\"share-assessments-with-colleagues--help-card-icon\\\"\\n                   flex=\\\"initial\\\">help\\n          </md-icon>\\n        </md-card-title-media>\\n        <md-card-content class=\\\"share-assessments-with-colleagues--help-card-content\\\"\\n                         localize>\\n          __MSG_sharedAssessmentHelpCard__\\n        </md-card-content>\\n      </md-card>\\n\\n      <share-assessments-with-colleagues></share-assessments-with-colleagues>\\n    </md-content>\\n  </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/dialogs/studentDetailsEdit/studentDetailsEditDialog.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content class=\\\"sb-dialog-content\\\">\\n        <div class=\\\"dialog__small--title\\\"\\n             localize>\\n            __MSG_editStudentDetails__\\n        </div>\\n\\n        <form class=\\\"dialog__small--text\\\"\\n              flex\\n              layout=\\\"column\\\"\\n              name=\\\"$ctrl.studentEditForm\\\">\\n            <md-input-container class=\\\"md-block\\\">\\n                <label localize>__MSG_editCourseNameLabel__</label>\\n                <input ng-model=\\\"dialog.student.student_name\\\"\\n                       disabled>\\n            </md-input-container>\\n            <md-input-container class=\\\"md-block\\\">\\n                <label>E-mail</label>\\n                <input ng-model=\\\"dialog.student.email\\\"\\n                       disabled>\\n            </md-input-container>\\n            <md-input-container class=\\\"md-block\\\">\\n                <label localize>__MSG_class__</label>\\n                <input md-maxlength=\\\"50\\\"\\n                       ng-model=\\\"dialog.student.klass\\\"\\n                       name=\\\"klass\\\"\\n                       maxlength=\\\"50\\\">\\n                <div ng-messages=\\\"$ctrl.studentEditForm.klass.$error\\\">\\n                    <div ng-message=\\\"required\\\"\\n                         localize>__MSG_requiredError__\\n                    </div>\\n                </div>\\n            </md-input-container>\\n            <md-input-container class=\\\"md-block\\\">\\n                <label localize>__MSG_tutor__</label>\\n                <input md-maxlength=\\\"50\\\"\\n                       ng-model=\\\"dialog.student.tutor\\\"\\n                       name=\\\"tutor\\\"\\n                       maxlength=\\\"50\\\">\\n                <div ng-messages=\\\"$ctrl.studentEditForm.tutor.$error\\\">\\n                    <div ng-message=\\\"required\\\"\\n                         localize>__MSG_requiredError__\\n                    </div>\\n                </div>\\n            </md-input-container>\\n        </form>\\n\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"end center\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"dialog.$mdDialog.cancel(dialog.student)\\\"\\n                       localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"dialog.$mdDialog.hide(dialog.student)\\\"\\n                       ng-disabled=\\\"$ctrl.studentEditForm.$invalid\\\"\\n                       localize>\\n                __MSG_saveBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/student-course-progress/course-details/course-details.html';\nvar html = \"<extended-view-container>\\n    <toolbar\\n        flex\\n        layout=\\\"row\\\"\\n        layout-align=\\\"start center\\\">\\n        <md-button class=\\\"md-icon-button\\\">\\n            <md-icon class=\\\"material-icons\\\"\\n                     ng-click=\\\"$ctrl.closeCourseView()\\\">close\\n            </md-icon>\\n        </md-button>\\n    </toolbar>\\n\\n    <md-whiteframe\\n        class=\\\"sb-panel-shadow\\n               sb-main-card\\\"\\n        flex=\\\"95\\\"\\n        layout=\\\"column\\\"\\n        layout-padding\\n        layout-margin>\\n\\n            <div\\n                flex\\n                layout=\\\"row\\\">\\n                <div\\n                    layout=\\\"row\\\"\\n                    layout-align=\\\"center center\\\"\\n                    class=\\\"sb-photo-placeholder\\n                           sb-main-card--icon--placeholder\\\">\\n                    <md-icon class=\\\"sb-icon__big\\n                                    sb-icon__school\\\">\\n                        school\\n                    </md-icon></div>\\n                <div\\n                    flex-auto\\n                    layout=\\\"column\\\"\\n                    layout-align=\\\"start start\\\"\\n                    class=\\\"sb-main-card--info__no-select\\n                           sb-main-card--info--container\\\">\\n                    <long-text-tooltip\\n                        class=\\\"md-display-1\\n                               sb-heading\\n                               truncate-text\\\"\\n                        text=\\\"$ctrl.course.name\\\">\\n                        <span>{{ $ctrl.course.name }}</span>\\n                    </long-text-tooltip>\\n\\n                <span class=\\\"sb-course-assessment__course-code\\\">{{ $ctrl.course.code }}</span>\\n            </div>\\n        </div>\\n\\n        <div\\n            layout=\\\"row\\\"\\n            class=\\\"sb-course-assessment__course-grade\\\">\\n            <div\\n                flex\\n                class=\\\"md-body-2\\n                       sb-subheading\\n                       sb-course-assessment__meta-heading\\n                       truncate-text\\\"\\n                localize>\\n                __MSG_courseProgressCourseGradeLabel__\\n            </div>\\n\\n            <div>\\n                <div\\n                    layout=\\\"row\\\"\\n                    layout-align=\\\"end center\\\">\\n                    <assessment-status-preview\\n                        assessment=\\\"$ctrl.courseAssessment\\\"\\n                        show-target-grade=\\\"true\\\"\\n                        ng-hide=\\\"$ctrl.courseAssessment.open\\\">\\n                    </assessment-status-preview>\\n\\n                    <object-details-toggle\\n                        object=\\\"$ctrl.courseAssessment\\\"\\n                        on-details-toggle=\\\"$ctrl.toggleAssessment()\\\">\\n                    </object-details-toggle>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <student-assessment-details\\n            class=\\\"sb-course-assessment__details\\\"\\n            assessment=\\\"$ctrl.courseAssessment\\\"\\n            empty-info=\\\"__MSG_courseProgressCourseDetailsEmptyInfo__\\\"\\n            details-button-disable=\\\"true\\\"\\n            show-target-grade=\\\"true\\\"\\n            on-assessment-close=\\\"$ctrl.toggleAssessment()\\\"\\n            localize>\\n        </student-assessment-details>\\n\\n    </md-whiteframe>\\n\\n    <div ui-view=\\\"details\\\"></div>\\n</extended-view-container>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/student-course-progress/course-details/objectives-list/objectives-list.html';\nvar html = \"<md-subheader\\n    class=\\\"md-no-sticky sb-subheading\\\"\\n    localize>\\n    __MSG_courseProgressLearningObjectivesListLabel__\\n</md-subheader>\\n\\n<md-subheader class=\\\"md-no-sticky sb-subheading emptyList\\\"\\n              ng-if=\\\"::!$ctrl.assessments.length\\\"\\n              localize>\\n  __MSG_courseProgressLearningObjectivesEmptyList__\\n</md-subheader>\\n\\n<md-whiteframe\\n    class=\\\"sb-panel-shadow\\n           sb-panels\\\"\\n    ng-class=\\\"{ 'sb-panels--expanded': $ctrl.hasAnyAssessmentOpened }\\\"\\n    ng-if=\\\"$ctrl.assessments.length\\\"\\n    flex=\\\"95\\\"\\n    layout=\\\"column\\\"\\n    layout-padding\\n    layout-margin>\\n\\n  <div class=\\\"sb-panel-shadow sb-simple-panel right\\\"\\n       layout=\\\"row\\\"\\n       layout-align=\\\"end center\\\">\\n    <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n               ng-click=\\\"$ctrl.collapseAll()\\\">\\n      <md-tooltip md-direction=\\\"top\\\"\\n                  md-autohide=\\\"true\\\"\\n                  md-z-index=\\\"1014\\\">{{::'collapseAllStudentProgress' | localize}}</md-tooltip>\\n      <md-icon md-svg-src=\\\"{{ ::'SVG_COLLAPSE_ALL' | iconURL }}\\\"></md-icon>\\n    </md-button>\\n    <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n               ng-click=\\\"$ctrl.expandAll()\\\">\\n      <md-tooltip md-direction=\\\"top\\\"\\n                  md-autohide=\\\"true\\\"\\n                  md-z-index=\\\"1014\\\">{{::'expandAllStudentProgress' | localize}}</md-tooltip>\\n      <md-icon md-svg-src=\\\"{{ ::'SVG_EXPAND_ALL' | iconURL }}\\\"></md-icon>\\n    </md-button>\\n    <md-menu>\\n      <md-button\\n        aria-label=\\\"__MSG_actionMenuBtn__\\\"\\n        class=\\\"md-icon-button\\\"\\n        ng-click=\\\"$mdMenu.open($event)\\\"\\n        localize>\\n        <md-icon>\\n          more_vert\\n        </md-icon>\\n      </md-button>\\n\\n      <md-menu-content>\\n        <md-menu-item ng-repeat=\\\"toolbarMenuItem in ::$ctrl.viewMenuItems track by toolbarMenuItem.id\\\">\\n          <md-button ng-click=\\\"$ctrl.onClickMenuItem(toolbarMenuItem);\\\">\\n            <md-icon ng-visible=\\\"toolbarMenuItem.checked\\\">check</md-icon>\\n            {{ ::toolbarMenuItem.label | localize }}\\n          </md-button>\\n        </md-menu-item>\\n      </md-menu-content>\\n    </md-menu>\\n  </div>\\n\\n    <md-list\\n        flex\\n        class=\\\"sb-list\\\"\\n        ng-class=\\\"{'sb-list--expanded': assessment.open}\\\"\\n        ng-repeat=\\\"assessment in $ctrl.assessments track by $index\\\">\\n        <div flex layout=\\\"row\\\" layout-align=\\\"space-between center\\\">\\n            <md-list-item>\\n\\n                <div class=\\\"objective-title\\\"\\n                     flex\\n                     layout=\\\"column\\\"\\n                     layout-align=\\\"center stretch\\\"\\n                     ng-click=\\\"$ctrl.navigateToLearningObjective(assessment)\\\">\\n                  <long-text-tooltip text=\\\"::assessment.objective.name\\\"\\n                                     ng-if=\\\"$ctrl.isTitleVisible(assessment.objective.name)\\\">\\n                    <span class=\\\"title\\\">{{ ::assessment.objective.name }}</span>\\n                  </long-text-tooltip>\\n                  <span class=\\\"description\\\"\\n                        ng-if=\\\"$ctrl.isDescriptionVisible(assessment.objective.description)\\\"\\n                        ng-bind-html=\\\"::assessment.objective.description\\\">\\n                  </span>\\n                </div>\\n\\n                <div class=\\\"sb-course-assessment__meta--sm\\\">\\n                    <div flex layout=\\\"row\\\" layout-align=\\\"end center\\\">\\n                        <assessment-status-preview\\n                            assessment=\\\"assessment\\\"\\n                            ng-visible=\\\"!assessment.open\\\">\\n                        </assessment-status-preview>\\n                        <object-details-toggle\\n                            object=\\\"assessment\\\"\\n                            on-details-toggle=\\\"$ctrl.toggleAssessment(assessment)\\\">\\n                        </object-details-toggle>\\n                    </div>\\n                </div>\\n\\n\\n            </md-list-item>\\n        </div>\\n        <student-assessment-details\\n            assessment=\\\"assessment\\\"\\n            empty-info=\\\"__MSG_courseProgressObjectiveEmptyInfo__\\\"\\n            on-assessment-close=\\\"$ctrl.toggleAssessment(assessment)\\\"\\n            on-navigate-to-details=\\\"$ctrl.navigateToLearningObjective(assessment)\\\"\\n            localize>\\n        </student-assessment-details>\\n\\n    </md-list>\\n\\n</md-whiteframe>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/student-course-progress/coursesList/courseListItem/courseListItem.html';\nvar html = \"<md-list class=\\\"sb-list\\\"\\n         flex>\\n  <md-list-item class=\\\"sb-list-parent-item sb-border-bottom\\\"\\n                layout=\\\"row\\\"\\n                layout-align=\\\"space-between center\\\"\\n                ng-click=\\\"$ctrl.navigateToCourseDetails()\\\"\\n                ng-class=\\\"{'sb-list-course--active': $ctrl.selectedCourse.id === $ctrl.course.id}\\\">\\n    <p class=\\\"sb-list-item-name sb-list-truncate\\\"\\n       flex\\n       layout=\\\"column\\\">\\n      <long-text-tooltip text=\\\"::$ctrl.course.course_definition_name\\\">\\n        <span>{{ ::$ctrl.course.course_definition_name  }}</span>\\n      </long-text-tooltip>\\n      <long-text-tooltip text=\\\"::$ctrl.course.google_classroom_data.name\\\"\\n                         ng-show=\\\"::$ctrl.course.google_classroom_data.name\\\"\\n                         ng-disabled=\\\"::!$ctrl.course.google_classroom_data.name\\\">\\n        <span class=\\\"sb-list-item-subname\\\">{{ ::$ctrl.course.google_classroom_data.name }}</span>\\n      </long-text-tooltip>\\n    </p>\\n    <md-icon class=\\\"sb-ico sb-ico__warning\\\"\\n             aria-label=\\\"course has warnings\\\"\\n             flex=\\\"5\\\"\\n             ng-show=\\\"$ctrl.course.has_warnings\\\">\\n    </md-icon>\\n  </md-list-item>\\n</md-list>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/student-course-progress/coursesList/coursesList.html';\nvar html = \"<course-list-item course=\\\"::$ctrl.generalCourse\\\"\\n                  selected-course=\\\"$ctrl.selectedCourse\\\"\\n                  on-update=\\\"$ctrl.selectedNewCourse(selectedCourse)\\\"\\n                  ng-show=\\\"::$ctrl.courses.length\\\">\\n</course-list-item>\\n<course-list-item course=\\\"::course\\\"\\n                  selected-course=\\\"$ctrl.selectedCourse\\\"\\n                  on-update=\\\"$ctrl.selectedNewCourse(selectedCourse)\\\"\\n                  ng-repeat=\\\"course in ::$ctrl.courses track by course.id\\\"\\n                  ng-if=\\\"::$ctrl.courses.length\\\">\\n</course-list-item>\\n<courses-list-empty ng-if=\\\"::!$ctrl.courses.length\\\"></courses-list-empty>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/student-course-progress/coursesList/coursesListEmpty/coursesListEmpty.html';\nvar html = \"<span localize>__MSG_courseProgressNoCoursesAdded__</span>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/student-course-progress/student-course-progress.html';\nvar html = \"<div layout=\\\"column\\\" layout-fill>\\n    <md-toolbar flex=\\\"nogrow\\\" class=\\\"sb-toolbar\\\">\\n        <div\\n            layout=\\\"row\\\"\\n            layout-align=\\\"start center\\\"\\n            class=\\\"md-toolbar-tools\\\">\\n            <menu-toggle></menu-toggle>\\n\\n            <div flex layout=\\\"column\\\" layout-align=\\\"center start\\\">\\n                <p class=\\\"sb-toolbar-title\\\" localize>\\n                    __MSG_courseProgressionPage__\\n                </p>\\n            </div>\\n<!--          <help-button link=\\\"studentStudentProgressSidebarHelpButtonUrl\\\"></help-button>-->\\n        </div>\\n    </md-toolbar>\\n    <loader></loader>\\n\\n    <md-content\\n        sticky-subheader\\n        save-scroll\\n        flex>\\n        <courses-list\\n            courses=\\\"$ctrl.courses\\\">\\n        </courses-list>\\n    </md-content>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/student-course-progress/student-objective-details/student-assignments-list/student-assignments-list.html';\nvar html = \"<md-subheader\\n    class=\\\"md-no-sticky sb-subheading\\\"\\n    localize>\\n    __MSG_courseProgressAssignmentsListHeader__\\n</md-subheader>\\n<div class=\\\"sb-panel-shadow toolbar\\\">\\n  <md-menu>\\n    <md-button class=\\\"md-icon-button\\\"\\n               ng-click=\\\"$mdMenu.open()\\\">\\n      <md-tooltip md-z-index=\\\"1016\\\"\\n                  md-direction=\\\"top\\\"\\n                  localize>__MSG_assignmentsActionMenuFilterTooltip__\\n      </md-tooltip>\\n      <md-icon md-menu-origin>filter_list</md-icon>\\n    </md-button>\\n    <md-menu-content class=\\\"teacher-student-progress-action-menu\\\">\\n      <md-menu-label localize>\\n        __MSG_assignmentsActionMenuFilterByLabel__\\n      </md-menu-label>\\n      <md-menu-item ng-repeat-start=\\\"filter in ::$ctrl.filters track by filter.type\\\">\\n        <md-button class=\\\"checkbox\\\"\\n                   ng-click=\\\"$ctrl.onClickFilter(filter.type, filter.group);\\\"\\n                   md-prevent-menu-close>\\n          <md-checkbox ng-checked=\\\"$ctrl.isFilterSelected(filter.type, filter.group)\\\">\\n            {{ ::filter.label | localize }}\\n          </md-checkbox>\\n        </md-button>\\n      </md-menu-item>\\n      <md-divider ng-repeat-end\\n                  ng-show=\\\"::$ctrl.isDividerVisible($index)\\\"></md-divider>\\n    </md-menu-content>\\n  </md-menu>\\n  <md-menu>\\n    <md-button class=\\\"md-icon-button\\\"\\n               ng-click=\\\"$mdMenu.open()\\\">\\n      <md-tooltip md-z-index=\\\"1016\\\"\\n                  md-direction=\\\"top\\\"\\n                  localize>__MSG_assignmentsActionMenuSortTooltip__\\n      </md-tooltip>\\n      <md-icon md-menu-origin>sort</md-icon>\\n    </md-button>\\n    <md-menu-content class=\\\"teacher-assignments-action-menu\\\">\\n      <md-menu-label localize>\\n        __MSG_assignmentsActionMenuSortByLabel__\\n      </md-menu-label>\\n      <md-menu-item ng-repeat=\\\"sortingItem in ::$ctrl.sortingItems track by sortingItem.order\\\">\\n        <md-button ng-click=\\\"$ctrl.onClickOrder(sortingItem.order)\\\"\\n                   localize>\\n          <md-icon ng-visible=\\\"::$ctrl.isCurrentOrder(sortingItem.order)\\\">check</md-icon>\\n          {{ ::sortingItem.label | localize }}\\n        </md-button>\\n      </md-menu-item>\\n    </md-menu-content>\\n  </md-menu>\\n  <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n             ng-click=\\\"$ctrl.collapseAll()\\\">\\n    <md-tooltip md-direction=\\\"top\\\"\\n                md-autohide=\\\"true\\\"\\n                md-z-index=\\\"1014\\\">{{::'collapseAllStudentProgress' | localize}}</md-tooltip>\\n    <md-icon md-svg-src=\\\"{{ ::'SVG_COLLAPSE_ALL' | iconURL }}\\\"></md-icon>\\n  </md-button>\\n  <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n             ng-click=\\\"$ctrl.expandAll()\\\">\\n    <md-tooltip md-direction=\\\"top\\\"\\n                md-autohide=\\\"true\\\"\\n                md-z-index=\\\"1014\\\">{{::'expandAllStudentProgress' | localize}}</md-tooltip>\\n    <md-icon md-svg-src=\\\"{{ ::'SVG_EXPAND_ALL' | iconURL }}\\\"></md-icon>\\n  </md-button>\\n</div>\\n<md-whiteframe\\n    class=\\\"sb-panel-shadow\\n           sb-panels\\\"\\n    ng-class=\\\"{'sb-panels--expanded': true}\\\"\\n    flex=\\\"95\\\"\\n    layout=\\\"column\\\"\\n    layout-padding\\n    layout-margin>\\n\\n    <md-list\\n        flex\\n        class=\\\"sb-list\\\">\\n\\n        <counter-grade-summary\\n            assessments=\\\"$ctrl.assessments\\\">\\n        </counter-grade-summary>\\n\\n\\n    </md-list>\\n\\n    <md-list\\n        class=\\\"sb-list\\\"\\n        ng-class=\\\"{'sb-list--expanded': assessment.open}\\\"\\n        ng-repeat=\\\"assessment in $ctrl.assessments track by assessment.id\\\">\\n\\n        <md-list-item>\\n          <div flex=\\\"grow\\\"\\n               layout=\\\"row\\\"\\n               layout-align=\\\"start center\\\">\\n            <assignment-icon-type assignment=\\\"$ctrl.findAssignment(assessment.assignment)\\\"></assignment-icon-type>\\n            <p flex\\n              class=\\\"sb-list-item-name sb-list-truncate\\\">\\n              <span class=\\\"truncate-text\\\">{{ ::assessment.assignment.title }}</span>\\n            </p>\\n          </div>\\n\\n\\n            <div\\n                class=\\\"sb-course-assessment__meta--sm\\\">\\n                <div flex layout=\\\"row\\\" layout-align=\\\"end center\\\">\\n                    <assessment-status-preview\\n                        assessment=\\\"assessment\\\"\\n                        assignment=\\\"::$ctrl.getAssignmentForAssessment(assessment)\\\"\\n                        has-counter-grade=\\\"::$ctrl.hasCounterGrade\\\"\\n                        show-student-self-assessment=\\\"::true\\\"\\n                        show-private-note=\\\"::$ctrl.isNoteAvailable(assessment)\\\"\\n                        show-feedback=\\\"::$ctrl.isFeedbackAvailable(assessment)\\\"\\n                        show-visibility=\\\"::false\\\"\\n                        ng-visible=\\\"!assessment.open\\\">\\n                    </assessment-status-preview>\\n\\n                    <object-details-toggle\\n                        object=\\\"assessment\\\"\\n                        on-details-toggle=\\\"$ctrl.toggleAssessment(assessment)\\\">\\n                    </object-details-toggle>\\n                </div>\\n            </div>\\n        </md-list-item>\\n\\n        <student-assessment-details\\n            assessment=\\\"assessment\\\"\\n            assignment=\\\"::$ctrl.getAssignmentForAssessment(assessment)\\\"\\n            objective=\\\"$ctrl.objective\\\"\\n            empty-info=\\\"__MSG_courseProgressAssignmentEmptyInfo__\\\"\\n            mixpanel-self-assessment-event=\\\"student_self_assessment_on_objective\\\"\\n            show-student-self-assessment=\\\"true\\\"\\n            details-button-disable=\\\"true\\\"\\n            on-assessment-close=\\\"$ctrl.toggleAssessment(assessment)\\\"\\n            localize>\\n        </student-assessment-details>\\n    </md-list>\\n</md-whiteframe>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/student-course-progress/student-objective-details/student-objective-details.html';\nvar html = \"<extended-view-container>\\n    <toolbar\\n        flex\\n        layout=\\\"row\\\"\\n        layout-align=\\\"start center\\\">\\n        <md-button class=\\\"md-icon-button arrow-back\\\">\\n            <md-icon class=\\\"material-icons\\\"\\n                     ng-click=\\\"$ctrl.closeAssignmentsView()\\\">arrow_back\\n            </md-icon>\\n        </md-button>\\n    </toolbar>\\n\\n    <md-whiteframe\\n        class=\\\"sb-panel-shadow\\n               sb-main-card\\\"\\n        flex=\\\"95\\\"\\n        layout=\\\"column\\\"\\n        layout-padding\\n        layout-margin>\\n\\n        <div\\n            flex\\n            layout=\\\"row\\\">\\n            <div\\n                layout=\\\"row\\\"\\n                layout-align=\\\"center center\\\"\\n                class=\\\"sb-photo-placeholder\\n                       sb-main-card--icon--placeholder\\\">\\n                <md-icon class=\\\"sb-icon__big\\\">\\n                    extension\\n                </md-icon>\\n            </div>\\n\\n                <div\\n                    class=\\\"sb-objective-details__select-wrapper\\n                           sb-main-card--info--container\\\"\\n                    flex-auto\\n                    layout=\\\"column\\\"\\n                    layout-align=\\\"start start\\\">\\n\\n                <long-text-tooltip\\n                    ng-if=\\\"$ctrl.objectives.length > 1\\\"\\n                    class=\\\"truncate-text\\\"\\n                    text=\\\"$ctrl.objectiveSelected.name\\\">\\n                    <md-input-container\\n                        class=\\\"sb-course-assessment__select-wrapper\\\">\\n                        <md-select\\n                            class=\\\"sb-course-assessment__select\\\"\\n                            aria-label=\\\"objective select\\\"\\n                            ng-change=\\\"$ctrl.changeObjective()\\\"\\n                            ng-model-options=\\\"{ debounce: 400 }\\\"\\n                            ng-model=\\\"$ctrl.objectiveSelected\\\">\\n                            <md-option\\n                                ng-value=\\\"objective\\\"\\n                                ng-repeat=\\\"objective in $ctrl.objectives track by objective.id\\\">\\n                                <span class=\\\"md-display-1\\n                                             sb-heading\\n                                             truncate-text\\\">\\n                                    {{ ::objective.name }}\\n                                </span>\\n                            </md-option>\\n                        </md-select>\\n                    </md-input-container>\\n                </long-text-tooltip>\\n\\n                <long-text-tooltip\\n                    ng-if=\\\"$ctrl.objectives.length == 1\\\"\\n                    class=\\\"md-display-1\\n                           sb-heading\\n                           truncate-text\\\"\\n                    text=\\\"$ctrl.course.name\\\">\\n                    <span>{{ $ctrl.objectives[0].name }}</span>\\n                </long-text-tooltip>\\n\\n                <span class=\\\"md-body-2\\n                             sb-subheading\\n                             sb-subheading--md\\n                             truncate-text\\\">\\n                    {{ $ctrl.course.name }}\\n                </span>\\n                <span class=\\\"sb-course-assessment__course-code\\\">{{ $ctrl.course.code }}</span>\\n            </div>\\n        </div>\\n\\n        <div\\n            layout=\\\"row\\\"\\n            class=\\\"sb-course-assessment__course-grade\\\">\\n            <div\\n                class=\\\"md-body-2\\n                       sb-subheading\\n                       sb-course-assessment__meta-heading\\n                       truncate-text\\\"\\n                localize>\\n                __MSG_courseProgressOverallAssessmentLabel__\\n            </div>\\n            <div\\n                flex=\\\"85\\\">\\n                <div flex layout=\\\"row\\\" layout-align=\\\"end center\\\">\\n                    <assessment-status-preview\\n                        assessment=\\\"$ctrl.objectiveAssessment\\\"\\n                        show-target-grade=\\\"true\\\"\\n                        ng-hide=\\\"$ctrl.objectiveAssessment.open\\\">\\n                    </assessment-status-preview>\\n\\n                    <object-details-toggle\\n                        object=\\\"$ctrl.objectiveAssessment\\\"\\n                        on-details-toggle=\\\"$ctrl.toggleAssessment()\\\">\\n                    </object-details-toggle>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <student-assessment-details\\n            class=\\\"sb-course-assessment__details\\\"\\n            assessment=\\\"$ctrl.objectiveAssessment\\\"\\n            empty-info=\\\"__MSG_courseProgressObjectiveDetailsEmptyInfo__\\\"\\n            details-button-disable=\\\"true\\\"\\n            on-assessment-close=\\\"$ctrl.toggleAssessment()\\\"\\n            localize>\\n        </student-assessment-details>\\n\\n    </md-whiteframe>\\n\\n    <div ui-view=\\\"details\\\"></div>\\n</extended-view-container>\\n\\n<saving-indicator></saving-indicator>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/teacher-course-progress/objective-details/assignments-list/assignments-list.html';\nvar html = \"<md-subheader class=\\\"md-no-sticky sb-subheading\\\"\\n              localize>\\n    __MSG_courseProgressAssignmentsListHeader__\\n</md-subheader>\\n\\n<!-- TO DO. Class added when at least one panel is opened -->\\n<div class=\\\"sb-panel-shadow toolbar\\\">\\n  <md-menu>\\n    <md-button class=\\\"md-icon-button\\\"\\n               ng-click=\\\"$mdMenu.open()\\\">\\n      <md-tooltip md-z-index=\\\"1016\\\"\\n                  md-direction=\\\"top\\\"\\n                  localize>__MSG_assignmentsActionMenuFilterTooltip__\\n      </md-tooltip>\\n      <md-icon md-menu-origin>filter_list</md-icon>\\n    </md-button>\\n    <md-menu-content class=\\\"teacher-student-progress-action-menu\\\">\\n      <md-menu-label localize>\\n        __MSG_assignmentsActionMenuFilterByLabel__\\n      </md-menu-label>\\n      <md-menu-item ng-repeat-start=\\\"filter in ::$ctrl.filters track by filter.type\\\">\\n        <md-button class=\\\"checkbox\\\"\\n                   ng-click=\\\"$ctrl.onClickFilter(filter.type, filter.group);\\\"\\n                   md-prevent-menu-close>\\n          <md-checkbox ng-checked=\\\"$ctrl.isFilterSelected(filter.type, filter.group)\\\">\\n            {{ ::filter.label | localize }}\\n          </md-checkbox>\\n        </md-button>\\n      </md-menu-item>\\n      <md-divider ng-repeat-end\\n                  ng-show=\\\"::$ctrl.isDividerVisible($index)\\\"></md-divider>\\n    </md-menu-content>\\n  </md-menu>\\n  <md-menu>\\n    <md-button class=\\\"md-icon-button\\\"\\n               ng-click=\\\"$mdMenu.open()\\\">\\n      <md-tooltip md-z-index=\\\"1016\\\"\\n                  md-direction=\\\"top\\\"\\n                  localize>__MSG_assignmentsActionMenuSortTooltip__\\n      </md-tooltip>\\n      <md-icon md-menu-origin>sort</md-icon>\\n    </md-button>\\n    <md-menu-content class=\\\"teacher-assignments-action-menu\\\">\\n      <md-menu-label localize>\\n        __MSG_assignmentsActionMenuSortByLabel__\\n      </md-menu-label>\\n      <md-menu-item ng-repeat=\\\"sortingItem in ::$ctrl.sortingItems track by sortingItem.order\\\">\\n        <md-button ng-click=\\\"$ctrl.onClickOrder(sortingItem.order)\\\"\\n                   localize>\\n          <md-icon ng-visible=\\\"::$ctrl.isCurrentOrder(sortingItem.order)\\\">check</md-icon>\\n          {{ ::sortingItem.label | localize }}\\n        </md-button>\\n      </md-menu-item>\\n    </md-menu-content>\\n  </md-menu>\\n  <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n             ng-click=\\\"$ctrl.collapseAll()\\\">\\n    <md-tooltip md-direction=\\\"top\\\"\\n                md-autohide=\\\"true\\\"\\n                md-z-index=\\\"1014\\\">{{::'collapseAllStudentProgress' | localize}}</md-tooltip>\\n    <md-icon md-svg-src=\\\"{{ ::'SVG_COLLAPSE_ALL' | iconURL }}\\\"></md-icon>\\n  </md-button>\\n  <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n             ng-click=\\\"$ctrl.expandAll()\\\">\\n    <md-tooltip md-direction=\\\"top\\\"\\n                md-autohide=\\\"true\\\"\\n                md-z-index=\\\"1014\\\">{{::'expandAllStudentProgress' | localize}}</md-tooltip>\\n    <md-icon md-svg-src=\\\"{{ ::'SVG_EXPAND_ALL' | iconURL }}\\\"></md-icon>\\n  </md-button>\\n</div>\\n<md-whiteframe class=\\\"sb-panel-shadow\\n           sb-panels\\\"\\n               ng-class=\\\"{'sb-panels--expanded': true}\\\"\\n               flex=\\\"95\\\"\\n               layout=\\\"column\\\"\\n               layout-padding\\n               layout-margin>\\n\\n    <!-- TO DO. Class added when panel is opened -->\\n\\n    <md-list flex\\n             class=\\\"sb-list\\\">\\n\\n        <counter-grade-summary assessments=\\\"$ctrl.assessments\\\">\\n        </counter-grade-summary>\\n\\n    </md-list>\\n\\n    <md-list class=\\\"sb-list\\\"\\n             ng-class=\\\"{'sb-list--expanded': assessment.open}\\\"\\n             ng-repeat=\\\"assessment in $ctrl.assessments track by assessment.id\\\">\\n\\n        <md-list-item>\\n          <div flex=\\\"grow\\\"\\n               layout=\\\"row\\\"\\n               layout-align=\\\"start center\\\">\\n            <assignment-icon-type assignment=\\\"$ctrl.findAssignment(assessment.assignment)\\\"></assignment-icon-type>\\n            <p flex\\n               class=\\\"sb-list-item-name\\n                       sb-list-truncate\\\">\\n                <long-text-tooltip text=\\\"::assessment.assignment.title\\\">\\n                    <span>{{ ::assessment.assignment.title }}</span>\\n                </long-text-tooltip>\\n            </p>\\n          </div>\\n\\n\\n            <div class=\\\"sb-course-assessment__meta--sm\\\">\\n                <div flex\\n                     layout=\\\"row\\\"\\n                     layout-align=\\\"end center\\\">\\n                    <div ng-if=\\\"!assessment.seen && !assessment.open\\\"\\n                         class=\\\"sb-course-assessment__meta__item__container\\\">\\n                        <md-icon>new_releases</md-icon>\\n                        <md-tooltip md-direction=\\\"top\\\"\\n                                    md-z-index=\\\"1010\\\"\\n                                    class=\\\"md-fling\\n                                   sb-tooltip--align-position\\\"\\n                                    localize>\\n                            __MSG_newAssignmentAssessmentTooltip__\\n                        </md-tooltip>\\n                    </div>\\n\\n                    <assessment-status-preview assessment=\\\"assessment\\\"\\n                                               assignment=\\\"$ctrl.getAssignmentForAssessment(assessment)\\\"\\n                                               show-visibility=\\\"::true\\\"\\n                                               has-counter-grade=\\\"::$ctrl.hasCounterGrade\\\"\\n                                               show-student-self-assessment=\\\"::true\\\"\\n                                               show-private-note=\\\"$ctrl.isNoteAvailable(assessment)\\\"\\n                                               show-feedback=\\\"$ctrl.isFeedbackAvailable(assessment)\\\"\\n                                               ng-visible=\\\"!assessment.open\\\">\\n                    </assessment-status-preview>\\n\\n                    <object-details-toggle object=\\\"assessment\\\"\\n                                           on-details-toggle=\\\"$ctrl.toggleAssessment(object)\\\">\\n                    </object-details-toggle>\\n                </div>\\n            </div>\\n        </md-list-item>\\n\\n        <assessment-details class=\\\"sb-course-assessment__details\\\"\\n                            assessment=\\\"assessment\\\"\\n                            assignment=\\\"::$ctrl.getAssignmentForAssessment(assessment)\\\"\\n                            details-button-disable=\\\"true\\\"\\n                            show-private-note=\\\"true\\\"\\n                            teacher-account=\\\"true\\\"\\n                            show-student-self-assessment=\\\"true\\\"\\n                            mixpanel-feedback-event=\\\"feedback_to_student_on_assignment_objective\\\"\\n                            on-assessment-update=\\\"$ctrl.updateAssessmentData(assessment)\\\"\\n                            on-assessment-close=\\\"$ctrl.toggleAssessment(assessment)\\\"\\n                            on-assignment-change=\\\"$ctrl.onAssignmentChange(assignment)\\\"\\n                            flex=\\\"grow\\\"\\n                            layout=\\\"column\\\"\\n                            layout-align=\\\"center stretch\\\"\\n                            slide-toggle=\\\"assessment.open\\\"\\n                            ng-disabled=\\\"!$ctrl.isEditable\\\">\\n        </assessment-details>\\n\\n    </md-list>\\n\\n</md-whiteframe>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/teacher-course-progress/objective-details/objective-details.html';\nvar html = \"<extended-view-container ng-class=\\\"::{'student-view': !$ctrl.isTeacher}\\\">\\n    <toolbar class=\\\"grid\\\">\\n\\n        <md-button class=\\\"md-icon-button arrow-back grid-back\\\">\\n            <md-icon class=\\\"material-icons\\\"\\n                     ng-click=\\\"$ctrl.closeAssignmentsView()\\\">arrow_back\\n            </md-icon>\\n        </md-button>\\n\\n        <breadcrumbs class=\\\"grid-breadcrumbs\\\"\\n                     steps=\\\"::$ctrl.breadcrumbs\\\"></breadcrumbs>\\n\\n      <div flex=\\\"nogrow\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"end center\\\">\\n<!--        <help-button ng-if=\\\"::$ctrl.isTeacher\\\"-->\\n<!--                     link=\\\"teacherStudentCourseProgressSingleLearningObjectiveViewTopToolbarHelpButtonUrl\\\"></help-button>-->\\n<!--        <help-button ng-if=\\\"::!$ctrl.isTeacher\\\"-->\\n<!--                     link=\\\"studentStudentCourseProgressSingleLearningObjectiveViewTopToolbarHelpButtonUrl\\\"></help-button>-->\\n        <download-pdf-menu class=\\\"grid-menu\\\"\\n                           student=\\\"::$ctrl.student\\\"\\n                           course-definition=\\\"::$ctrl.course\\\"\\n                           ng-if=\\\"::$ctrl.isTeacher\\\">\\n        </download-pdf-menu>\\n      </div>\\n    </toolbar>\\n\\n    <md-whiteframe class=\\\"sb-panel-shadow\\n               sb-main-card\\\"\\n                   flex=\\\"95\\\"\\n                   layout=\\\"column\\\"\\n                   layout-padding\\n                   layout-margin>\\n\\n        <div flex\\n             layout=\\\"row\\\">\\n            <div layout=\\\"row\\\"\\n                 layout-align=\\\"center center\\\"\\n                 class=\\\"sb-photo-placeholder\\n                    sb-main-card--icon--placeholder\\\">\\n                <md-icon class=\\\"sb-icon__big\\\">\\n                    extension\\n                </md-icon>\\n            </div>\\n\\n            <div class=\\\"sb-objective-details__select-wrapper\\n                           sb-main-card--info--container\\\"\\n                 flex-auto\\n                 layout=\\\"column\\\"\\n                 layout-align=\\\"center start\\\">\\n\\n                <long-text-tooltip query=\\\"md-select-value > span\\\"\\n                                   text=\\\"$ctrl.objectiveSelected.name\\\"\\n                                   ng-if=\\\"::$ctrl.objectives.length > 1\\\">\\n                    <md-input-container class=\\\"sb-course-assessment__select-wrapper\\\">\\n                        <md-select class=\\\"sb-course-assessment__select\\\"\\n                                   aria-label=\\\"objective select\\\"\\n                                   ng-change=\\\"::$ctrl.changeObjective()\\\"\\n                                   ng-model-options=\\\"::{ debounce: 400, trackBy: '$value.id' }\\\"\\n                                   ng-model=\\\"$ctrl.objectiveSelected\\\">\\n                            <md-option ng-value=\\\"objective\\\"\\n                                       ng-repeat=\\\"objective in ::$ctrl.objectives track by objective.id\\\">\\n                                <span class=\\\"md-display-1\\n                                             sb-heading\\\">\\n                                    {{ ::objective.name }}\\n                                </span>\\n                            </md-option>\\n                        </md-select>\\n                    </md-input-container>\\n                </long-text-tooltip>\\n              <long-text-tooltip text=\\\"$ctrl.objectiveSelected.name\\\"\\n                                 ng-if=\\\"::$ctrl.objectives.length === 1\\\">\\n                <span class=\\\"md-display-1 sb-heading\\\">\\n                  {{ ::$ctrl.objectiveSelected.name }}\\n                </span>\\n              </long-text-tooltip>\\n            </div>\\n        </div>\\n\\n        <div layout=\\\"row\\\"\\n             class=\\\"sb-course-assessment__course-grade\\\">\\n            <div flex\\n                 class=\\\"md-body-2\\n                       sb-subheading\\n                       sb-course-assessment__meta-heading\\n                       truncate-text\\\">\\n                <long-text-tooltip text=\\\"'courseProgressOverallAssessmentLabel'\\\">\\n                    <span class=\\\"md-truncate\\\"\\n                          localize>__MSG_courseProgressOverallAssessmentLabel__</span>\\n                </long-text-tooltip>\\n            </div>\\n\\n            <div class=\\\"sb-course-assessment__meta\\\"\\n                 layout=\\\"row\\\"\\n                 layout-align=\\\"end center\\\">\\n                <div layout=\\\"row\\\"\\n                     layout-align=\\\"end center\\\">\\n                    <assessment-status-preview assessment=\\\"::$ctrl.objectiveAssessment\\\"\\n                                               show-private-note=\\\"true\\\"\\n                                               show-visibility=\\\"true\\\"\\n                                               ng-hide=\\\"$ctrl.objectiveAssessment.open\\\">\\n                    </assessment-status-preview>\\n\\n                    <object-details-toggle object=\\\"::$ctrl.objectiveAssessment\\\"\\n                                           on-details-toggle=\\\"::$ctrl.toggleAssessment()\\\">\\n                    </object-details-toggle>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <assessment-details class=\\\"sb-course-assessment__details\\\"\\n                            assessment=\\\"::$ctrl.objectiveAssessment\\\"\\n                            details-button-disable=\\\"true\\\"\\n                            show-private-note=\\\"::$ctrl.isTeacher\\\"\\n                            teacher-account=\\\"::$ctrl.isTeacher\\\"\\n                            read-only=\\\"::!$ctrl.isTeacher\\\"\\n                            mixpanel-feedback-event=\\\"feedback_to_student_on_objective\\\"\\n                            mixpanel-grade-event=\\\"objective_slider\\\"\\n                            on-assessment-update=\\\"::$ctrl.updateAssessmentData(assessment)\\\"\\n                            on-assessment-close=\\\"::$ctrl.toggleAssessment()\\\"\\n                            slide-toggle=\\\"$ctrl.objectiveAssessment.open\\\"\\n                            empty-msg=\\\"courseProgressObjectiveEmptyInfo\\\"\\n                            ng-disabled=\\\"!$ctrl.isEditable || !$ctrl.isTeacher\\\">\\n        </assessment-details>\\n\\n    </md-whiteframe>\\n\\n    <div ui-view=\\\"details\\\"></div>\\n</extended-view-container>\\n\\n\\n<saving-indicator></saving-indicator>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetails.html';\nvar html = \"<extended-view-container ng-class=\\\"::{ 'student-view': !$ctrl.isTeacher }\\\">\\n  <toolbar flex\\n           layout=\\\"row\\\"\\n           layout-align=\\\"space-between center\\\">\\n    <md-button class=\\\"md-icon-button\\\">\\n      <md-icon class=\\\"material-icons\\\"\\n               ng-click=\\\"$ctrl.close()\\\">close\\n      </md-icon>\\n    </md-button>\\n    <div flex=\\\"nogrow\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"end center\\\">\\n<!--      <help-button ng-if=\\\"::$ctrl.isTeacher\\\"-->\\n<!--                   link=\\\"teacherStudentCourseProgressCourseOverviewTopToolbarHelpButtonUrl\\\"></help-button>-->\\n<!--      <help-button ng-if=\\\"::!$ctrl.isTeacher\\\"-->\\n<!--                   link=\\\"studentStudentCourseProgressCourseOverviewTopToolbarHelpButtonUrl\\\"></help-button>-->\\n      <md-menu class=\\\"student-courses-details__menu\\\"\\n               md-position-mode=\\\"target-right target\\\"\\n               ng-if=\\\"::$ctrl.isTeacher\\\">\\n        <md-button class=\\\"md-icon-button\\\"\\n                   ng-click=\\\"$mdMenu.open()\\\">\\n          <md-icon>more_vert</md-icon>\\n        </md-button>\\n        <md-menu-content>\\n          <md-menu-item>\\n            <md-button ng-click=\\\"$ctrl.editStudentDetails()\\\"\\n                                 localize>__MSG_editStudentDetails__</md-button>\\n          </md-menu-item>\\n        </md-menu-content>\\n      </md-menu>\\n    </div>\\n  </toolbar>\\n\\n  <md-whiteframe class=\\\"sb-panel-shadow sb-main-card\\\"\\n                 flex=\\\"95\\\"\\n                 layout=\\\"column\\\">\\n\\n    <div class=\\\"student-courses-details__student-profile\\\"\\n         flex\\n         layout=\\\"row\\\"\\n         layout-padding\\n         layout-align=\\\"start center\\\">\\n      <student-profile student=\\\"$ctrl.student\\\"></student-profile>\\n    </div>\\n    <accordion open=\\\"$ctrl.isOpen\\\">\\n      <accordion-header>\\n        <div flex\\n             layout=\\\"row\\\"\\n             layout-align=\\\"space-between center\\\">\\n          <long-text-tooltip text=\\\"'Overall'\\\">\\n                        <span class=\\\"md-truncate\\\"\\n                              localize>\\n                            __MSG_Overall__\\n                        </span>\\n          </long-text-tooltip>\\n          <course-summary class=\\\"student-courses-details__student-course-summary\\\"\\n                          course=\\\"$ctrl.student\\\"\\n                          ng-if=\\\"!$ctrl.isOpen && !$ctrl.pending\\\"></course-summary>\\n\\n        </div>\\n      </accordion-header>\\n      <student-progress-input label=\\\"__MSG_courseProgressFeedbackLabel__\\\"\\n                              last-edit=\\\"$ctrl.student.feedback_last_edit\\\"\\n                              edit-by=\\\"$ctrl.student.feedback_teacher\\\"\\n                              is-published=\\\"$ctrl.student.feedback_published\\\"\\n                              ng-model=\\\"$ctrl.student.feedback\\\"\\n                              ng-change=\\\"$ctrl.onFeedbackChange($event)\\\"\\n                              ng-disabled=\\\"::!$ctrl.isTeacher\\\"\\n                              ng-if=\\\"::!$ctrl.isOverallEmpty()\\\"\\n                              localize></student-progress-input>\\n      <student-progress-input label=\\\"__MSG_overallPrivateNotesMode__\\\"\\n                              last-edit=\\\"$ctrl.student.private_note_last_edit\\\"\\n                              edit-by=\\\"$ctrl.student.private_note_teacher\\\"\\n                              ng-model=\\\"$ctrl.student.private_note\\\"\\n                              ng-change=\\\"$ctrl.onPrivateNoteChange($event)\\\"\\n                              ng-disabled=\\\"::!$ctrl.isTeacher\\\"\\n                              ng-if=\\\"::$ctrl.isTeacher\\\"\\n                              localize></student-progress-input>\\n\\n      <div class=\\\"sb-course-assessment__empty-info\\\"\\n           ng-show=\\\"::$ctrl.isOverallEmpty()\\\"\\n           localize>\\n        __MSG_courseProgressCourseDetailsEmptyInfo__\\n      </div>\\n\\n      <accordion-footer>\\n        <div flex\\n             layout=\\\"row\\\"\\n             layout-align=\\\"end center\\\">\\n          <md-button class=\\\"sb-button\\\"\\n                     ng-click=\\\"$ctrl.isOpen = false\\\"\\n                     localize>__MSG_closeBtn__\\n          </md-button>\\n        </div>\\n      </accordion-footer>\\n    </accordion>\\n  </md-whiteframe>\\n\\n  <div flex\\n       layout=\\\"column\\\"\\n       layout-align=\\\"space-around center\\\"\\n       ng-if=\\\"$ctrl.pending\\\">\\n    <h4 localize>__MSG_loadingCourses__</h4>\\n    <md-progress-circular></md-progress-circular>\\n  </div>\\n  <content class=\\\"student-courses-details__content\\\"\\n           flex=\\\"95\\\"\\n           layout=\\\"column\\\"\\n           ng-if=\\\"!$ctrl.pending\\\">\\n    <student-courses-details-section label=\\\"{{ ::'coursesIn' | localize }} {{ ::$ctrl.getCurrentClassName() }}\\\"\\n                                     extend=\\\"true\\\"\\n                                     student-courses-definitions=\\\"::$ctrl.studentCoursesDefinitions.current\\\"\\n                                     localize></student-courses-details-section>\\n    <student-courses-details-section label=\\\"{{ ::'coursesInOtherActiveClassrooms' | localize }}\\\"\\n                                     extend=\\\"true\\\"\\n                                     student-courses-definitions=\\\"::$ctrl.studentCoursesDefinitions.other\\\"\\n                                     localize></student-courses-details-section>\\n    <student-courses-details-section label=\\\"{{ ::'coursesInArchivedClassrooms' | localize }}\\\"\\n                                     extend=\\\"true\\\"\\n                                     student-courses-definitions=\\\"::$ctrl.studentCoursesDefinitions.archived\\\"\\n                                     localize></student-courses-details-section>\\n\\n  </content>\\n</extended-view-container>\\n<saving-indicator></saving-indicator>\\n<div class=\\\"sb-hint\\\"\\n     data-cookie-name=\\\"new-teacher-course-progress-hint\\\"\\n     ng-if=\\\"::$ctrl.isTeacher\\\"\\n     hint>\\n  <div class=\\\"sb-hint-scrollable\\\">\\n    <p class=\\\"sb-hint-text\\\"\\n       localize>\\n      __MSG_newTeacherCourseProgressHint__\\n    </p>\\n    <p class=\\\"sb-hint-close\\\">\\n      <button class=\\\"sb-btn-no-background md-primary sb-hint-close\\\"\\n              localize>\\n        __MSG_acceptHint__\\n      </button>\\n    </p>\\n  </div>\\n</div>\\n<div class=\\\"sb-hint\\\"\\n     data-cookie-name=\\\"new-student-course-progress-hint\\\"\\n     ng-if=\\\"::!$ctrl.isTeacher\\\"\\n     hint>\\n  <div class=\\\"sb-hint-scrollable\\\">\\n    <p class=\\\"sb-hint-text\\\"\\n       localize>\\n      __MSG_newStudentProgressHint__\\n    </p>\\n    <p class=\\\"sb-hint-close\\\">\\n      <button class=\\\"sb-btn-no-background md-primary sb-hint-close\\\"\\n              localize>\\n        __MSG_acceptHint__\\n      </button>\\n    </p>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetailsSection/studentCoursesDetailsSection.html';\nvar html = \"<h4 localize>{{ ::$ctrl.label }}</h4>\\n<h1 ng-if=\\\"::!$ctrl.isEmpty\\\" localize>__MSG_noCoursesAvailable__</h1>\\n<div flex\\n     layout=\\\"column\\\"\\n     ng-if=\\\"::$ctrl.isEmpty\\\">\\n  <div class=\\\"sb-panel-shadow toolbar\\\"\\n       layout=\\\"row\\\"\\n       layout-align=\\\"end center\\\">\\n    <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n               ng-click=\\\"$ctrl.collapseAll()\\\">\\n      <md-tooltip md-direction=\\\"top\\\"\\n                  md-autohide=\\\"true\\\"\\n                  md-z-index=\\\"1014\\\">{{::'collapseAllStudentProgress' | localize}}</md-tooltip>\\n      <md-icon md-svg-src=\\\"{{ ::'SVG_COLLAPSE_ALL' | iconURL }}\\\"></md-icon>\\n    </md-button>\\n    <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n               ng-click=\\\"$ctrl.expandAll()\\\">\\n      <md-tooltip md-direction=\\\"top\\\"\\n                  md-autohide=\\\"true\\\"\\n                  md-z-index=\\\"1014\\\">{{::'expandAllStudentProgress' | localize}}</md-tooltip>\\n      <md-icon md-svg-src=\\\"{{ ::'SVG_EXPAND_ALL' | iconURL }}\\\"></md-icon>\\n    </md-button>\\n  </div>\\n  <accordion class=\\\"student-courses-details__accordion sb-panel-shadow\\\"\\n             open=\\\"courseDefinition.isOpen\\\"\\n             ng-repeat=\\\"courseDefinition in $ctrl.studentCoursesDefinitions track by courseDefinition.id\\\"\\n             ng-disabled=\\\"!$ctrl.isAvailable(courseDefinition)\\\">\\n    <accordion-header>\\n      <div flex\\n           layout=\\\"row\\\"\\n           layout-align=\\\"space-between center\\\">\\n        <div class=\\\"student-courses-details__accordion-header\\\"\\n             ng-click=\\\"$ctrl.goToDetails(courseDefinition)\\\">\\n          <long-text-tooltip text=\\\"::courseDefinition.course_definition_name\\\">\\n            <span class=\\\"student-courses-details__accordion-title\\\">{{ ::courseDefinition.course_definition_name }}</span>\\n          </long-text-tooltip>\\n          <div class=\\\"student-courses-details__accordion-extend\\\"\\n               flex\\n               layout=\\\"column\\\"\\n               layout-align=\\\"start start\\\"\\n               ng-if=\\\"::$ctrl.extend\\\">\\n            <div class=\\\"student-courses-details__accordion-extend-item\\\"\\n                 layout=\\\"row\\\"\\n                 layout-align=\\\"start center\\\"\\n                 ng-show=\\\"::courseDefinition.course_definition_code\\\">\\n              <long-text-tooltip text=\\\"::courseDefinition.course_definition_code\\\"\\n                                 ng-disabled=\\\"::!courseDefinition.course_definition_code\\\">\\n                <span>Id: {{ ::courseDefinition.course_definition_code }}</span>\\n              </long-text-tooltip>\\n            </div>\\n            <div class=\\\"student-courses-details__accordion-extend-item\\\"\\n                 ng-show=\\\"::courseDefinition.google_classroom_data.name\\\">\\n              <long-text-tooltip text=\\\"::courseDefinition.google_classroom_data.name\\\"\\n                                 ng-disabled=\\\"::!courseDefinition.google_classroom_data.name\\\">\\n                <span>{{ ::'classroom' | localize }}: {{ ::courseDefinition.google_classroom_data.name }}</span>\\n              </long-text-tooltip>\\n            </div>\\n            <div class=\\\"student-courses-details__accordion-extend-item\\\"\\n                 ng-show=\\\"::courseDefinition.google_classroom_data.owner_name\\\">\\n              <long-text-tooltip text=\\\"::courseDefinition.google_classroom_data.owner_name\\\"\\n                                 ng-disabled=\\\"::!courseDefinition.google_classroom_data.owner_name\\\">\\n                <span>{{ ::'teacher' | localize }}: {{ ::courseDefinition.google_classroom_data.owner_name }}</span>\\n              </long-text-tooltip>\\n            </div>\\n          </div>\\n        </div>\\n        <course-summary ng-if=\\\"!courseDefinition.isOpen && $ctrl.isAvailable(courseDefinition)\\\"\\n                        course=\\\"::courseDefinition\\\"></course-summary>\\n        <div class=\\\"student-courses-details__accordion-disabled\\\"\\n             ng-hide=\\\"$ctrl.isAvailable(courseDefinition)\\\"\\n             localize>\\n          __MSG_assessmentNotAvailable__\\n        </div>\\n      </div>\\n    </accordion-header>\\n    <assessment-details class=\\\"sb-course-assessment__details\\\"\\n                        assessment=\\\"courseDefinition\\\"\\n                        simple-view=\\\"true\\\"\\n                        show-target-grade=\\\"true\\\"\\n                        show-private-note=\\\"::$ctrl.UserInfo.isTeacher()\\\"\\n                        teacher-account=\\\"::$ctrl.UserInfo.isTeacher()\\\"\\n                        read-only=\\\"::!$ctrl.UserInfo.isTeacher()\\\"\\n                        mixpanel-feedback-event=\\\"feedback_to_student_on_course_progress\\\"\\n                        mixpanel-grade-event=\\\"course_slider\\\"\\n                        on-assessment-update=\\\"::$ctrl.onUpdateCourseDefinition(assessment)\\\"\\n                        ng-disabled=\\\"::!courseDefinition.teacher_in_class\\\"\\n                        empty-msg=\\\"courseProgressCourseDetailsEmptyInfo\\\">\\n    </assessment-details>\\n    <accordion-footer flex\\n                      layout=\\\"row\\\"\\n                      layout-align=\\\"start center\\\">\\n      <div flex=\\\"100\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"space-between center\\\">\\n        <md-button class=\\\"sb-button\\\"\\n                   ng-click=\\\"$ctrl.goToDetails(courseDefinition)\\\"\\n                   localize>__MSG_goToDetailsBtn__\\n        </md-button>\\n        <md-button class=\\\"sb-button\\\"\\n                   ng-click=\\\"courseDefinition.isOpen = false\\\"\\n                   localize>__MSG_closeBtn__\\n        </md-button>\\n      </div>\\n    </accordion-footer>\\n  </accordion>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/teacher-course-progress/studentDetails/studentDetails.html';\nvar html = \"<extended-view-container ng-class=\\\"::{ 'student-view': !$ctrl.isTeacher }\\\">\\n  <toolbar class=\\\"grid\\\">\\n\\n    <md-button class=\\\"md-icon-button arrow-back grid-back\\\">\\n      <md-icon class=\\\"material-icons\\\"\\n               ng-click=\\\"$ctrl.closeStudentView()\\\">\\n        {{ ::$ctrl.breadcrumbs.length > 1 ? 'arrow_back' : 'close' }}\\n      </md-icon>\\n    </md-button>\\n\\n    <breadcrumbs class=\\\"grid-breadcrumbs\\\"\\n                 steps=\\\"::$ctrl.breadcrumbs\\\"></breadcrumbs>\\n\\n    <div flex=\\\"nogrow\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"end center\\\">\\n<!--      <help-button ng-if=\\\"::$ctrl.isTeacher\\\"-->\\n<!--                   link=\\\"teacherStudentCourseProgressSingleCourseOverviewTopToolbarHelpButtonUrl\\\"></help-button>-->\\n<!--      <help-button ng-if=\\\"::!$ctrl.isTeacher\\\"-->\\n<!--                   link=\\\"studentStudentCourseProgressSingleCourseOverviewTopToolbarHelpButtonUrl\\\"></help-button>-->\\n      <download-pdf-menu class=\\\"grid-menu\\\"\\n                         student=\\\"$ctrl.student\\\"\\n                         course-definition=\\\"$ctrl.courseSelected\\\"\\n                         ng-if=\\\"::$ctrl.isTeacher\\\">\\n      </download-pdf-menu>\\n    </div>\\n  </toolbar>\\n\\n  <md-whiteframe class=\\\"sb-panel-shadow\\n               sb-main-card\\\"\\n                 flex=\\\"95\\\"\\n                 layout=\\\"column\\\"\\n                 layout-padding\\n                 layout-margin>\\n\\n    <div flex\\n         layout=\\\"row\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"center center\\\"\\n           class=\\\"sb-photo-placeholder\\n                                sb-main-card--icon--placeholder\\\">\\n        <md-icon class=\\\"sb-icon__big\\\">\\n          book\\n        </md-icon>\\n      </div>\\n      <div class=\\\"sb-objective-details__select-wrapper\\n                           sb-main-card--info--container\\\"\\n           flex-auto\\n           layout=\\\"column\\\"\\n           layout-align=\\\"center start\\\">\\n\\n        <long-text-tooltip query=\\\"md-select-value > span\\\"\\n                           text=\\\"$ctrl.objectiveSelected.name\\\"\\n                           ng-if=\\\"$ctrl.sizeOfCoursesDefinitions() > 1 && !$ctrl.fetchStudentCoursesDetails\\\">\\n          <md-input-container class=\\\"sb-course-assessment__select-wrapper\\\">\\n            <md-select class=\\\"sb-course-assessment__select\\\"\\n                       aria-label=\\\"objective select\\\"\\n                       ng-change=\\\"$ctrl.changeCourse()\\\"\\n                       ng-model-options=\\\"::{ debounce: 400, trackBy: '$value.course_definition' }\\\"\\n                       ng-model=\\\"$ctrl.courseSelected\\\">\\n              <md-optgroup ng-if=\\\"$ctrl.courseDefinitions.current.length\\\"\\n                           label=\\\"{{ ::'courseProgressDropDownCategoryCoursesIn' | localize }}\\\">\\n                <md-option ng-value=\\\"courseDefinition\\\"\\n                           ng-repeat=\\\"courseDefinition in ::$ctrl.courseDefinitions.current track by courseDefinition.id\\\">\\n                                <span class=\\\"md-display-1\\n                                             sb-heading\\n                                             \\\">\\n                                    {{ ::courseDefinition.course_definition_name }}\\n                                </span>\\n                </md-option>\\n              </md-optgroup>\\n              <md-optgroup ng-if=\\\"$ctrl.courseDefinitions.other.length\\\"\\n                           label=\\\"{{ ::'coursesInOtherActiveClassrooms' | localize }}\\\">\\n                <md-option ng-value=\\\"courseDefinition\\\"\\n                           ng-repeat=\\\"courseDefinition in ::$ctrl.courseDefinitions.other track by courseDefinition.id\\\">\\n                                <span class=\\\"md-display-1\\n                                             sb-heading\\n                                             \\\">\\n                                    {{ ::courseDefinition.course_definition_name }}\\n                                </span>\\n                </md-option>\\n              </md-optgroup>\\n              <md-optgroup ng-if=\\\"$ctrl.courseDefinitions.archived.length\\\"\\n                           label=\\\"{{ ::'coursesInArchivedClassrooms' | localize }}\\\">\\n                <md-option ng-value=\\\"courseDefinition\\\"\\n                           ng-repeat=\\\"courseDefinition in ::$ctrl.courseDefinitions.archived track by courseDefinition.id\\\">\\n                                <span class=\\\"md-display-1\\n                                             sb-heading\\n                                             \\\">\\n                                    {{ ::courseDefinition.course_definition_name }}\\n                                </span>\\n                </md-option>\\n              </md-optgroup>\\n            </md-select>\\n            <div class=\\\"hint\\\">{{ $ctrl.courseSelected.course_definition_code }}</div>\\n          </md-input-container>\\n        </long-text-tooltip>\\n        <long-text-tooltip text=\\\"$ctrl.getSingleCourseDefinition().course_definition_name\\\"\\n                           ng-if=\\\"$ctrl.sizeOfCoursesDefinitions() === 1 && !$ctrl.fetchStudentCoursesDetails\\\">\\n                <span class=\\\"md-display-1 sb-heading\\\">\\n                  {{ ::$ctrl.getSingleCourseDefinition().course_definition_name }}\\n                </span>\\n        </long-text-tooltip>\\n        <span class=\\\"sb-course-assessment__course-code\\\"\\n              ng-if=\\\"$ctrl.sizeOfCoursesDefinitions() === 1 && !$ctrl.fetchStudentCoursesDetails\\\">\\n          {{ ::$ctrl.courseAssessment.course_definition_code }}\\n        </span>\\n\\n        <md-progress-circular md-diameter=\\\"20\\\"\\n                              ng-if=\\\"$ctrl.fetchStudentCoursesDetails\\\"></md-progress-circular>\\n      </div>\\n    </div>\\n\\n    <div layout=\\\"row\\\"\\n         layout-align=\\\"center center\\\"\\n         class=\\\"sb-course-assessment__course-grade\\\"\\n         ng-if=\\\"$ctrl.courseSelected\\\">\\n      <div flex\\n           class=\\\"md-body-2\\n                       sb-subheading\\n                       sb-course-assessment__meta-heading\\n                       truncate-text\\\">\\n        <long-text-tooltip text=\\\"'courseProgressCourseGradeLabel'\\\">\\n                    <span\\n                          localize>__MSG_courseProgressCourseGradeLabel__</span>\\n        </long-text-tooltip>\\n      </div>\\n\\n      <div class=\\\"sb-course-assessment__meta\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"end center\\\">\\n        <div layout=\\\"row\\\"\\n             layout-align=\\\"end center\\\">\\n          <assessment-status-preview assessment=\\\"$ctrl.courseAssessment\\\"\\n                                     show-target-grade=\\\"true\\\"\\n                                     show-private-note=\\\"true\\\"\\n                                     show-visibility=\\\"true\\\"\\n                                     ng-hide=\\\"$ctrl.courseAssessment.open\\\">\\n          </assessment-status-preview>\\n\\n          <object-details-toggle object=\\\"$ctrl.courseAssessment\\\"\\n                                 on-details-toggle=\\\"$ctrl.toggleAssessment()\\\">\\n          </object-details-toggle>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <assessment-details class=\\\"sb-course-assessment__details\\\"\\n                        ng-if=\\\"$ctrl.courseSelected\\\"\\n                        assessment=\\\"$ctrl.courseAssessment\\\"\\n                        details-button-disable=\\\"true\\\"\\n                        show-target-grade=\\\"true\\\"\\n                        show-private-note=\\\"::$ctrl.isTeacher\\\"\\n                        teacher-account=\\\"::$ctrl.isTeacher\\\"\\n                        read-only=\\\"::!$ctrl.isTeacher\\\"\\n                        mixpanel-feedback-event=\\\"feedback_to_student_on_course_progress\\\"\\n                        mixpanel-grade-event=\\\"course_slider\\\"\\n                        on-assessment-update=\\\"$ctrl.updateAssessmentData(assessment)\\\"\\n                        on-assessment-close=\\\"$ctrl.toggleAssessment()\\\"\\n                        slide-toggle=\\\"$ctrl.courseAssessment.open\\\"\\n                        empty-msg=\\\"courseProgressCourseDetailsEmptyInfo\\\"\\n                        ng-disabled=\\\"!$ctrl.isEditable\\\">\\n    </assessment-details>\\n\\n  </md-whiteframe>\\n\\n  <div ui-view=\\\"details\\\"></div>\\n  <div ui-view=\\\"assignments\\\"></div>\\n</extended-view-container>\\n\\n<saving-indicator></saving-indicator>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/teacher-course-progress/students-list/studentsList.html';\nvar html = \"<md-list\\n    flex\\n    class=\\\"sb-list\\\"\\n    ng-repeat=\\\"student in $ctrl.students track by student.id\\\">\\n\\n    <md-list-item\\n        layout=\\\"row\\\"\\n        layout-align=\\\"space-between center\\\"\\n        class=\\\"sb-list-parent-item sb-border-bottom\\\"\\n        ng-class=\\\"{'sb-list-student--active': ( $ctrl.lastSelectedStudentId === student.id )}\\\"\\n        ng-click=\\\"$ctrl.toggleStudentCourseProgress(student)\\\">\\n        <p\\n            flex\\n            class=\\\"sb-list-item-name sb-list-truncate-with-arrow\\\">\\n            <span>{{ ::student.student_name  }}</span>\\n        </p>\\n        <md-icon\\n            flex=\\\"5\\\"\\n            class=\\\"sb-ico sb-ico__warning\\\"\\n            aria-label=\\\"student has warnings\\\"\\n            ng-show=\\\"student.has_warnings\\\">\\n        </md-icon>\\n    </md-list-item>\\n</md-list>\\n\\n<div ng-if=\\\"!$ctrl.students.length\\\"\\n     class=\\\"sb-list__placeholder\\\" localize>\\n    __MSG_noStudentsYet__\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/teacher-course-progress/teacher-course-progress.html';\nvar html = \"<div layout=\\\"column\\\"\\n     layout-fill>\\n\\n  <rapp data=\\\"$root\\\" ctrl=\\\"$ctrl\\\" view=\\\"'courseOverview'\\\"/>\\n<!--\\n  <md-toolbar flex=\\\"nogrow\\\"\\n              class=\\\"sb-toolbar\\\">\\n    <div\\n      layout=\\\"row\\\"\\n      layout-align=\\\"start center\\\"\\n      class=\\\"md-toolbar-tools\\\">\\n      <menu-toggle></menu-toggle>\\n\\n      <div flex\\n           layout=\\\"row\\\"\\n           layout-align=\\\"space-between center\\\">\\n        <p class=\\\"sb-toolbar-title\\\"\\n           localize>\\n          __MSG_courseProgressionPage__\\n        </p>\\n        <help-button link=\\\"teacherStudentProgressSidebarHelpButtonUrl\\\"></help-button>\\n      </div>\\n      <md-menu ng-if=\\\"$ctrl.hasStudents()\\\">\\n        <md-button class=\\\"md-icon-button\\\"\\n                   ng-click=\\\"$mdMenu.open()\\\">\\n          <md-icon md-menu-origin>more_vert</md-icon>\\n        </md-button>\\n        <md-menu-content width=\\\"3\\\">\\n          <md-menu-label localize>\\n            __MSG_globalActions__\\n          </md-menu-label>\\n          <md-menu-item>\\n            <md-button ng-click=\\\"$ctrl.shareAssessmentsWithColleagues()\\\"\\n                       localize>\\n              __MSG_shareAssessmentsWithColleagues__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-divider></md-menu-divider>\\n          <md-menu-label localize>\\n            __MSG_currentClassroom__\\n          </md-menu-label>\\n          <md-menu-item>\\n            <md-button ng-click=\\\"$ctrl.setVisibility()\\\"\\n                       localize>\\n              __MSG_setVisibilityMenuItem__...\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-item>\\n            <md-button ng-click=\\\"$ctrl.exportStudentsResultsToGoogleDrive('pdf')\\\"\\n                       localize>\\n              __MSG_exportAllStudentsAsPDFToGDOption__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-item>\\n            <md-button ng-click=\\\"$ctrl.exportStudentsResultsToGoogleDrive('csv')\\\"\\n                       localize>\\n              __MSG_exportAllStudentsAsCSVToGDOption__\\n            </md-button>\\n          </md-menu-item>\\n        </md-menu-content>\\n      </md-menu>\\n    </div>\\n  </md-toolbar>\\n  <loader></loader>\\n\\n  <md-content\\n    sticky-subheader\\n    save-scroll\\n    flex>\\n    <students-list\\n      students=\\\"$ctrl.students\\\"\\n      selected-student=\\\"$ctrl.student\\\"></students-list>\\n  </md-content>\\n\\n  <div\\n    hint\\n    class=\\\"sb-hint\\\"\\n    data-cookie-name=\\\"teacher-course-progress-hint\\\">\\n    <div class=\\\"sb-hint-scrollable\\\">\\n      <p\\n        class=\\\"sb-hint-text\\\"\\n        localize>\\n        __MSG_teacherAssessCourseHint__\\n      </p>\\n      <p class=\\\"sb-hint-close\\\">\\n        <button\\n          class=\\\"sb-btn-no-background\\n                       md-primary\\n                       sb-hint-close\\\"\\n          localize>\\n          __MSG_acceptHint__\\n        </button>\\n      </p>\\n    </div>\\n  </div>\\n  -->\\n</div>\\n\\n\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/components/objective-details.html';\nvar html = \"<div class=\\\"sb-list-dropdown\\n            cm-objective-details--container\\\">\\n    <div\\n        layout=\\\"column\\\"\\n        layout-align=\\\"stretch\\\">\\n        <div class=\\\"sb-list-dropdown__inner\\\">\\n            <div\\n                layout=\\\"row\\\"\\n                layout-align=\\\"start start\\\"\\n                class=\\\"cm-objective-description-container\\\">\\n                <md-input-container\\n                    class=\\\"md-block\\\"\\n                    flex=\\\"95\\\">\\n                    <label localize>\\n                        __MSG_objectiveNameLabel__\\n                    </label>\\n                    <textarea\\n                        maxlength=\\\"255\\\"\\n                        md-detect-hidden=\\\"true\\\"\\n                        ng-model=\\\"$ctrl.objective.name\\\"\\n                        ng-model-options='{ debounce: 500 }'\\n                        ng-readonly=\\\"$ctrl.readOnly\\\"\\n                        ng-blur=\\\"$ctrl.onBlur()\\\"\\n                        ng-change=\\\"$ctrl.updateObjective()\\\">\\n                    </textarea>\\n                </md-input-container>\\n            </div>\\n\\n            <div\\n                layout=\\\"row\\\"\\n                layout-align=\\\"start start\\\"\\n                class=\\\"cm-objective-description-container\\\">\\n                <md-input-container\\n                    class=\\\"md-block\\n                           md-input-has-placeholder\\\"\\n                    flex>\\n                    <label localize>\\n                      __MSG_objectiveDescriptionLabel__\\n                    </label>\\n\\n                    <ng-quill-editor\\n                        class=\\\"absolute-btns focused-btns\\\"\\n                        toolbar=\\\"true\\\"\\n                        read-only=\\\"$ctrl.readOnly\\\"\\n                        toolbar-entries=\\\"bold\\\"\\n                        ng-model=\\\"$ctrl.objective.description\\\"\\n                        ng-change=\\\"$ctrl.updateObjective()\\\">\\n                    </ng-quill-editor>\\n                </md-input-container>\\n            </div>\\n\\n            <div\\n                layout=\\\"row\\\"\\n                layout-align=\\\"start start\\\"\\n                ng-repeat=\\\"knowledgeRequirement in ::$ctrl.objective.knowledge_requirements track by knowledgeRequirement.id\\\">\\n                <div flex=\\\"5\\\"\\n                    class=\\\"cm-objective-grade\\\">\\n                  <long-text-tooltip text=\\\"::knowledgeRequirement.grade_name \\\">\\n                    <span class=\\\"md-truncate\\\"\\n                          ng-style=\\\"::{ color: knowledgeRequirement.grade_color }\\\">\\n                        {{ ::knowledgeRequirement.grade_name }}\\n                    </span>\\n                  </long-text-tooltip>\\n                </div>\\n\\n                <div flex=\\\"100\\\">\\n                    <md-input-container\\n                        class=\\\"md-block\\n                               md-input-has-placeholder\\\"\\n                        flex>\\n                        <label localize>\\n                          __MSG_descriptionLabel__\\n                        </label>\\n\\n                        <ng-quill-editor\\n                            class=\\\"absolute-btns focused-btns\\\"\\n                            toolbar=\\\"true\\\"\\n                            read-only=\\\"$ctrl.readOnly\\\"\\n                            toolbar-entries=\\\"bold\\\"\\n                            ng-model=\\\"knowledgeRequirement.description\\\"\\n                            ng-change=\\\"$ctrl.updateKnowledgeRequirementDescription(knowledgeRequirement)\\\">\\n                        </ng-quill-editor>\\n                    </md-input-container>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/change-property-doublecheck-warning.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\n                  warning-dialog\\\">\\n    <md-dialog-content>\\n        <div class=\\\"dialog__small--title\\n                    warning-dialog--title\\\">\\n            {{$ctrl.headerLabel }}\\n        </div>\\n\\n        <p\\n            class=\\\"dialog__small--text\\\">\\n            {{$ctrl.warningContent }}\\n        </p>\\n\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"space-between\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.hide()\\\"\\n                       localize>\\n                __MSG_proceedBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/change-property-warning.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content>\\n        <div class=\\\"dialog__small--title\\n                    warning-dialog--title\\\">\\n            {{$ctrl.headerLabel }}\\n        </div>\\n\\n        <p\\n            class=\\\"dialog__small--text\\\">\\n            {{ $ctrl.warningContent }}\\n        </p>\\n\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"space-between\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.hide()\\\"\\n                       localize>\\n                __MSG_changeBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/confirmation.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n  <md-dialog-content>\\n    <div class=\\\"dialog__small--title\\\"\\n         ng-bind-html=\\\"::$ctrl.translations.header | localize\\\">\\n    </div>\\n\\n    <p class=\\\"dialog__small--text\\\">\\n            <span ng-bind-html=\\\"::$ctrl.translations.content1 | localize\\\">\\n            </span>\\n      {{ ::$ctrl.curriculumTitle }}\\n      <span ng-bind-html=\\\"::$ctrl.translations.content2 | localize\\\">\\n            </span>\\n    </p>\\n\\n    <div class=\\\"dialog__small--button--container\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"space-between\\\">\\n      <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                 ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                 ng-bind-html=\\\"::$ctrl.translations.cancelButton | localize\\\"\\n                 localize>\\n      </md-button>\\n      <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                 ng-click=\\\"$ctrl.$mdDialog.hide()\\\"\\n                 ng-bind-html=\\\"::$ctrl.translations.confirmButton | localize\\\"\\n                 localize>\\n      </md-button>\\n    </div>\\n  </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/create-objective.html';\nvar html = \"<md-dialog\\n    class=\\\"dialog__small\\\">\\n    <md-dialog-content>\\n        <span\\n            class=\\\"dialog__small--title\\\"\\n            localize>\\n            __MSG_createNewObjectiveModalTitle__\\n        </span>\\n\\n        <div flex=\\\"100\\\">\\n            <md-input-container\\n                class=\\\"md-block\\\"\\n                flex=\\\"95\\\">\\n                <label localize>\\n                    __MSG_newObjectiveNameTextInputLabel__\\n                </label>\\n                <textarea\\n                    maxlength=\\\"255\\\"\\n                    md-detect-hidden=\\\"true\\\"\\n                    ng-model=\\\"$ctrl.objectiveName\\\">\\n                </textarea>\\n            </md-input-container>\\n        </div>\\n\\n        <div\\n            class=\\\"dialog__big--button-container\\\"\\n            layout=\\\"row\\\"\\n            layout-align=\\\"end\\\">\\n            <md-button\\n                class=\\\"btn__no-background\\n                       md-primary\\n                       btn__no-min-width\\\"\\n                ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n            <md-button\\n                class=\\\"btn__no-background\\n                       md-primary\\n                       btn__no-min-width\\\"\\n                ng-click=\\\"$ctrl.createObjective()\\\"\\n                localize>\\n                __MSG_createBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/curriculum-details.html';\nvar html = \"<md-dialog\\n    class=\\\"curriculum-library-dialog\\\"\\n    aria-label=\\\"List dialog\\\">\\n    <md-toolbar\\n        class=\\\"sb-toolbar\\n               curriculum-library-dialog--header\\\"\\n        flex layout=\\\"row\\\"\\n        layout-align=\\\"space-between center\\\">\\n        <md-button\\n            class=\\\"md-icon-button\\\"\\n            ng-click=\\\"$ctrl.openCurriculumLibraryDialog()\\\"\\n            flex=\\\"none\\\">\\n            <md-icon>\\n                arrow_back\\n            </md-icon>\\n        </md-button>\\n\\n        <md-menu flex=\\\"nogrow\\\">\\n            <md-button\\n                class=\\\"md-icon-button\\\"\\n                ng-click=\\\"$mdMenu.open($event)\\\">\\n                <md-icon>more_vert</md-icon>\\n            </md-button>\\n\\n            <md-menu-content width=\\\"3\\\">\\n                <md-menu-item>\\n                    <md-button\\n                        ng-click=\\\"$ctrl.openAddNewObjectiveDialog()\\\"\\n                        localize>\\n                        __MSG_addNewObjective__\\n                    </md-button>\\n                </md-menu-item>\\n            </md-menu-content>\\n        </md-menu>\\n    </md-toolbar>\\n\\n    <md-dialog-content>\\n        <cm-teacher-course-details\\n            course=\\\"$ctrl.curriculumDetails.course\\\"\\n            curriculum=\\\"$ctrl.curriculum\\\"\\n            hide-toolbar=\\\"true\\\">\\n            <cm-teacher-objectives\\n                course=\\\"$ctrl.curriculumDetails.course\\\"\\n                objectives=\\\"$ctrl.curriculumDetails.objectives\\\"></cm-teacher-objectives>\\n        </cm-teacher-course-details>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/curriculum-library.html';\nvar html = \"<md-dialog class=\\\"curriculum-library-dialog\\\"\\n           aria-label=\\\"List dialog\\\">\\n  <md-toolbar class=\\\"sb-toolbar curriculum-library-dialog--header\\\"\\n              flex\\n              layout=\\\"row\\\"\\n              layout-align=\\\"space-between center\\\">\\n    <md-button class=\\\"md-icon-button\\\"\\n               ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n               flex=\\\"none\\\">\\n      <md-icon>\\n        close\\n      </md-icon>\\n    </md-button>\\n\\n    <span class=\\\"sb-toolbar-title\\\"\\n          flex\\n          localize\\n          md-truncate>\\n            __MSG_myCurriculumLibrary__\\n        </span>\\n<!--    <help-button link=\\\"teacherCurriculumsMyLibraryDialogHelpUrl\\\"></help-button>-->\\n  </md-toolbar>\\n  <md-dialog-content>\\n    <cm-curriculum-library curriculums=\\\"$ctrl.curriculums\\\">\\n    </cm-curriculum-library>\\n  </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/delete-course.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content>\\n        <div class=\\\"dialog__small--title\\\"\\n             localize>\\n            __MSG_deleteCourseDialogHeading__\\n        </div>\\n\\n        <p class=\\\"dialog__small--text\\\">\\n            <span localize>\\n                __MSG_deleteCourseDialogContent__\\n            </span>\\n            {{ $ctrl.courseDefinition.name }}\\n        </p>\\n\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"space-between\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.hide()\\\"\\n                       localize>\\n                __MSG_deleteBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/delete-objective.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content>\\n        <div class=\\\"dialog__small--title\\\"\\n             localize>\\n            __MSG_deleteObjectiveDialogHeading__\\n        </div>\\n\\n        <p class=\\\"dialog__small--text\\\">\\n            <span ng-if=\\\"!$ctrl.editingTemplate\\\" localize>\\n                __MSG_deleteObjectiveDialogContent__\\n            </span>\\n            <span ng-if=\\\"$ctrl.editingTemplate\\\" localize>\\n                __MSG_deleteObjectiveInTemplateDialogContent__\\n            </span>\\n            {{ $ctrl.objective.name }}\\n        </p>\\n\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"space-between\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.hide()\\\"\\n                       localize>\\n                __MSG_deleteBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/edit-curriculum.html';\nvar html = \"<md-dialog>\\n    <md-dialog-content class=\\\"dialog__big\\n                              edit-course-dialog\\\">\\n      <div class=\\\"grid-header\\\">\\n        <span\\n            class=\\\"dialog__big--title left\\\">\\n            <span ng-if=\\\"$ctrl.createMode\\\" localize>__MSG_createCourseHeading__</span>\\n            <span ng-if=\\\"!$ctrl.createMode\\\" localize>__MSG_editCourseHeading__</span>\\n        </span>\\n<!--        <help-button class=\\\"black right\\\"-->\\n<!--                     link=\\\"teacherCurriculumCreateEmptyCurriculumDialogHelpButtonUrl\\\"-->\\n<!--                     ng-if=\\\"::$ctrl.createMode\\\"></help-button>-->\\n<!--        <help-button class=\\\"black right\\\"-->\\n<!--                     link=\\\"teacherCurriculumEditCurriculumDialogHelpButtonUrl\\\"-->\\n<!--                     ng-if=\\\"::!$ctrl.createMode\\\"></help-button>-->\\n      </div>\\n\\n        <div flex=\\\"100\\\">\\n            <md-input-container class=\\\"md-block\\\">\\n                <label>\\n                    <span ng-if=\\\"$ctrl.createMode\\\" localize>__MSG_createCourseNameLabel__</span>\\n                    <span ng-if=\\\"!$ctrl.createMode\\\" localize>__MSG_editCourseNameLabel__</span>\\n                </label>\\n                <textarea\\n                    ng-model=\\\"$ctrl.course.name\\\"\\n                    md-detect-hidden=\\\"true\\\"\\n                    maxlength=\\\"255\\\">\\n                </textarea>\\n            </md-input-container>\\n        </div>\\n\\n        <div flex=\\\"100\\\">\\n            <md-input-container class=\\\"md-block\\\">\\n                <label localize>__MSG_courseCodeLabel__</label>\\n                <textarea\\n                    ng-model=\\\"$ctrl.course.code\\\"\\n                    md-detect-hidden=\\\"true\\\"\\n                    maxlength=\\\"255\\\">\\n                </textarea>\\n            </md-input-container>\\n        </div>\\n\\n        <div\\n            class=\\\"edit-course-dialog__selects-container\\\">\\n            <div class=\\\"edit-course-dialog__select-container\\\">\\n                <md-input-container class=\\\"md-block\\\">\\n                    <label localize>__MSG_editCourseEducationalSystemLabel__</label>\\n                    <md-select\\n                        ng-model=\\\"$ctrl.educationalSystem\\\"\\n                        md-container-class=\\\"edit-course-dialog__educational-system__select\\\"\\n                        ng-change=\\\"$ctrl.changeEducationalSystem()\\\"\\n                        ng-disabled=\\\"$ctrl.isLocked\\\">\\n                        <md-option\\n                            ng-repeat=\\\"educationalSystem in $ctrl.educationalSystems track by educationalSystem.id\\\"\\n                            ng-value=\\\"educationalSystem\\\">\\n                            {{ educationalSystem.name }}\\n                        </md-option>\\n                    </md-select>\\n                </md-input-container>\\n\\n                <p\\n                    class=\\\"sb-list-item-subname\\\"\\n                    localize>\\n                    <span ng-if=\\\"$ctrl.createMode\\\">__MSG_createCourseEducationalSystemHelp__</span>\\n                    <span ng-if=\\\"!$ctrl.createMode\\\">__MSG_editCourseEducationalSystemHelp__</span>\\n                </p>\\n            </div>\\n\\n            <div class=\\\"edit-course-dialog__select-container\\\">\\n                <md-input-container class=\\\"md-block\\\">\\n                    <label localize>\\n                        <span ng-if=\\\"$ctrl.createMode\\\">__MSG_createCourseEducationalStageLabel__</span>\\n                        <span ng-if=\\\"!$ctrl.createMode\\\">__MSG_editCourseEducationalStageLabel__</span>\\n                    </label>\\n                    <md-select\\n                        ng-model=\\\"$ctrl.educationalStage\\\"\\n                        md-container-class=\\\"edit-course-dialog__educational-stage__select\\\"\\n                        ng-change=\\\"$ctrl.changeEducationalStage()\\\">\\n                        <md-option\\n                            ng-repeat=\\\"educationalStage in $ctrl.educationalStages track by educationalStage.id\\\"\\n                            ng-value=\\\"educationalStage\\\">\\n                            {{ educationalStage.name }}\\n                        </md-option>\\n                    </md-select>\\n                </md-input-container>\\n\\n                <p\\n                    class=\\\"sb-list-item-subname\\\"\\n                    localize>\\n                    <span ng-if=\\\"$ctrl.createMode\\\">__MSG_createCourseEducationalStageHelp__</span>\\n                    <span ng-if=\\\"!$ctrl.createMode\\\">__MSG_editCourseEducationalStageHelp__</span>\\n                </p>\\n            </div>\\n\\n            <div class=\\\"edit-course-dialog__select-container\\\">\\n                <md-input-container class=\\\"md-block\\\">\\n                    <label localize>\\n                        <span ng-if=\\\"$ctrl.createMode\\\">__MSG_createCourseScaleLabel__</span>\\n                        <span ng-if=\\\"!$ctrl.createMode\\\">__MSG_editCourseScaleLabel__</span>\\n                    </label>\\n                    <md-select\\n                        ng-model=\\\"$ctrl.scale\\\"\\n                        md-container-class=\\\"edit-course-dialog__scale__select\\\"\\n                        ng-change=\\\"$ctrl.changeScale()\\\">\\n                        <md-option\\n                            ng-repeat=\\\"scale in $ctrl.scales track by $index\\\"\\n                            ng-value=\\\"scale\\\">\\n                            {{ scale.name }}\\n                        </md-option>\\n                    </md-select>\\n                </md-input-container>\\n\\n                <p\\n                    class=\\\"sb-list-item-subname\\\"\\n                    localize>\\n                    <span ng-if=\\\"$ctrl.createMode\\\">__MSG_createCourseScaleHelp__</span>\\n                    <span ng-if=\\\"!$ctrl.createMode\\\">__MSG_editCourseScaleHelp__</span>\\n                </p>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"dialog__big--button-container\\\">\\n            <md-button\\n                class=\\\"btn__no-background\\n                       md-primary\\n                       sb-btn-no-min-width\\\"\\n                ng-class=\\\"{'sb-dialog-button--disabled': !$ctrl.createButtonEnabled}\\\"\\n                ng-click=\\\"$ctrl.saveChanges()\\\"\\n                ng-disabled=\\\"!$ctrl.createButtonEnabled\\\"\\n                localize>\\n                <span ng-if=\\\"$ctrl.createMode\\\">__MSG_createBtn__</span>\\n                <span ng-if=\\\"!$ctrl.createMode\\\">__MSG_saveBtn__</span>\\n            </md-button>\\n\\n            <md-button\\n                class=\\\"btn__no-background\\n                       md-primary\\n                       btn__no-min-width\\\"\\n                ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/make-curriculum-private.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content>\\n        <div class=\\\"dialog__small--title\\\"\\n             localize>__MSG_makeCurriculumPrivateHeading__\\n        </div>\\n\\n        <p class=\\\"dialog__small--text\\\">\\n            <span localize>\\n                __MSG_makeCurriculumPrivateInfoPart1__\\n            </span>\\n            {{ $ctrl.curriculumTitle }}\\n            <span localize>\\n                __MSG_makeCurriculumPrivateInfoPart2__\\n            </span>\\n        </p>\\n\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"space-between\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.hide()\\\"\\n                       localize>\\n                __MSG_makePrivateBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/make-curriculum-public.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content>\\n        <div class=\\\"dialog__small--title\\\"\\n             localize>\\n            __MSG_makeCurriculumPublicHeading__\\n        </div>\\n\\n        <p class=\\\"dialog__small--text\\\">\\n            <span localize>\\n                __MSG_makeCurriculumPublicInfoPart1__\\n            </span>\\n            {{ $ctrl.curriculumTitle }}\\n            <span localize>\\n                __MSG_makeCurriculumPublicInfoPart2__\\n            </span>\\n        </p>\\n\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"space-between\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.hide()\\\"\\n                       localize>\\n                __MSG_makePublicBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/remove-curriculum-form-library.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content>\\n        <div class=\\\"dialog__small--title\\\"\\n             localize>\\n            __MSG_removeCurriculumFromLibraryHeading__\\n        </div>\\n\\n        <p class=\\\"dialog__small--text\\\">\\n            <span localize>__MSG_removeCurriculumFromLibraryInfo1__</span>\\n            {{ $ctrl.curriculumTitle }}\\n            <span localize>__MSG_removeCurriculumFromLibraryInfo2__</span>\\n        </p>\\n\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"space-between\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.hide()\\\"\\n                       localize>\\n                __MSG_deleteBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/rename-course.html';\nvar html = \"\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/rename-curriculum.html';\nvar html = \"\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/save-curriculum-to-library.html';\nvar html = \"<md-dialog\\n    class=\\\"dialog__small\\\">\\n    <md-dialog-content>\\n        <div\\n            class=\\\"dialog__small--title\\\"\\n            localize>\\n             __MSG_nameYourCurriculum__\\n        </div>\\n\\n        <div flex=\\\"100\\\">\\n            <md-input-container\\n                class=\\\"md-block\\\"\\n                flex=\\\"95\\\">\\n                <label localize>__MSG_newCurriculumTitle__</label>\\n                <textarea maxlength=\\\"255\\\"\\n                    md-detect-hidden=\\\"true\\\"\\n                    ng-model=\\\"$ctrl.courseName\\\">\\n                </textarea>\\n            </md-input-container>\\n        </div>\\n\\n        <div flex=\\\"100\\\">\\n            <md-input-container class=\\\"md-block\\\" flex=\\\"95\\\">\\n                <label localize>__MSG_courseIDlabel__</label>\\n                <textarea\\n                    ng-model=\\\"$ctrl.courseCode\\\"\\n                    md-detect-hidden=\\\"true\\\"\\n                    maxlength=\\\"50\\\">\\n                </textarea>\\n            </md-input-container>\\n        </div>\\n\\n        <div\\n            class=\\\"dialog__small--button--container\\\"\\n            layout=\\\"row\\\"\\n            layout-align=\\\"space-between\\\">\\n            <md-button\\n                class=\\\"sb-btn-no-background\\n                       md-primary\\n                       sb-btn-no-min-width\\\"\\n                ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n            <md-button\\n                class=\\\"sb-btn-no-background\\n                       md-primary\\n                       sb-btn-no-min-width\\\"\\n                ng-class=\\\"{'sb-dialog-button--disabled': !$ctrl.courseName}\\\"\\n                ng-click=\\\"$ctrl.$mdDialog.hide({name: $ctrl.courseName, code: $ctrl.courseCode})\\\"\\n                ng-disabled=\\\"!$ctrl.courseName\\\"\\n                localize>\\n                __MSG_saveBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/search-curriculum.html';\nvar html = \"<md-dialog>\\n    <md-dialog-content class=\\\"dialog__big search-course-dialog\\\">\\n      <div class=\\\"grid-header\\\">\\n        <span class=\\\"dialog__big--title left\\\" localize>__MSG_searchCourseToAdd__</span>\\n<!--        <help-button class=\\\"black right\\\"-->\\n<!--                     link=\\\"teacherCurriculumSearchAndAddCurriculumDialogHelpButtonUrl\\\"></help-button>-->\\n      </div>\\n\\n        <div\\n            flex=\\\"nogrow\\\"\\n            class=\\\"sb-search-autocomplete\\n                   sb-sticky\\\">\\n\\n            <!-- this one is for carriculums provided by studybee\\n                 has to be splited in md-autocomplete level as directive calculates item\\n                 height once and don't resize it for larger items also transclude don't work\\n                 inside md-item-template\\n            -->\\n            <md-autocomplete\\n                flex\\n                md-min-length=\\\"0\\\"\\n                ng-if=\\\"$ctrl.searchCategory.searchType === 1\\\"\\n                md-no-cache=\\\"true\\\"\\n                md-selected-item=\\\"$ctrl.selectedItem\\\"\\n                md-search-text=\\\"$ctrl.searchCourseText\\\"\\n                md-items=\\\"curriculum in $ctrl.searchCourse()\\\"\\n                md-item-text=\\\"curriculum.name\\\"\\n                md-dropdown-position=\\\"bottom\\\"\\n                placeholder=\\\"__MSG_searchCourseInput__\\\"\\n                ng-model-options='{ debounce: 500 }'\\n                md-menu-class=\\\"sb-search-autocomplete-results\\n                               cm-search-course-autocomplete-results\\\"\\n                localize>\\n                <md-item-template>\\n                    <div layout=\\\"column\\\"\\n                         class=\\\"cm-search-course-autocomplete-result\\n                                cm-search-course-autocomplete-result--studybee-curriculum\\\">\\n                        <span class=\\\"cm-search-course-autocomplete-result__name\\\">\\n                            <span>{{ curriculum.curriculum_name || curriculum.name }}</span>\\n                            <span ng-show=\\\"curriculum.code\\\">({{ curriculum.code }})</span>\\n                        </span>\\n                        <span\\n                            class=\\\"cm-search-course-autocomplete-result__educational-system\\\"\\n                            localize>\\n                            __MSG_educationalStageLabel__: {{ curriculum.educational_stage.name }}\\n                        </span>\\n                    </div>\\n                </md-item-template>\\n                <md-not-found>\\n                    __MSG_noRecordsFound__\\n                </md-not-found>\\n            </md-autocomplete>\\n\\n            <!-- this one is for my carriculums-->\\n            <md-autocomplete\\n                flex\\n                md-min-length=\\\"0\\\"\\n                ng-if=\\\"$ctrl.searchCategory.searchType === 2\\\"\\n                md-no-cache=\\\"true\\\"\\n                md-selected-item=\\\"$ctrl.selectedItem\\\"\\n                md-search-text=\\\"$ctrl.searchCourseText\\\"\\n                md-items=\\\"curriculum in $ctrl.searchCourse()\\\"\\n                md-item-text=\\\"curriculum.curriculum_name || curriculum.name\\\"\\n                placeholder=\\\"__MSG_searchCourseInput__\\\"\\n                ng-model-options='{ debounce: 500 }'\\n                md-menu-class=\\\"sb-search-autocomplete-results\\n                               cm-search-course-autocomplete-results\\\"\\n                localize>\\n                <md-item-template>\\n                    <div\\n                        layout=\\\"column\\\"\\n                        class=\\\"cm-search-course-autocomplete-result\\n                               cm-search-course-autocomplete-result--user-curriculum\\\">\\n                        <span class=\\\"cm-search-course-autocomplete-result__name\\\">\\n                            {{ curriculum.curriculum_name || curriculum.name }}\\n                        </span>\\n                        <span class=\\\"cm-search-course-autocomplete-result__based-on\\\">\\n                            <span ng-show=\\\"curriculum.code\\\">\\n                                ({{ curriculum.code }})\\n                            </span>\\n                        </span>\\n                        <span\\n                            class=\\\"cm-search-course-autocomplete-result__educational-system\\\"\\n                            localize>\\n                            __MSG_educationalStageLabel__: {{ curriculum.educational_stage.name }}\\n                        </span>\\n                    </div>\\n                </md-item-template>\\n                <md-not-found>\\n                    __MSG_noRecordsFound__\\n                </md-not-found>\\n            </md-autocomplete>\\n\\n            <!-- this one is for school carriculums -->\\n            <md-autocomplete\\n                flex\\n                md-min-length=\\\"0\\\"\\n                ng-if=\\\"$ctrl.searchCategory.searchType === 3\\\"\\n                md-no-cache=\\\"true\\\"\\n                md-selected-item=\\\"$ctrl.selectedItem\\\"\\n                md-search-text=\\\"$ctrl.searchCourseText\\\"\\n                md-items=\\\"curriculum in $ctrl.searchCourse()\\\"\\n                md-item-text=\\\"curriculum.curriculum_name || curriculum.name\\\"\\n                placeholder=\\\"__MSG_searchCourseInput__\\\"\\n                ng-model-options='{ debounce: 500 }'\\n                md-menu-class=\\\"sb-search-autocomplete-results\\n                               cm-search-course-autocomplete-results\\\"\\n                localize>\\n                <md-item-template>\\n                    <div\\n                        layout=\\\"column\\\"\\n                        class=\\\"cm-search-course-autocomplete-result\\n                               cm-search-course-autocomplete-result--shared-curriculum\\\">\\n                        <span class=\\\"cm-search-course-autocomplete-result__name\\\">\\n                            {{ curriculum.curriculum_name || curriculum.name }}\\n                        </span>\\n                        <span class=\\\"cm-search-course-autocomplete-result__based-on\\\">\\n                            <span ng-show=\\\"curriculum.code\\\">\\n                                ({{ curriculum.code }})\\n                            </span>\\n                        </span>\\n                        <span\\n                            class=\\\"cm-search-course-autocomplete-result__educational-system\\\"\\n                            localize>\\n                            __MSG_educationalStageLabel__: {{ curriculum.educational_stage.name }}\\n                        </span>\\n                        <span\\n                            localize\\n                            class=\\\"cm-search-course-autocomplete-result__created-by\\\">\\n                            __MSG_createdByLabel__: {{ curriculum.author }}\\n                        </span>\\n                    </div>\\n                </md-item-template>\\n                <md-not-found>\\n                    __MSG_noRecordsFound__\\n                </md-not-found>\\n            </md-autocomplete>\\n        </div>\\n\\n        <span\\n            layout=\\\"row\\\"\\n            class=\\\"dialog__big--title\\\"\\n            localize>\\n            __MSG_searchCourseCriterias__\\n        </span>\\n\\n        <!-- search category section -->\\n        <div\\n            layout=\\\"column\\\"\\n            class=\\\"category-input\\\">\\n            <md-input-container>\\n                <label localize>__MSG_searchCategoryLabel__</label>\\n                <md-select ng-model=\\\"$ctrl.searchCategory\\\">\\n                    <md-option\\n                        ng-repeat=\\\"searchCategory in $ctrl.searchCategories track by $index\\\"\\n                        ng-value=\\\"searchCategory\\\"\\n                        ng-selected=\\\"$first\\\">\\n                        {{ searchCategory.name }}\\n                    </md-option>\\n                </md-select>\\n            </md-input-container>\\n            <p\\n                class=\\\"sb-list-item-subname\\\"\\n                localize>\\n                __MSG_searchCategoryHelp__\\n            </p>\\n        </div>\\n\\n\\n        <!-- educational system section-->\\n        <div\\n            layout=\\\"column\\\"\\n            class=\\\"category-input category-input__educational_system\\\">\\n            <md-input-container>\\n                <label localize>__MSG_searchEducationalSystem__</label>\\n                <md-select\\n                    ng-model=\\\"$ctrl.educationalSystem\\\"\\n                    ng-disabled=\\\"$ctrl.isLocked\\\"\\n                    ng-change=\\\"$ctrl.changeEducationalSystem()\\\">\\n                    <md-option\\n                        ng-value=\\\"undefined\\\"\\n                        localize>\\n                        __MSG_allSystems__\\n                    </md-option>\\n                    <md-option\\n                        ng-repeat=\\\"educationalSystem in $ctrl.educationalSystems track by educationalSystem.id\\\"\\n                        ng-value=\\\"educationalSystem\\\">\\n                        {{ educationalSystem.name }}\\n                    </md-option>\\n                </md-select>\\n            </md-input-container>\\n\\n            <p\\n                class=\\\"sb-list-item-subname\\\"\\n                localize>\\n                __MSG_searchEducationalSystemHelp__\\n            </p>\\n        </div>\\n\\n        <!-- educational stage category section -->\\n        <div\\n            layout=\\\"column\\\"\\n            class=\\\"category-input category-input__educational_stage\\\">\\n            <md-input-container>\\n                <label localize>__MSG_searchEducationalStage__</label>\\n                <md-select\\n                    ng-model=\\\"$ctrl.educationalStage\\\"\\n                    md-container-class=\\\"search-course-dialog__criteria__educational-stage__select\\\"\\n                    ng-change=\\\"$ctrl.changeEducationalStage()\\\">\\n                    <md-option\\n                        ng-value=\\\"undefined\\\"\\n                        ng-selected=\\\"true\\\"\\n                        localize>\\n                        __MSG_allStages__\\n                    </md-option>\\n                    <md-option\\n                        ng-repeat=\\\"educationalStage in $ctrl.educationalStages track by $index\\\"\\n                        ng-value=\\\"educationalStage\\\">\\n                        {{ educationalStage.name }}\\n                    </md-option>\\n                </md-select>\\n            </md-input-container>\\n            <p\\n                class=\\\"sb-list-item-subname\\\"\\n                localize>\\n                __MSG_searchEducationalStageHelp__\\n            </p>\\n        </div>\\n\\n        <!-- scale section -->\\n        <div\\n            layout=\\\"column\\\"\\n            class=\\\"category-input\\\">\\n            <md-input-container>\\n                <label localize>__MSG_searchScale__</label>\\n                <md-select\\n                    ng-model=\\\"$ctrl.scale\\\"\\n                    md-container-class=\\\"search-course-dialog__criteria__scale__select\\\">\\n                    <md-option\\n                        ng-value=\\\"undefined\\\"\\n                        ng-selected=\\\"true\\\"\\n                        localize>\\n                        __MSG_allScales__\\n                    </md-option>\\n                    <md-option\\n                        ng-repeat=\\\"scale in $ctrl.scales track by $index\\\"\\n                        ng-value=\\\"scale\\\">\\n                        {{ scale.name }}\\n                    </md-option>\\n                </md-select>\\n            </md-input-container>\\n\\n            <p\\n                class=\\\"sb-list-item-subname\\\"\\n                localize>\\n                __MSG_searchScaleHelp__\\n            </p>\\n        </div>\\n\\n\\n        <div class=\\\"dialog__big--button-container\\\">\\n            <md-button\\n                class=\\\"btn__no-background md-primary btn__no-min-width\\\"\\n                ng-class=\\\"{'sb-dialog-button--disabled': !$ctrl.selectedItem}\\\"\\n                ng-click=\\\"$ctrl.addCurriculum()\\\"\\n                ng-disabled=\\\"!$ctrl.selectedItem\\\"\\n                localize>\\n                __MSG_addBtn__\\n            </md-button>\\n            <md-button\\n                class=\\\"btn__no-background md-primary btn__no-min-width\\\"\\n                ng-click=\\\"$ctrl.$mdDialog.hide()\\\"\\n                localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/wrong-curriculum-setup.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content>\\n        <div class=\\\"dialog__small--title\\\"\\n             localize>__MSG_wrongCurriculumSetupHeading__\\n        </div>\\n\\n        <p class=\\\"dialog__small--text\\\">\\n            <span localize>\\n                __MSG_wrongCurriculumSetupInfo__\\n            </span>\\n        </p>\\n\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"end center\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_okBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/user-inactive/user-inactive.html';\nvar html = \"<div layout=\\\"column\\\" layout-fill>\\n    <div\\n        layout-fill\\n        layout=\\\"column\\\">\\n\\n        <md-toolbar\\n            flex=\\\"nogrow\\\"\\n            class=\\\"sb-toolbar user-inactive__toolbar\\\">\\n            <div\\n                layout=\\\"column\\\"\\n                layout-align=\\\"center start\\\"\\n                class=\\\"md-toolbar-tools\\\">\\n                <p class=\\\"sb-toolbar-title\\\">\\n                    Studybee\\n                </p>\\n            </div>\\n        </md-toolbar>\\n\\n        <md-content\\n            class=\\\"user-inactive\\\"\\n            layout=\\\"column\\\"\\n            layout-align=\\\"start center\\\"\\n            layout-margin\\n            layout-padding>\\n            <div\\n                class=\\\"user-inactive__title\\\"\\n                flex=\\\"noshrink\\\">\\n                {{ $ctrl.message.title }}\\n            </div>\\n            <div class=\\\"md-body-1 user-inactive__content\\\" flex=\\\"auto\\\">\\n                {{ $ctrl.message.content }}\\n            </div>\\n        </md-content>\\n    </div>\\n</div>\\n\\n\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/commons/dialogs/changeEducationalSystem.html';\nvar html = \"<md-dialog>\\n    <md-toolbar class=\\\"sb-toolbar\\\">\\n        <div class=\\\"md-toolbar-tools\\\">\\n            <h2 localize>__MSG_saveChangesModalTitle__</h2>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-dialog-content layout-padding>\\n        <p localize>__MSG_saveEducationalSystemChangesModalText__</p>\\n    </md-dialog-content>\\n\\n    <md-dialog-actions layout=\\\"row\\\">\\n        <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                   ng-click=\\\"dialog.$mdDialog.cancel()\\\"\\n                   localize>\\n            __MSG_cancelBtn__\\n        </md-button>\\n\\n        <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                   ng-disabled=\\\"vm.newSchoolForm.$invalid\\\"\\n                   ng-click=\\\"dialog.$mdDialog.close()\\\"\\n                   localize>\\n            __MSG_okBtn__\\n        </md-button>\\n    </md-dialog-actions>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/commons/dialogs/saveInfo.html';\nvar html = \"<md-dialog aria-label=\\\"Confirm dialog\\\">\\n    <md-toolbar class=\\\"sb-toolbar\\\">\\n        <div class=\\\"md-toolbar-tools\\\">\\n            <h2 localize>__MSG_saveConfirmModalTitle__</h2>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-dialog-content layout-padding>\\n        <p localize>__MSG_saveConfirmModalText__</p>\\n    </md-dialog-content>\\n\\n    <md-dialog-actions layout=\\\"row\\\">\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"dialog.$mdDialog.cancel()\\\"\\n            localize>\\n            __MSG_okBtn__\\n        </md-button>\\n    </md-dialog-actions>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/commons/dialogs/whatNowInfo.html';\nvar html = \"<md-dialog class=\\\"sb-user-setup-what-now-dialog\\\"\\n           aria-label=\\\"Information dialog\\\">\\n    <md-toolbar class=\\\"sb-toolbar sb-toolbar-40\\\">\\n        <div class=\\\"md-toolbar-tools\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"end center\\\">\\n            <md-button class=\\\"md-icon-button\\\"\\n                       ng-click=\\\"dialog.$mdDialog.cancel()\\\">\\n                <md-icon>close</md-icon>\\n            </md-button>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-dialog-content layout=\\\"row\\\"\\n                       layout-align=\\\"start stretch\\\"\\n                       layout-fill\\n                       localize>\\n        <iframe src=\\\"__MSG_whatNowUrl__\\\"></iframe>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/components/userSetup/userSetup.html';\nvar html = \"<md-toolbar flex=\\\"nogrow\\\"\\n            class=\\\"sb-toolbar sb-user-setup__header\\\">\\n  <div flex\\n       layout=\\\"row\\\"\\n       layout-align=\\\"space-between center\\\"\\n       class=\\\"md-toolbar-tools sb-user-setup-title\\\">\\n    <md-button class=\\\"md-icon-button\\\"\\n               ng-if=\\\"::$ctrl.backToState\\\"\\n               ng-click=\\\"$ctrl.onBackToState()\\\">\\n      <md-icon>arrow_back</md-icon>\\n    </md-button>\\n    <menu-toggle ng-if=\\\"::$ctrl.showMenuToggle\\\"></menu-toggle>\\n    <div flex\\n         layout=\\\"row\\\"\\n         layout-align=\\\"end center\\\"\\n         class=\\\"sb-user-setup-icon-wrapper\\\">\\n      <div class=\\\"sb-bee-logo\\\"></div>\\n    </div>\\n  </div>\\n</md-toolbar>\\n<loader></loader>\\n<div ui-view=\\\"sideContent\\\"\\n     sb-theme=\\\"sb-theme-green\\\"\\n     class=\\\"sb-user-setup__content sb-theme-green\\\">\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/components/userSetupAgreement/userSetupAgreement.html';\nvar html = \"<md-content flex\\n            layout-fill\\n            layout-padding\\n            layout=\\\"column\\\"\\n            layout-align=\\\"start stretch\\\"\\n            ng-if=\\\"::$ctrl.agreement\\\"\\n            class=\\\"sb-hidden-x-scroll sb-user-setup-agreement__content\\\">\\n    <div\\n        class=\\\"sb-user-setup-agreement__content-text\\\"\\n        ng-bind-html=\\\"::$ctrl.agreement.content\\\"></div>\\n    <div flex=\\\"nogrow\\\"\\n         layout=\\\"column\\\"\\n         layout-align=\\\"space-between center\\\"\\n         class=\\\"sb-user-setup-agreement__content-footer\\\">\\n        <md-checkbox ng-model=\\\"$ctrl.agreementAccepted\\\"\\n                     aria-label=\\\"I accept privacy policy agreement\\\"\\n                     class=\\\"md-align-top-left sb-user-setup-agreement__content-checkbox\\\">\\n            <span localize>__MSG_acceptTermsAndConditions__</span>\\n        </md-checkbox>\\n        <md-button ng-disabled=\\\"!$ctrl.agreementAccepted || $ctrl.isUpdateInProgress\\\"\\n                   ng-click=\\\"$ctrl.goToUserSettings()\\\"\\n                   class=\\\"md-align-top-left sb-user-setup-agreement__content-button\\\"\\n                   localize>__MSG_iAccept__\\n        </md-button>\\n    </div>\\n</md-content>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/components/userSetupAgreementMissing/userSetupAgreementMissing.html';\nvar html = \"<md-content flex\\n            layout-fill\\n            layout-padding\\n            layout=\\\"column\\\"\\n            layout-align=\\\"start stretch\\\"\\n            class=\\\"sb-hidden-x-scroll sb-user-setup-agreement-missing__content\\\">\\n    <div flex=\\\"nogrow\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"center center\\\"\\n         class=\\\"sb-user-setup-agreement-missing__content-icon-wrapper\\\">\\n        <md-icon class=\\\"sb-user-setup-agreement-missing__content-icon\\\">sentiment_very_dissatisfied</md-icon>\\n    </div>\\n    <h1 class=\\\"sb-user-setup-agreement-missing__content-header\\\"\\n        localize>\\n        __MSG_agreementMissingHeader__\\n    </h1>\\n    <p class=\\\"sb-user-setup-agreement-missing__content-text\\\"\\n       localize>\\n        __MSG_agreementMissingText__\\n    </p>\\n\\n    <div flex=\\\"nogrow\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"center center\\\"\\n         class=\\\"sb-user-setup-check__content-button-wrapper\\\">\\n        <md-button class=\\\"dark\\\"\\n                   ng-click=\\\"$ctrl.showWhatNowInfo()\\\"\\n                   localize>\\n            __MSG_checkUserWhatNowButton__\\n        </md-button>\\n    </div>\\n\\n</md-content>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/components/userSetupCheck/userSetupCheck.html';\nvar html = \"<md-content flex\\n            layout-fill\\n            layout-padding\\n            layout=\\\"column\\\"\\n            layout-align=\\\"start stretch\\\"\\n            class=\\\"sb-hidden-x-scroll sb-user-setup-check__content\\\">\\n    <h1 class=\\\"sb-user-setup-check__content-header\\\"\\n        localize>\\n        __MSG_checkUserHeader__\\n    </h1>\\n    <p class=\\\"sb-user-setup-check__content-text\\\"\\n       localize>\\n        __MSG_checkUserMainText__\\n    </p>\\n    <p class=\\\"sb-user-setup-check__content-domain-label\\\"\\n       localize>\\n        __MSG_checkUserDomainLabel__\\n    </p>\\n\\n    <div ng-switch\\n         on=\\\"$ctrl.validationStatus\\\">\\n        <user-setup-check-progress on-validation=\\\"$ctrl.onValidation(isValid)\\\"\\n                                   ng-switch-default></user-setup-check-progress>\\n        <user-setup-check-valid ng-switch-when=\\\"VALID\\\"></user-setup-check-valid>\\n        <user-setup-check-invalid ng-switch-when=\\\"INVALID\\\"></user-setup-check-invalid>\\n    </div>\\n\\n</md-content>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/components/userSetupCheck/userSetupCheckInvalid/userSetupCheckInvalid.html';\nvar html = \"<div flex=\\\"nogrow\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"space-between center\\\"\\n     class=\\\"sb-user-setup-check__content-domain sb-user-setup-check__content-domain-invalid\\\"\\n     localize>\\n    __MSG_checkUserDomainInvalidLabel__\\n    <md-icon class=\\\"sb-user-setup-check__content-domain-invalid-icon\\\">cancel</md-icon>\\n</div>\\n<div flex=\\\"nogrow\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"center center\\\"\\n     class=\\\"sb-user-setup-check__content-button-wrapper\\\">\\n    <md-button class=\\\"dark\\\"\\n               ng-click=\\\"$ctrl.showWhatNowInfo()\\\"\\n               localize>\\n        __MSG_checkUserWhatNowButton__\\n    </md-button>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/components/userSetupCheck/userSetupCheckProgress/userSetupCheckProgress.html';\nvar html = \"<div ng-if=\\\"!$ctrl.isUserValid\\\"\\n     class=\\\"sb-user-setup-check__content-domain\\\">\\n    {{ $ctrl.userEmailDomain }}\\n</div>\\n<div flex=\\\"nogrow\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"center center\\\"\\n     class=\\\"sb-user-setup-check__content-button-wrapper\\\">\\n    <md-button class=\\\"dark\\\"\\n               ng-click=\\\"$ctrl.validateUser()\\\"\\n               ng-disabled=\\\"$ctrl.validateInProgress\\\"\\n               localize>\\n        __MSG_checkUserNowButton__\\n    </md-button>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/components/userSetupCheck/userSetupCheckValid/userSetupCheckValid.html';\nvar html = \"<div flex=\\\"nogrow\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"space-between center\\\"\\n     class=\\\"sb-user-setup-check__content-domain sb-user-setup-check__content-domain-valid\\\"\\n     localize>\\n    __MSG_checkUserDomainValidLabel__\\n    <md-icon class=\\\"sb-user-setup-check__content-domain-valid-icon\\\">check_circle</md-icon>\\n</div>\\n<div flex=\\\"nogrow\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"center center\\\"\\n     class=\\\"sb-user-setup-check__content-button-wrapper\\\">\\n    <md-button class=\\\"dark\\\"\\n               ng-click=\\\"$ctrl.goToAgreement()\\\"\\n               localize>\\n        __MSG_checkUserContinueButton__\\n        <!--GREAT! LET'S CONTINUE-->\\n    </md-button>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/components/userSetupComplete/userSetupComplete.html';\nvar html = \"<md-content flex\\n            layout-fill\\n            layout=\\\"column\\\"\\n            layout-align=\\\"space-between stretch\\\"\\n            class=\\\"sb-user-setup-complete__content\\\">\\n    <div flex\\n         layout-padding\\n         layout-fill\\n         layout=\\\"column\\\"\\n         layout-align=\\\"center center\\\">\\n        <md-icon class=\\\"sb-user-setup-complete-ok-icon\\\">thumb_up</md-icon>\\n        <span class=\\\"sb-user-setup-complete-ok-text\\\"\\n              localize>__MSG_setupComplete__</span>\\n    </div>\\n\\n    <div flex=\\\"nogrow\\\"\\n         class=\\\"actions\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"end center\\\">\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary\\\"\\n            ng-click=\\\"$ctrl.closeUserSetup()\\\"\\n            localize>\\n            __MSG_closeBtn__\\n        </md-button>\\n    </div>\\n</md-content>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/components/userSetupSettings/userSetupSettings.html';\nvar html = \"<md-content flex\\n            layout-fill\\n            layout=\\\"column\\\"\\n            layout-align=\\\"space-between stretch\\\"\\n            class=\\\"sb-hidden-x-scroll setup\\\">\\n    <div\\n        class=\\\"settings-icon__wrapper\\\"\\n        layout=\\\"row\\\"\\n        layout-align=\\\"center center\\\"\\n        flex=\\\"nogrow\\\">\\n        <md-icon class=\\\"settings-icon__top\\\">\\n            settings\\n        </md-icon>\\n    </div>\\n\\n    <div\\n        layout=\\\"column\\\"\\n        layout-align=\\\"start center\\\"\\n        flex=\\\"grow\\\">\\n        <p class=\\\"setup__text sb-plr-16\\\"\\n           localize>\\n            __MSG_selectSchoolLabel__\\n        </p>\\n\\n        <form\\n            layout=\\\"column\\\"\\n            name=\\\"$ctrl.setupForm\\\"\\n            flex=\\\"grow\\\"\\n            ng-submit=\\\"$ctrl.savePreferences()\\\">\\n            <div flex\\n                 class=\\\"sb-plr-16\\\">\\n                <div layout=\\\"column\\\"\\n                     class=\\\"sb-ptb-8\\\">\\n                    <md-input-container flex>\\n                        <label localize>__MSG_educationalSystemSelect__</label>\\n\\n                        <md-select\\n                            name=\\\"selectEducationalSystem\\\"\\n                            ng-model=\\\"$ctrl.userPreferences.educationalSystem\\\"\\n                            ng-model-options=\\\"{trackBy: '$value.id'}\\\"\\n                            ng-change=\\\"$ctrl.changeEducationalSystem()\\\"\\n                            required>\\n                            <md-option\\n                                ng-value=\\\"educationalSystem\\\"\\n                                ng-repeat=\\\"educationalSystem in $ctrl.educationalSystems track by educationalSystem.id\\\">\\n                                {{ educationalSystem.name }}\\n                            </md-option>\\n                        </md-select>\\n\\n                        <div class=\\\"errors\\\"\\n                             ng-messages=\\\"$ctrl.setupForm.selectEducationalSystem.$error\\\">\\n                            <div ng-message=\\\"required\\\"\\n                                 localize>__MSG_requiredError__\\n                            </div>\\n                        </div>\\n                    </md-input-container>\\n                </div>\\n\\n                <div layout=\\\"column\\\"\\n                     class=\\\"sb-ptb-8\\\">\\n                    <md-autocomplete\\n                        flex\\n                        class=\\\"sb-school-autocomplete\\\"\\n                        ng-disabled=\\\"!$ctrl.userPreferences.educationalSystem\\\"\\n                        md-no-cache=\\\"true\\\"\\n                        md-input-name=\\\"selectedSchoolName\\\"\\n                        md-input-minlength=\\\"4\\\"\\n                        md-selected-item=\\\"$ctrl.userPreferences.school\\\"\\n                        md-search-text=\\\"$ctrl.searchText\\\"\\n                        md-items=\\\"school in $ctrl.filterSchool($ctrl.searchText)\\\"\\n                        md-item-text=\\\"school.title\\\"\\n                        md-floating-label=\\\"__MSG_schoolNameInput__\\\"\\n                        ng-model-options=\\\"{ debounce: 500 }\\\"\\n                        required\\n                        localize>\\n                        <md-item-template>\\n                            <span>{{ school.title }}</span>\\n                        </md-item-template>\\n                        <div ng-messages=\\\"$ctrl.setupForm.selectedSchoolName.$error\\\"\\n                             ng-if=\\\"$ctrl.setupForm.selectedSchoolName.$touched\\\">\\n                            <div ng-message=\\\"required\\\"\\n                                 localize>__MSG_requiredError__\\n                            </div>\\n                        </div>\\n\\n                        <div\\n                            class=\\\"sb-fake-error\\\"\\n                            ng-if=\\\"$ctrl.selectedSchoolBlank && !$ctrl.setupForm.selectedSchoolName.$error.required\\\"\\n                            localize>\\n                            __MSG_noSchoolError__\\n                        </div>\\n                    </md-autocomplete>\\n\\n                    <p class=\\\"setup__text\\\"\\n                       localize>\\n                        __MSG_notFoundAddNewError__\\n                    </p>\\n                </div>\\n            </div>\\n\\n            <div flex=\\\"nogrow\\\"\\n                 class=\\\"actions\\\"\\n                 layout=\\\"row\\\"\\n                 layout-align=\\\"end center\\\">\\n                <md-button\\n                    type=\\\"submit\\\"\\n                    class=\\\"sb-btn-no-background md-primary\\\"\\n                    ng-disabled=\\\"$ctrl.isSaveButtonDisabled()\\\"\\n                    localize>\\n                    __MSG_doneBtn__\\n                </md-button>\\n            </div>\\n        </form>\\n    </div>\\n</md-content>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/components/userSetupSlides/userSetupSlides.html';\nvar html = \"<md-content flex\\n            layout-fill\\n            layout=\\\"column\\\"\\n            layout-align=\\\"space-between stretch\\\"\\n>\\n    <md-tabs\\n        layout=\\\"column\\\"\\n        flex\\n        class=\\\"md-tabs-stretch-height\\\"\\n        md-selected=\\\"$ctrl.currentSlideIndex\\\">\\n        <md-tab\\n            label=\\\"{{ ::slide.title }}\\\"\\n            ng-repeat=\\\"slide in $ctrl.firstTimeData.slides\\\">\\n            <md-content layout-padding\\n                        layout=\\\"column\\\">\\n                <div class=\\\"image\\\"\\n                     ng-if=\\\"slide.image\\\">\\n                    <img ng-src=\\\"{{ ::slide.image }}\\\">\\n                </div>\\n                <h3 class=\\\"md-headline\\\">{{ ::slide.title }}</h3>\\n                <div ng-bind-html=\\\"slide.content | Sanitize\\\"></div>\\n            </md-content>\\n        </md-tab>\\n    </md-tabs>\\n\\n    <div class=\\\"pagination\\\"\\n         ng-if=\\\"$ctrl.firstTimeData.slides.length > 1\\\">\\n        <md-button\\n            class=\\\"md-icon-button arrow-left\\\"\\n            aria-label=\\\"__MSG_prevSlideBtn__\\\"\\n            ng-click=\\\"$ctrl.currentSlideIndex = $ctrl.currentSlideIndex - 1\\\"\\n            ng-disabled=\\\"$ctrl.currentSlideIndex === 0\\\"\\n            localize>\\n            <md-icon\\n                class=\\\"md-primary\\\">\\n                keyboard_arrow_left\\n            </md-icon>\\n        </md-button>\\n\\n        <ul layout=\\\"row\\\"\\n            layout-align=\\\"center center\\\">\\n            <li ng-repeat=\\\"slide in $ctrl.firstTimeData.slides\\\">\\n            <span\\n                ng-class=\\\"{'active': $ctrl.currentSlideIndex == $index}\\\"\\n                ng-click=\\\"$ctrl.currentSlideIndex = $index\\\">\\n            </span>\\n            </li>\\n        </ul>\\n\\n        <md-button\\n            class=\\\"md-icon-button arrow-right\\\"\\n            aria-label=\\\"__MSG_nextSlideBtn__\\\"\\n            ng-click=\\\"$ctrl.currentSlideIndex = $ctrl.currentSlideIndex + 1\\\"\\n            ng-disabled=\\\"$ctrl.currentSlideIndex === ($ctrl.firstTimeData.slides.length - 1)\\\"\\n            localize>\\n            <md-icon\\n                class=\\\"md-primary\\\">\\n                keyboard_arrow_right\\n            </md-icon>\\n        </md-button>\\n    </div>\\n\\n    <div class=\\\"actions\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"start center\\\">\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary\\\"\\n            ng-show=\\\"$ctrl.currentSlideIndex < ($ctrl.firstTimeData.slides.length - 1)\\\"\\n            ng-click=\\\"$ctrl.goToUserSetupSettings()\\\"\\n            localize>\\n            __MSG_setupBtn__\\n        </md-button>\\n\\n        <span flex></span>\\n\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary\\\"\\n            ng-show=\\\"$ctrl.currentSlideIndex === ($ctrl.firstTimeData.slides.length - 1)\\\"\\n            ng-click=\\\"$ctrl.goToUserSetupSettings()\\\"\\n            localize>\\n            __MSG_doneBtn__\\n        </md-button>\\n    </div>\\n</md-content>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/backend_info.html';\nvar html = \"<md-dialog>\\n    <md-dialog-content\\n        layout-padding\\n        ng-bind-html=\\\"bi.content | Sanitize\\\">\\n    </md-dialog-content>\\n\\n    <md-dialog-actions layout=\\\"row\\\">\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"bi.confirm()\\\"\\n            localize>\\n            __MSG_okBtn__\\n        </md-button>\\n    </md-dialog-actions>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/counters.html';\nvar html = \"<div layout=\\\"row\\\" ng-form name=\\\"counter\\\">\\n    <div class=\\\"single-counter\\\" ng-repeat=\\\"grade in vm.gradeSystem.grades\\\">\\n        <p class=\\\"label\\\">{{ grade.name }}</p>\\n        <div class=\\\"fake-input\\\">\\n            <input\\n                class=\\\"input\\\"\\n                ng-model=\\\"vm.counterGrades[$index].points\\\"\\n                ng-keyup=\\\"vm.directChange($index)\\\"\\n                ng-click=\\\"vm.selectInput($event)\\\"\\n                ng-readonly=\\\"vm.counterReadonly\\\"\\n                ng-class=\\\"{'clickable': !vm.counterReadonly}\\\"\\n                ng-if=\\\"!vm.counterReadonly || (vm.counterReadonly && vm.assignment.grade_published)\\\">\\n\\n                <p class=\\\"max\\\" ng-if=\\\"!vm.counterReadonly || (vm.counterReadonly && vm.assignment.grade_published)\\\">&nbsp;/&nbsp;{{ vm.counterGrades[$index].max }}</p>\\n                <p class=\\\"max\\\" ng-if=\\\"vm.counterReadonly && !vm.assignment.grade_published\\\">?&nbsp;/&nbsp;?</p>\\n        </div>\\n        <div class=\\\"arrows\\\" ng-if=\\\"!vm.counterReadonly\\\">\\n            <span class=\\\"arrow-up\\\" ng-click=\\\"vm.increase($index)\\\"></span>\\n            <span class=\\\"arrow-down\\\" ng-click=\\\"vm.decrease($index)\\\"></span>\\n        </div>\\n    </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/knowledge_requirements.html';\nvar html = \"<md-bottom-sheet ng-cloak class=\\\"sb-bottom-sheet\\\">\\n    <div layout=\\\"column\\\" class=\\\"sb-pt-16 sb-plr-16\\\">\\n        <div layout=\\\"row\\\">\\n            <p class=\\\"sb-bottom-sheet-title\\\" flex>{{ vm.objective.name }}</p>\\n\\n            <md-button\\n                flex=\\\"nogrow\\\"\\n                class=\\\"sb-bottom-sheet-button sb-bottom-sheet-close\\\"\\n                aria-label=\\\"Close knowledge requirements\\\"\\n                ng-click=\\\"vm.close()\\\">\\n                <md-icon>\\n                    close\\n                </md-icon>\\n            </md-button>\\n        </div>\\n\\n        <single-slider\\n            class=\\\"sb-nouislider flex\\\"\\n            grade-system=\\\"vm.objective.grade_system\\\"\\n            ng-model=\\\"vm.knowledgeRequirementGrade\\\"\\n            ng-change=\\\"vm.showGradeRequirements()\\\"\\n            data-knowledgerequirements=\\\"true\\\">\\n        </single-slider>\\n    </div>\\n\\n    <div layout=\\\"column\\\" class=\\\"sb-ptb-8 sb-plr-16 sb-bottom-sheet-knowledge-requirements\\\">\\n        <label\\n            class=\\\"fake-label\\\"\\n            localize>\\n            __MSG_knowledgeRequirementsInput__\\n        </label>\\n\\n        <div\\n            class=\\\"sb-bottom-sheet-text\\\"\\n            ng-show=\\\"vm.activeRequirement.description\\\"\\n            ng-bind-html=\\\"vm.activeRequirement.description | Sanitize\\\"\\n            ng-if=\\\"vm.activeRequirement.grade_name && vm.activeRequirement.description.length\\\">\\n        </div>\\n\\n        <div\\n            class=\\\"sb-bottom-sheet-text\\\"\\n            ng-if=\\\"vm.activeRequirement.grade_name && !vm.activeRequirement.description.length\\\"\\n            localize>\\n            __MSG_notSetInput__\\n        </div>\\n\\n        <div\\n            class=\\\"sb-bottom-sheet-text\\\"\\n            ng-if=\\\"!vm.activeRequirement\\\"\\n            localize>\\n            __MSG_notSetKnowledgeRequirements__\\n        </div>\\n    </div>\\n</md-bottom-sheet>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/loading_state.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div layout=\\\"column\\\" layout-fill layout-align=\\\"center center\\\">\\n    <md-progress-circular\\n        md-mode=\\\"indeterminate\\\"\\n        md-diameter=\\\"80\\\"\\n        class=\\\"sb-progress-circular\\\">\\n    </md-progress-circular>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/main_menu.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<md-sidenav\\n    md-component-id=\\\"studybee-menu\\\"\\n    class=\\\"md-sidenav-left md-whiteframe-z3\\\">\\n    <md-list\\n        class=\\\"sb-list sb-primary-menu\\\"\\n        ng-if=\\\"vm.userRole === 'teacher'\\\">\\n        <md-list-item\\n            class=\\\"sb-list-parent-item\\\"\\n            layout=\\\"row\\\"\\n            layout-align=\\\"stretch\\\"\\n            ng-click=\\\"vm.goToState('teacherAssignments'); vm.mixpanelTrack('menu_teacher_assignments')\\\"\\n            ng-class=\\\"{'sb-main-menu-selected': vm.checkCurrentActive('teacherAssignments')}\\\">\\n            <md-icon class=\\\"sb-list-icon sb-icon-green\\\">assignment</md-icon>\\n\\n            <div layout=\\\"column\\\" flex>\\n                <p\\n                    flex\\n                    class=\\\"sb-list-item-name sb-list-truncate\\\">\\n                    <span localize>__MSG_assignmentsMainMenu__</span>\\n                </p>\\n\\n                <p flex class=\\\"sb-list-item-subname sb-list-truncate\\\" ng-show=\\\"vm.streamStudentName\\\">\\n                    <span>{{ vm.streamStudentName }}</span>\\n                </p>\\n\\n                <p\\n                    flex\\n                    class=\\\"sb-list-item-subname sb-list-truncate\\\"\\n                    ng-show=\\\"!vm.streamStudentName && vm.streamAssignmentName\\\">\\n                    <span>{{ vm.streamAssignmentName }}</span>\\n                </p>\\n\\n                <p\\n                    flex\\n                    class=\\\"sb-list-item-subname sb-list-truncate\\\"\\n                    ng-show=\\\"!vm.streamStudentName && !vm.streamAssignmentName\\\" localize>\\n                    <span localize>__MSG_streamMainMenu__</span>\\n                </p>\\n            </div>\\n        </md-list-item>\\n\\n        <md-list-item\\n            class=\\\"sb-list-parent-item\\\"\\n            layout-align=\\\"stretch\\\"\\n            ng-click=\\\"vm.goToState('teacher-course-progress'); vm.mixpanelTrack('menu_teacher_assess_course')\\\"\\n            ng-class=\\\"{'sb-main-menu-selected': vm.checkCurrentActive('teacher-course-progress')}\\\">\\n            <md-icon class=\\\"sb-list-icon sb-icon-purple\\\">school</md-icon>\\n\\n            <div layout=\\\"column\\\" flex>\\n                <p flex class=\\\"sb-list-item-name sb-list-truncate\\\">\\n                    <span localize>__MSG_courseAssessmentMainMenu__</span>\\n                </p>\\n            </div>\\n        </md-list-item>\\n\\n        <md-list-item\\n            class=\\\"sb-list-parent-item\\\"\\n            layout-align=\\\"stretch\\\"\\n            ng-click=\\\"vm.goToState('teacherCourseManagement'); vm.mixpanelTrack('menu_teacher_assignment_objectives')\\\"\\n            ng-class=\\\"{'sb-main-menu-selected': vm.checkCurrentActive('teacherCourseManagement') }\\\">\\n            <md-icon class=\\\"sb-list-icon sb-icon-blue\\\">edit</md-icon>\\n\\n            <div layout=\\\"column\\\" flex>\\n                <p flex class=\\\"sb-list-item-name sb-list-truncate\\\">\\n                    <span localize>__MSG_editCoursesMainMenu__</span>\\n                </p>\\n            </div>\\n        </md-list-item>\\n\\n        <md-divider></md-divider>\\n    </md-list>\\n\\n    <md-list class=\\\"sb-list sb-primary-menu\\\" ng-if=\\\"vm.userRole === 'student'\\\">\\n        <md-list-item\\n            class=\\\"sb-list-parent-item\\\"\\n            layout-align=\\\"stretch\\\"\\n            ng-click=\\\"vm.goToState('studentAssignments'); vm.mixpanelTrack('menu_student_assignments')\\\"\\n            ng-class=\\\"{'sb-main-menu-selected': vm.checkCurrentActive('studentAssignments') }\\\">\\n            <md-icon class=\\\"sb-list-icon sb-icon-green\\\">assignment</md-icon>\\n\\n            <div layout=\\\"column\\\" flex>\\n                <p flex class=\\\"sb-list-item-name sb-list-truncate\\\">\\n                    <span localize>__MSG_assignmentsMainMenu__</span>\\n                </p>\\n\\n                <p flex class=\\\"sb-list-item-subname sb-list-truncate\\\" ng-show=\\\"vm.streamAssignmentName\\\">\\n                    <span>{{ vm.streamAssignmentName }}</span>\\n                </p>\\n\\n                <p flex class=\\\"sb-list-item-subname sb-list-truncate\\\" ng-show=\\\"!vm.streamAssignmentName\\\">\\n                    <span localize>__MSG_streamMainMenu__</span>\\n                </p>\\n            </div>\\n        </md-list-item>\\n\\n        <md-list-item\\n            class=\\\"sb-list-parent-item\\\"\\n            layout-align=\\\"stretch\\\"\\n            ng-click=\\\"vm.goToState('student-course-progress'); vm.mixpanelTrack('menu_student_course_progression')\\\"\\n            ng-class=\\\"{'sb-main-menu-selected': vm.checkCurrentActive('student-course-progress') }\\\">\\n            <md-icon class=\\\"sb-list-icon sb-icon-purple\\\">school</md-icon>\\n\\n            <div layout=\\\"column\\\" flex>\\n                <p flex class=\\\"sb-list-item-name sb-list-truncate\\\">\\n                    <span localize>__MSG_courseProgressionMainMenu__</span>\\n                </p>\\n            </div>\\n        </md-list-item>\\n\\n        <md-list-item\\n            class=\\\"sb-list-parent-item\\\"\\n            layout-align=\\\"stretch\\\"\\n            ng-click=\\\"vm.goToState('studentCourseManagement'); vm.mixpanelTrack('menu_student_course_requirements')\\\"\\n            ng-class=\\\"{'sb-main-menu-selected': vm.checkCurrentActive('studentCourseManagement') }\\\">\\n            <md-icon class=\\\"sb-list-icon sb-icon-blue\\\">info</md-icon>\\n\\n            <div layout=\\\"column\\\" flex>\\n                <p flex class=\\\"sb-list-item-name sb-list-truncate\\\">\\n                    <span localize>__MSG_courseRequirementsMainMenu__</span>\\n                </p>\\n            </div>\\n        </md-list-item>\\n\\n        <md-divider></md-divider>\\n    </md-list>\\n\\n    <span flex></span>\\n\\n    <md-list class=\\\"sb-list sb-secondary-menu\\\">\\n        <md-list-item\\n            class=\\\"sb-list-parent-item\\\"\\n            layout-align=\\\"stretch\\\"\\n            ng-click=\\\"vm.synchronizeData(); vm.mixpanelTrack('menu_teacher_synchronize')\\\"\\n            ng-if=\\\"vm.userRole === 'teacher'\\\">\\n            <md-icon class=\\\"sb-list-icon sb-icon-green\\\">update</md-icon>\\n\\n            <div layout=\\\"column\\\" flex>\\n                <p flex class=\\\"sb-list-item-name sb-list-truncate\\\">\\n                    <span localize>__MSG_synchronizeMainMenu__</span>\\n                </p>\\n\\n                <p flex class=\\\"sb-list-item-subname sb-list-truncate\\\">\\n                    <span localize>{{ vm.synchronizeDate }}</span>\\n                </p>\\n            </div>\\n        </md-list-item>\\n\\n        <md-divider></md-divider>\\n\\n        <md-list-item\\n            class=\\\"sb-list-parent-item\\\"\\n            layout-align=\\\"stretch\\\"\\n            ng-click=\\\"vm.goToLink('mainMenuGetHelpUrl'); vm.mixpanelTrack('menu_get_help')\\\">\\n            <md-icon class=\\\"sb-list-icon sb-icon-orange\\\">help</md-icon>\\n\\n            <p flex class=\\\"sb-list-item-name sb-list-truncate\\\">\\n                <span localize>__MSG_getHelpMainMenu__</span>\\n            </p>\\n        </md-list-item>\\n\\n        <md-list-item\\n            class=\\\"sb-list-parent-item\\\"\\n            layout-align=\\\"stretch\\\"\\n            ng-click=\\\"vm.goToState('userSetup.setup.update'); vm.mixpanelTrack('menu_teacher_user_setup')\\\"\\n            ng-class=\\\"{'sb-main-menu-selected': vm.checkCurrentActive('userSetup') }\\\"\\n            ng-if=\\\"vm.userRole === 'teacher'\\\">\\n            <md-icon class=\\\"sb-list-icon\\\">settings</md-icon>\\n\\n            <p flex class=\\\"sb-list-item-name sb-list-truncate\\\">\\n                <span localize>__MSG_schoolSetupMainMenu__</span>\\n            </p>\\n        </md-list-item>\\n    </md-list>\\n</md-sidenav>\\n\\n<div\\n    class=\\\"main-menu-backdrop\\\"\\n    ng-click=\\\"vm.toggleMenu()\\\"\\n    ng-show=\\\"vm.showBackdrop\\\">\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/noLearningObjectives.html';\nvar html = \"<div layout=\\\"column\\\" layout-fill>\\n  <md-toolbar flex=\\\"nogrow\\\" class=\\\"sb-toolbar sb-theme-green-background\\\">\\n    <div layout=\\\"column\\\" layout-align=\\\"center start\\\" class=\\\"md-toolbar-tools\\\">\\n      <p class=\\\"sb-toolbar-title\\\" localize>__MSG_noAttachmentAssessmentFindOnGoogleDriveHeader__</p>\\n    </div>\\n  </md-toolbar>\\n\\n  <md-content flex class=\\\"sb-hidden-x-scroll sb-not-configured-yet\\\">\\n    <div layout-padding>\\n      <p localize>\\n        __MSG_assessAssignmentNotConfigured__\\n      </p>\\n    </div>\\n  </md-content>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/not_configured_state.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div\\n    layout=\\\"column\\\"\\n    layout-fill\\n    ng-if=\\\"!vm.isNotConfigured\\\">\\n    <md-toolbar\\n        flex=\\\"nogrow\\\"\\n        class=\\\"sb-toolbar\\n               sb-theme-purple-background\\\">\\n        <div\\n            layout=\\\"row\\\"\\n            layout-align=\\\"start center\\\"\\n            class=\\\"md-toolbar-tools\\\">\\n            <div\\n                flex\\n                layout=\\\"column\\\"\\n                layout-align=\\\"center start\\\">\\n                <p\\n                    class=\\\"sb-toolbar-title\\\"\\n                    localize>\\n                    __MSG_appName__\\n                </p>\\n            </div>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-progress-linear\\n        flex=\\\"nogrow\\\"\\n        class=\\\"sb-progress-linear\\n               sb-progress-linear-single-toolbar\\\"\\n        ng-show=\\\"vm.showLoading()\\\"\\n        md-mode=\\\"indeterminate\\\">\\n    </md-progress-linear>\\n\\n    <md-content\\n        flex\\n        layout=\\\"column\\\"\\n        class=\\\"sb-hidden-x-scroll\\n               sb-pall-16\\n               sb-no-content-screen\\\">\\n        <md-icon class=\\\"sb-icon--no-content\\n                        sb-icon--large\\\">\\n            school\\n        </md-icon>\\n\\n        <p\\n            class=\\\"sb-no-content-screen__text\\\"\\n            localize>\\n            __MSG_courseProgressNoCoursesAdded__\\n        </p>\\n    </md-content>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/not_logged_state.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div layout=\\\"column\\\" layout-fill>\\n    <md-toolbar flex=\\\"nogrow\\\" class=\\\"sb-toolbar sb-theme-green-background\\\">\\n        <div layout=\\\"column\\\" layout-align=\\\"center start\\\" class=\\\"md-toolbar-tools\\\">\\n            <p class=\\\"sb-toolbar-title\\\" localize>__MSG_upsSomethingGoesWrong__</p>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-content flex class=\\\"sb-hidden-x-scroll sb-not-configured-yet\\\">\\n        <div layout-padding>\\n            <p localize>__MSG_notLoggedUser__</p>\\n        </div>\\n    </md-content>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/sum_counters.html';\nvar html = \"<p class=\\\"title\\\" localize>__MSG_ECASumCounter__</p>\\n\\n<div layout=\\\"row\\\">\\n    <div class=\\\"single-counter\\\" ng-repeat=\\\"grade in vm.gradeSystem.grades\\\">\\n        <p class=\\\"label blue\\\">{{ grade.name }}</p>\\n        <p class=\\\"sum\\\">{{ vm.summaryGrades[$index].sumPoints }} / {{ vm.summaryGrades[$index].sumMax }}</p>\\n    </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/toast.html';\nvar html = \"<md-toast class=\\\"sb-toast\\\">\\n    <span flex>{{ to.information }}</span>\\n</md-toast>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/wrong_google_drive_file.html';\nvar html = \"\\n<div layout=\\\"column\\\" layout-fill>\\n    <md-toolbar flex=\\\"nogrow\\\" class=\\\"sb-toolbar sb-theme-green-background\\\">\\n        <div layout=\\\"column\\\" layout-align=\\\"center start\\\" class=\\\"md-toolbar-tools\\\">\\n            <p class=\\\"sb-toolbar-title\\\" localize>__MSG_noAttachmentAssessmentFindOnGoogleDriveHeader__</p>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-content flex class=\\\"sb-hidden-x-scroll sb-not-configured-yet\\\">\\n        <div layout-padding>\\n            <p localize>\\n              __MSG_noAttachmentAssessmentFindOnGoogleDrive__\\n            </p>\\n        </div>\\n    </md-content>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/wrong_user_state.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div layout=\\\"column\\\" layout-fill>\\n    <md-toolbar flex=\\\"nogrow\\\" class=\\\"sb-toolbar sb-theme-green-background\\\">\\n        <div layout=\\\"column\\\" layout-align=\\\"center start\\\" class=\\\"md-toolbar-tools\\\">\\n            <p class=\\\"sb-toolbar-title\\\" localize>__MSG_upsSomethingGoesWrong__</p>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-content flex class=\\\"sb-hidden-x-scroll sb-not-configured-yet\\\">\\n        <div layout-padding>\\n            <p localize>__MSG_differentUsers__</p>\\n        </div>\\n    </md-content>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;"],"sourceRoot":""}